<nav class="navbar navbar-expand-lg w-100" data-bind="styled: styles">
    <a class="navbar-brand" href="/" data-bind="if: $component.pictureSourceUrl">
        <img data-bind="attr: { src: $component.pictureSourceUrl }, size: { width: pictureWidth, height: pictureHeight }" />
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapse" aria-controls="collapse"
        aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <!--ko if: navigationRoot-->
    <div id="collapse" class="collapse navbar-collapse" data-bind="with: navigationRoot">
        <ul class="nav navbar-nav ml-auto" data-bind="foreach: nodes()">
            <!--ko if: nodes().length > 0 -->
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" data-toggle="dropdown" data-bind="attr: { href: url }">
                    <span data-bind="text: label"></span>
                    <span class="caret"></span>
                </a>
                <!--ko template: { name: 'navigationItemTemplate', data: $data }-->
                <!--/ko-->
            </li>
            <!--/ko-->
            <!--ko ifnot: nodes().length > 0 -->
            <li class="nav-item">
                <a class="nav-link" data-bind="text: label, attr: { href: url }, css: { 'nav-link-active': isActive }"></a>
            </li>
            <!--/ko-->
        </ul>
    </div>
    <!--/ko-->
    <!--ko ifnot: navigationRoot -->
    <p class="not-configured">It seems that you don't have navigation items here.</p>
    <!--/ko-->
</nav>

<script id="navigationItemTemplate" type="text/html">
    <ul class="dropdown-menu" data-bind="foreach: nodes()">
        <!--ko if: nodes().length > 0 -->
        <li class="dropdown dropdown-submenu">
            <a class="nav-link dropdown-toggle" data-toggle="dropdown" data-bind="attr: { href: url }">
                <span data-bind="text: label"></span>
                <!--<span class="caret"></span>-->
            </a>
            <!--ko template: { name: 'navigationItemTemplate', data: $data }-->
            <!--/ko-->
        </li>
        <!--/ko-->
        <!--ko ifnot: nodes().length > 0 -->
        <li>
            <a class="nav-link" data-bind="text: label, attr: { href: url }"></a>
        </li>
        <!--/ko-->
    </ul>
</script>