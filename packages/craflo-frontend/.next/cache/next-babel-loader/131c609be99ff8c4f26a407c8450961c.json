{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/usr/local/src/app/packages/craflo-frontend/src/reaction/hooks/useTranslation.tsx\";\nimport { useContext, useCallback, useMemo } from \"react\";\nimport { useRouter } from \"next/router\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\nimport { LocaleContext } from \"context/LocaleContext\";\n/**\n * Gets translations for a given namespace\n *\n * @param {String} namespace - the translation namespace\n * @returns {Object} Translations\n */\n\nexport default function useTranslation(namespace) {\n  const {\n    localeData\n  } = useContext(LocaleContext) || {};\n  const {\n    translations,\n    lang\n  } = localeData;\n  const {\n    isFallback\n  } = useRouter();\n  const stringsForNamespace = useMemo(() => translations && Array.isArray(translations) && translations.find(translation => translation.namespace === namespace), [translations, namespace]);\n  const t = useCallback(key => {\n    // eslint-disable-line id-length\n    if (isFallback) {\n      return /*#__PURE__*/React.createElement(Skeleton, {\n        variant: \"text\",\n        width: key ? key.length * 10 : 30,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 22,\n          columnNumber: 14\n        },\n        __self: this\n      });\n    }\n\n    if (!stringsForNamespace) {\n      // eslint-disable-next-line no-console\n      console.warn(`Namespace '${namespace}' for locale '${lang}' not found.`);\n      return key;\n    }\n\n    if (!stringsForNamespace.translatedStrings || !stringsForNamespace.translatedStrings[key]) {\n      // eslint-disable-next-line no-console\n      console.warn(`Translation '${key}' for locale '${lang}' not found.`);\n      return key;\n    }\n\n    return stringsForNamespace.translatedStrings[key];\n  }, [stringsForNamespace]);\n  return {\n    t,\n    // eslint-disable-line id-length\n    locale: lang || \"in\"\n  };\n}","map":{"version":3,"sources":["/usr/local/src/app/packages/craflo-frontend/src/reaction/hooks/useTranslation.tsx"],"names":["useContext","useCallback","useMemo","useRouter","Skeleton","LocaleContext","useTranslation","namespace","localeData","translations","lang","isFallback","stringsForNamespace","Array","isArray","find","translation","t","key","length","console","warn","translatedStrings","locale"],"mappings":";;AAAA,SAASA,UAAT,EAAqBC,WAArB,EAAkCC,OAAlC,QAAiD,OAAjD;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,QAAP,MAAqB,2BAArB;AACA,SAASC,aAAT,QAA8B,uBAA9B;AAEA;AACA;AACA;AACA;AACA;AACA;;AACA,eAAe,SAASC,cAAT,CAAwBC,SAAxB,EAAmC;AAChD,QAAM;AAAEC,IAAAA;AAAF,MAAiBR,UAAU,CAACK,aAAD,CAAV,IAA6B,EAApD;AACA,QAAM;AAAEI,IAAAA,YAAF;AAAgBC,IAAAA;AAAhB,MAAyBF,UAA/B;AACA,QAAM;AAAEG,IAAAA;AAAF,MAAiBR,SAAS,EAAhC;AAEA,QAAMS,mBAAmB,GAAGV,OAAO,CAAC,MAAMO,YAAY,IACpDI,KAAK,CAACC,OAAN,CAAcL,YAAd,CADwC,IACTA,YAAY,CAACM,IAAb,CAAmBC,WAAD,IAAiBA,WAAW,CAACT,SAAZ,KAA0BA,SAA7D,CADE,EACuE,CAACE,YAAD,EAAeF,SAAf,CADvE,CAAnC;AAGA,QAAMU,CAAC,GAAGhB,WAAW,CAAEiB,GAAD,IAAS;AAAE;AAC/B,QAAIP,UAAJ,EAAgB;AACd,0BAAO,oBAAC,QAAD;AAAU,QAAA,OAAO,EAAC,MAAlB;AAAyB,QAAA,KAAK,EAAEO,GAAG,GAAGA,GAAG,CAACC,MAAJ,GAAa,EAAhB,GAAqB,EAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACD;;AAED,QAAI,CAACP,mBAAL,EAA0B;AACxB;AACAQ,MAAAA,OAAO,CAACC,IAAR,CAAc,cAAad,SAAU,iBAAgBG,IAAK,cAA1D;AACA,aAAOQ,GAAP;AACD;;AAED,QAAI,CAACN,mBAAmB,CAACU,iBAArB,IAA0C,CAACV,mBAAmB,CAACU,iBAApB,CAAsCJ,GAAtC,CAA/C,EAA2F;AACzF;AACAE,MAAAA,OAAO,CAACC,IAAR,CAAc,gBAAeH,GAAI,iBAAgBR,IAAK,cAAtD;AACA,aAAOQ,GAAP;AACD;;AAED,WAAON,mBAAmB,CAACU,iBAApB,CAAsCJ,GAAtC,CAAP;AACD,GAlBoB,EAkBlB,CAACN,mBAAD,CAlBkB,CAArB;AAoBA,SAAO;AACLK,IAAAA,CADK;AACF;AACHM,IAAAA,MAAM,EAAEb,IAAI,IAAI;AAFX,GAAP;AAID","sourcesContent":["import { useContext, useCallback, useMemo } from \"react\";\nimport { useRouter } from \"next/router\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\nimport { LocaleContext } from \"context/LocaleContext\";\n\n/**\n * Gets translations for a given namespace\n *\n * @param {String} namespace - the translation namespace\n * @returns {Object} Translations\n */\nexport default function useTranslation(namespace) {\n  const { localeData } = useContext(LocaleContext) || {};\n  const { translations, lang } = localeData;\n  const { isFallback } = useRouter();\n\n  const stringsForNamespace = useMemo(() => translations &&\n    Array.isArray(translations) && translations.find((translation) => translation.namespace === namespace), [translations, namespace]);\n\n  const t = useCallback((key) => { // eslint-disable-line id-length\n    if (isFallback) {\n      return <Skeleton variant=\"text\" width={key ? key.length * 10 : 30} />;\n    }\n\n    if (!stringsForNamespace) {\n      // eslint-disable-next-line no-console\n      console.warn(`Namespace '${namespace}' for locale '${lang}' not found.`);\n      return key;\n    }\n\n    if (!stringsForNamespace.translatedStrings || !stringsForNamespace.translatedStrings[key]) {\n      // eslint-disable-next-line no-console\n      console.warn(`Translation '${key}' for locale '${lang}' not found.`);\n      return key;\n    }\n\n    return stringsForNamespace.translatedStrings[key];\n  }, [stringsForNamespace]);\n\n  return {\n    t, // eslint-disable-line id-length\n    locale: lang || \"in\"\n  };\n}\n"]},"metadata":{},"sourceType":"module"}