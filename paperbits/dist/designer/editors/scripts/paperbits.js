!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=310)}([function(e,t,n){var i,o,r;!function(a){var s=this||(0,eval)("this"),l=s.document,c=s.navigator,u=s.jQuery,d=s.JSON;u||"undefined"==typeof jQuery||(u=jQuery),function(a){o=[t,n],void 0===(r="function"==typeof(i=a)?i.apply(t,o):i)||(e.exports=r)}((function(e,t){function n(e,t){return(null===e||typeof e in w)&&e===t}function i(e,t){var n;return function(){n||(n=x.a.setTimeout((function(){n=a,e()}),t))}}function o(e,t){var n;return function(){clearTimeout(n),n=x.a.setTimeout(e,t)}}function r(e,t){t&&"change"!==t?"beforeChange"===t?this.pc(e):this.gb(e,t):this.qc(e)}function p(e,t){null!==t&&t.s&&t.s()}function h(e,t){var n=this.qd,i=n[_];i.ra||(this.Qb&&this.mb[t]?(n.uc(t,e,this.mb[t]),this.mb[t]=null,--this.Qb):i.I[t]||n.uc(t,e,i.J?{da:e}:n.$c(e)),e.Ja&&e.gd())}var f,m,v,g,y,b,x=void 0!==e?e:{};x.b=function(e,t){for(var n=e.split("."),i=x,o=0;o<n.length-1;o++)i=i[n[o]];i[n[n.length-1]]=t},x.L=function(e,t,n){e[t]=n},x.version="3.5.1",x.b("version",x.version),x.options={deferUpdates:!1,useOnlyNativeEvents:!1,foreachHidesDestroyed:!1},x.a=function(){function e(e,t){for(var n in e)o.call(e,n)&&t(n,e[n])}function t(e,t){if(t)for(var n in t)o.call(t,n)&&(e[n]=t[n]);return e}function n(e,t){return e.__proto__=t,e}function i(e,t,n,i){var o=e[t].match(y)||[];x.a.D(n.match(y),(function(e){x.a.Na(o,e,i)})),e[t]=o.join(" ")}var o=Object.prototype.hasOwnProperty,r={__proto__:[]}instanceof Array,p="function"==typeof Symbol,h={},f={};h[c&&/Firefox\/2/i.test(c.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],h.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),e(h,(function(e,t){if(t.length)for(var n=0,i=t.length;n<i;n++)f[t[n]]=e}));var m,v={propertychange:!0},g=l&&function(){for(var e=3,t=l.createElement("div"),n=t.getElementsByTagName("i");t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e",n[0];);return 4<e?e:a}(),y=/\S+/g;return{Jc:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],D:function(e,t,n){for(var i=0,o=e.length;i<o;i++)t.call(n,e[i],i,e)},A:"function"==typeof Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t)}:function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},Lb:function(e,t,n){for(var i=0,o=e.length;i<o;i++)if(t.call(n,e[i],i,e))return e[i];return a},Pa:function(e,t){var n=x.a.A(e,t);0<n?e.splice(n,1):0===n&&e.shift()},wc:function(e){var t=[];return e&&x.a.D(e,(function(e){0>x.a.A(t,e)&&t.push(e)})),t},Mb:function(e,t,n){var i=[];if(e)for(var o=0,r=e.length;o<r;o++)i.push(t.call(n,e[o],o));return i},jb:function(e,t,n){var i=[];if(e)for(var o=0,r=e.length;o<r;o++)t.call(n,e[o],o)&&i.push(e[o]);return i},Nb:function(e,t){if(t instanceof Array)e.push.apply(e,t);else for(var n=0,i=t.length;n<i;n++)e.push(t[n]);return e},Na:function(e,t,n){var i=x.a.A(x.a.bc(e),t);0>i?n&&e.push(t):n||e.splice(i,1)},Ba:r,extend:t,setPrototypeOf:n,Ab:r?n:t,P:e,Ga:function(e,t,n){if(!e)return e;var i,r={};for(i in e)o.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r},Tb:function(e){for(;e.firstChild;)x.removeNode(e.firstChild)},Yb:function(e){for(var t=((e=x.a.la(e))[0]&&e[0].ownerDocument||l).createElement("div"),n=0,i=e.length;n<i;n++)t.appendChild(x.oa(e[n]));return t},Ca:function(e,t){for(var n=0,i=e.length,o=[];n<i;n++){var r=e[n].cloneNode(!0);o.push(t?x.oa(r):r)}return o},va:function(e,t){if(x.a.Tb(e),t)for(var n=0,i=t.length;n<i;n++)e.appendChild(t[n])},Xc:function(e,t){var n=e.nodeType?[e]:e;if(0<n.length){for(var i=n[0],o=i.parentNode,r=0,a=t.length;r<a;r++)o.insertBefore(t[r],i);for(r=0,a=n.length;r<a;r++)x.removeNode(n[r])}},Ua:function(e,t){if(e.length){for(t=8===t.nodeType&&t.parentNode||t;e.length&&e[0].parentNode!==t;)e.splice(0,1);for(;1<e.length&&e[e.length-1].parentNode!==t;)e.length--;if(1<e.length){var n=e[0],i=e[e.length-1];for(e.length=0;n!==i;)e.push(n),n=n.nextSibling;e.push(i)}}return e},Zc:function(e,t){7>g?e.setAttribute("selected",t):e.selected=t},Db:function(e){return null===e||e===a?"":e.trim?e.trim():e.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Ud:function(e,t){return e=e||"",!(t.length>e.length)&&e.substring(0,t.length)===t},vd:function(e,t){if(e===t)return!0;if(11===e.nodeType)return!1;if(t.contains)return t.contains(1!==e.nodeType?e.parentNode:e);if(t.compareDocumentPosition)return 16==(16&t.compareDocumentPosition(e));for(;e&&e!=t;)e=e.parentNode;return!!e},Sb:function(e){return x.a.vd(e,e.ownerDocument.documentElement)},kd:function(e){return!!x.a.Lb(e,x.a.Sb)},R:function(e){return e&&e.tagName&&e.tagName.toLowerCase()},Ac:function(e){return x.onError?function(){try{return e.apply(this,arguments)}catch(t){throw x.onError&&x.onError(t),t}}:e},setTimeout:function(e,t){return setTimeout(x.a.Ac(e),t)},Gc:function(e){setTimeout((function(){throw x.onError&&x.onError(e),e}),0)},B:function(e,t,n){var i=x.a.Ac(n);if(n=v[t],x.options.useOnlyNativeEvents||n||!u)if(n||"function"!=typeof e.addEventListener){if(void 0===e.attachEvent)throw Error("Browser doesn't support addEventListener or attachEvent");var o=function(t){i.call(e,t)},r="on"+t;e.attachEvent(r,o),x.a.K.za(e,(function(){e.detachEvent(r,o)}))}else e.addEventListener(t,i,!1);else m||(m="function"==typeof u(e).on?"on":"bind"),u(e)[m](t,i)},Fb:function(e,t){if(!e||!e.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var n;if(n=!("input"!==x.a.R(e)||!e.type||"click"!=t.toLowerCase())&&("checkbox"==(n=e.type)||"radio"==n),x.options.useOnlyNativeEvents||!u||n)if("function"==typeof l.createEvent){if("function"!=typeof e.dispatchEvent)throw Error("The supplied element doesn't support dispatchEvent");(n=l.createEvent(f[t]||"HTMLEvents")).initEvent(t,!0,!0,s,0,0,0,0,0,!1,!1,!1,!1,0,e),e.dispatchEvent(n)}else if(n&&e.click)e.click();else{if(void 0===e.fireEvent)throw Error("Browser doesn't support triggering events");e.fireEvent("on"+t)}else u(e).trigger(t)},f:function(e){return x.O(e)?e():e},bc:function(e){return x.O(e)?e.v():e},Eb:function(e,t,n){var o;t&&("object"==typeof e.classList?(o=e.classList[n?"add":"remove"],x.a.D(t.match(y),(function(t){o.call(e.classList,t)}))):"string"==typeof e.className.baseVal?i(e.className,"baseVal",t,n):i(e,"className",t,n))},Bb:function(e,t){var n=x.a.f(t);null!==n&&n!==a||(n="");var i=x.h.firstChild(e);!i||3!=i.nodeType||x.h.nextSibling(i)?x.h.va(e,[e.ownerDocument.createTextNode(n)]):i.data=n,x.a.Ad(e)},Yc:function(e,t){if(e.name=t,7>=g)try{var i=e.name.replace(/[&<>'"]/g,(function(e){return"&#"+e.charCodeAt(0)+";"}));e.mergeAttributes(l.createElement("<input name='"+i+"'/>"),!1)}catch(n){}},Ad:function(e){9<=g&&(e=1==e.nodeType?e:e.parentNode).style&&(e.style.zoom=e.style.zoom)},wd:function(e){if(g){var t=e.style.width;e.style.width=0,e.style.width=t}},Pd:function(e,t){e=x.a.f(e),t=x.a.f(t);for(var n=[],i=e;i<=t;i++)n.push(i);return n},la:function(e){for(var t=[],n=0,i=e.length;n<i;n++)t.push(e[n]);return t},Da:function(e){return p?Symbol(e):e},Zd:6===g,$d:7===g,W:g,Lc:function(e,t){for(var n=x.a.la(e.getElementsByTagName("input")).concat(x.a.la(e.getElementsByTagName("textarea"))),i="string"==typeof t?function(e){return e.name===t}:function(e){return t.test(e.name)},o=[],r=n.length-1;0<=r;r--)i(n[r])&&o.push(n[r]);return o},Nd:function(e){return"string"==typeof e&&(e=x.a.Db(e))?d&&d.parse?d.parse(e):new Function("return "+e)():null},hc:function(e,t,n){if(!d||!d.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return d.stringify(x.a.f(e),t,n)},Od:function(t,n,i){var o=(i=i||{}).params||{},r=i.includeFields||this.Jc,a=t;if("object"==typeof t&&"form"===x.a.R(t)){a=t.action;for(var s=r.length-1;0<=s;s--)for(var c=x.a.Lc(t,r[s]),u=c.length-1;0<=u;u--)o[c[u].name]=c[u].value}n=x.a.f(n);var d=l.createElement("form");for(var p in d.style.display="none",d.action=a,d.method="post",n)(t=l.createElement("input")).type="hidden",t.name=p,t.value=x.a.hc(x.a.f(n[p])),d.appendChild(t);e(o,(function(e,t){var n=l.createElement("input");n.type="hidden",n.name=e,n.value=t,d.appendChild(n)})),l.body.appendChild(d),i.submitter?i.submitter(d):d.submit(),setTimeout((function(){d.parentNode.removeChild(d)}),0)}}}(),x.b("utils",x.a),x.b("utils.arrayForEach",x.a.D),x.b("utils.arrayFirst",x.a.Lb),x.b("utils.arrayFilter",x.a.jb),x.b("utils.arrayGetDistinctValues",x.a.wc),x.b("utils.arrayIndexOf",x.a.A),x.b("utils.arrayMap",x.a.Mb),x.b("utils.arrayPushAll",x.a.Nb),x.b("utils.arrayRemoveItem",x.a.Pa),x.b("utils.cloneNodes",x.a.Ca),x.b("utils.createSymbolOrString",x.a.Da),x.b("utils.extend",x.a.extend),x.b("utils.fieldsIncludedWithJsonPost",x.a.Jc),x.b("utils.getFormFields",x.a.Lc),x.b("utils.objectMap",x.a.Ga),x.b("utils.peekObservable",x.a.bc),x.b("utils.postJson",x.a.Od),x.b("utils.parseJson",x.a.Nd),x.b("utils.registerEventHandler",x.a.B),x.b("utils.stringifyJson",x.a.hc),x.b("utils.range",x.a.Pd),x.b("utils.toggleDomNodeCssClass",x.a.Eb),x.b("utils.triggerEvent",x.a.Fb),x.b("utils.unwrapObservable",x.a.f),x.b("utils.objectForEach",x.a.P),x.b("utils.addOrRemoveItem",x.a.Na),x.b("utils.setTextContent",x.a.Bb),x.b("unwrap",x.a.f),Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if(1===arguments.length)return function(){return t.apply(e,arguments)};var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice(0);return i.push.apply(i,arguments),t.apply(e,i)}}),x.a.g=new function(){var e,t,n=0,i="__ko__"+(new Date).getTime(),o={};return x.a.W?(e=function(e,t){var r=e[i];if(!r||"null"===r||!o[r]){if(!t)return a;r=e[i]="ko"+n++,o[r]={}}return o[r]},t=function(e){var t=e[i];return!!t&&(delete o[t],e[i]=null,!0)}):(e=function(e,t){var n=e[i];return!n&&t&&(n=e[i]={}),n},t=function(e){return!!e[i]&&(delete e[i],!0)}),{get:function(t,n){var i=e(t,!1);return i&&i[n]},set:function(t,n,i){(t=e(t,i!==a))&&(t[n]=i)},Ub:function(t,n,i){return(t=e(t,!0))[n]||(t[n]=i)},clear:t,Z:function(){return n+++i}}},x.b("utils.domData",x.a.g),x.b("utils.domData.clear",x.a.g.clear),x.a.K=new function(){function e(e,t){var n=x.a.g.get(e,i);return n===a&&t&&(n=[],x.a.g.set(e,i,n)),n}function t(t){if(i=e(t,!1))for(var i=i.slice(0),o=0;o<i.length;o++)i[o](t);x.a.g.clear(t),x.a.K.cleanExternalData(t),r[t.nodeType]&&n(t.childNodes,!0)}function n(e,n){for(var i,o=[],r=0;r<e.length;r++)if((!n||8===e[r].nodeType)&&(t(o[o.length]=i=e[r]),e[r]!==i))for(;r--&&-1==x.a.A(o,e[r]););}var i=x.a.g.Z(),o={1:!0,8:!0,9:!0},r={1:!0,9:!0};return{za:function(t,n){if("function"!=typeof n)throw Error("Callback must be a function");e(t,!0).push(n)},yb:function(t,n){var o=e(t,!1);o&&(x.a.Pa(o,n),0==o.length&&x.a.g.set(t,i,a))},oa:function(e){return x.u.G((function(){o[e.nodeType]&&(t(e),r[e.nodeType]&&n(e.getElementsByTagName("*")))})),e},removeNode:function(e){x.oa(e),e.parentNode&&e.parentNode.removeChild(e)},cleanExternalData:function(e){u&&"function"==typeof u.cleanData&&u.cleanData([e])}}},x.oa=x.a.K.oa,x.removeNode=x.a.K.removeNode,x.b("cleanNode",x.oa),x.b("removeNode",x.removeNode),x.b("utils.domNodeDisposal",x.a.K),x.b("utils.domNodeDisposal.addDisposeCallback",x.a.K.za),x.b("utils.domNodeDisposal.removeDisposeCallback",x.a.K.yb),f=[0,"",""],y={thead:m=[1,"<table>","</table>"],tbody:m,tfoot:m,tr:[2,"<table><tbody>","</tbody></table>"],td:v=[3,"<table><tbody><tr>","</tr></tbody></table>"],th:v,option:g=[1,"<select multiple='multiple'>","</select>"],optgroup:g},b=8>=x.a.W,x.a.ua=function(e,t){var n;if(u){if(u.parseHTML)n=u.parseHTML(e,t)||[];else if((n=u.clean([e],t))&&n[0]){for(var i=n[0];i.parentNode&&11!==i.parentNode.nodeType;)i=i.parentNode;i.parentNode&&i.parentNode.removeChild(i)}}else{(n=t)||(n=l),i=n.parentWindow||n.defaultView||s;var o,r=x.a.Db(e).toLowerCase(),a=n.createElement("div");for(o=(r=r.match(/^(?:\x3c!--.*?--\x3e\s*?)*?<([a-z]+)[\s>]/))&&y[r[1]]||f,r=o[0],o="ignored<div>"+o[1]+e+o[2]+"</div>","function"==typeof i.innerShiv?a.appendChild(i.innerShiv(o)):(b&&n.body.appendChild(a),a.innerHTML=o,b&&a.parentNode.removeChild(a));r--;)a=a.lastChild;n=x.a.la(a.lastChild.childNodes)}return n},x.a.Md=function(e,t){var n=x.a.ua(e,t);return n.length&&n[0].parentElement||x.a.Yb(n)},x.a.fc=function(e,t){if(x.a.Tb(e),null!==(t=x.a.f(t))&&t!==a)if("string"!=typeof t&&(t=t.toString()),u)u(e).html(t);else for(var n=x.a.ua(t,e.ownerDocument),i=0;i<n.length;i++)e.appendChild(n[i])},x.b("utils.parseHtmlFragment",x.a.ua),x.b("utils.setHtml",x.a.fc),x.aa=function(){var e={};return{Xb:function(t){if("function"!=typeof t)throw Error("You can only pass a function to ko.memoization.memoize()");var n=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return e[n]=t,"\x3c!--[ko_memo:"+n+"]--\x3e"},bd:function(t,n){var i=e[t];if(i===a)throw Error("Couldn't find any memo with ID "+t+". Perhaps it's already been unmemoized.");try{return i.apply(null,n||[]),!0}finally{delete e[t]}},cd:function(e,t){var n=[];!function e(t,n){if(t)if(8==t.nodeType)null!=(i=x.aa.Uc(t.nodeValue))&&n.push({ud:t,Kd:i});else if(1==t.nodeType)for(var i=0,o=t.childNodes,r=o.length;i<r;i++)e(o[i],n)}(e,n);for(var i=0,o=n.length;i<o;i++){var r=n[i].ud,a=[r];t&&x.a.Nb(a,t),x.aa.bd(n[i].Kd,a),r.nodeValue="",r.parentNode&&r.parentNode.removeChild(r)}},Uc:function(e){return(e=e.match(/^\[ko_memo\:(.*?)\]$/))?e[1]:null}}}(),x.b("memoization",x.aa),x.b("memoization.memoize",x.aa.Xb),x.b("memoization.unmemoize",x.aa.bd),x.b("memoization.parseMemoText",x.aa.Uc),x.b("memoization.unmemoizeDomNodeAndDescendants",x.aa.cd),x.na=function(){function e(){if(i)for(var e,t=i,o=0;r<i;)if(e=n[r++]){if(r>t){if(5e3<=++o){r=i,x.a.Gc(Error("'Too much recursion' after processing "+o+" task groups."));break}t=i}try{e()}catch(a){x.a.Gc(a)}}}function t(){e(),r=i=n.length=0}var n=[],i=0,o=1,r=0;return{scheduler:s.MutationObserver?function(e){var t=l.createElement("div");return new MutationObserver(e).observe(t,{attributes:!0}),function(){t.classList.toggle("foo")}}(t):l&&"onreadystatechange"in l.createElement("script")?function(e){var t=l.createElement("script");t.onreadystatechange=function(){t.onreadystatechange=null,l.documentElement.removeChild(t),t=null,e()},l.documentElement.appendChild(t)}:function(e){setTimeout(e,0)},zb:function(e){return i||x.na.scheduler(t),n[i++]=e,o++},cancel:function(e){(e-=o-i)>=r&&e<i&&(n[e]=null)},resetForTesting:function(){var e=i-r;return r=i=n.length=0,e},Sd:e}}(),x.b("tasks",x.na),x.b("tasks.schedule",x.na.zb),x.b("tasks.runEarly",x.na.Sd),x.Ta={throttle:function(e,t){e.throttleEvaluation=t;var n=null;return x.$({read:e,write:function(i){clearTimeout(n),n=x.a.setTimeout((function(){e(i)}),t)}})},rateLimit:function(e,t){var n,r,a;"number"==typeof t?n=t:(n=t.timeout,r=t.method),e.Hb=!1,a="function"==typeof r?r:"notifyWhenChangesStop"==r?o:i,e.ub((function(e){return a(e,n,t)}))},deferred:function(e,t){if(!0!==t)throw Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");e.Hb||(e.Hb=!0,e.ub((function(t){var n,i=!1;return function(){if(!i){x.na.cancel(n),n=x.na.zb(t);try{i=!0,e.notifySubscribers(a,"dirty")}finally{i=!1}}}})))},notify:function(e,t){e.equalityComparer="always"==t?null:n}};var w={undefined:1,boolean:1,number:1,string:1};x.b("extenders",x.Ta),x.ic=function(e,t,n){this.da=e,this.lc=t,this.mc=n,this.Ib=!1,this.fb=this.Jb=null,x.L(this,"dispose",this.s),x.L(this,"disposeWhenNodeIsRemoved",this.l)},x.ic.prototype.s=function(){this.Ib||(this.fb&&x.a.K.yb(this.Jb,this.fb),this.Ib=!0,this.mc(),this.da=this.lc=this.mc=this.Jb=this.fb=null)},x.ic.prototype.l=function(e){this.Jb=e,x.a.K.za(e,this.fb=this.s.bind(this))},x.T=function(){x.a.Ab(this,S),S.qb(this)};var S={qb:function(e){e.U={change:[]},e.sc=1},subscribe:function(e,t,n){var i=this;n=n||"change";var o=new x.ic(i,t?e.bind(t):e,(function(){x.a.Pa(i.U[n],o),i.hb&&i.hb(n)}));return i.Qa&&i.Qa(n),i.U[n]||(i.U[n]=[]),i.U[n].push(o),o},notifySubscribers:function(e,t){if("change"===(t=t||"change")&&this.Gb(),this.Wa(t)){var n="change"===t&&this.ed||this.U[t].slice(0);try{x.u.xc();for(var i,o=0;i=n[o];++o)i.Ib||i.lc(e)}finally{x.u.end()}}},ob:function(){return this.sc},Dd:function(e){return this.ob()!==e},Gb:function(){++this.sc},ub:function(e){var t,n,i,o,a,s=this,l=x.O(s);s.gb||(s.gb=s.notifySubscribers,s.notifySubscribers=r);var c=e((function(){s.Ja=!1,l&&o===s&&(o=s.nc?s.nc():s());var e=n||a&&s.sb(i,o);a=n=t=!1,e&&s.gb(i=o)}));s.qc=function(e,n){n&&s.Ja||(a=!n),s.ed=s.U.change.slice(0),s.Ja=t=!0,o=e,c()},s.pc=function(e){t||(i=e,s.gb(e,"beforeChange"))},s.rc=function(){a=!0},s.gd=function(){s.sb(i,s.v(!0))&&(n=!0)}},Wa:function(e){return this.U[e]&&this.U[e].length},Bd:function(e){if(e)return this.U[e]&&this.U[e].length||0;var t=0;return x.a.P(this.U,(function(e,n){"dirty"!==e&&(t+=n.length)})),t},sb:function(e,t){return!this.equalityComparer||!this.equalityComparer(e,t)},toString:function(){return"[object Object]"},extend:function(e){var t=this;return e&&x.a.P(e,(function(e,n){var i=x.Ta[e];"function"==typeof i&&(t=i(t,n)||t)})),t}};x.L(S,"init",S.qb),x.L(S,"subscribe",S.subscribe),x.L(S,"extend",S.extend),x.L(S,"getSubscriptionsCount",S.Bd),x.a.Ba&&x.a.setPrototypeOf(S,Function.prototype),x.T.fn=S,x.Qc=function(e){return null!=e&&"function"==typeof e.subscribe&&"function"==typeof e.notifySubscribers},x.b("subscribable",x.T),x.b("isSubscribable",x.Qc),x.S=x.u=function(){function e(e){i.push(n),n=e}function t(){n=i.pop()}var n,i=[],o=0;return{xc:e,end:t,cc:function(e){if(n){if(!x.Qc(e))throw Error("Only subscribable things can act as dependencies");n.od.call(n.pd,e,e.fd||(e.fd=++o))}},G:function(n,i,o){try{return e(),n.apply(i,o||[])}finally{t()}},qa:function(){if(n)return n.o.qa()},Va:function(){if(n)return n.o.Va()},Ya:function(){if(n)return n.Ya},o:function(){if(n)return n.o}}}(),x.b("computedContext",x.S),x.b("computedContext.getDependenciesCount",x.S.qa),x.b("computedContext.getDependencies",x.S.Va),x.b("computedContext.isInitial",x.S.Ya),x.b("computedContext.registerDependency",x.S.cc),x.b("ignoreDependencies",x.Yd=x.u.G);var k=x.a.Da("_latestValue");x.ta=function(e){function t(){return 0<arguments.length?(t.sb(t[k],arguments[0])&&(t.ya(),t[k]=arguments[0],t.xa()),this):(x.u.cc(t),t[k])}return t[k]=e,x.a.Ba||x.a.extend(t,x.T.fn),x.T.fn.qb(t),x.a.Ab(t,C),x.options.deferUpdates&&x.Ta.deferred(t,!0),t};var C={equalityComparer:n,v:function(){return this[k]},xa:function(){this.notifySubscribers(this[k],"spectate"),this.notifySubscribers(this[k])},ya:function(){this.notifySubscribers(this[k],"beforeChange")}};x.a.Ba&&x.a.setPrototypeOf(C,x.T.fn);var M=x.ta.Ma="__ko_proto__";C[M]=x.ta,x.O=function(e){if((e="function"==typeof e&&e[M])&&e!==C[M]&&e!==x.o.fn[M])throw Error("Invalid object that looks like an observable; possibly from another Knockout instance");return!!e},x.Za=function(e){return"function"==typeof e&&(e[M]===C[M]||e[M]===x.o.fn[M]&&e.Nc)},x.b("observable",x.ta),x.b("isObservable",x.O),x.b("isWriteableObservable",x.Za),x.b("isWritableObservable",x.Za),x.b("observable.fn",C),x.L(C,"peek",C.v),x.L(C,"valueHasMutated",C.xa),x.L(C,"valueWillMutate",C.ya),x.Ha=function(e){if("object"!=typeof(e=e||[])||!("length"in e))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return e=x.ta(e),x.a.Ab(e,x.Ha.fn),e.extend({trackArrayChanges:!0})},x.Ha.fn={remove:function(e){for(var t=this.v(),n=[],i="function"!=typeof e||x.O(e)?function(t){return t===e}:e,o=0;o<t.length;o++){var r=t[o];if(i(r)){if(0===n.length&&this.ya(),t[o]!==r)throw Error("Array modified during remove; cannot remove item");n.push(r),t.splice(o,1),o--}}return n.length&&this.xa(),n},removeAll:function(e){if(e===a){var t=this.v(),n=t.slice(0);return this.ya(),t.splice(0,t.length),this.xa(),n}return e?this.remove((function(t){return 0<=x.a.A(e,t)})):[]},destroy:function(e){var t=this.v(),n="function"!=typeof e||x.O(e)?function(t){return t===e}:e;this.ya();for(var i=t.length-1;0<=i;i--){var o=t[i];n(o)&&(o._destroy=!0)}this.xa()},destroyAll:function(e){return e===a?this.destroy((function(){return!0})):e?this.destroy((function(t){return 0<=x.a.A(e,t)})):[]},indexOf:function(e){var t=this();return x.a.A(t,e)},replace:function(e,t){var n=this.indexOf(e);0<=n&&(this.ya(),this.v()[n]=t,this.xa())},sorted:function(e){var t=this().slice(0);return e?t.sort(e):t.sort()},reversed:function(){return this().slice(0).reverse()}},x.a.Ba&&x.a.setPrototypeOf(x.Ha.fn,x.ta.fn),x.a.D("pop push reverse shift sort splice unshift".split(" "),(function(e){x.Ha.fn[e]=function(){var t=this.v();this.ya(),this.zc(t,e,arguments);var n=t[e].apply(t,arguments);return this.xa(),n===t?this:n}})),x.a.D(["slice"],(function(e){x.Ha.fn[e]=function(){var t=this();return t[e].apply(t,arguments)}})),x.Pc=function(e){return x.O(e)&&"function"==typeof e.remove&&"function"==typeof e.push},x.b("observableArray",x.Ha),x.b("isObservableArray",x.Pc),x.Ta.trackArrayChanges=function(e,t){function n(){function t(){if(c){var t,n=[].concat(e.v()||[]);e.Wa("arrayChange")&&((!l||1<c)&&(l=x.a.Pb(r,n,e.Ob)),t=l),r=n,l=null,c=0,t&&t.length&&e.notifySubscribers(t,"arrayChange")}}s?t():(s=!0,o=e.subscribe((function(){++c}),null,"spectate"),r=[].concat(e.v()||[]),l=null,i=e.subscribe(t))}if(e.Ob={},t&&"object"==typeof t&&x.a.extend(e.Ob,t),e.Ob.sparse=!0,!e.zc){var i,o,r,s=!1,l=null,c=0,u=e.Qa,d=e.hb;e.Qa=function(t){u&&u.call(e,t),"arrayChange"===t&&n()},e.hb=function(t){d&&d.call(e,t),"arrayChange"!==t||e.Wa("arrayChange")||(i&&i.s(),o&&o.s(),o=i=null,s=!1,r=a)},e.zc=function(e,t,n){function i(e,t,n){return o[o.length]={status:e,value:t,index:n}}if(s&&!c){var o=[],r=e.length,a=n.length,u=0;switch(t){case"push":u=r;case"unshift":for(t=0;t<a;t++)i("added",n[t],u+t);break;case"pop":u=r-1;case"shift":r&&i("deleted",e[u],u);break;case"splice":t=Math.min(Math.max(0,0>n[0]?r+n[0]:n[0]),r),r=1===a?r:Math.min(t+(n[1]||0),r),a=t+a-2,u=Math.max(r,a);for(var d=[],p=[],h=2;t<u;++t,++h)t<r&&p.push(i("deleted",e[t],t)),t<a&&d.push(i("added",n[h],t));x.a.Kc(p,d);break;default:return}l=o}}}};var _=x.a.Da("_state");x.o=x.$=function(e,t,n){function i(){if(0<arguments.length){if("function"!=typeof o)throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return o.apply(r.nb,arguments),this}return r.ra||x.u.cc(i),(r.ka||r.J&&i.Xa())&&i.ha(),r.X}if("object"==typeof e?n=e:(n=n||{},e&&(n.read=e)),"function"!=typeof n.read)throw Error("Pass a function that returns the value of the ko.computed");var o=n.write,r={X:a,sa:!0,ka:!0,rb:!1,jc:!1,ra:!1,wb:!1,J:!1,Wc:n.read,nb:t||n.owner,l:n.disposeWhenNodeIsRemoved||n.l||null,Sa:n.disposeWhen||n.Sa,Rb:null,I:{},V:0,Ic:null};return i[_]=r,i.Nc="function"==typeof o,x.a.Ba||x.a.extend(i,x.T.fn),x.T.fn.qb(i),x.a.Ab(i,O),n.pure?(r.wb=!0,r.J=!0,x.a.extend(i,P)):n.deferEvaluation&&x.a.extend(i,E),x.options.deferUpdates&&x.Ta.deferred(i,!0),r.l&&(r.jc=!0,r.l.nodeType||(r.l=null)),r.J||n.deferEvaluation||i.ha(),r.l&&i.ja()&&x.a.K.za(r.l,r.Rb=function(){i.s()}),i};var O={equalityComparer:n,qa:function(){return this[_].V},Va:function(){var e=[];return x.a.P(this[_].I,(function(t,n){e[n.Ka]=n.da})),e},Vb:function(e){if(!this[_].V)return!1;var t=this.Va();return-1!==x.a.A(t,e)||!!x.a.Lb(t,(function(t){return t.Vb&&t.Vb(e)}))},uc:function(e,t,n){if(this[_].wb&&t===this)throw Error("A 'pure' computed must not be called recursively");this[_].I[e]=n,n.Ka=this[_].V++,n.La=t.ob()},Xa:function(){var e,t,n=this[_].I;for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&(t=n[e],this.Ia&&t.da.Ja||t.da.Dd(t.La)))return!0},Jd:function(){this.Ia&&!this[_].rb&&this.Ia(!1)},ja:function(){var e=this[_];return e.ka||0<e.V},Rd:function(){this.Ja?this[_].ka&&(this[_].sa=!0):this.Hc()},$c:function(e){if(e.Hb){var t=e.subscribe(this.Jd,this,"dirty"),n=e.subscribe(this.Rd,this);return{da:e,s:function(){t.s(),n.s()}}}return e.subscribe(this.Hc,this)},Hc:function(){var e=this,t=e.throttleEvaluation;t&&0<=t?(clearTimeout(this[_].Ic),this[_].Ic=x.a.setTimeout((function(){e.ha(!0)}),t)):e.Ia?e.Ia(!0):e.ha(!0)},ha:function(e){var t=this[_],n=t.Sa,i=!1;if(!t.rb&&!t.ra){if(t.l&&!x.a.Sb(t.l)||n&&n()){if(!t.jc)return void this.s()}else t.jc=!1;t.rb=!0;try{i=this.zd(e)}finally{t.rb=!1}return i}},zd:function(e){var t=this[_],n=!1,i=t.wb?a:!t.V;n={qd:this,mb:t.I,Qb:t.V},x.u.xc({pd:n,od:h,o:this,Ya:i}),t.I={},t.V=0;var o=this.yd(t,n);return t.V?n=this.sb(t.X,o):(this.s(),n=!0),n&&(t.J?this.Gb():this.notifySubscribers(t.X,"beforeChange"),t.X=o,this.notifySubscribers(t.X,"spectate"),!t.J&&e&&this.notifySubscribers(t.X),this.rc&&this.rc()),i&&this.notifySubscribers(t.X,"awake"),n},yd:function(e,t){try{var n=e.Wc;return e.nb?n.call(e.nb):n()}finally{x.u.end(),t.Qb&&!e.J&&x.a.P(t.mb,p),e.sa=e.ka=!1}},v:function(e){var t=this[_];return(t.ka&&(e||!t.V)||t.J&&this.Xa())&&this.ha(),t.X},ub:function(e){x.T.fn.ub.call(this,e),this.nc=function(){return this[_].J||(this[_].sa?this.ha():this[_].ka=!1),this[_].X},this.Ia=function(e){this.pc(this[_].X),this[_].ka=!0,e&&(this[_].sa=!0),this.qc(this,!e)}},s:function(){var e=this[_];!e.J&&e.I&&x.a.P(e.I,(function(e,t){t.s&&t.s()})),e.l&&e.Rb&&x.a.K.yb(e.l,e.Rb),e.I=a,e.V=0,e.ra=!0,e.sa=!1,e.ka=!1,e.J=!1,e.l=a,e.Sa=a,e.Wc=a,this.Nc||(e.nb=a)}},P={Qa:function(e){var t=this,n=t[_];if(!n.ra&&n.J&&"change"==e){if(n.J=!1,n.sa||t.Xa())n.I=null,n.V=0,t.ha()&&t.Gb();else{var i=[];x.a.P(n.I,(function(e,t){i[t.Ka]=e})),x.a.D(i,(function(e,i){var o=n.I[e],r=t.$c(o.da);r.Ka=i,r.La=o.La,n.I[e]=r})),t.Xa()&&t.ha()&&t.Gb()}n.ra||t.notifySubscribers(n.X,"awake")}},hb:function(e){var t=this[_];t.ra||"change"!=e||this.Wa("change")||(x.a.P(t.I,(function(e,n){n.s&&(t.I[e]={da:n.da,Ka:n.Ka,La:n.La},n.s())})),t.J=!0,this.notifySubscribers(a,"asleep"))},ob:function(){var e=this[_];return e.J&&(e.sa||this.Xa())&&this.ha(),x.T.fn.ob.call(this)}},E={Qa:function(e){"change"!=e&&"beforeChange"!=e||this.v()}};x.a.Ba&&x.a.setPrototypeOf(O,x.T.fn);var T=x.ta.Ma;O[T]=x.o,x.Oc=function(e){return"function"==typeof e&&e[T]===O[T]},x.Fd=function(e){return x.Oc(e)&&e[_]&&e[_].wb},x.b("computed",x.o),x.b("dependentObservable",x.o),x.b("isComputed",x.Oc),x.b("isPureComputed",x.Fd),x.b("computed.fn",O),x.L(O,"peek",O.v),x.L(O,"dispose",O.s),x.L(O,"isActive",O.ja),x.L(O,"getDependenciesCount",O.qa),x.L(O,"getDependencies",O.Va),x.xb=function(e,t){return"function"==typeof e?x.o(e,t,{pure:!0}):((e=x.a.extend({},e)).pure=!0,x.o(e,t))},x.b("pureComputed",x.xb),function(){function e(n,i,o){if(o=o||new t,"object"!=typeof(n=i(n))||null===n||n===a||n instanceof RegExp||n instanceof Date||n instanceof String||n instanceof Number||n instanceof Boolean)return n;var r=n instanceof Array?[]:{};return o.save(n,r),function(e,t){if(e instanceof Array){for(var n=0;n<e.length;n++)t(n);"function"==typeof e.toJSON&&t("toJSON")}else for(n in e)t(n)}(n,(function(t){var s=i(n[t]);switch(typeof s){case"boolean":case"number":case"string":case"function":r[t]=s;break;case"object":case"undefined":var l=o.get(s);r[t]=l!==a?l:e(s,i,o)}})),r}function t(){this.keys=[],this.values=[]}x.ad=function(t){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return e(t,(function(e){for(var t=0;x.O(e)&&10>t;t++)e=e();return e}))},x.toJSON=function(e,t,n){return e=x.ad(e),x.a.hc(e,t,n)},t.prototype={constructor:t,save:function(e,t){var n=x.a.A(this.keys,e);0<=n?this.values[n]=t:(this.keys.push(e),this.values.push(t))},get:function(e){return 0<=(e=x.a.A(this.keys,e))?this.values[e]:a}}}(),x.b("toJS",x.ad),x.b("toJSON",x.toJSON),x.Wd=function(e,t,n){function i(t){var i=x.xb(e,n).extend({ma:"always"}),o=i.subscribe((function(e){e&&(o.s(),t(e))}));return i.notifySubscribers(i.v()),o}return"function"!=typeof Promise||t?i(t.bind(n)):new Promise(i)},x.b("when",x.Wd),x.w={M:function(e){switch(x.a.R(e)){case"option":return!0===e.__ko__hasDomDataOptionValue__?x.a.g.get(e,x.c.options.$b):7>=x.a.W?e.getAttributeNode("value")&&e.getAttributeNode("value").specified?e.value:e.text:e.value;case"select":return 0<=e.selectedIndex?x.w.M(e.options[e.selectedIndex]):a;default:return e.value}},cb:function(e,t,n){switch(x.a.R(e)){case"option":"string"==typeof t?(x.a.g.set(e,x.c.options.$b,a),"__ko__hasDomDataOptionValue__"in e&&delete e.__ko__hasDomDataOptionValue__,e.value=t):(x.a.g.set(e,x.c.options.$b,t),e.__ko__hasDomDataOptionValue__=!0,e.value="number"==typeof t?t:"");break;case"select":""!==t&&null!==t||(t=a);for(var i,o=-1,r=0,s=e.options.length;r<s;++r)if((i=x.w.M(e.options[r]))==t||""===i&&t===a){o=r;break}(n||0<=o||t===a&&1<e.size)&&(e.selectedIndex=o,6===x.a.W&&x.a.setTimeout((function(){e.selectedIndex=o}),0));break;default:null!==t&&t!==a||(t=""),e.value=t}}},x.b("selectExtensions",x.w),x.b("selectExtensions.readValue",x.w.M),x.b("selectExtensions.writeValue",x.w.cb),x.m=function(){function e(e){123===(e=x.a.Db(e)).charCodeAt(0)&&(e=e.slice(1,-1));var t,n=[],a=(e+="\n,").match(i),s=[],l=0;if(1<a.length){for(var c,u=0;c=a[u];++u){var d=c.charCodeAt(0);if(44===d){if(0>=l){n.push(t&&s.length?{key:t,value:s.join("")}:{unknown:t||s.join("")}),t=l=0,s=[];continue}}else if(58===d){if(!l&&!t&&1===s.length){t=s.pop();continue}}else{if(47===d&&1<c.length&&(47===c.charCodeAt(1)||42===c.charCodeAt(1)))continue;47===d&&u&&1<c.length?(d=a[u-1].match(o))&&!r[d[0]]&&(a=(e=e.substr(e.indexOf(c)+1)).match(i),u=-1,c="/"):40===d||123===d||91===d?++l:41===d||125===d||93===d?--l:t||s.length||34!==d&&39!==d||(c=c.slice(1,-1))}s.push(c)}if(0<l)throw Error("Unbalanced parentheses, braces, or brackets")}return n}var t=["true","false","null","undefined"],n=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,i=RegExp("\"(?:\\\\.|[^\"])*\"|'(?:\\\\.|[^'])*'|`(?:\\\\.|[^`])*`|/\\*(?:[^*]|\\*+[^*/])*\\*+/|//.*\n|/(?:\\\\.|[^/])+/w*|[^\\s:,/][^,\"'`{}()/:[\\]]*[^\\s,\"'`{}()/:[\\]]|[^\\s]","g"),o=/[\])"'A-Za-z0-9_$]+$/,r={in:1,return:1,typeof:1},a={};return{Ra:[],wa:a,ac:e,vb:function(i,o){function r(e,i){var o;if(!u){var d=x.getBindingHandler(e);if(d&&d.preprocess&&!(i=d.preprocess(i,e,r)))return;(d=a[e])&&(o=i,0<=x.a.A(t,o)?o=!1:(d=o.match(n),o=null!==d&&(d[1]?"Object("+d[1]+")"+d[2]:o)),d=o),d&&l.push("'"+("string"==typeof a[e]?a[e]:e)+"':function(_z){"+o+"=_z}")}c&&(i="function(){return "+i+" }"),s.push("'"+e+"':"+i)}var s=[],l=[],c=(o=o||{}).valueAccessors,u=o.bindingParams,d="string"==typeof i?e(i):i;return x.a.D(d,(function(e){r(e.key||e.unknown,e.value)})),l.length&&r("_ko_property_writers","{"+l.join(",")+" }"),s.join(",")},Id:function(e,t){for(var n=0;n<e.length;n++)if(e[n].key==t)return!0;return!1},eb:function(e,t,n,i,o){e&&x.O(e)?!x.Za(e)||o&&e.v()===i||e(i):(e=t.get("_ko_property_writers"))&&e[n]&&e[n](i)}}}(),x.b("expressionRewriting",x.m),x.b("expressionRewriting.bindingRewriteValidators",x.m.Ra),x.b("expressionRewriting.parseObjectLiteral",x.m.ac),x.b("expressionRewriting.preProcessBindings",x.m.vb),x.b("expressionRewriting._twoWayBindings",x.m.wa),x.b("jsonExpressionRewriting",x.m),x.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",x.m.vb),function(){function e(e){return 8==e.nodeType&&r.test(o?e.text:e.nodeValue)}function t(e){return 8==e.nodeType&&a.test(o?e.text:e.nodeValue)}function n(n,i){for(var o=n,r=1,a=[];o=o.nextSibling;){if(t(o)&&(x.a.g.set(o,c,!0),0==--r))return a;a.push(o),e(o)&&r++}if(!i)throw Error("Cannot find closing comment tag to match: "+n.nodeValue);return null}function i(e,t){var i=n(e,t);return i?0<i.length?i[i.length-1].nextSibling:e.nextSibling:null}var o=l&&"\x3c!--test--\x3e"===l.createComment("test").text,r=o?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,a=o?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,s={ul:!0,ol:!0},c="__ko_matchedEndComment__";x.h={ea:{},childNodes:function(t){return e(t)?n(t):t.childNodes},Ea:function(t){if(e(t))for(var n=0,i=(t=x.h.childNodes(t)).length;n<i;n++)x.removeNode(t[n]);else x.a.Tb(t)},va:function(t,n){if(e(t)){x.h.Ea(t);for(var i=t.nextSibling,o=0,r=n.length;o<r;o++)i.parentNode.insertBefore(n[o],i)}else x.a.va(t,n)},Vc:function(t,n){var i;e(t)?(i=t.nextSibling,t=t.parentNode):i=t.firstChild,i?n!==i&&t.insertBefore(n,i):t.appendChild(n)},Wb:function(t,n,i){i?(i=i.nextSibling,e(t)&&(t=t.parentNode),i?n!==i&&t.insertBefore(n,i):t.appendChild(n)):x.h.Vc(t,n)},firstChild:function(n){if(e(n))return!n.nextSibling||t(n.nextSibling)?null:n.nextSibling;if(n.firstChild&&t(n.firstChild))throw Error("Found invalid end comment, as the first child of "+n);return n.firstChild},nextSibling:function(n){if(e(n)&&(n=i(n)),n.nextSibling&&t(n.nextSibling)){var o=n.nextSibling;if(t(o)&&!x.a.g.get(o,c))throw Error("Found end comment without a matching opening comment, as child of "+n);return null}return n.nextSibling},Cd:e,Vd:function(e){return(e=(o?e.text:e.nodeValue).match(r))?e[1]:null},Sc:function(n){if(s[x.a.R(n)]){var o=n.firstChild;if(o)do{if(1===o.nodeType){var r,a=null;if(r=o.firstChild)do{if(a)a.push(r);else if(e(r)){var l=i(r,!0);l?r=l:a=[r]}else t(r)&&(a=[r])}while(r=r.nextSibling);if(r=a)for(a=o.nextSibling,l=0;l<r.length;l++)a?n.insertBefore(r[l],a):n.appendChild(r[l])}}while(o=o.nextSibling)}}}}(),x.b("virtualElements",x.h),x.b("virtualElements.allowedBindings",x.h.ea),x.b("virtualElements.emptyNode",x.h.Ea),x.b("virtualElements.insertAfter",x.h.Wb),x.b("virtualElements.prepend",x.h.Vc),x.b("virtualElements.setDomNodeChildren",x.h.va),x.ga=function(){this.nd={}},x.a.extend(x.ga.prototype,{nodeHasBindings:function(e){switch(e.nodeType){case 1:return null!=e.getAttribute("data-bind")||x.j.getComponentNameForNode(e);case 8:return x.h.Cd(e);default:return!1}},getBindings:function(e,t){var n=(n=this.getBindingsString(e,t))?this.parseBindingsString(n,t,e):null;return x.j.tc(n,e,t,!1)},getBindingAccessors:function(e,t){var n=(n=this.getBindingsString(e,t))?this.parseBindingsString(n,t,e,{valueAccessors:!0}):null;return x.j.tc(n,e,t,!0)},getBindingsString:function(e){switch(e.nodeType){case 1:return e.getAttribute("data-bind");case 8:return x.h.Vd(e);default:return null}},parseBindingsString:function(e,t,n,i){try{var o,r=this.nd,a=e+(i&&i.valueAccessors||"");if(!(o=r[a])){var s,l="with($context){with($data||{}){return{"+x.m.vb(e,i)+"}}}";s=new Function("$context","$element",l),o=r[a]=s}return o(t,n)}catch(c){throw c.message="Unable to parse bindings.\nBindings value: "+e+"\nMessage: "+c.message,c}}}),x.ga.instance=new x.ga,x.b("bindingProvider",x.ga),function(){function e(e){var t=(e=x.a.g.get(e,w))&&e.N;t&&(e.N=null,t.Tc())}function t(t,n,i){this.node=t,this.yc=n,this.kb=[],this.H=!1,n.N||x.a.K.za(t,e),i&&i.N&&(i.N.kb.push(t),this.Kb=i)}function n(e){return function(){return e}}function i(e){return e()}function o(e){return x.a.Ga(x.u.G(e),(function(t,n){return function(){return e()[n]}}))}function r(e,t,i){return"function"==typeof e?o(e.bind(null,t,i)):x.a.Ga(e,n)}function c(e,t){return o(this.getBindings.bind(this,e,t))}function d(e,t){var n=x.h.firstChild(t);if(n){var i,o=x.ga.instance,r=o.preprocessNode;if(r){for(;i=n;)n=x.h.nextSibling(i),r.call(o,i);n=x.h.firstChild(t)}for(;i=n;)n=x.h.nextSibling(i),p(e,i)}x.i.ma(t,x.i.H)}function p(e,t){var n=e,i=1===t.nodeType;i&&x.h.Sc(t),(i||x.ga.instance.nodeHasBindings(t))&&(n=h(t,null,e).bindingContextForDescendants),n&&!y[x.a.R(t)]&&d(n,t)}function h(e,t,n){var o,r=x.a.g.Ub(e,w,{}),s=r.hd;if(!t){if(s)throw Error("You cannot apply bindings multiple times to the same element.");r.hd=!0}if(s||(r.context=n),r.Zb||(r.Zb={}),t&&"function"!=typeof t)o=t;else{var l=x.ga.instance,u=l.getBindingAccessors||c,d=x.$((function(){return(o=t?t(n,e):u.call(l,e,n))&&(n[m]&&n[m](),n[g]&&n[g]()),o}),null,{l:e});o&&d.ja()||(d=null)}var p,h=n;if(o){var f=function(){return x.a.Ga(d?d():o,i)},v=d?function(e){return function(){return i(d()[e])}}:function(e){return o[e]};f.get=function(e){return o[e]&&i(v(e))},f.has=function(e){return e in o},x.i.H in o&&x.i.subscribe(e,x.i.H,(function(){var t=(0,o[x.i.H])();if(t){var n=x.h.childNodes(e);n.length&&t(n,x.Ec(n[0]))}})),x.i.pa in o&&(h=x.i.Cb(e,n),x.i.subscribe(e,x.i.pa,(function(){var t=(0,o[x.i.pa])();t&&x.h.firstChild(e)&&t(e)}))),r=function(e){var t=[],n={},i=[];return x.a.P(e,(function o(r){if(!n[r]){var a=x.getBindingHandler(r);a&&(a.after&&(i.push(r),x.a.D(a.after,(function(t){if(e[t]){if(-1!==x.a.A(i,t))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+i.join(", "));o(t)}})),i.length--),t.push({key:r,Mc:a})),n[r]=!0}})),t}(o),x.a.D(r,(function(t){var n=t.Mc.init,i=t.Mc.update,r=t.key;if(8===e.nodeType&&!x.h.ea[r])throw Error("The binding '"+r+"' cannot be used with virtual elements");try{"function"==typeof n&&x.u.G((function(){var t=n(e,v(r),f,h.$data,h);if(t&&t.controlsDescendantBindings){if(p!==a)throw Error("Multiple bindings ("+p+" and "+r+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");p=r}})),"function"==typeof i&&x.$((function(){i(e,v(r),f,h.$data,h)}),null,{l:e})}catch(s){throw s.message='Unable to process binding "'+r+": "+o[r]+'"\nMessage: '+s.message,s}}))}return{shouldBindDescendants:r=p===a,bindingContextForDescendants:r&&h}}function f(e,t){return e&&e instanceof x.fa?e:new x.fa(e,a,a,t)}var m=x.a.Da("_subscribable"),v=x.a.Da("_ancestorBindingInfo"),g=x.a.Da("_dataDependency");x.c={};var y={script:!0,textarea:!0,template:!0};x.getBindingHandler=function(e){return x.c[e]};var b={};x.fa=function(e,t,n,i,o){function r(){var e=d?u():u,o=x.a.f(e);return t?(x.a.extend(l,t),v in t&&(l[v]=t[v])):(l.$parents=[],l.$root=o,l.ko=x),l[m]=s,c?o=l.$data:(l.$rawData=e,l.$data=o),n&&(l[n]=o),i&&i(l,t,o),t&&t[m]&&!x.S.o().Vb(t[m])&&t[m](),p&&(l[g]=p),l.$data}var s,l=this,c=e===b,u=c?a:e,d="function"==typeof u&&!x.O(u),p=o&&o.dataDependency;o&&o.exportDependencies?r():((s=x.xb(r)).v(),s.ja()?s.equalityComparer=null:l[m]=a)},x.fa.prototype.createChildContext=function(e,t,n,i){if(!i&&t&&"object"==typeof t&&(t=(i=t).as,n=i.extend),t&&i&&i.noChildContext){var o="function"==typeof e&&!x.O(e);return new x.fa(b,this,null,(function(i){n&&n(i),i[t]=o?e():e}),i)}return new x.fa(e,this,t,(function(e,t){e.$parentContext=t,e.$parent=t.$data,e.$parents=(t.$parents||[]).slice(0),e.$parents.unshift(e.$parent),n&&n(e)}),i)},x.fa.prototype.extend=function(e,t){return new x.fa(b,this,null,(function(t){x.a.extend(t,"function"==typeof e?e(t):e)}),t)};var w=x.a.g.Z();t.prototype.Tc=function(){this.Kb&&this.Kb.N&&this.Kb.N.sd(this.node)},t.prototype.sd=function(e){x.a.Pa(this.kb,e),!this.kb.length&&this.H&&this.Cc()},t.prototype.Cc=function(){this.H=!0,this.yc.N&&!this.kb.length&&(this.yc.N=null,x.a.K.yb(this.node,e),x.i.ma(this.node,x.i.pa),this.Tc())},x.i={H:"childrenComplete",pa:"descendantsComplete",subscribe:function(e,t,n,i,o){var r=x.a.g.Ub(e,w,{});return r.Fa||(r.Fa=new x.T),o&&o.notifyImmediately&&r.Zb[t]&&x.u.G(n,i,[e]),r.Fa.subscribe(n,i,t)},ma:function(e,t){var n=x.a.g.get(e,w);if(n&&(n.Zb[t]=!0,n.Fa&&n.Fa.notifySubscribers(e,t),t==x.i.H))if(n.N)n.N.Cc();else if(n.N===a&&n.Fa&&n.Fa.Wa(x.i.pa))throw Error("descendantsComplete event not supported for bindings on this node")},Cb:function(e,n){var i=x.a.g.Ub(e,w,{});return i.N||(i.N=new t(e,i,n[v])),n[v]==i?n:n.extend((function(e){e[v]=i}))}},x.Td=function(e){return(e=x.a.g.get(e,w))&&e.context},x.ib=function(e,t,n){return 1===e.nodeType&&x.h.Sc(e),h(e,t,f(n))},x.ld=function(e,t,n){return n=f(n),x.ib(e,r(t,n,e),n)},x.Oa=function(e,t){1!==t.nodeType&&8!==t.nodeType||d(f(e),t)},x.vc=function(e,t,n){if(!u&&s.jQuery&&(u=s.jQuery),2>arguments.length){if(!(t=l.body))throw Error("ko.applyBindings: could not find document.body; has the document been loaded?")}else if(!t||1!==t.nodeType&&8!==t.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");p(f(e,n),t)},x.Dc=function(e){return!e||1!==e.nodeType&&8!==e.nodeType?a:x.Td(e)},x.Ec=function(e){return(e=x.Dc(e))?e.$data:a},x.b("bindingHandlers",x.c),x.b("bindingEvent",x.i),x.b("bindingEvent.subscribe",x.i.subscribe),x.b("bindingEvent.startPossiblyAsyncContentBinding",x.i.Cb),x.b("applyBindings",x.vc),x.b("applyBindingsToDescendants",x.Oa),x.b("applyBindingAccessorsToNode",x.ib),x.b("applyBindingsToNode",x.ld),x.b("contextFor",x.Dc),x.b("dataFor",x.Ec)}(),function(e){function t(t,i){var a,s=Object.prototype.hasOwnProperty.call(o,t)?o[t]:e;s?s.subscribe(i):((s=o[t]=new x.T).subscribe(i),n(t,(function(e,n){var i=!(!n||!n.synchronous);r[t]={definition:e,Gd:i},delete o[t],a||i?s.notifySubscribers(e):x.na.zb((function(){s.notifySubscribers(e)}))})),a=!0)}function n(e,t){i("getConfig",[e],(function(n){n?i("loadComponent",[e,n],(function(e){t(e,n)})):t(null,null)}))}function i(t,n,o,r){r||(r=x.j.loaders.slice(0));var a=r.shift();if(a){var s=a[t];if(s){var l=!1;if(s.apply(a,n.concat((function(e){l?o(null):null!==e?o(e):i(t,n,o,r)})))!==e&&(l=!0,!a.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else i(t,n,o,r)}else o(null)}var o={},r={};x.j={get:function(n,i){var o=Object.prototype.hasOwnProperty.call(r,n)?r[n]:e;o?o.Gd?x.u.G((function(){i(o.definition)})):x.na.zb((function(){i(o.definition)})):t(n,i)},Bc:function(e){delete r[e]},oc:i},x.j.loaders=[],x.b("components",x.j),x.b("components.get",x.j.get),x.b("components.clearCachedDefinition",x.j.Bc)}(),function(){function e(e,t,n,i){function r(){0==--s&&i(a)}var a={},s=2,l=n.template;n=n.viewModel,l?o(t,l,(function(t){x.j.oc("loadTemplate",[e,t],(function(e){a.template=e,r()}))})):r(),n?o(t,n,(function(t){x.j.oc("loadViewModel",[e,t],(function(e){a[c]=e,r()}))})):r()}function n(e){switch(x.a.R(e)){case"script":return x.a.ua(e.text);case"textarea":return x.a.ua(e.value);case"template":if(i(e.content))return x.a.Ca(e.content.childNodes)}return x.a.Ca(e.childNodes)}function i(e){return s.DocumentFragment?e instanceof DocumentFragment:e&&11===e.nodeType}function o(e,n,i){"string"==typeof n.require?t||s.require?(t||s.require)([n.require],(function(e){e&&"object"==typeof e&&e.Xd&&e.default&&(e=e.default),i(e)})):e("Uses require, but no AMD loader is present"):i(n)}function r(e){return function(t){throw Error("Component '"+e+"': "+t)}}var a={};x.j.register=function(e,t){if(!t)throw Error("Invalid configuration for "+e);if(x.j.tb(e))throw Error("Component "+e+" is already registered");a[e]=t},x.j.tb=function(e){return Object.prototype.hasOwnProperty.call(a,e)},x.j.unregister=function(e){delete a[e],x.j.Bc(e)},x.j.Fc={getConfig:function(e,t){t(x.j.tb(e)?a[e]:null)},loadComponent:function(t,n,i){var a=r(t);o(a,n,(function(n){e(t,a,n,i)}))},loadTemplate:function(e,t,o){if(e=r(e),"string"==typeof t)o(x.a.ua(t));else if(t instanceof Array)o(t);else if(i(t))o(x.a.la(t.childNodes));else if(t.element)if(t=t.element,s.HTMLElement?t instanceof HTMLElement:t&&t.tagName&&1===t.nodeType)o(n(t));else if("string"==typeof t){var a=l.getElementById(t);a?o(n(a)):e("Cannot find element with ID "+t)}else e("Unknown element type: "+t);else e("Unknown template value: "+t)},loadViewModel:function(e,t,n){!function e(t,n,i){if("function"==typeof n)i((function(e){return new n(e)}));else if("function"==typeof n[c])i(n[c]);else if("instance"in n){var o=n.instance;i((function(){return o}))}else"viewModel"in n?e(t,n.viewModel,i):t("Unknown viewModel value: "+n)}(r(e),t,n)}};var c="createViewModel";x.b("components.register",x.j.register),x.b("components.isRegistered",x.j.tb),x.b("components.unregister",x.j.unregister),x.b("components.defaultLoader",x.j.Fc),x.j.loaders.push(x.j.Fc),x.j.dd=a}(),function(){function e(e,n){if(i=e.getAttribute("params")){var i=t.parseBindingsString(i,n,e,{valueAccessors:!0,bindingParams:!0}),o=(i=x.a.Ga(i,(function(t){return x.o(t,null,{l:e})})),x.a.Ga(i,(function(t){var n=t.v();return t.ja()?x.o({read:function(){return x.a.f(t())},write:x.Za(n)&&function(e){t()(e)},l:e}):n})));return Object.prototype.hasOwnProperty.call(o,"$raw")||(o.$raw=i),o}return{$raw:{}}}x.j.getComponentNameForNode=function(e){var t=x.a.R(e);if(x.j.tb(t)&&(-1!=t.indexOf("-")||"[object HTMLUnknownElement]"==""+e||8>=x.a.W&&e.tagName===t))return t},x.j.tc=function(t,n,i,o){if(1===n.nodeType){var r=x.j.getComponentNameForNode(n);if(r){if((t=t||{}).component)throw Error('Cannot use the "component" binding on a custom element matching a component');var a={name:r,params:e(n,i)};t.component=o?function(){return a}:a}}return t};var t=new x.ga;9>x.a.W&&(x.j.register=function(e){return function(t){return e.apply(this,arguments)}}(x.j.register),l.createDocumentFragment=function(e){return function(){var t,n=e(),i=x.j.dd;for(t in i);return n}}(l.createDocumentFragment))}(),function(){var e=0;x.c.component={init:function(t,n,i,o,r){function a(){var e=s&&s.dispose;"function"==typeof e&&e.call(s),c&&c.s(),l=s=c=null}var s,l,c,u=x.a.la(x.h.childNodes(t));return x.h.Ea(t),x.a.K.za(t,a),x.o((function(){var i,o,d=x.a.f(n());if("string"==typeof d?i=d:(i=x.a.f(d.name),o=x.a.f(d.params)),!i)throw Error("No component name specified");var p=x.i.Cb(t,r),h=l=++e;x.j.get(i,(function(e){if(l===h){if(a(),!e)throw Error("Unknown component '"+i+"'");!function(e,t,n){if(!(t=t.template))throw Error("Component '"+e+"' has no template");e=x.a.Ca(t),x.h.va(n,e)}(i,e,t);var n=function(e,t,n){var i=e.createViewModel;return i?i.call(e,t,n):t}(e,o,{element:t,templateNodes:u});e=p.createChildContext(n,{extend:function(e){e.$component=n,e.$componentTemplateNodes=u}}),n&&n.koDescendantsComplete&&(c=x.i.subscribe(t,x.i.pa,n.koDescendantsComplete,n)),s=n,x.Oa(e,t)}}))}),null,{l:t}),{controlsDescendantBindings:!0}}},x.h.ea.component=!0}();var j={class:"className",for:"htmlFor"};x.c.attr={update:function(e,t){var n=x.a.f(t())||{};x.a.P(n,(function(t,n){n=x.a.f(n);var i=t.indexOf(":"),o=(i="lookupNamespaceURI"in e&&0<i&&e.lookupNamespaceURI(t.substr(0,i)),!1===n||null===n||n===a);o?i?e.removeAttributeNS(i,t):e.removeAttribute(t):n=n.toString(),8>=x.a.W&&t in j?(t=j[t],o?e.removeAttribute(t):e[t]=n):o||(i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)),"name"===t&&x.a.Yc(e,o?"":n)}))}},x.c.checked={after:["value","attr"],init:function(e,t,n){function i(){var i=e.checked,l=o();if(!x.S.Ya()&&(i||!s&&!x.S.qa())){var d=x.u.G(t);if(c){var h=u?d.v():d,f=p;p=l,f!==l?i&&(x.a.Na(h,l,!0),x.a.Na(h,f,!1)):x.a.Na(h,l,i),u&&x.Za(d)&&d(h)}else r&&(l===a?l=i:i||(l=a)),x.m.eb(d,n,"checked",l,!0)}}var o=x.xb((function(){return n.has("checkedValue")?x.a.f(n.get("checkedValue")):d?n.has("value")?x.a.f(n.get("value")):e.value:void 0})),r="checkbox"==e.type,s="radio"==e.type;if(r||s){var l=t(),c=r&&x.a.f(l)instanceof Array,u=!(c&&l.push&&l.splice),d=s||c,p=c?o():a;s&&!e.name&&x.c.uniqueName.init(e,(function(){return!0})),x.o(i,null,{l:e}),x.a.B(e,"click",i),x.o((function(){var n=x.a.f(t()),i=o();c?(e.checked=0<=x.a.A(n,i),p=i):e.checked=r&&i===a?!!n:o()===n}),null,{l:e}),l=a}}},x.m.wa.checked=!0,x.c.checkedValue={update:function(e,t){e.value=x.a.f(t())}},x.c.class={update:function(e,t){var n=x.a.Db(x.a.f(t()));x.a.Eb(e,e.__ko__cssValue,!1),e.__ko__cssValue=n,x.a.Eb(e,n,!0)}},x.c.css={update:function(e,t){var n=x.a.f(t());null!==n&&"object"==typeof n?x.a.P(n,(function(t,n){n=x.a.f(n),x.a.Eb(e,t,n)})):x.c.class.update(e,t)}},x.c.enable={update:function(e,t){var n=x.a.f(t());n&&e.disabled?e.removeAttribute("disabled"):n||e.disabled||(e.disabled=!0)}},x.c.disable={update:function(e,t){x.c.enable.update(e,(function(){return!x.a.f(t())}))}},x.c.event={init:function(e,t,n,i,o){var r=t()||{};x.a.P(r,(function(r){"string"==typeof r&&x.a.B(e,r,(function(e){var a,s=t()[r];if(s){try{var l=x.a.la(arguments);i=o.$data,l.unshift(i),a=s.apply(i,l)}finally{!0!==a&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}!1===n.get(r+"Bubble")&&(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation())}}))}))}},x.c.foreach={Rc:function(e){return function(){var t=e(),n=x.a.bc(t);return n&&"number"!=typeof n.length?(x.a.f(t),{foreach:n.data,as:n.as,noChildContext:n.noChildContext,includeDestroyed:n.includeDestroyed,afterAdd:n.afterAdd,beforeRemove:n.beforeRemove,afterRender:n.afterRender,beforeMove:n.beforeMove,afterMove:n.afterMove,templateEngine:x.ba.Ma}):{foreach:t,templateEngine:x.ba.Ma}}},init:function(e,t){return x.c.template.init(e,x.c.foreach.Rc(t))},update:function(e,t,n,i,o){return x.c.template.update(e,x.c.foreach.Rc(t),n,i,o)}},x.m.Ra.foreach=!1,x.h.ea.foreach=!0,x.c.hasfocus={init:function(e,t,n){function i(i){e.__ko_hasfocusUpdating=!0;var o=e.ownerDocument;if("activeElement"in o){var r;try{r=o.activeElement}catch(a){r=o.body}i=r===e}o=t(),x.m.eb(o,n,"hasfocus",i,!0),e.__ko_hasfocusLastValue=i,e.__ko_hasfocusUpdating=!1}var o=i.bind(null,!0),r=i.bind(null,!1);x.a.B(e,"focus",o),x.a.B(e,"focusin",o),x.a.B(e,"blur",r),x.a.B(e,"focusout",r),e.__ko_hasfocusLastValue=!1},update:function(e,t){var n=!!x.a.f(t());e.__ko_hasfocusUpdating||e.__ko_hasfocusLastValue===n||(n?e.focus():e.blur(),!n&&e.__ko_hasfocusLastValue&&e.ownerDocument.body.focus(),x.u.G(x.a.Fb,null,[e,n?"focusin":"focusout"]))}},x.m.wa.hasfocus=!0,x.c.hasFocus=x.c.hasfocus,x.m.wa.hasFocus="hasfocus",x.c.html={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){x.a.fc(e,t())}},function(){function e(e,t,n){x.c[e]={init:function(e,i,o,r,a){var s,l,c,u,d,p={};if(t){r=o.get("as");var h=o.get("noChildContext");p={as:r,noChildContext:h,exportDependencies:d=!(r&&h)}}return u=(c="render"==o.get("completeOn"))||o.has(x.i.pa),x.o((function(){var o,r=x.a.f(i()),h=!n!=!r,f=!l;(d||h!==s)&&(u&&(a=x.i.Cb(e,a)),h&&(t&&!d||(p.dataDependency=x.S.o()),o=t?a.createChildContext("function"==typeof r?r:i,p):x.S.qa()?a.extend(null,p):a),f&&x.S.qa()&&(l=x.a.Ca(x.h.childNodes(e),!0)),h?(f||x.h.va(e,x.a.Ca(l)),x.Oa(o,e)):(x.h.Ea(e),c||x.i.ma(e,x.i.H)),s=h)}),null,{l:e}),{controlsDescendantBindings:!0}}},x.m.Ra[e]=!1,x.h.ea[e]=!0}e("if"),e("ifnot",!1,!0),e("with",!0)}(),x.c.let={init:function(e,t,n,i,o){return t=o.extend(t),x.Oa(t,e),{controlsDescendantBindings:!0}}},x.h.ea.let=!0;var R={};x.c.options={init:function(e){if("select"!==x.a.R(e))throw Error("options binding applies only to SELECT elements");for(;0<e.length;)e.remove(0);return{controlsDescendantBindings:!0}},update:function(e,t,n){function i(){return x.a.jb(e.options,(function(e){return e.selected}))}function o(e,t,n){var i=typeof t;return"function"==i?t(e):"string"==i?e[t]:n}function r(t,n){if(f&&u)x.i.ma(e,x.i.H);else if(h.length){var i=0<=x.a.A(h,x.w.M(n[0]));x.a.Zc(n[0],i),f&&!i&&x.u.G(x.a.Fb,null,[e,"change"])}}var s=e.multiple,l=0!=e.length&&s?e.scrollTop:null,c=x.a.f(t()),u=n.get("valueAllowUnset")&&n.has("value"),d=n.get("optionsIncludeDestroyed");t={};var p,h=[];u||(s?h=x.a.Mb(i(),x.w.M):0<=e.selectedIndex&&h.push(x.w.M(e.options[e.selectedIndex]))),c&&(void 0===c.length&&(c=[c]),p=x.a.jb(c,(function(e){return d||e===a||null===e||!x.a.f(e._destroy)})),n.has("optionsCaption")&&null!==(c=x.a.f(n.get("optionsCaption")))&&c!==a&&p.unshift(R));var f=!1;t.beforeRemove=function(t){e.removeChild(t)},c=r,n.has("optionsAfterRender")&&"function"==typeof n.get("optionsAfterRender")&&(c=function(e,t){r(0,t),x.u.G(n.get("optionsAfterRender"),null,[t[0],e!==R?e:a])}),x.a.ec(e,p,(function(t,i,r){return r.length&&(h=!u&&r[0].selected?[x.w.M(r[0])]:[],f=!0),i=e.ownerDocument.createElement("option"),t===R?(x.a.Bb(i,n.get("optionsCaption")),x.w.cb(i,a)):(r=o(t,n.get("optionsValue"),t),x.w.cb(i,x.a.f(r)),t=o(t,n.get("optionsText"),r),x.a.Bb(i,t)),[i]}),t,c),u||(s?h.length&&i().length<h.length:h.length&&0<=e.selectedIndex?x.w.M(e.options[e.selectedIndex])!==h[0]:h.length||0<=e.selectedIndex)&&x.u.G(x.a.Fb,null,[e,"change"]),(u||x.S.Ya())&&x.i.ma(e,x.i.H),x.a.wd(e),l&&20<Math.abs(l-e.scrollTop)&&(e.scrollTop=l)}},x.c.options.$b=x.a.g.Z(),x.c.selectedOptions={init:function(e,t,n){function i(){var i=t(),o=[];x.a.D(e.getElementsByTagName("option"),(function(e){e.selected&&o.push(x.w.M(e))})),x.m.eb(i,n,"selectedOptions",o)}function o(){var n=x.a.f(t()),i=e.scrollTop;n&&"number"==typeof n.length&&x.a.D(e.getElementsByTagName("option"),(function(e){var t=0<=x.a.A(n,x.w.M(e));e.selected!=t&&x.a.Zc(e,t)})),e.scrollTop=i}if("select"!=x.a.R(e))throw Error("selectedOptions binding applies only to SELECT elements");var r;x.i.subscribe(e,x.i.H,(function(){r?i():(x.a.B(e,"change",i),r=x.o(o,null,{l:e}))}),null,{notifyImmediately:!0})},update:function(){}},x.m.wa.selectedOptions=!0,x.c.style={update:function(e,t){var n=x.a.f(t()||{});x.a.P(n,(function(t,n){if(null!==(n=x.a.f(n))&&n!==a&&!1!==n||(n=""),u)u(e).css(t,n);else if(/^--/.test(t))e.style.setProperty(t,n);else{t=t.replace(/-(\w)/g,(function(e,t){return t.toUpperCase()}));var i=e.style[t];e.style[t]=n,n===i||e.style[t]!=i||isNaN(n)||(e.style[t]=n+"px")}}))}},x.c.submit={init:function(e,t,n,i,o){if("function"!=typeof t())throw Error("The value for a submit binding must be a function");x.a.B(e,"submit",(function(n){var i,r=t();try{i=r.call(o.$data,e)}finally{!0!==i&&(n.preventDefault?n.preventDefault():n.returnValue=!1)}}))}},x.c.text={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){x.a.Bb(e,t())}},x.h.ea.text=!0,function(){if(s&&s.navigator){var e,t,n,i,o,r=function(e){if(e)return parseFloat(e[1])},l=s.navigator.userAgent;(e=s.opera&&s.opera.version&&parseInt(s.opera.version()))||(o=r(l.match(/Edge\/([^ ]+)$/)))||r(l.match(/Chrome\/([^ ]+)/))||(t=r(l.match(/Version\/([^ ]+) Safari/)))||(n=r(l.match(/Firefox\/([^ ]+)/)))||(i=x.a.W||r(l.match(/MSIE ([^ ]+)/)))||(i=r(l.match(/rv:([^ )]+)/)))}if(8<=i&&10>i)var c=x.a.g.Z(),u=x.a.g.Z(),d=function(e){var t=this.activeElement;(t=t&&x.a.g.get(t,u))&&t(e)},p=function(e,t){var n=e.ownerDocument;x.a.g.get(n,c)||(x.a.g.set(n,c,!0),x.a.B(n,"selectionchange",d)),x.a.g.set(e,u,t)};x.c.textInput={init:function(r,s,l){function c(e,t){x.a.B(r,e,t)}function u(){h||(f=r.value,h=x.a.setTimeout(d,4))}function d(){clearTimeout(h),f=h=a;var e=r.value;m!==e&&(m=e,x.m.eb(s(),l,"textInput",e))}var h,f,m=r.value,v=9==x.a.W?u:d,g=!1;i&&c("keypress",d),11>i&&c("propertychange",(function(e){g||"value"!==e.propertyName||v(e)})),8==i&&(c("keyup",d),c("keydown",d)),p&&(p(r,v),c("dragend",u)),(!i||9<=i)&&c("input",v),5>t&&"textarea"===x.a.R(r)?(c("keydown",u),c("paste",u),c("cut",u)):11>e?c("keydown",u):4>n?(c("DOMAutoComplete",d),c("dragdrop",d),c("drop",d)):o&&"number"===r.type&&c("keydown",u),c("change",d),c("blur",d),x.o((function e(){var t=x.a.f(s());null!==t&&t!==a||(t=""),f!==a&&t===f?x.a.setTimeout(e,4):r.value!==t&&(g=!0,r.value=t,g=!1,m=r.value)}),null,{l:r})}},x.m.wa.textInput=!0,x.c.textinput={preprocess:function(e,t,n){n("textInput",e)}}}(),x.c.uniqueName={init:function(e,t){if(t()){var n="ko_unique_"+ ++x.c.uniqueName.rd;x.a.Yc(e,n)}}},x.c.uniqueName.rd=0,x.c.using={init:function(e,t,n,i,o){var r;return n.has("as")&&(r={as:n.get("as"),noChildContext:n.get("noChildContext")}),t=o.createChildContext(t,r),x.Oa(t,e),{controlsDescendantBindings:!0}}},x.h.ea.using=!0,x.c.value={init:function(e,t,n){var i=x.a.R(e),o="input"==i;if(!o||"checkbox"!=e.type&&"radio"!=e.type){var r=[],s=n.get("valueUpdate"),l=!1,c=null;s&&(r="string"==typeof s?[s]:x.a.wc(s),x.a.Pa(r,"change"));var u,d,p=function(){c=null,l=!1;var i=t(),o=x.w.M(e);x.m.eb(i,n,"value",o)};!x.a.W||!o||"text"!=e.type||"off"==e.autocomplete||e.form&&"off"==e.form.autocomplete||-1!=x.a.A(r,"propertychange")||(x.a.B(e,"propertychange",(function(){l=!0})),x.a.B(e,"focus",(function(){l=!1})),x.a.B(e,"blur",(function(){l&&p()}))),x.a.D(r,(function(t){var n=p;x.a.Ud(t,"after")&&(n=function(){c=x.w.M(e),x.a.setTimeout(p,0)},t=t.substring(5)),x.a.B(e,t,n)})),u=o&&"file"==e.type?function(){var n=x.a.f(t());null===n||n===a||""===n?e.value="":x.u.G(p)}:function(){var o=x.a.f(t()),r=x.w.M(e);null!==c&&o===c?x.a.setTimeout(u,0):o===r&&r!==a||("select"===i?(r=n.get("valueAllowUnset"),x.w.cb(e,o,r),r||o===x.w.M(e)||x.u.G(p)):x.w.cb(e,o))},"select"===i?x.i.subscribe(e,x.i.H,(function(){d?n.get("valueAllowUnset")?u():p():(x.a.B(e,"change",p),d=x.o(u,null,{l:e}))}),null,{notifyImmediately:!0}):(x.a.B(e,"change",p),x.o(u,null,{l:e}))}else x.ib(e,{checkedValue:t})},update:function(){}},x.m.wa.value=!0,x.c.visible={update:function(e,t){var n=x.a.f(t()),i="none"!=e.style.display;n&&!i?e.style.display="":!n&&i&&(e.style.display="none")}},x.c.hidden={update:function(e,t){x.c.visible.update(e,(function(){return!x.a.f(t())}))}},function(e){x.c[e]={init:function(t,n,i,o,r){return x.c.event.init.call(this,t,(function(){var t={};return t[e]=n(),t}),i,o,r)}}}("click"),x.ca=function(){},x.ca.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")},x.ca.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")},x.ca.prototype.makeTemplateSource=function(e,t){if("string"==typeof e){var n=(t=t||l).getElementById(e);if(!n)throw Error("Cannot find template with ID "+e);return new x.C.F(n)}if(1==e.nodeType||8==e.nodeType)return new x.C.ia(e);throw Error("Unknown template type: "+e)},x.ca.prototype.renderTemplate=function(e,t,n,i){return e=this.makeTemplateSource(e,i),this.renderTemplateSource(e,t,n,i)},x.ca.prototype.isTemplateRewritten=function(e,t){return!1===this.allowTemplateRewriting||this.makeTemplateSource(e,t).data("isRewritten")},x.ca.prototype.rewriteTemplate=function(e,t,n){t=t((e=this.makeTemplateSource(e,n)).text()),e.text(t),e.data("isRewritten",!0)},x.b("templateEngine",x.ca),x.kc=function(){function e(e,t,n,i){e=x.m.ac(e);for(var o=x.m.Ra,r=0;r<e.length;r++){var a=e[r].key;if(Object.prototype.hasOwnProperty.call(o,a)){var s=o[a];if("function"==typeof s){if(a=s(e[r].value))throw Error(a)}else if(!s)throw Error("This template engine does not support the '"+a+"' binding within its templates")}}return n="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+x.m.vb(e,{valueAccessors:!0})+" } })()},'"+n.toLowerCase()+"')",i.createJavaScriptEvaluatorBlock(n)+t}var t=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,n=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{xd:function(e,t,n){t.isTemplateRewritten(e,n)||t.rewriteTemplate(e,(function(e){return x.kc.Ld(e,t)}),n)},Ld:function(i,o){return i.replace(t,(function(t,n,i,r,a){return e(a,n,i,o)})).replace(n,(function(t,n){return e(n,"\x3c!-- ko --\x3e","#comment",o)}))},md:function(e,t){return x.aa.Xb((function(n,i){var o=n.nextSibling;o&&o.nodeName.toLowerCase()===t&&x.ib(o,e,i)}))}}}(),x.b("__tr_ambtns",x.kc.md),function(){x.C={},x.C.F=function(e){if(this.F=e){var t=x.a.R(e);this.ab="script"===t?1:"textarea"===t?2:"template"==t&&e.content&&11===e.content.nodeType?3:4}},x.C.F.prototype.text=function(){var e=1===this.ab?"text":2===this.ab?"value":"innerHTML";if(0==arguments.length)return this.F[e];var t=arguments[0];"innerHTML"===e?x.a.fc(this.F,t):this.F[e]=t};var e=x.a.g.Z()+"_";x.C.F.prototype.data=function(t){if(1===arguments.length)return x.a.g.get(this.F,e+t);x.a.g.set(this.F,e+t,arguments[1])};var t=x.a.g.Z();x.C.F.prototype.nodes=function(){var e=this.F;if(0==arguments.length){var n=x.a.g.get(e,t)||{},i=n.lb||(3===this.ab?e.content:4===this.ab?e:a);if(!i||n.jd){var o=this.text();o&&o!==n.bb&&(i=x.a.Md(o,e.ownerDocument),x.a.g.set(e,t,{lb:i,bb:o,jd:!0}))}return i}n=arguments[0],this.ab!==a&&this.text(""),x.a.g.set(e,t,{lb:n})},x.C.ia=function(e){this.F=e},x.C.ia.prototype=new x.C.F,x.C.ia.prototype.constructor=x.C.ia,x.C.ia.prototype.text=function(){if(0==arguments.length){var e=x.a.g.get(this.F,t)||{};return e.bb===a&&e.lb&&(e.bb=e.lb.innerHTML),e.bb}x.a.g.set(this.F,t,{bb:arguments[0]})},x.b("templateSources",x.C),x.b("templateSources.domElement",x.C.F),x.b("templateSources.anonymousTemplate",x.C.ia)}(),function(){function e(e,t,n){var i;for(t=x.h.nextSibling(t);e&&(i=e)!==t;)n(i,e=x.h.nextSibling(i))}function t(t,n){if(t.length){var i=t[0],o=t[t.length-1],r=i.parentNode,a=x.ga.instance,s=a.preprocessNode;if(s){if(e(i,o,(function(e,t){var n=e.previousSibling,r=s.call(a,e);r&&(e===i&&(i=r[0]||t),e===o&&(o=r[r.length-1]||n))})),t.length=0,!i)return;i===o?t.push(i):(t.push(i,o),x.a.Ua(t,r))}e(i,o,(function(e){1!==e.nodeType&&8!==e.nodeType||x.vc(n,e)})),e(i,o,(function(e){1!==e.nodeType&&8!==e.nodeType||x.aa.cd(e,[n])})),x.a.Ua(t,r)}}function n(e){return e.nodeType?e:0<e.length?e[0]:null}function i(e,i,o,a,s){s=s||{};var l=(e&&n(e)||o||{}).ownerDocument,c=s.templateEngine||r;if(x.kc.xd(o,c,l),"number"!=typeof(o=c.renderTemplate(o,a,s,l)).length||0<o.length&&"number"!=typeof o[0].nodeType)throw Error("Template engine must return an array of DOM nodes");switch(l=!1,i){case"replaceChildren":x.h.va(e,o),l=!0;break;case"replaceNode":x.a.Xc(e,o),l=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+i)}return l&&(t(o,a),s.afterRender&&x.u.G(s.afterRender,null,[o,a[s.as||"$data"]]),"replaceChildren"==i&&x.i.ma(e,x.i.H)),o}function o(e,t,n){return x.O(e)?e():"function"==typeof e?e(t,n):e}var r;x.gc=function(e){if(e!=a&&!(e instanceof x.ca))throw Error("templateEngine must inherit from ko.templateEngine");r=e},x.dc=function(e,t,s,l,c){if(((s=s||{}).templateEngine||r)==a)throw Error("Set a template engine before calling renderTemplate");if(c=c||"replaceChildren",l){var u=n(l);return x.$((function(){var r=t&&t instanceof x.fa?t:new x.fa(t,null,null,null,{exportDependencies:!0}),a=o(e,r.$data,r);r=i(l,c,a,r,s),"replaceNode"==c&&(u=n(l=r))}),null,{Sa:function(){return!u||!x.a.Sb(u)},l:u&&"replaceNode"==c?u.parentNode:u})}return x.aa.Xb((function(n){x.dc(e,t,s,n,"replaceNode")}))},x.Qd=function(e,n,r,s,l){function c(e,t){x.u.G(x.a.ec,null,[s,e,d,r,u,t]),x.i.ma(s,x.i.H)}function u(e,n){t(n,p),r.afterRender&&r.afterRender(n,e),p=null}function d(t,n){p=l.createChildContext(t,{as:h,noChildContext:r.noChildContext,extend:function(e){e.$index=n,h&&(e[h+"Index"]=n)}});var a=o(e,t,p);return i(s,"ignoreTargetNode",a,p,r)}var p,h=r.as,f=!1===r.includeDestroyed||x.options.foreachHidesDestroyed&&!r.includeDestroyed;if(f||r.beforeRemove||!x.Pc(n))return x.$((function(){var e=x.a.f(n)||[];void 0===e.length&&(e=[e]),f&&(e=x.a.jb(e,(function(e){return e===a||null===e||!x.a.f(e._destroy)}))),c(e)}),null,{l:s});c(n.v());var m=n.subscribe((function(e){c(n(),e)}),null,"arrayChange");return m.l(s),m};var s=x.a.g.Z(),l=x.a.g.Z();x.c.template={init:function(e,t){var n=x.a.f(t());if("string"==typeof n||"name"in n)x.h.Ea(e);else if("nodes"in n){if(n=n.nodes||[],x.O(n))throw Error('The "nodes" option must be a plain, non-observable array.');var i=n[0]&&n[0].parentNode;i&&x.a.g.get(i,l)||(i=x.a.Yb(n),x.a.g.set(i,l,!0)),new x.C.ia(e).nodes(i)}else{if(!(0<(n=x.h.childNodes(e)).length))throw Error("Anonymous template defined, but no template content was provided");i=x.a.Yb(n),new x.C.ia(e).nodes(i)}return{controlsDescendantBindings:!0}},update:function(e,t,n,i,o){var r=t();n=!0,i=null,"string"==typeof(t=x.a.f(r))?t={}:(r="name"in t?t.name:e,"if"in t&&(n=x.a.f(t.if)),n&&"ifnot"in t&&(n=!x.a.f(t.ifnot)),n&&!r&&(n=!1)),"foreach"in t?i=x.Qd(r,n&&t.foreach||[],t,e,o):n?(n=o,"data"in t&&(n=o.createChildContext(t.data,{as:t.as,noChildContext:t.noChildContext,exportDependencies:!0})),i=x.dc(r,n,t,e)):x.h.Ea(e),o=i,(t=x.a.g.get(e,s))&&"function"==typeof t.s&&t.s(),x.a.g.set(e,s,!o||o.ja&&!o.ja()?a:o)}},x.m.Ra.template=function(e){return 1==(e=x.m.ac(e)).length&&e[0].unknown||x.m.Id(e,"name")?null:"This template engine does not support anonymous templates nested within its templates"},x.h.ea.template=!0}(),x.b("setTemplateEngine",x.gc),x.b("renderTemplate",x.dc),x.a.Kc=function(e,t,n){var i,o,r,a,s;if(e.length&&t.length)for(i=o=0;(!n||i<n)&&(a=e[o]);++o){for(r=0;s=t[r];++r)if(a.value===s.value){a.moved=s.index,s.moved=a.index,t.splice(r,1),i=r=0;break}i+=r}},x.a.Pb=function(){function e(e,t,n,i,o){var r,a,s,l,c,u=Math.min,d=Math.max,p=[],h=e.length,f=t.length,m=f-h||1,v=h+f+1;for(r=0;r<=h;r++)for(l=s,p.push(s=[]),c=u(f,r+m),a=d(0,r-1);a<=c;a++)s[a]=a?r?e[r-1]===t[a-1]?l[a-1]:u(l[a]||v,s[a-1]||v)+1:a+1:r+1;for(u=[],d=[],m=[],r=h,a=f;r||a;)f=p[r][a]-1,a&&f===p[r][a-1]?d.push(u[u.length]={status:n,value:t[--a],index:a}):r&&f===p[r-1][a]?m.push(u[u.length]={status:i,value:e[--r],index:r}):(--a,--r,o.sparse||u.push({status:"retained",value:t[a]}));return x.a.Kc(m,d,!o.dontLimitMoves&&10*h),u.reverse()}return function(t,n,i){return i="boolean"==typeof i?{dontLimitMoves:i}:i||{},n=n||[],(t=t||[]).length<n.length?e(t,n,"added","deleted",i):e(n,t,"deleted","added",i)}}(),x.b("utils.compareArrays",x.a.Pb),function(){function e(e,t,n,i,o){var r=[],s=x.$((function(){var a=t(n,o,x.a.Ua(r,e))||[];0<r.length&&(x.a.Xc(r,a),i&&x.u.G(i,null,[n,a,o])),r.length=0,x.a.Nb(r,a)}),null,{l:e,Sa:function(){return!x.a.kd(r)}});return{Y:r,$:s.ja()?s:a}}var t=x.a.g.Z(),n=x.a.g.Z();x.a.ec=function(i,o,r,s,l,c){function u(e){h={Aa:e,pb:x.ta(S++)},b.push(h),y||O.push(h)}function d(e){h=g[e],S!==h.pb.v()&&_.push(h),h.pb(S++),x.a.Ua(h.Y,i),b.push(h)}function p(e,t){if(e)for(var n=0,i=t.length;n<i;n++)x.a.D(t[n].Y,(function(i){e(i,n,t[n].Aa)}))}void 0===(o=o||[]).length&&(o=[o]),s=s||{};var h,f,m,v,g=x.a.g.get(i,t),y=!g,b=[],w=0,S=0,k=[],C=[],M=[],_=[],O=[],P=0;if(y)x.a.D(o,u);else{if(!c||g&&g._countWaitingForRemove){var E=x.a.Mb(g,(function(e){return e.Aa}));c=x.a.Pb(E,o,{dontLimitMoves:s.dontLimitMoves,sparse:!0})}var j,R,N;for(E=0;j=c[E];E++)switch(R=j.moved,N=j.index,j.status){case"deleted":for(;w<N;)d(w++);R===a&&((h=g[w]).$&&(h.$.s(),h.$=a),x.a.Ua(h.Y,i).length&&(s.beforeRemove&&(b.push(h),P++,h.Aa===n?h=null:M.push(h)),h&&k.push.apply(k,h.Y))),w++;break;case"added":for(;S<N;)d(w++);R!==a?(C.push(b.length),d(R)):u(j.value)}for(;S<o.length;)d(w++);b._countWaitingForRemove=P}x.a.g.set(i,t,b),p(s.beforeMove,_),x.a.D(k,s.beforeRemove?x.oa:x.removeNode);try{v=i.ownerDocument.activeElement}catch(T){}if(C.length)for(;(E=C.shift())!=a;){for(h=b[E],f=a;E;)if((m=b[--E].Y)&&m.length){f=m[m.length-1];break}for(o=0;w=h.Y[o];f=w,o++)x.h.Wb(i,w,f)}for(E=0;h=b[E];E++){for(h.Y||x.a.extend(h,e(i,r,h.Aa,l,h.pb)),o=0;w=h.Y[o];f=w,o++)x.h.Wb(i,w,f);!h.Ed&&l&&(l(h.Aa,h.Y,h.pb),h.Ed=!0,f=h.Y[h.Y.length-1])}for(v&&i.ownerDocument.activeElement!=v&&v.focus(),p(s.beforeRemove,M),E=0;E<M.length;++E)M[E].Aa=n;p(s.afterMove,_),p(s.afterAdd,O)}}(),x.b("utils.setDomNodeChildrenFromArrayMapping",x.a.ec),x.ba=function(){this.allowTemplateRewriting=!1},x.ba.prototype=new x.ca,x.ba.prototype.constructor=x.ba,x.ba.prototype.renderTemplateSource=function(e,t,n,i){return(t=9>x.a.W||!e.nodes?null:e.nodes())?x.a.la(t.cloneNode(!0).childNodes):(e=e.text(),x.a.ua(e,i))},x.ba.Ma=new x.ba,x.gc(x.ba.Ma),x.b("nativeTemplateEngine",x.ba),function(){x.$a=function(){var e=this.Hd=function(){if(!u||!u.tmpl)return 0;try{if(0<=u.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(e){}return 1}();this.renderTemplateSource=function(t,n,i,o){if(o=o||l,i=i||{},2>e)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var r=t.data("precompiled");return r||(r=t.text()||"",r=u.template(null,"{{ko_with $item.koBindingContext}}"+r+"{{/ko_with}}"),t.data("precompiled",r)),t=[n.$data],n=u.extend({koBindingContext:n},i.templateOptions),(n=u.tmpl(r,t,n)).appendTo(o.createElement("div")),u.fragments={},n},this.createJavaScriptEvaluatorBlock=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"},this.addTemplate=function(e,t){l.write("<script type='text/html' id='"+e+"'>"+t+"<\/script>")},0<e&&(u.tmpl.tag.ko_code={open:"__.push($1 || '');"},u.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},x.$a.prototype=new x.ca,x.$a.prototype.constructor=x.$a;var e=new x.$a;0<e.Hd&&x.gc(e),x.b("jqueryTmplTemplateEngine",x.$a)}()}))}()},function(e,t,n){"use strict";function i(e){this.content=e}n.r(t),n.d(t,"ContentMatch",(function(){return R})),n.d(t,"DOMParser",(function(){return Z})),n.d(t,"DOMSerializer",(function(){return de})),n.d(t,"Fragment",(function(){return r})),n.d(t,"Mark",(function(){return u})),n.d(t,"MarkType",(function(){return X})),n.d(t,"Node",(function(){return P})),n.d(t,"NodeRange",(function(){return M})),n.d(t,"NodeType",(function(){return K})),n.d(t,"ReplaceError",(function(){return d})),n.d(t,"ResolvedPos",(function(){return x})),n.d(t,"Schema",(function(){return J})),n.d(t,"Slice",(function(){return p})),i.prototype={constructor:i,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return-1==t?void 0:this.content[t+1]},update:function(e,t,n){var o=n&&n!=e?this.remove(n):this,r=o.find(e),a=o.content.slice();return-1==r?a.push(n||e,t):(a[r+1]=t,n&&(a[r]=n)),new i(a)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new i(n)},addToStart:function(e,t){return new i([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new i(n)},addBefore:function(e,t,n){var o=this.remove(t),r=o.content.slice(),a=o.find(e);return r.splice(-1==a?r.length:a,0,t,n),new i(r)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return(e=i.from(e)).size?new i(e.content.concat(this.subtract(e).content)):this},append:function(e){return(e=i.from(e)).size?new i(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=i.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},get size(){return this.content.length>>1}},i.from=function(e){if(e instanceof i)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new i(t)};var o=i,r=function(e,t){if(this.content=e,this.size=t||0,null==t)for(var n=0;n<e.length;n++)this.size+=e[n].nodeSize},a={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};r.prototype.nodesBetween=function(e,t,n,i,o){void 0===i&&(i=0);for(var r=0,a=0;a<t;r++){var s=this.content[r],l=a+s.nodeSize;if(l>e&&!1!==n(s,i+a,o,r)&&s.content.size){var c=a+1;s.nodesBetween(Math.max(0,e-c),Math.min(s.content.size,t-c),n,i+c)}a=l}},r.prototype.descendants=function(e){this.nodesBetween(0,this.size,e)},r.prototype.textBetween=function(e,t,n,i){var o="",r=!0;return this.nodesBetween(e,t,(function(a,s){a.isText?(o+=a.text.slice(Math.max(e,s)-s,t-s),r=!n):a.isLeaf&&i?(o+=i,r=!n):!r&&a.isBlock&&(o+=n,r=!0)}),0),o},r.prototype.append=function(e){if(!e.size)return this;if(!this.size)return e;var t=this.lastChild,n=e.firstChild,i=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(n)&&(i[i.length-1]=t.withText(t.text+n.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new r(i,this.size+e.size)},r.prototype.cut=function(e,t){if(null==t&&(t=this.size),0==e&&t==this.size)return this;var n=[],i=0;if(t>e)for(var o=0,a=0;a<t;o++){var s=this.content[o],l=a+s.nodeSize;l>e&&((a<e||l>t)&&(s=s.isText?s.cut(Math.max(0,e-a),Math.min(s.text.length,t-a)):s.cut(Math.max(0,e-a-1),Math.min(s.content.size,t-a-1))),n.push(s),i+=s.nodeSize),a=l}return new r(n,i)},r.prototype.cutByIndex=function(e,t){return e==t?r.empty:0==e&&t==this.content.length?this:new r(this.content.slice(e,t))},r.prototype.replaceChild=function(e,t){var n=this.content[e];if(n==t)return this;var i=this.content.slice(),o=this.size+t.nodeSize-n.nodeSize;return i[e]=t,new r(i,o)},r.prototype.addToStart=function(e){return new r([e].concat(this.content),this.size+e.nodeSize)},r.prototype.addToEnd=function(e){return new r(this.content.concat(e),this.size+e.nodeSize)},r.prototype.eq=function(e){if(this.content.length!=e.content.length)return!1;for(var t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0},a.firstChild.get=function(){return this.content.length?this.content[0]:null},a.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},a.childCount.get=function(){return this.content.length},r.prototype.child=function(e){var t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t},r.prototype.maybeChild=function(e){return this.content[e]},r.prototype.forEach=function(e){for(var t=0,n=0;t<this.content.length;t++){var i=this.content[t];e(i,n,t),n+=i.nodeSize}},r.prototype.findDiffStart=function(e,t){return void 0===t&&(t=0),function e(t,n,i){for(var o=0;;o++){if(o==t.childCount||o==n.childCount)return t.childCount==n.childCount?null:i;var r=t.child(o),a=n.child(o);if(r!=a){if(!r.sameMarkup(a))return i;if(r.isText&&r.text!=a.text){for(var s=0;r.text[s]==a.text[s];s++)i++;return i}if(r.content.size||a.content.size){var l=e(r.content,a.content,i+1);if(null!=l)return l}i+=r.nodeSize}else i+=r.nodeSize}}(this,e,t)},r.prototype.findDiffEnd=function(e,t,n){return void 0===t&&(t=this.size),void 0===n&&(n=e.size),function e(t,n,i,o){for(var r=t.childCount,a=n.childCount;;){if(0==r||0==a)return r==a?null:{a:i,b:o};var s=t.child(--r),l=n.child(--a),c=s.nodeSize;if(s!=l){if(!s.sameMarkup(l))return{a:i,b:o};if(s.isText&&s.text!=l.text){for(var u=0,d=Math.min(s.text.length,l.text.length);u<d&&s.text[s.text.length-u-1]==l.text[l.text.length-u-1];)u++,i--,o--;return{a:i,b:o}}if(s.content.size||l.content.size){var p=e(s.content,l.content,i-1,o-1);if(p)return p}i-=c,o-=c}else i-=c,o-=c}}(this,e,t,n)},r.prototype.findIndex=function(e,t){if(void 0===t&&(t=-1),0==e)return l(0,e);if(e==this.size)return l(this.content.length,e);if(e>this.size||e<0)throw new RangeError("Position "+e+" outside of fragment ("+this+")");for(var n=0,i=0;;n++){var o=i+this.child(n).nodeSize;if(o>=e)return o==e||t>0?l(n+1,o):l(n,i);i=o}},r.prototype.toString=function(){return"<"+this.toStringInner()+">"},r.prototype.toStringInner=function(){return this.content.join(", ")},r.prototype.toJSON=function(){return this.content.length?this.content.map((function(e){return e.toJSON()})):null},r.fromJSON=function(e,t){if(!t)return r.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new r(t.map(e.nodeFromJSON))},r.fromArray=function(e){if(!e.length)return r.empty;for(var t,n=0,i=0;i<e.length;i++){var o=e[i];n+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(t||(t=e.slice(0,i)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new r(t||e,n)},r.from=function(e){if(!e)return r.empty;if(e instanceof r)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new r([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))},Object.defineProperties(r.prototype,a);var s={index:0,offset:0};function l(e,t){return s.index=e,s.offset=t,s}function c(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;var n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(var i=0;i<e.length;i++)if(!c(e[i],t[i]))return!1}else{for(var o in e)if(!(o in t)||!c(e[o],t[o]))return!1;for(var r in t)if(!(r in e))return!1}return!0}r.empty=new r([],0);var u=function(e,t){this.type=e,this.attrs=t};function d(e){var t=Error.call(this,e);return t.__proto__=d.prototype,t}u.prototype.addToSet=function(e){for(var t,n=!1,i=0;i<e.length;i++){var o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!n&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),n=!0),t&&t.push(o)}}return t||(t=e.slice()),n||t.push(this),t},u.prototype.removeFromSet=function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e},u.prototype.isInSet=function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1},u.prototype.eq=function(e){return this==e||this.type==e.type&&c(this.attrs,e.attrs)},u.prototype.toJSON=function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return e},u.fromJSON=function(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");var n=e.marks[t.type];if(!n)throw new RangeError("There is no mark type "+t.type+" in this schema");return n.create(t.attrs)},u.sameSet=function(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0},u.setFrom=function(e){if(!e||0==e.length)return u.none;if(e instanceof u)return[e];var t=e.slice();return t.sort((function(e,t){return e.type.rank-t.type.rank})),t},u.none=[],d.prototype=Object.create(Error.prototype),d.prototype.constructor=d,d.prototype.name="ReplaceError";var p=function(e,t,n){this.content=e,this.openStart=t,this.openEnd=n},h={size:{configurable:!0}};function f(e,t){if(!t.type.compatibleContent(e.type))throw new d("Cannot join "+t.type.name+" onto "+e.type.name)}function m(e,t,n){var i=e.node(n);return f(i,t.node(n)),i}function v(e,t){var n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function g(e,t,n,i){var o=(t||e).node(n),r=0,a=t?t.index(n):o.childCount;e&&(r=e.index(n),e.depth>n?r++:e.textOffset&&(v(e.nodeAfter,i),r++));for(var s=r;s<a;s++)v(o.child(s),i);t&&t.depth==n&&t.textOffset&&v(t.nodeBefore,i)}function y(e,t){if(!e.type.validContent(t))throw new d("Invalid content for node "+e.type.name);return e.copy(t)}function b(e,t,n){var i=[];return g(null,e,n,i),e.depth>n&&v(y(m(e,t,n+1),b(e,t,n+1)),i),g(t,null,n,i),new r(i)}h.size.get=function(){return this.content.size-this.openStart-this.openEnd},p.prototype.insertAt=function(e,t){var n=function e(t,n,i,o){var r=t.findIndex(n),a=r.index,s=r.offset,l=t.maybeChild(a);if(s==n||l.isText)return o&&!o.canReplace(a,a,i)?null:t.cut(0,n).append(i).append(t.cut(n));var c=e(l.content,n-s-1,i);return c&&t.replaceChild(a,l.copy(c))}(this.content,e+this.openStart,t,null);return n&&new p(n,this.openStart,this.openEnd)},p.prototype.removeBetween=function(e,t){return new p(function e(t,n,i){var o=t.findIndex(n),r=o.index,a=o.offset,s=t.maybeChild(r),l=t.findIndex(i),c=l.index,u=l.offset;if(a==n||s.isText){if(u!=i&&!t.child(c).isText)throw new RangeError("Removing non-flat range");return t.cut(0,n).append(t.cut(i))}if(r!=c)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(e(s.content,n-a-1,i-a-1)))}(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)},p.prototype.eq=function(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd},p.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},p.prototype.toJSON=function(){if(!this.content.size)return null;var e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e},p.fromJSON=function(e,t){if(!t)return p.empty;var n=t.openStart||0,i=t.openEnd||0;if("number"!=typeof n||"number"!=typeof i)throw new RangeError("Invalid input for Slice.fromJSON");return new p(r.fromJSON(e,t.content),n,i)},p.maxOpen=function(e,t){void 0===t&&(t=!0);for(var n=0,i=0,o=e.firstChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.firstChild)n++;for(var r=e.lastChild;r&&!r.isLeaf&&(t||!r.type.spec.isolating);r=r.lastChild)i++;return new p(e,n,i)},Object.defineProperties(p.prototype,h),p.empty=new p(r.empty,0,0);var x=function(e,t,n){this.pos=e,this.path=t,this.depth=t.length/3-1,this.parentOffset=n},w={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};x.prototype.resolveDepth=function(e){return null==e?this.depth:e<0?this.depth+e:e},w.parent.get=function(){return this.node(this.depth)},w.doc.get=function(){return this.node(0)},x.prototype.node=function(e){return this.path[3*this.resolveDepth(e)]},x.prototype.index=function(e){return this.path[3*this.resolveDepth(e)+1]},x.prototype.indexAfter=function(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)},x.prototype.start=function(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1},x.prototype.end=function(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size},x.prototype.before=function(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]},x.prototype.after=function(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize},w.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},w.nodeAfter.get=function(){var e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;var n=this.pos-this.path[this.path.length-1],i=e.child(t);return n?e.child(t).cut(n):i},w.nodeBefore.get=function(){var e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)},x.prototype.posAtIndex=function(e,t){t=this.resolveDepth(t);for(var n=this.path[3*t],i=0==t?0:this.path[3*t-1]+1,o=0;o<e;o++)i+=n.child(o).nodeSize;return i},x.prototype.marks=function(){var e=this.parent,t=this.index();if(0==e.content.size)return u.none;if(this.textOffset)return e.child(t).marks;var n=e.maybeChild(t-1),i=e.maybeChild(t);if(!n){var o=n;n=i,i=o}for(var r=n.marks,a=0;a<r.length;a++)!1!==r[a].type.spec.inclusive||i&&r[a].isInSet(i.marks)||(r=r[a--].removeFromSet(r));return r},x.prototype.marksAcross=function(e){var t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;for(var n=t.marks,i=e.parent.maybeChild(e.index()),o=0;o<n.length;o++)!1!==n[o].type.spec.inclusive||i&&n[o].isInSet(i.marks)||(n=n[o--].removeFromSet(n));return n},x.prototype.sharedDepth=function(e){for(var t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0},x.prototype.blockRange=function(e,t){if(void 0===e&&(e=this),e.pos<this.pos)return e.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new M(this,e,n)},x.prototype.sameParent=function(e){return this.pos-this.parentOffset==e.pos-e.parentOffset},x.prototype.max=function(e){return e.pos>this.pos?e:this},x.prototype.min=function(e){return e.pos<this.pos?e:this},x.prototype.toString=function(){for(var e="",t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset},x.resolve=function(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");for(var n=[],i=0,o=t,r=e;;){var a=r.content.findIndex(o),s=a.index,l=a.offset,c=o-l;if(n.push(r,s,i+l),!c)break;if((r=r.child(s)).isText)break;o=c-1,i+=l+1}return new x(t,n,o)},x.resolveCached=function(e,t){for(var n=0;n<S.length;n++){var i=S[n];if(i.pos==t&&i.doc==e)return i}var o=S[k]=x.resolve(e,t);return k=(k+1)%C,o},Object.defineProperties(x.prototype,w);var S=[],k=0,C=12,M=function(e,t,n){this.$from=e,this.$to=t,this.depth=n},_={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};_.start.get=function(){return this.$from.before(this.depth+1)},_.end.get=function(){return this.$to.after(this.depth+1)},_.parent.get=function(){return this.$from.node(this.depth)},_.startIndex.get=function(){return this.$from.index(this.depth)},_.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(M.prototype,_);var O=Object.create(null),P=function(e,t,n,i){this.type=e,this.attrs=t,this.content=n||r.empty,this.marks=i||u.none},E={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};E.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},E.childCount.get=function(){return this.content.childCount},P.prototype.child=function(e){return this.content.child(e)},P.prototype.maybeChild=function(e){return this.content.maybeChild(e)},P.prototype.forEach=function(e){this.content.forEach(e)},P.prototype.nodesBetween=function(e,t,n,i){void 0===i&&(i=0),this.content.nodesBetween(e,t,n,i,this)},P.prototype.descendants=function(e){this.nodesBetween(0,this.content.size,e)},E.textContent.get=function(){return this.textBetween(0,this.content.size,"")},P.prototype.textBetween=function(e,t,n,i){return this.content.textBetween(e,t,n,i)},E.firstChild.get=function(){return this.content.firstChild},E.lastChild.get=function(){return this.content.lastChild},P.prototype.eq=function(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)},P.prototype.sameMarkup=function(e){return this.hasMarkup(e.type,e.attrs,e.marks)},P.prototype.hasMarkup=function(e,t,n){return this.type==e&&c(this.attrs,t||e.defaultAttrs||O)&&u.sameSet(this.marks,n||u.none)},P.prototype.copy=function(e){return void 0===e&&(e=null),e==this.content?this:new this.constructor(this.type,this.attrs,e,this.marks)},P.prototype.mark=function(e){return e==this.marks?this:new this.constructor(this.type,this.attrs,this.content,e)},P.prototype.cut=function(e,t){return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))},P.prototype.slice=function(e,t,n){if(void 0===t&&(t=this.content.size),void 0===n&&(n=!1),e==t)return p.empty;var i=this.resolve(e),o=this.resolve(t),r=n?0:i.sharedDepth(t),a=i.start(r),s=i.node(r).content.cut(i.pos-a,o.pos-a);return new p(s,i.depth-r,o.depth-r)},P.prototype.replace=function(e,t,n){return function(e,t,n){if(n.openStart>e.depth)throw new d("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new d("Inconsistent open depths");return function e(t,n,i,o){var a=t.index(o),s=t.node(o);if(a==n.index(o)&&o<t.depth-i.openStart){var l=e(t,n,i,o+1);return s.copy(s.content.replaceChild(a,l))}if(i.content.size){if(i.openStart||i.openEnd||t.depth!=o||n.depth!=o){var c=function(e,t){for(var n=t.depth-e.openStart,i=t.node(n).copy(e.content),o=n-1;o>=0;o--)i=t.node(o).copy(r.from(i));return{start:i.resolveNoCache(e.openStart+n),end:i.resolveNoCache(i.content.size-e.openEnd-n)}}(i,t);return y(s,function e(t,n,i,o,a){var s=t.depth>a&&m(t,n,a+1),l=o.depth>a&&m(i,o,a+1),c=[];return g(null,t,a,c),s&&l&&n.index(a)==i.index(a)?(f(s,l),v(y(s,e(t,n,i,o,a+1)),c)):(s&&v(y(s,b(t,n,a+1)),c),g(n,i,a,c),l&&v(y(l,b(i,o,a+1)),c)),g(o,null,a,c),new r(c)}(t,c.start,c.end,n,o))}var u=t.parent,d=u.content;return y(u,d.cut(0,t.parentOffset).append(i.content).append(d.cut(n.parentOffset)))}return y(s,b(t,n,o))}(e,t,n,0)}(this.resolve(e),this.resolve(t),n)},P.prototype.nodeAt=function(e){for(var t=this;;){var n=t.content.findIndex(e),i=n.index,o=n.offset;if(!(t=t.maybeChild(i)))return null;if(o==e||t.isText)return t;e-=o+1}},P.prototype.childAfter=function(e){var t=this.content.findIndex(e),n=t.index,i=t.offset;return{node:this.content.maybeChild(n),index:n,offset:i}},P.prototype.childBefore=function(e){if(0==e)return{node:null,index:0,offset:0};var t=this.content.findIndex(e),n=t.index,i=t.offset;if(i<e)return{node:this.content.child(n),index:n,offset:i};var o=this.content.child(n-1);return{node:o,index:n-1,offset:i-o.nodeSize}},P.prototype.resolve=function(e){return x.resolveCached(this,e)},P.prototype.resolveNoCache=function(e){return x.resolve(this,e)},P.prototype.rangeHasMark=function(e,t,n){var i=!1;return t>e&&this.nodesBetween(e,t,(function(e){return n.isInSet(e.marks)&&(i=!0),!i})),i},E.isBlock.get=function(){return this.type.isBlock},E.isTextblock.get=function(){return this.type.isTextblock},E.inlineContent.get=function(){return this.type.inlineContent},E.isInline.get=function(){return this.type.isInline},E.isText.get=function(){return this.type.isText},E.isLeaf.get=function(){return this.type.isLeaf},E.isAtom.get=function(){return this.type.isAtom},P.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),j(this.marks,e)},P.prototype.contentMatchAt=function(e){var t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t},P.prototype.canReplace=function(e,t,n,i,o){void 0===n&&(n=r.empty),void 0===i&&(i=0),void 0===o&&(o=n.childCount);var a=this.contentMatchAt(e).matchFragment(n,i,o),s=a&&a.matchFragment(this.content,t);if(!s||!s.validEnd)return!1;for(var l=i;l<o;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0},P.prototype.canReplaceWith=function(e,t,n,i){if(i&&!this.type.allowsMarks(i))return!1;var o=this.contentMatchAt(e).matchType(n),r=o&&o.matchFragment(this.content,t);return!!r&&r.validEnd},P.prototype.canAppend=function(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)},P.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));this.content.forEach((function(e){return e.check()}))},P.prototype.toJSON=function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map((function(e){return e.toJSON()}))),e},P.fromJSON=function(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}var i=r.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,i,n)},Object.defineProperties(P.prototype,E);var T=function(e){function t(t,n,i,o){if(e.call(this,t,n,null,o),!i)throw new RangeError("Empty text nodes are not allowed");this.text=i}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={textContent:{configurable:!0},nodeSize:{configurable:!0}};return t.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):j(this.marks,JSON.stringify(this.text))},n.textContent.get=function(){return this.text},t.prototype.textBetween=function(e,t){return this.text.slice(e,t)},n.nodeSize.get=function(){return this.text.length},t.prototype.mark=function(e){return e==this.marks?this:new t(this.type,this.attrs,this.text,e)},t.prototype.withText=function(e){return e==this.text?this:new t(this.type,this.attrs,e,this.marks)},t.prototype.cut=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.text.length),0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))},t.prototype.eq=function(e){return this.sameMarkup(e)&&this.text==e.text},t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return t.text=this.text,t},Object.defineProperties(t.prototype,n),t}(P);function j(e,t){for(var n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}var R=function(e){this.validEnd=e,this.next=[],this.wrapCache=[]},N={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};R.parse=function(e,t){var n=new A(e,t);if(null==n.next)return R.empty;var i=B(n);n.next&&n.err("Unexpected trailing text");var o=function(e){var t=Object.create(null);return function n(i){var o=[];i.forEach((function(t){e[t].forEach((function(t){var n=t.term,i=t.to;if(n){var r=o.indexOf(n),a=r>-1&&o[r+1];H(e,i).forEach((function(e){a||o.push(n,a=[]),-1==a.indexOf(e)&&a.push(e)}))}}))}));for(var r=t[i.join(",")]=new R(i.indexOf(e.length-1)>-1),a=0;a<o.length;a+=2){var s=o[a+1].sort(z);r.next.push(o[a],t[s.join(",")]||n(s))}return r}(H(e,0))}(function(e){var t=[[]];return o(function e(t,r){if("choice"==t.type)return t.exprs.reduce((function(t,n){return t.concat(e(n,r))}),[]);if("seq"==t.type)for(var a=0;;a++){var s=e(t.exprs[a],r);if(a==t.exprs.length-1)return s;o(s,r=n())}else{if("star"==t.type){var l=n();return i(r,l),o(e(t.expr,l),l),[i(l)]}if("plus"==t.type){var c=n();return o(e(t.expr,r),c),o(e(t.expr,c),c),[i(c)]}if("opt"==t.type)return[i(r)].concat(e(t.expr,r));if("range"==t.type){for(var u=r,d=0;d<t.min;d++){var p=n();o(e(t.expr,u),p),u=p}if(-1==t.max)o(e(t.expr,u),u);else for(var h=t.min;h<t.max;h++){var f=n();i(u,f),o(e(t.expr,u),f),u=f}return[i(u)]}if("name"==t.type)return[i(r,null,t.value)]}}(e,0),n()),t;function n(){return t.push([])-1}function i(e,n,i){var o={term:i,to:n};return t[e].push(o),o}function o(e,t){e.forEach((function(e){return e.to=t}))}}(i));return function(e,t){for(var n=0,i=[e];n<i.length;n++){for(var o=i[n],r=!o.validEnd,a=[],s=0;s<o.next.length;s+=2){var l=o.next[s],c=o.next[s+1];a.push(l.name),!r||l.isText||l.hasRequiredAttrs()||(r=!1),-1==i.indexOf(c)&&i.push(c)}r&&t.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(o,n),o},R.prototype.matchType=function(e){for(var t=0;t<this.next.length;t+=2)if(this.next[t]==e)return this.next[t+1];return null},R.prototype.matchFragment=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=e.childCount);for(var i=this,o=t;i&&o<n;o++)i=i.matchType(e.child(o).type);return i},N.inlineContent.get=function(){var e=this.next[0];return!!e&&e.isInline},N.defaultType.get=function(){for(var e=0;e<this.next.length;e+=2){var t=this.next[e];if(!t.isText&&!t.hasRequiredAttrs())return t}},R.prototype.compatible=function(e){for(var t=0;t<this.next.length;t+=2)for(var n=0;n<e.next.length;n+=2)if(this.next[t]==e.next[n])return!0;return!1},R.prototype.fillBefore=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=0);var i=[this];return function o(a,s){var l=a.matchFragment(e,n);if(l&&(!t||l.validEnd))return r.from(s.map((function(e){return e.createAndFill()})));for(var c=0;c<a.next.length;c+=2){var u=a.next[c],d=a.next[c+1];if(!u.isText&&!u.hasRequiredAttrs()&&-1==i.indexOf(d)){i.push(d);var p=o(d,s.concat(u));if(p)return p}}}(this,[])},R.prototype.findWrapping=function(e){for(var t=0;t<this.wrapCache.length;t+=2)if(this.wrapCache[t]==e)return this.wrapCache[t+1];var n=this.computeWrapping(e);return this.wrapCache.push(e,n),n},R.prototype.computeWrapping=function(e){for(var t=Object.create(null),n=[{match:this,type:null,via:null}];n.length;){var i=n.shift(),o=i.match;if(o.matchType(e)){for(var r=[],a=i;a.type;a=a.via)r.push(a.type);return r.reverse()}for(var s=0;s<o.next.length;s+=2){var l=o.next[s];l.isLeaf||l.hasRequiredAttrs()||l.name in t||i.type&&!o.next[s+1].validEnd||(n.push({match:l.contentMatch,type:l,via:i}),t[l.name]=!0)}}},N.edgeCount.get=function(){return this.next.length>>1},R.prototype.edge=function(e){var t=e<<1;if(t>=this.next.length)throw new RangeError("There's no "+e+"th edge in this content match");return{type:this.next[t],next:this.next[t+1]}},R.prototype.toString=function(){var e=[];return function t(n){e.push(n);for(var i=1;i<n.next.length;i+=2)-1==e.indexOf(n.next[i])&&t(n.next[i])}(this),e.map((function(t,n){for(var i=n+(t.validEnd?"*":" ")+" ",o=0;o<t.next.length;o+=2)i+=(o?", ":"")+t.next[o].name+"->"+e.indexOf(t.next[o+1]);return i})).join("\n")},Object.defineProperties(R.prototype,N),R.empty=new R(!0);var A=function(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.unshift()},D={next:{configurable:!0}};function B(e){var t=[];do{t.push(I(e))}while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function I(e){var t=[];do{t.push(L(e))}while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function L(e){for(var t=function(e){if(e.eat("(")){var t=B(e);return e.eat(")")||e.err("Missing closing paren"),t}if(!/\W/.test(e.next)){var n=function(e,t){var n=e.nodeTypes,i=n[t];if(i)return[i];var o=[];for(var r in n){var a=n[r];a.groups.indexOf(t)>-1&&o.push(a)}return 0==o.length&&e.err("No node type or group '"+t+"' found"),o}(e,e.next).map((function(t){return null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t}}));return e.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}e.err("Unexpected token '"+e.next+"'")}(e);;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=F(e,t)}return t}function U(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");var t=Number(e.next);return e.pos++,t}function F(e,t){var n=U(e),i=n;return e.eat(",")&&(i="}"!=e.next?U(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:i,expr:t}}function z(e,t){return t-e}function H(e,t){var n=[];return function t(i){var o=e[i];if(1==o.length&&!o[0].term)return t(o[0].to);n.push(i);for(var r=0;r<o.length;r++){var a=o[r],s=a.term,l=a.to;s||-1!=n.indexOf(l)||t(l)}}(t),n.sort(z)}function V(e){var t=Object.create(null);for(var n in e){var i=e[n];if(!i.hasDefault)return null;t[n]=i.default}return t}function W(e,t){var n=Object.create(null);for(var i in e){var o=t&&t[i];if(void 0===o){var r=e[i];if(!r.hasDefault)throw new RangeError("No value supplied for attribute "+i);o=r.default}n[i]=o}return n}function $(e){var t=Object.create(null);if(e)for(var n in e)t[n]=new q(e[n]);return t}D.next.get=function(){return this.tokens[this.pos]},A.prototype.eat=function(e){return this.next==e&&(this.pos++||!0)},A.prototype.err=function(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")},Object.defineProperties(A.prototype,D);var K=function(e,t,n){this.name=e,this.schema=t,this.spec=n,this.groups=n.group?n.group.split(" "):[],this.attrs=$(n.attrs),this.defaultAttrs=V(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e},G={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};G.isInline.get=function(){return!this.isBlock},G.isTextblock.get=function(){return this.isBlock&&this.inlineContent},G.isLeaf.get=function(){return this.contentMatch==R.empty},G.isAtom.get=function(){return this.isLeaf||this.spec.atom},K.prototype.hasRequiredAttrs=function(){for(var e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1},K.prototype.compatibleContent=function(e){return this==e||this.contentMatch.compatible(e.contentMatch)},K.prototype.computeAttrs=function(e){return!e&&this.defaultAttrs?this.defaultAttrs:W(this.attrs,e)},K.prototype.create=function(e,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new P(this,this.computeAttrs(e),r.from(t),u.setFrom(n))},K.prototype.createChecked=function(e,t,n){if(t=r.from(t),!this.validContent(t))throw new RangeError("Invalid content for node "+this.name);return new P(this,this.computeAttrs(e),t,u.setFrom(n))},K.prototype.createAndFill=function(e,t,n){if(e=this.computeAttrs(e),(t=r.from(t)).size){var i=this.contentMatch.fillBefore(t);if(!i)return null;t=i.append(t)}var o=this.contentMatch.matchFragment(t).fillBefore(r.empty,!0);return o?new P(this,e,t.append(o),u.setFrom(n)):null},K.prototype.validContent=function(e){var t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(var n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0},K.prototype.allowsMarkType=function(e){return null==this.markSet||this.markSet.indexOf(e)>-1},K.prototype.allowsMarks=function(e){if(null==this.markSet)return!0;for(var t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0},K.prototype.allowedMarks=function(e){if(null==this.markSet)return e;for(var t,n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:u.empty:e},K.compile=function(e,t){var n=Object.create(null);e.forEach((function(e,i){return n[e]=new K(e,t,i)}));var i=t.spec.topNode||"doc";if(!n[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(var o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n},Object.defineProperties(K.prototype,G);var q=function(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default},Y={isRequired:{configurable:!0}};Y.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(q.prototype,Y);var X=function(e,t,n,i){this.name=e,this.schema=n,this.spec=i,this.attrs=$(i.attrs),this.rank=t,this.excluded=null;var o=V(this.attrs);this.instance=o&&new u(this,o)};X.prototype.create=function(e){return!e&&this.instance?this.instance:new u(this,W(this.attrs,e))},X.compile=function(e,t){var n=Object.create(null),i=0;return e.forEach((function(e,o){return n[e]=new X(e,i++,t,o)})),n},X.prototype.removeFromSet=function(e){for(var t=0;t<e.length;t++)if(e[t].type==this)return e.slice(0,t).concat(e.slice(t+1));return e},X.prototype.isInSet=function(e){for(var t=0;t<e.length;t++)if(e[t].type==this)return e[t]},X.prototype.excludes=function(e){return this.excluded.indexOf(e)>-1};var J=function(e){for(var t in this.spec={},e)this.spec[t]=e[t];this.spec.nodes=o.from(e.nodes),this.spec.marks=o.from(e.marks),this.nodes=K.compile(this.spec.nodes,this),this.marks=X.compile(this.spec.marks,this);var n=Object.create(null);for(var i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");var r=this.nodes[i],a=r.spec.content||"",s=r.spec.marks;r.contentMatch=n[a]||(n[a]=R.parse(a,this.nodes)),r.inlineContent=r.contentMatch.inlineContent,r.markSet="_"==s?null:s?Q(this,s.split(" ")):""!=s&&r.inlineContent?null:[]}for(var l in this.marks){var c=this.marks[l],u=c.spec.excludes;c.excluded=null==u?[c]:""==u?[]:Q(this,u.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};function Q(e,t){for(var n=[],i=0;i<t.length;i++){var o=t[i],r=e.marks[o],a=r;if(r)n.push(r);else for(var s in e.marks){var l=e.marks[s];("_"==o||l.spec.group&&l.spec.group.split(" ").indexOf(o)>-1)&&n.push(a=l)}if(!a)throw new SyntaxError("Unknown mark type: '"+t[i]+"'")}return n}J.prototype.node=function(e,t,n,i){if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof K))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,i)},J.prototype.text=function(e,t){var n=this.nodes.text;return new T(n,n.defaultAttrs,e,u.setFrom(t))},J.prototype.mark=function(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)},J.prototype.nodeFromJSON=function(e){return P.fromJSON(this,e)},J.prototype.markFromJSON=function(e){return u.fromJSON(this,e)},J.prototype.nodeType=function(e){var t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t};var Z=function(e,t){var n=this;this.schema=e,this.rules=t,this.tags=[],this.styles=[],t.forEach((function(e){e.tag?n.tags.push(e):e.style&&n.styles.push(e)})),this.normalizeLists=!this.tags.some((function(t){if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;var n=e.nodes[t.node];return n.contentMatch.matchType(n)}))};Z.prototype.parse=function(e,t){void 0===t&&(t={});var n=new re(this,t,!1);return n.addAll(e,null,t.from,t.to),n.finish()},Z.prototype.parseSlice=function(e,t){void 0===t&&(t={});var n=new re(this,t,!0);return n.addAll(e,null,t.from,t.to),p.maxOpen(n.finish())},Z.prototype.matchTag=function(e,t){for(var n=0;n<this.tags.length;n++){var i=this.tags[n];if(se(e,i.tag)&&(void 0===i.namespace||e.namespaceURI==i.namespace)&&(!i.context||t.matchesContext(i.context))){if(i.getAttrs){var o=i.getAttrs(e);if(!1===o)continue;i.attrs=o}return i}}},Z.prototype.matchStyle=function(e,t,n){for(var i=0;i<this.styles.length;i++){var o=this.styles[i];if(!(0!=o.style.indexOf(e)||o.context&&!n.matchesContext(o.context)||o.style.length>e.length&&(61!=o.style.charCodeAt(e.length)||o.style.slice(e.length+1)!=t))){if(o.getAttrs){var r=o.getAttrs(t);if(!1===r)continue;o.attrs=r}return o}}},Z.schemaRules=function(e){var t=[];function n(e){for(var n=null==e.priority?50:e.priority,i=0;i<t.length;i++){var o=t[i];if((null==o.priority?50:o.priority)<n)break}t.splice(i,0,e)}var i,o=function(t){var i=e.marks[t].spec.parseDOM;i&&i.forEach((function(e){n(e=le(e)),e.mark=t}))};for(var r in e.marks)o(r);for(var a in e.nodes)i=void 0,(i=e.nodes[a].spec.parseDOM)&&i.forEach((function(e){n(e=le(e)),e.node=a}));return t},Z.fromSchema=function(e){return e.cached.domParser||(e.cached.domParser=new Z(e,Z.schemaRules(e)))};var ee={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},te={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},ne={ol:!0,ul:!0};function ie(e){return(e?1:0)|("full"===e?2:0)}var oe=function(e,t,n,i,o,r,a){this.type=e,this.attrs=t,this.solid=o,this.match=r||(4&a?null:e.contentMatch),this.options=a,this.content=[],this.marks=n,this.activeMarks=u.none,this.pendingMarks=i,this.stashMarks=[]};oe.prototype.findWrapping=function(e){if(!this.match){if(!this.type)return[];var t=this.type.contentMatch.fillBefore(r.from(e));if(!t){var n,i=this.type.contentMatch;return(n=i.findWrapping(e.type))?(this.match=i,n):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)},oe.prototype.finish=function(e){if(!(1&this.options)){var t,n=this.content[this.content.length-1];n&&n.isText&&(t=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==t[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-t[0].length)))}var i=r.from(this.content);return!e&&this.match&&(i=i.append(this.match.fillBefore(r.empty,!0))),this.type?this.type.create(this.attrs,i,this.marks):i},oe.prototype.popFromStashMark=function(e){for(var t=this.stashMarks.length-1;t>=0;t--)if(this.stashMarks[t].type==e)return this.stashMarks.splice(t,1)[0]},oe.prototype.applyPending=function(e){for(var t=0,n=this.pendingMarks;t<n.length;t++){var i=n[t];if((this.type?this.type.allowsMarkType(i.type):ce(i.type,e))&&!i.isInSet(this.activeMarks)){var o=ue(i,this.activeMarks);o&&this.stashMarks.push(o),this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks)}}};var re=function(e,t,n){this.parser=e,this.options=t,this.isOpen=n;var i,o=t.topNode,r=ie(t.preserveWhitespace)|(n?4:0);i=o?new oe(o.type,o.attrs,u.none,u.none,!0,t.topMatch||o.type.contentMatch,r):new oe(n?null:e.schema.topNodeType,null,u.none,u.none,!0,null,r),this.nodes=[i],this.open=0,this.find=t.findPositions,this.needsBlock=!1},ae={top:{configurable:!0},currentPos:{configurable:!0}};function se(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function le(e){var t={};for(var n in e)t[n]=e[n];return t}function ce(e,t){var n=t.schema.nodes,i=function(i){var o=n[i];if(o.allowsMarkType(e)){var r=[],a=function(e){r.push(e);for(var n=0;n<e.edgeCount;n++){var i=e.edge(n),o=i.type,s=i.next;if(o==t)return!0;if(r.indexOf(s)<0&&a(s))return!0}};return a(o.contentMatch)?{v:!0}:void 0}};for(var o in n){var r=i(o);if(r)return r.v}}function ue(e,t){for(var n=0;n<t.length;n++)if(e.type==t[n].type)return t[n]}ae.top.get=function(){return this.nodes[this.open]},re.prototype.addDOM=function(e){if(3==e.nodeType)this.addTextNode(e);else if(1==e.nodeType){var t=e.getAttribute("style"),n=t?this.readStyles(function(e){for(var t,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,i=[];t=n.exec(e);)i.push(t[1],t[2].trim());return i}(t)):null,i=this.top;if(null!=n)for(var o=0;o<n.length;o++)this.addPendingMark(n[o]);if(this.addElement(e),null!=n)for(var r=0;r<n.length;r++)this.removePendingMark(n[r],i)}},re.prototype.addTextNode=function(e){var t=e.nodeValue,n=this.top;if((n.type?n.type.inlineContent:n.content.length&&n.content[0].isInline)||/[^ \t\r\n\u000c]/.test(t)){if(1&n.options)2&n.options||(t=t.replace(/\r?\n|\r/g," "));else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){var i=n.content[n.content.length-1],o=e.previousSibling;(!i||o&&"BR"==o.nodeName||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)},re.prototype.addElement=function(e){var t=e.nodeName.toLowerCase();ne.hasOwnProperty(t)&&this.parser.normalizeLists&&function(e){for(var t=e.firstChild,n=null;t;t=t.nextSibling){var i=1==t.nodeType?t.nodeName.toLowerCase():null;i&&ne.hasOwnProperty(i)&&n?(n.appendChild(t),t=n):"li"==i?n=t:i&&(n=null)}}(e);var n=this.options.ruleFromNode&&this.options.ruleFromNode(e)||this.parser.matchTag(e,this);if(n?n.ignore:te.hasOwnProperty(t))this.findInside(e);else if(!n||n.skip||n.closeParent){n&&n.closeParent?this.open=Math.max(0,this.open-1):n&&n.skip.nodeType&&(e=n.skip);var i,o=this.top,r=this.needsBlock;if(ee.hasOwnProperty(t))i=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild)return void this.leafFallback(e);this.addAll(e),i&&this.sync(o),this.needsBlock=r}else this.addElementByRule(e,n)},re.prototype.leafFallback=function(e){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"))},re.prototype.readStyles=function(e){for(var t=u.none,n=0;n<e.length;n+=2){var i=this.parser.matchStyle(e[n],e[n+1],this);if(i){if(i.ignore)return null;t=this.parser.schema.marks[i.mark].create(i.attrs).addToSet(t)}}return t},re.prototype.addElementByRule=function(e,t){var n,i,o,r=this;t.node?(i=this.parser.schema.nodes[t.node]).isLeaf?this.insertNode(i.create(t.attrs))||this.leafFallback(e):n=this.enter(i,t.attrs,t.preserveWhitespace):(o=this.parser.schema.marks[t.mark].create(t.attrs),this.addPendingMark(o));var a=this.top;if(i&&i.isLeaf)this.findInside(e);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach((function(e){return r.insertNode(e)}));else{var s=t.contentElement;"string"==typeof s?s=e.querySelector(s):"function"==typeof s&&(s=s(e)),s||(s=e),this.findAround(e,s,!0),this.addAll(s,n)}n&&(this.sync(a),this.open--),o&&this.removePendingMark(o,a)},re.prototype.addAll=function(e,t,n,i){for(var o=n||0,r=n?e.childNodes[n]:e.firstChild,a=null==i?null:e.childNodes[i];r!=a;r=r.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(r),t&&ee.hasOwnProperty(r.nodeName.toLowerCase())&&this.sync(t);this.findAtPoint(e,o)},re.prototype.findPlace=function(e){for(var t,n,i=this.open;i>=0;i--){var o=this.nodes[i],r=o.findWrapping(e);if(r&&(!t||t.length>r.length)&&(t=r,n=o,!r.length))break;if(o.solid)break}if(!t)return!1;this.sync(n);for(var a=0;a<t.length;a++)this.enterInner(t[a],null,!1);return!0},re.prototype.insertNode=function(e){if(e.isInline&&this.needsBlock&&!this.top.type){var t=this.textblockFromContext();t&&this.enterInner(t)}if(this.findPlace(e)){this.closeExtra();var n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));for(var i=n.activeMarks,o=0;o<e.marks.length;o++)n.type&&!n.type.allowsMarkType(e.marks[o].type)||(i=e.marks[o].addToSet(i));return n.content.push(e.mark(i)),!0}return!1},re.prototype.enter=function(e,t,n){var i=this.findPlace(e.create(t));return i&&this.enterInner(e,t,!0,n),i},re.prototype.enterInner=function(e,t,n,i){this.closeExtra();var o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e,t);var r=null==i?-5&o.options:ie(i);4&o.options&&0==o.content.length&&(r|=4),this.nodes.push(new oe(e,t,o.activeMarks,o.pendingMarks,n,null,r)),this.open++},re.prototype.closeExtra=function(e){var t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}},re.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},re.prototype.sync=function(e){for(var t=this.open;t>=0;t--)if(this.nodes[t]==e)return void(this.open=t)},ae.currentPos.get=function(){this.closeExtra();for(var e=0,t=this.open;t>=0;t--){for(var n=this.nodes[t].content,i=n.length-1;i>=0;i--)e+=n[i].nodeSize;t&&e++}return e},re.prototype.findAtPoint=function(e,t){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)},re.prototype.findInside=function(e){if(this.find)for(var t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)},re.prototype.findAround=function(e,t,n){if(e!=t&&this.find)for(var i=0;i<this.find.length;i++)null==this.find[i].pos&&1==e.nodeType&&e.contains(this.find[i].node)&&t.compareDocumentPosition(this.find[i].node)&(n?2:4)&&(this.find[i].pos=this.currentPos)},re.prototype.findInText=function(e){if(this.find)for(var t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))},re.prototype.matchesContext=function(e){var t=this;if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);var n=e.split("/"),i=this.options.context,o=!(this.isOpen||i&&i.parent.type!=this.nodes[0].type),r=-(i?i.depth+1:0)+(o?0:1),a=function(e,s){for(;e>=0;e--){var l=n[e];if(""==l){if(e==n.length-1||0==e)continue;for(;s>=r;s--)if(a(e-1,s))return!0;return!1}var c=s>0||0==s&&o?t.nodes[s].type:i&&s>=r?i.node(s-r).type:null;if(!c||c.name!=l&&-1==c.groups.indexOf(l))return!1;s--}return!0};return a(n.length-1,this.open)},re.prototype.textblockFromContext=function(){var e=this.options.context;if(e)for(var t=e.depth;t>=0;t--){var n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var i in this.parser.schema.nodes){var o=this.parser.schema.nodes[i];if(o.isTextblock&&o.defaultAttrs)return o}},re.prototype.addPendingMark=function(e){var t=ue(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)},re.prototype.removePendingMark=function(e,t){for(var n=this.open;n>=0;n--){var i=this.nodes[n];if(i.pendingMarks.lastIndexOf(e)>-1)i.pendingMarks=e.removeFromSet(i.pendingMarks);else{i.activeMarks=e.removeFromSet(i.activeMarks);var o=i.popFromStashMark(e.type);o&&(i.activeMarks=o.addToSet(i.activeMarks))}if(i==t)break}},Object.defineProperties(re.prototype,ae);var de=function(e,t){this.nodes=e||{},this.marks=t||{}};function pe(e){var t={};for(var n in e){var i=e[n].spec.toDOM;i&&(t[n]=i)}return t}function he(e){return e.document||window.document}de.prototype.serializeFragment=function(e,t,n){var i=this;void 0===t&&(t={}),n||(n=he(t).createDocumentFragment());var o=n,r=null;return e.forEach((function(e){if(r||e.marks.length){r||(r=[]);for(var n=0,a=0;n<r.length&&a<e.marks.length;){var s=e.marks[a];if(i.marks[s.type.name]){if(!s.eq(r[n])||!1===s.type.spec.spanning)break;n+=2,a++}else a++}for(;n<r.length;)o=r.pop(),r.pop();for(;a<e.marks.length;){var l=e.marks[a++],c=i.serializeMark(l,e.isInline,t);c&&(r.push(l,o),o.appendChild(c.dom),o=c.contentDOM||c.dom)}}o.appendChild(i.serializeNode(e,t))})),n},de.prototype.serializeNode=function(e,t){void 0===t&&(t={});var n=de.renderSpec(he(t),this.nodes[e.type.name](e)),i=n.dom,o=n.contentDOM;if(o){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");t.onContent?t.onContent(e,o,t):this.serializeFragment(e.content,t,o)}return i},de.prototype.serializeNodeAndMarks=function(e,t){void 0===t&&(t={});for(var n=this.serializeNode(e,t),i=e.marks.length-1;i>=0;i--){var o=this.serializeMark(e.marks[i],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n},de.prototype.serializeMark=function(e,t,n){void 0===n&&(n={});var i=this.marks[e.type.name];return i&&de.renderSpec(he(n),i(e,t))},de.renderSpec=function(e,t,n){if(void 0===n&&(n=null),"string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};if(t.dom&&null!=t.dom.nodeType)return t;var i=t[0],o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));var r=null,a=n?e.createElementNS(n,i):e.createElement(i),s=t[1],l=1;if(s&&"object"==typeof s&&null==s.nodeType&&!Array.isArray(s))for(var c in l=2,s)if(null!=s[c]){var u=c.indexOf(" ");u>0?a.setAttributeNS(c.slice(0,u),c.slice(u+1),s[c]):a.setAttribute(c,s[c])}for(var d=l;d<t.length;d++){var p=t[d];if(0===p){if(d<t.length-1||d>l)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}var h=de.renderSpec(e,p,n),f=h.dom,m=h.contentDOM;if(a.appendChild(f),m){if(r)throw new RangeError("Multiple content holes");r=m}}return{dom:a,contentDOM:r}},de.fromSchema=function(e){return e.cached.domSerializer||(e.cached.domSerializer=new de(this.nodesFromSchema(e),this.marksFromSchema(e)))},de.nodesFromSchema=function(e){var t=pe(e.nodes);return t.text||(t.text=function(e){return e.text}),t},de.marksFromSchema=function(e){return pe(e.marks)}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(460),t),o(n(462),t),o(n(463),t),o(n(464),t),o(n(465),t),o(n(466),t)},function(e,t,n){"use strict";n.r(t),n.d(t,"AllSelection",(function(){return h})),n.d(t,"EditorState",(function(){return S})),n.d(t,"NodeSelection",(function(){return d})),n.d(t,"Plugin",(function(){return M})),n.d(t,"PluginKey",(function(){return P})),n.d(t,"Selection",(function(){return a})),n.d(t,"SelectionRange",(function(){return l})),n.d(t,"TextSelection",(function(){return c})),n.d(t,"Transaction",(function(){return g}));var i=n(1),o=n(5),r=Object.create(null),a=function(e,t,n){this.ranges=n||[new l(e.min(t),e.max(t))],this.$anchor=e,this.$head=t},s={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};s.anchor.get=function(){return this.$anchor.pos},s.head.get=function(){return this.$head.pos},s.from.get=function(){return this.$from.pos},s.to.get=function(){return this.$to.pos},s.$from.get=function(){return this.ranges[0].$from},s.$to.get=function(){return this.ranges[0].$to},s.empty.get=function(){for(var e=this.ranges,t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0},a.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)},a.prototype.replace=function(e,t){void 0===t&&(t=i.Slice.empty);for(var n=t.content.lastChild,o=null,r=0;r<t.openEnd;r++)o=n,n=n.lastChild;for(var a=e.steps.length,s=this.ranges,l=0;l<s.length;l++){var c=s[l],u=c.$from,d=c.$to,p=e.mapping.slice(a);e.replaceRange(p.map(u.pos),p.map(d.pos),l?i.Slice.empty:t),0==l&&v(e,a,(n?n.isInline:o&&o.isTextblock)?-1:1)}},a.prototype.replaceWith=function(e,t){for(var n=e.steps.length,i=this.ranges,o=0;o<i.length;o++){var r=i[o],a=r.$from,s=r.$to,l=e.mapping.slice(n),c=l.map(a.pos),u=l.map(s.pos);o?e.deleteRange(c,u):(e.replaceRangeWith(c,u,t),v(e,n,t.isInline?-1:1))}},a.findFrom=function(e,t,n){var i=e.parent.inlineContent?new c(e):m(e.node(0),e.parent,e.pos,e.index(),t,n);if(i)return i;for(var o=e.depth-1;o>=0;o--){var r=t<0?m(e.node(0),e.node(o),e.before(o+1),e.index(o),t,n):m(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,t,n);if(r)return r}},a.near=function(e,t){return void 0===t&&(t=1),this.findFrom(e,t)||this.findFrom(e,-t)||new h(e.node(0))},a.atStart=function(e){return m(e,e,0,0,1)||new h(e)},a.atEnd=function(e){return m(e,e,e.content.size,e.childCount,-1)||new h(e)},a.fromJSON=function(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=r[t.type];if(!n)throw new RangeError("No selection type "+t.type+" defined");return n.fromJSON(e,t)},a.jsonID=function(e,t){if(e in r)throw new RangeError("Duplicate use of selection JSON ID "+e);return r[e]=t,t.prototype.jsonID=e,t},a.prototype.getBookmark=function(){return c.between(this.$anchor,this.$head).getBookmark()},Object.defineProperties(a.prototype,s),a.prototype.visible=!0;var l=function(e,t){this.$from=e,this.$to=t},c=function(e){function t(t,n){void 0===n&&(n=t),e.call(this,t,n)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={$cursor:{configurable:!0}};return n.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},t.prototype.map=function(n,i){var o=n.resolve(i.map(this.head));if(!o.parent.inlineContent)return e.near(o);var r=n.resolve(i.map(this.anchor));return new t(r.parent.inlineContent?r:o,o)},t.prototype.replace=function(t,n){if(void 0===n&&(n=i.Slice.empty),e.prototype.replace.call(this,t,n),n==i.Slice.empty){var o=this.$from.marksAcross(this.$to);o&&t.ensureMarks(o)}},t.prototype.eq=function(e){return e instanceof t&&e.anchor==this.anchor&&e.head==this.head},t.prototype.getBookmark=function(){return new u(this.anchor,this.head)},t.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},t.fromJSON=function(e,n){if("number"!=typeof n.anchor||"number"!=typeof n.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new t(e.resolve(n.anchor),e.resolve(n.head))},t.create=function(e,t,n){void 0===n&&(n=t);var i=e.resolve(t);return new this(i,n==t?i:e.resolve(n))},t.between=function(n,i,o){var r=n.pos-i.pos;if(o&&!r||(o=r>=0?1:-1),!i.parent.inlineContent){var a=e.findFrom(i,o,!0)||e.findFrom(i,-o,!0);if(!a)return e.near(i,o);i=a.$head}return n.parent.inlineContent||(0==r||(n=(e.findFrom(n,-o,!0)||e.findFrom(n,o,!0)).$anchor).pos<i.pos!=r<0)&&(n=i),new t(n,i)},Object.defineProperties(t.prototype,n),t}(a);a.jsonID("text",c);var u=function(e,t){this.anchor=e,this.head=t};u.prototype.map=function(e){return new u(e.map(this.anchor),e.map(this.head))},u.prototype.resolve=function(e){return c.between(e.resolve(this.anchor),e.resolve(this.head))};var d=function(e){function t(t){var n=t.nodeAfter,i=t.node(0).resolve(t.pos+n.nodeSize);e.call(this,t,i),this.node=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(n,i){var o=i.mapResult(this.anchor),r=o.deleted,a=o.pos,s=n.resolve(a);return r?e.near(s):new t(s)},t.prototype.content=function(){return new i.Slice(i.Fragment.from(this.node),0,0)},t.prototype.eq=function(e){return e instanceof t&&e.anchor==this.anchor},t.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},t.prototype.getBookmark=function(){return new p(this.anchor)},t.fromJSON=function(e,n){if("number"!=typeof n.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new t(e.resolve(n.anchor))},t.create=function(e,t){return new this(e.resolve(t))},t.isSelectable=function(e){return!e.isText&&!1!==e.type.spec.selectable},t}(a);d.prototype.visible=!1,a.jsonID("node",d);var p=function(e){this.anchor=e};p.prototype.map=function(e){var t=e.mapResult(this.anchor),n=t.deleted,i=t.pos;return n?new u(i,i):new p(i)},p.prototype.resolve=function(e){var t=e.resolve(this.anchor),n=t.nodeAfter;return n&&d.isSelectable(n)?new d(t):a.near(t)};var h=function(e){function t(t){e.call(this,t.resolve(0),t.resolve(t.content.size))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.replace=function(t,n){if(void 0===n&&(n=i.Slice.empty),n==i.Slice.empty){t.delete(0,t.doc.content.size);var o=e.atStart(t.doc);o.eq(t.selection)||t.setSelection(o)}else e.prototype.replace.call(this,t,n)},t.prototype.toJSON=function(){return{type:"all"}},t.fromJSON=function(e){return new t(e)},t.prototype.map=function(e){return new t(e)},t.prototype.eq=function(e){return e instanceof t},t.prototype.getBookmark=function(){return f},t}(a);a.jsonID("all",h);var f={map:function(){return this},resolve:function(e){return new h(e)}};function m(e,t,n,i,o,r){if(t.inlineContent)return c.create(e,n);for(var a=i-(o>0?0:1);o>0?a<t.childCount:a>=0;a+=o){var s=t.child(a);if(s.isAtom){if(!r&&d.isSelectable(s))return d.create(e,n-(o<0?s.nodeSize:0))}else{var l=m(e,s,n+o,o<0?s.childCount:0,o,r);if(l)return l}n+=s.nodeSize*o}}function v(e,t,n){var i=e.steps.length-1;if(!(i<t)){var r,s=e.steps[i];(s instanceof o.ReplaceStep||s instanceof o.ReplaceAroundStep)&&(e.mapping.maps[i].forEach((function(e,t,n,i){null==r&&(r=i)})),e.setSelection(a.near(e.doc.resolve(r),n)))}}var g=function(e){function t(t){e.call(this,t.doc),this.time=Date.now(),this.curSelection=t.selection,this.curSelectionFor=0,this.storedMarks=t.storedMarks,this.updated=0,this.meta=Object.create(null)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return n.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},t.prototype.setSelection=function(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this},n.selectionSet.get=function(){return(1&this.updated)>0},t.prototype.setStoredMarks=function(e){return this.storedMarks=e,this.updated|=2,this},t.prototype.ensureMarks=function(e){return i.Mark.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this},t.prototype.addStoredMark=function(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))},t.prototype.removeStoredMark=function(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))},n.storedMarksSet.get=function(){return(2&this.updated)>0},t.prototype.addStep=function(t,n){e.prototype.addStep.call(this,t,n),this.updated=-3&this.updated,this.storedMarks=null},t.prototype.setTime=function(e){return this.time=e,this},t.prototype.replaceSelection=function(e){return this.selection.replace(this,e),this},t.prototype.replaceSelectionWith=function(e,t){var n=this.selection;return!1!==t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||i.Mark.none))),n.replaceWith(this,e),this},t.prototype.deleteSelection=function(){return this.selection.replace(this),this},t.prototype.insertText=function(e,t,n){void 0===n&&(n=t);var i=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();if(!e)return this.deleteRange(t,n);var o=this.storedMarks;if(!o){var r=this.doc.resolve(t);o=n==t?r.marks():r.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,i.text(e,o)),this.selection.empty||this.setSelection(a.near(this.selection.$to)),this},t.prototype.setMeta=function(e,t){return this.meta["string"==typeof e?e:e.key]=t,this},t.prototype.getMeta=function(e){return this.meta["string"==typeof e?e:e.key]},n.isGeneric.get=function(){for(var e in this.meta)return!1;return!0},t.prototype.scrollIntoView=function(){return this.updated|=4,this},n.scrolledIntoView.get=function(){return(4&this.updated)>0},Object.defineProperties(t.prototype,n),t}(o.Transform);function y(e,t){return t&&e?e.bind(t):e}var b=function(e,t,n){this.name=e,this.init=y(t.init,n),this.apply=y(t.apply,n)},x=[new b("doc",{init:function(e){return e.doc||e.schema.topNodeType.createAndFill()},apply:function(e){return e.doc}}),new b("selection",{init:function(e,t){return e.selection||a.atStart(t.doc)},apply:function(e){return e.selection}}),new b("storedMarks",{init:function(e){return e.storedMarks||null},apply:function(e,t,n,i){return i.selection.$cursor?e.storedMarks:null}}),new b("scrollToSelection",{init:function(){return 0},apply:function(e,t){return e.scrolledIntoView?t+1:t}})],w=function(e,t){var n=this;this.schema=e,this.fields=x.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),t&&t.forEach((function(e){if(n.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");n.plugins.push(e),n.pluginsByKey[e.key]=e,e.spec.state&&n.fields.push(new b(e.key,e.spec.state,e))}))},S=function(e){this.config=e},k={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};k.schema.get=function(){return this.config.schema},k.plugins.get=function(){return this.config.plugins},S.prototype.apply=function(e){return this.applyTransaction(e).state},S.prototype.filterTransaction=function(e,t){void 0===t&&(t=-1);for(var n=0;n<this.config.plugins.length;n++)if(n!=t){var i=this.config.plugins[n];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0},S.prototype.applyTransaction=function(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};for(var t=[e],n=this.applyInner(e),i=null;;){for(var o=!1,r=0;r<this.config.plugins.length;r++){var a=this.config.plugins[r];if(a.spec.appendTransaction){var s=i?i[r].n:0,l=i?i[r].state:this,c=s<t.length&&a.spec.appendTransaction.call(a,s?t.slice(s):t,l,n);if(c&&n.filterTransaction(c,r)){if(c.setMeta("appendedTransaction",e),!i){i=[];for(var u=0;u<this.config.plugins.length;u++)i.push(u<r?{state:n,n:t.length}:{state:this,n:0})}t.push(c),n=n.applyInner(c),o=!0}i&&(i[r]={state:n,n:t.length})}}if(!o)return{state:n,transactions:t}}},S.prototype.applyInner=function(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var t=new S(this.config),n=this.config.fields,i=0;i<n.length;i++){var o=n[i];t[o.name]=o.apply(e,this[o.name],this,t)}for(var r=0;r<C.length;r++)C[r](this,e,t);return t},k.tr.get=function(){return new g(this)},S.create=function(e){for(var t=new w(e.schema||e.doc.type.schema,e.plugins),n=new S(t),i=0;i<t.fields.length;i++)n[t.fields[i].name]=t.fields[i].init(e,n);return n},S.prototype.reconfigure=function(e){for(var t=new w(e.schema||this.schema,e.plugins),n=t.fields,i=new S(t),o=0;o<n.length;o++){var r=n[o].name;i[r]=this.hasOwnProperty(r)?this[r]:n[o].init(e,i)}return i},S.prototype.toJSON=function(e){var t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map((function(e){return e.toJSON()}))),e&&"object"==typeof e)for(var n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var i=e[n],o=i.spec.state;o&&o.toJSON&&(t[n]=o.toJSON.call(i,this[i.key]))}return t},S.fromJSON=function(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");var o=new w(e.schema,e.plugins),r=new S(o);return o.fields.forEach((function(o){if("doc"==o.name)r.doc=i.Node.fromJSON(e.schema,t.doc);else if("selection"==o.name)r.selection=a.fromJSON(r.doc,t.selection);else if("storedMarks"==o.name)t.storedMarks&&(r.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(var s in n){var l=n[s],c=l.spec.state;if(l.key==o.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(t,s))return void(r[o.name]=c.fromJSON.call(l,e,t[s],r))}r[o.name]=o.init(e,r)}})),r},S.addApplyListener=function(e){C.push(e)},S.removeApplyListener=function(e){var t=C.indexOf(e);t>-1&&C.splice(t,1)},Object.defineProperties(S.prototype,k);var C=[],M=function(e){this.props={},e.props&&function e(t,n,i){for(var o in t){var r=t[o];r instanceof Function?r=r.bind(n):"handleDOMEvents"==o&&(r=e(r,n,{})),i[o]=r}return i}(e.props,this,this.props),this.spec=e,this.key=e.key?e.key.key:O("plugin")};M.prototype.getState=function(e){return e[this.key]};var _=Object.create(null);function O(e){return e in _?e+"$"+ ++_[e]:(_[e]=0,e+"$")}var P=function(e){void 0===e&&(e="key"),this.key=O(e)};P.prototype.get=function(e){return e.config.pluginsByKey[this.key]},P.prototype.getState=function(e){return e[this.key]}},function(e,t,n){var i=n(12),o=n(31).f,r=n(40),a=n(52),s=n(112),l=n(160),c=n(162);e.exports=function(e,t){var n,u,d,p,h,f=e.target,m=e.global,v=e.stat;if(n=m?i:v?i[f]||s(f,{}):(i[f]||{}).prototype)for(u in t){if(p=t[u],d=e.noTargetGet?(h=o(n,u))&&h.value:n[u],!c(m?u:f+(v?".":"#")+u,e.forced)&&void 0!==d){if(typeof p==typeof d)continue;l(p,d)}(e.sham||d&&d.sham)&&r(p,"sham",!0),a(n,u,p,e)}}},function(e,t,n){"use strict";n.r(t),n.d(t,"AddMarkStep",(function(){return T})),n.d(t,"MapResult",(function(){return a})),n.d(t,"Mapping",(function(){return l})),n.d(t,"RemoveMarkStep",(function(){return j})),n.d(t,"ReplaceAroundStep",(function(){return g})),n.d(t,"ReplaceStep",(function(){return v})),n.d(t,"Step",(function(){return f})),n.d(t,"StepMap",(function(){return s})),n.d(t,"StepResult",(function(){return m})),n.d(t,"Transform",(function(){return u})),n.d(t,"TransformError",(function(){return c})),n.d(t,"canJoin",(function(){return C})),n.d(t,"canSplit",(function(){return k})),n.d(t,"dropPoint",(function(){return P})),n.d(t,"findWrapping",(function(){return w})),n.d(t,"insertPoint",(function(){return O})),n.d(t,"joinPoint",(function(){return _})),n.d(t,"liftTarget",(function(){return x})),n.d(t,"replaceStep",(function(){return R}));var i=n(1),o=Math.pow(2,16);function r(e){return 65535&e}var a=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=null),this.pos=e,this.deleted=t,this.recover=n},s=function(e,t){void 0===t&&(t=!1),this.ranges=e,this.inverted=t};s.prototype.recover=function(e){var t=0,n=r(e);if(!this.inverted)for(var i=0;i<n;i++)t+=this.ranges[3*i+2]-this.ranges[3*i+1];return this.ranges[3*n]+t+function(e){return(e-(65535&e))/o}(e)},s.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},s.prototype.map=function(e,t){return void 0===t&&(t=1),this._map(e,t,!0)},s.prototype._map=function(e,t,n){for(var i=0,r=this.inverted?2:1,s=this.inverted?1:2,l=0;l<this.ranges.length;l+=3){var c=this.ranges[l]-(this.inverted?i:0);if(c>e)break;var u=this.ranges[l+r],d=this.ranges[l+s],p=c+u;if(e<=p){var h=c+i+((u?e==c?-1:e==p?1:t:t)<0?0:d);return n?h:new a(h,t<0?e!=c:e!=p,e==(t<0?c:p)?null:l/3+(e-c)*o)}i+=d-u}return n?e+i:new a(e+i)},s.prototype.touches=function(e,t){for(var n=0,i=r(t),o=this.inverted?2:1,a=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var l=this.ranges[s]-(this.inverted?n:0);if(l>e)break;var c=this.ranges[s+o];if(e<=l+c&&s==3*i)return!0;n+=this.ranges[s+a]-c}return!1},s.prototype.forEach=function(e){for(var t=this.inverted?2:1,n=this.inverted?1:2,i=0,o=0;i<this.ranges.length;i+=3){var r=this.ranges[i],a=r-(this.inverted?o:0),s=r+(this.inverted?0:o),l=this.ranges[i+t],c=this.ranges[i+n];e(a,a+l,s,s+c),o+=c-l}},s.prototype.invert=function(){return new s(this.ranges,!this.inverted)},s.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},s.offset=function(e){return 0==e?s.empty:new s(e<0?[0,-e,0]:[0,0,e])},s.empty=new s([]);var l=function(e,t,n,i){this.maps=e||[],this.from=n||0,this.to=null==i?this.maps.length:i,this.mirror=t};function c(e){var t=Error.call(this,e);return t.__proto__=c.prototype,t}l.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.maps.length),new l(this.maps,this.mirror,e,t)},l.prototype.copy=function(){return new l(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},l.prototype.appendMap=function(e,t){this.to=this.maps.push(e),null!=t&&this.setMirror(this.maps.length-1,t)},l.prototype.appendMapping=function(e){for(var t=0,n=this.maps.length;t<e.maps.length;t++){var i=e.getMirror(t);this.appendMap(e.maps[t],null!=i&&i<t?n+i:null)}},l.prototype.getMirror=function(e){if(this.mirror)for(var t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]},l.prototype.setMirror=function(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)},l.prototype.appendMappingInverted=function(e){for(var t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){var i=e.getMirror(t);this.appendMap(e.maps[t].invert(),null!=i&&i>t?n-i-1:null)}},l.prototype.invert=function(){var e=new l;return e.appendMappingInverted(this),e},l.prototype.map=function(e,t){if(void 0===t&&(t=1),this.mirror)return this._map(e,t,!0);for(var n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e},l.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},l.prototype._map=function(e,t,n){for(var i=!1,o=this.from;o<this.to;o++){var r=this.maps[o].mapResult(e,t);if(null!=r.recover){var s=this.getMirror(o);if(null!=s&&s>o&&s<this.to){o=s,e=this.maps[s].recover(r.recover);continue}}r.deleted&&(i=!0),e=r.pos}return n?e:new a(e,i)},c.prototype=Object.create(Error.prototype),c.prototype.constructor=c,c.prototype.name="TransformError";var u=function(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new l},d={before:{configurable:!0},docChanged:{configurable:!0}};function p(){throw new Error("Override me")}d.before.get=function(){return this.docs.length?this.docs[0]:this.doc},u.prototype.step=function(e){var t=this.maybeStep(e);if(t.failed)throw new c(t.failed);return this},u.prototype.maybeStep=function(e){var t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t},d.docChanged.get=function(){return this.steps.length>0},u.prototype.addStep=function(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t},Object.defineProperties(u.prototype,d);var h=Object.create(null),f=function(){};f.prototype.apply=function(e){return p()},f.prototype.getMap=function(){return s.empty},f.prototype.invert=function(e){return p()},f.prototype.map=function(e){return p()},f.prototype.merge=function(e){return null},f.prototype.toJSON=function(){return p()},f.fromJSON=function(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=h[t.stepType];if(!n)throw new RangeError("No step type "+t.stepType+" defined");return n.fromJSON(e,t)},f.jsonID=function(e,t){if(e in h)throw new RangeError("Duplicate use of step JSON ID "+e);return h[e]=t,t.prototype.jsonID=e,t};var m=function(e,t){this.doc=e,this.failed=t};m.ok=function(e){return new m(e,null)},m.fail=function(e){return new m(null,e)},m.fromReplace=function(e,t,n,o){try{return m.ok(e.replace(t,n,o))}catch(r){if(r instanceof i.ReplaceError)return m.fail(r.message);throw r}};var v=function(e){function t(t,n,i,o){e.call(this),this.from=t,this.to=n,this.slice=i,this.structure=!!o}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){return this.structure&&y(e,this.from,this.to)?m.fail("Structure replace would overwrite content"):m.fromReplace(e,this.from,this.to,this.slice)},t.prototype.getMap=function(){return new s([this.from,this.to-this.from,this.slice.size])},t.prototype.invert=function(e){return new t(this.from,this.from+this.slice.size,e.slice(this.from,this.to))},t.prototype.map=function(e){var n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deleted&&i.deleted?null:new t(n.pos,Math.max(n.pos,i.pos),this.slice)},t.prototype.merge=function(e){if(!(e instanceof t)||e.structure!=this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;var n=this.slice.size+e.slice.size==0?i.Slice.empty:new i.Slice(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new t(e.from,this.to,n,this.structure)}var o=this.slice.size+e.slice.size==0?i.Slice.empty:new i.Slice(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new t(this.from,this.to+(e.to-e.from),o,this.structure)},t.prototype.toJSON=function(){var e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new t(n.from,n.to,i.Slice.fromJSON(e,n.slice),!!n.structure)},t}(f);f.jsonID("replace",v);var g=function(e){function t(t,n,i,o,r,a,s){e.call(this),this.from=t,this.to=n,this.gapFrom=i,this.gapTo=o,this.slice=r,this.insert=a,this.structure=!!s}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){if(this.structure&&(y(e,this.from,this.gapFrom)||y(e,this.gapTo,this.to)))return m.fail("Structure gap-replace would overwrite content");var t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return m.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,t.content);return n?m.fromReplace(e,this.from,this.to,n):m.fail("Content does not fit in gap")},t.prototype.getMap=function(){return new s([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},t.prototype.invert=function(e){var n=this.gapTo-this.gapFrom;return new t(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1),o=e.map(this.gapFrom,-1),r=e.map(this.gapTo,1);return n.deleted&&i.deleted||o<n.pos||r>i.pos?null:new t(n.pos,i.pos,o,r,this.slice,this.insert,this.structure)},t.prototype.toJSON=function(){var e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new t(n.from,n.to,n.gapFrom,n.gapTo,i.Slice.fromJSON(e,n.slice),n.insert,!!n.structure)},t}(f);function y(e,t,n){for(var i=e.resolve(t),o=n-t,r=i.depth;o>0&&r>0&&i.indexAfter(r)==i.node(r).childCount;)r--,o--;if(o>0)for(var a=i.node(r).maybeChild(i.indexAfter(r));o>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,o--}return!1}function b(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function x(e){for(var t=e.parent.content.cutByIndex(e.startIndex,e.endIndex),n=e.depth;;--n){var i=e.$from.node(n),o=e.$from.index(n),r=e.$to.indexAfter(n);if(n<e.depth&&i.canReplace(o,r,t))return n;if(0==n||i.type.spec.isolating||!b(i,o,r))break}}function w(e,t,n,i){void 0===i&&(i=e);var o=function(e,t){var n=e.parent,i=e.startIndex,o=e.endIndex,r=n.contentMatchAt(i).findWrapping(t);if(!r)return null;var a=r.length?r[0]:t;return n.canReplaceWith(i,o,a)?r:null}(e,t),r=o&&function(e,t){var n=e.parent,i=e.startIndex,o=e.endIndex,r=n.child(i),a=t.contentMatch.findWrapping(r.type);if(!a)return null;for(var s=(a.length?a[a.length-1]:t).contentMatch,l=i;s&&l<o;l++)s=s.matchType(n.child(l).type);return s&&s.validEnd?a:null}(i,t);return r?o.map(S).concat({type:t,attrs:n}).concat(r.map(S)):null}function S(e){return{type:e,attrs:null}}function k(e,t,n,i){void 0===n&&(n=1);var o=e.resolve(t),r=o.depth-n,a=i&&i[i.length-1]||o.parent;if(r<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!a.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(var s=o.depth-1,l=n-2;s>r;s--,l--){var c=o.node(s),u=o.index(s);if(c.type.spec.isolating)return!1;var d=c.content.cutByIndex(u,c.childCount),p=i&&i[l]||c;if(p!=c&&(d=d.replaceChild(0,p.type.create(p.attrs))),!c.canReplace(u+1,c.childCount)||!p.type.validContent(d))return!1}var h=o.indexAfter(r),f=i&&i[0];return o.node(r).canReplaceWith(h,h,f?f.type:o.node(r+1).type)}function C(e,t){var n=e.resolve(t),i=n.index();return M(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(i,i+1)}function M(e,t){return e&&t&&!e.isLeaf&&e.canAppend(t)}function _(e,t,n){void 0===n&&(n=-1);for(var i=e.resolve(t),o=i.depth;;o--){var r=void 0,a=void 0,s=i.index(o);if(o==i.depth?(r=i.nodeBefore,a=i.nodeAfter):n>0?(r=i.node(o+1),s++,a=i.node(o).maybeChild(s)):(r=i.node(o).maybeChild(s-1),a=i.node(o+1)),r&&!r.isTextblock&&M(r,a)&&i.node(o).canReplace(s,s+1))return t;if(0==o)break;t=n<0?i.before(o):i.after(o)}}function O(e,t,n){var i=e.resolve(t);if(i.parent.canReplaceWith(i.index(),i.index(),n))return t;if(0==i.parentOffset)for(var o=i.depth-1;o>=0;o--){var r=i.index(o);if(i.node(o).canReplaceWith(r,r,n))return i.before(o+1);if(r>0)return null}if(i.parentOffset==i.parent.content.size)for(var a=i.depth-1;a>=0;a--){var s=i.indexAfter(a);if(i.node(a).canReplaceWith(s,s,n))return i.after(a+1);if(s<i.node(a).childCount)return null}}function P(e,t,n){var i=e.resolve(t);if(!n.content.size)return t;for(var o=n.content,r=0;r<n.openStart;r++)o=o.firstChild.content;for(var a=1;a<=(0==n.openStart&&n.size?2:1);a++)for(var s=i.depth;s>=0;s--){var l=s==i.depth?0:i.pos<=(i.start(s+1)+i.end(s+1))/2?-1:1,c=i.index(s)+(l>0?1:0);if(1==a?i.node(s).canReplace(c,c,o):i.node(s).contentMatchAt(c).findWrapping(o.firstChild.type))return 0==l?i.pos:l<0?i.before(s+1):i.after(s+1)}return null}function E(e,t,n){for(var o=[],r=0;r<e.childCount;r++){var a=e.child(r);a.content.size&&(a=a.copy(E(a.content,t,a))),a.isInline&&(a=t(a,n,r)),o.push(a)}return i.Fragment.fromArray(o)}f.jsonID("replaceAround",g),u.prototype.lift=function(e,t){for(var n=e.$from,o=e.$to,r=e.depth,a=n.before(r+1),s=o.after(r+1),l=a,c=s,u=i.Fragment.empty,d=0,p=r,h=!1;p>t;p--)h||n.index(p)>0?(h=!0,u=i.Fragment.from(n.node(p).copy(u)),d++):l--;for(var f=i.Fragment.empty,m=0,v=r,y=!1;v>t;v--)y||o.after(v+1)<o.end(v)?(y=!0,f=i.Fragment.from(o.node(v).copy(f)),m++):c++;return this.step(new g(l,c,a,s,new i.Slice(u.append(f),d,m),u.size-d,!0))},u.prototype.wrap=function(e,t){for(var n=i.Fragment.empty,o=t.length-1;o>=0;o--)n=i.Fragment.from(t[o].type.create(t[o].attrs,n));var r=e.start,a=e.end;return this.step(new g(r,a,r,a,new i.Slice(n,0,0),t.length,!0))},u.prototype.setBlockType=function(e,t,n,o){var r=this;if(void 0===t&&(t=e),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var a=this.steps.length;return this.doc.nodesBetween(e,t,(function(e,t){if(e.isTextblock&&!e.hasMarkup(n,o)&&function(e,t,n){var i=e.resolve(t),o=i.index();return i.parent.canReplaceWith(o,o+1,n)}(r.doc,r.mapping.slice(a).map(t),n)){r.clearIncompatible(r.mapping.slice(a).map(t,1),n);var s=r.mapping.slice(a),l=s.map(t,1),c=s.map(t+e.nodeSize,1);return r.step(new g(l,c,l+1,c-1,new i.Slice(i.Fragment.from(n.create(o,null,e.marks)),0,0),1,!0)),!1}})),this},u.prototype.setNodeMarkup=function(e,t,n,o){var r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at given position");t||(t=r.type);var a=t.create(n,null,o||r.marks);if(r.isLeaf)return this.replaceWith(e,e+r.nodeSize,a);if(!t.validContent(r.content))throw new RangeError("Invalid content for node type "+t.name);return this.step(new g(e,e+r.nodeSize,e+1,e+r.nodeSize-1,new i.Slice(i.Fragment.from(a),0,0),1,!0))},u.prototype.split=function(e,t,n){void 0===t&&(t=1);for(var o=this.doc.resolve(e),r=i.Fragment.empty,a=i.Fragment.empty,s=o.depth,l=o.depth-t,c=t-1;s>l;s--,c--){r=i.Fragment.from(o.node(s).copy(r));var u=n&&n[c];a=i.Fragment.from(u?u.type.create(u.attrs,a):o.node(s).copy(a))}return this.step(new v(e,e,new i.Slice(r.append(a),t,t),!0))},u.prototype.join=function(e,t){void 0===t&&(t=1);var n=new v(e-t,e+t,i.Slice.empty,!0);return this.step(n)};var T=function(e){function t(t,n,i){e.call(this),this.from=t,this.to=n,this.mark=i}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){var t=this,n=e.slice(this.from,this.to),o=e.resolve(this.from),r=o.node(o.sharedDepth(this.to)),a=new i.Slice(E(n.content,(function(e,n){return n.type.allowsMarkType(t.mark.type)?e.mark(t.mark.addToSet(e.marks)):e}),r),n.openStart,n.openEnd);return m.fromReplace(e,this.from,this.to,a)},t.prototype.invert=function(){return new j(this.from,this.to,this.mark)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new t(n.pos,i.pos,this.mark)},t.prototype.merge=function(e){if(e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new t(n.from,n.to,e.markFromJSON(n.mark))},t}(f);f.jsonID("addMark",T);var j=function(e){function t(t,n,i){e.call(this),this.from=t,this.to=n,this.mark=i}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){var t=this,n=e.slice(this.from,this.to),o=new i.Slice(E(n.content,(function(e){return e.mark(t.mark.removeFromSet(e.marks))})),n.openStart,n.openEnd);return m.fromReplace(e,this.from,this.to,o)},t.prototype.invert=function(){return new T(this.from,this.to,this.mark)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new t(n.pos,i.pos,this.mark)},t.prototype.merge=function(e){if(e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new t(n.from,n.to,e.markFromJSON(n.mark))},t}(f);function R(e,t,n,o){if(void 0===n&&(n=t),void 0===o&&(o=i.Slice.empty),t==n&&!o.size)return null;var r=e.resolve(t),a=e.resolve(n);return N(r,a,o)?new v(t,n,o):new A(r,a,o).fit()}function N(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}f.jsonID("removeMark",j),u.prototype.addMark=function(e,t,n){var i=this,o=[],r=[],a=null,s=null;return this.doc.nodesBetween(e,t,(function(i,l,c){if(i.isInline){var u=i.marks;if(!n.isInSet(u)&&c.type.allowsMarkType(n.type)){for(var d=Math.max(l,e),p=Math.min(l+i.nodeSize,t),h=n.addToSet(u),f=0;f<u.length;f++)u[f].isInSet(h)||(a&&a.to==d&&a.mark.eq(u[f])?a.to=p:o.push(a=new j(d,p,u[f])));s&&s.to==d?s.to=p:r.push(s=new T(d,p,n))}}})),o.forEach((function(e){return i.step(e)})),r.forEach((function(e){return i.step(e)})),this},u.prototype.removeMark=function(e,t,n){var o=this;void 0===n&&(n=null);var r=[],a=0;return this.doc.nodesBetween(e,t,(function(o,s){if(o.isInline){a++;var l=null;if(n instanceof i.MarkType){var c=n.isInSet(o.marks);c&&(l=[c])}else n?n.isInSet(o.marks)&&(l=[n]):l=o.marks;if(l&&l.length)for(var u=Math.min(s+o.nodeSize,t),d=0;d<l.length;d++){for(var p=l[d],h=void 0,f=0;f<r.length;f++){var m=r[f];m.step==a-1&&p.eq(r[f].style)&&(h=m)}h?(h.to=u,h.step=a):r.push({style:p,from:Math.max(s,e),to:u,step:a})}}})),r.forEach((function(e){return o.step(new j(e.from,e.to,e.style))})),this},u.prototype.clearIncompatible=function(e,t,n){void 0===n&&(n=t.contentMatch);for(var o=this.doc.nodeAt(e),r=[],a=e+1,s=0;s<o.childCount;s++){var l=o.child(s),c=a+l.nodeSize,u=n.matchType(l.type,l.attrs);if(u){n=u;for(var d=0;d<l.marks.length;d++)t.allowsMarkType(l.marks[d].type)||this.step(new j(a,c,l.marks[d]))}else r.push(new v(a,c,i.Slice.empty));a=c}if(!n.validEnd){var p=n.fillBefore(i.Fragment.empty,!0);this.replace(a,a,new i.Slice(p,0,0))}for(var h=r.length-1;h>=0;h--)this.step(r[h]);return this},u.prototype.replace=function(e,t,n){void 0===t&&(t=e),void 0===n&&(n=i.Slice.empty);var o=R(this.doc,e,t,n);return o&&this.step(o),this},u.prototype.replaceWith=function(e,t,n){return this.replace(e,t,new i.Slice(i.Fragment.from(n),0,0))},u.prototype.delete=function(e,t){return this.replace(e,t,i.Slice.empty)},u.prototype.insert=function(e,t){return this.replaceWith(e,e,t)};var A=function(e,t,n){this.$to=t,this.$from=e,this.unplaced=n,this.frontier=[];for(var o=0;o<=e.depth;o++){var r=e.node(o);this.frontier.push({type:r.type,match:r.contentMatchAt(e.indexAfter(o))})}this.placed=i.Fragment.empty;for(var a=e.depth;a>0;a--)this.placed=i.Fragment.from(e.node(a).copy(this.placed))},D={depth:{configurable:!0}};function B(e,t,n){return 0==t?e.cutByIndex(n):e.replaceChild(0,e.firstChild.copy(B(e.firstChild.content,t-1,n)))}function I(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(I(e.lastChild.content,t-1,n)))}function L(e,t){for(var n=0;n<t;n++)e=e.firstChild.content;return e}function U(e,t,n){if(t<=0)return e;var o=e.content;return t>1&&(o=o.replaceChild(0,U(o.firstChild,t-1,1==o.childCount?n-1:0))),t>0&&(o=e.type.contentMatch.fillBefore(o).append(o),n<=0&&(o=o.append(e.type.contentMatch.matchFragment(o).fillBefore(i.Fragment.empty,!0)))),e.copy(o)}function F(e,t,n,i,o){var r=e.node(t),a=o?e.indexAfter(t):e.index(t);if(a==r.childCount&&!n.compatibleContent(r.type))return null;var s=i.fillBefore(r.content,!0,a);return s&&!function(e,t,n){for(var i=n;i<t.childCount;i++)if(!e.allowsMarks(t.child(i).marks))return!0;return!1}(n,r.content,a)?s:null}function z(e,t,n,o,r){if(t<n){var a=e.firstChild;e=e.replaceChild(0,a.copy(z(a.content,t+1,n,o,a)))}if(t>o){var s=r.contentMatchAt(0),l=s.fillBefore(e).append(e);e=l.append(s.matchFragment(l).fillBefore(i.Fragment.empty,!0))}return e}function H(e,t){for(var n=[],i=Math.min(e.depth,t.depth);i>=0;i--){var o=e.start(i);if(o<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;o==t.start(i)&&n.push(i)}return n}D.depth.get=function(){return this.frontier.length-1},A.prototype.fit=function(){for(;this.unplaced.size;){var e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}var t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,o=this.$from,r=this.close(t<0?this.$to:o.doc.resolve(t));if(!r)return null;for(var a=this.placed,s=o.depth,l=r.depth;s&&l&&1==a.childCount;)a=a.firstChild.content,s--,l--;var c=new i.Slice(a,s,l);return t>-1?new g(o.pos,t,this.$to.pos,this.$to.end(),c,n):c.size||o.pos!=this.$to.pos?new v(o.pos,r.pos,c):void 0},A.prototype.findFittable=function(){for(var e=1;e<=2;e++)for(var t=this.unplaced.openStart;t>=0;t--)for(var n=void 0,o=(t?(n=L(this.unplaced.content,t-1).firstChild).content:this.unplaced.content).firstChild,r=this.depth;r>=0;r--){var a=this.frontier[r],s=a.type,l=a.match,c=void 0,u=void 0;if(1==e&&(o?l.matchType(o.type)||(u=l.fillBefore(i.Fragment.from(o),!1)):s.compatibleContent(n.type)))return{sliceDepth:t,frontierDepth:r,parent:n,inject:u};if(2==e&&o&&(c=l.findWrapping(o.type)))return{sliceDepth:t,frontierDepth:r,parent:n,wrap:c};if(n&&l.matchType(n.type))break}},A.prototype.openMore=function(){var e=this.unplaced,t=e.content,n=e.openStart,o=e.openEnd,r=L(t,n);return!(!r.childCount||r.firstChild.isLeaf)&&(this.unplaced=new i.Slice(t,n+1,Math.max(o,r.size+n>=t.size-o?n+1:0)),!0)},A.prototype.dropNode=function(){var e=this.unplaced,t=e.content,n=e.openStart,o=e.openEnd,r=L(t,n);if(r.childCount<=1&&n>0){var a=t.size-n<=n+r.size;this.unplaced=new i.Slice(B(t,n-1,1),n-1,a?n-1:o)}else this.unplaced=new i.Slice(B(t,n,1),n,o)},A.prototype.placeNodes=function(e){for(var t=e.sliceDepth,n=e.frontierDepth,o=e.parent,r=e.inject,a=e.wrap;this.depth>n;)this.closeFrontierNode();if(a)for(var s=0;s<a.length;s++)this.openFrontierNode(a[s]);var l=this.unplaced,c=o?o.content:l.content,u=l.openStart-t,d=0,p=[],h=this.frontier[n],f=h.match,m=h.type;if(r){for(var v=0;v<r.childCount;v++)p.push(r.child(v));f=f.matchFragment(r)}for(var g=c.size+t-(l.content.size-l.openEnd);d<c.childCount;){var y=c.child(d),b=f.matchType(y.type);if(!b)break;(++d>1||0==u||y.content.size)&&(f=b,p.push(U(y.mark(m.allowedMarks(y.marks)),1==d?u:0,d==c.childCount?g:-1)))}var x=d==c.childCount;x||(g=-1),this.placed=I(this.placed,n,i.Fragment.from(p)),this.frontier[n].match=f,x&&g<0&&o&&o.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var w=0,S=c;w<g;w++){var k=S.lastChild;this.frontier.push({type:k.type,match:k.contentMatchAt(k.childCount)}),S=k.content}this.unplaced=x?0==t?i.Slice.empty:new i.Slice(B(l.content,t-1,1),t-1,g<0?l.openEnd:t-1):new i.Slice(B(l.content,t,d),l.openStart,l.openEnd)},A.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock||this.$to.end()==this.$to.pos)return-1;var e,t=this.frontier[this.depth];if(!t.type.isTextblock||!F(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;for(var n=this.$to.depth,i=this.$to.after(n);n>1&&i==this.$to.end(--n);)++i;return i},A.prototype.findCloseLevel=function(e){e:for(var t=Math.min(this.depth,e.depth);t>=0;t--){var n=this.frontier[t],i=n.match,o=n.type,r=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),a=F(e,t,o,i,r);if(a){for(var s=t-1;s>=0;s--){var l=this.frontier[s],c=l.match,u=F(e,s,l.type,c,!0);if(!u||u.childCount)continue e}return{depth:t,fit:a,move:r?e.doc.resolve(e.after(t+1)):e}}}},A.prototype.close=function(e){var t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=I(this.placed,t.depth,t.fit)),e=t.move;for(var n=t.depth+1;n<=e.depth;n++){var i=e.node(n),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(n));this.openFrontierNode(i.type,i.attrs,o)}return e},A.prototype.openFrontierNode=function(e,t,n){var o=this.frontier[this.depth];o.match=o.match.matchType(e),this.placed=I(this.placed,this.depth,i.Fragment.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})},A.prototype.closeFrontierNode=function(){var e=this.frontier.pop().match.fillBefore(i.Fragment.empty,!0);e.childCount&&(this.placed=I(this.placed,this.frontier.length,e))},Object.defineProperties(A.prototype,D),u.prototype.replaceRange=function(e,t,n){if(!n.size)return this.deleteRange(e,t);var o=this.doc.resolve(e),r=this.doc.resolve(t);if(N(o,r,n))return this.step(new v(e,t,n));var a=H(o,this.doc.resolve(t));0==a[a.length-1]&&a.pop();var s=-(o.depth+1);a.unshift(s);for(var l=o.depth,c=o.pos-1;l>0;l--,c--){var u=o.node(l).type.spec;if(u.defining||u.isolating)break;a.indexOf(l)>-1?s=l:o.before(l)==c&&a.splice(1,0,-l)}for(var d=a.indexOf(s),p=[],h=n.openStart,f=n.content,m=0;;m++){var g=f.firstChild;if(p.push(g),m==n.openStart)break;f=g.content}h>0&&p[h-1].type.spec.defining&&o.node(d).type!=p[h-1].type?h-=1:h>=2&&p[h-1].isTextblock&&p[h-2].type.spec.defining&&o.node(d).type!=p[h-2].type&&(h-=2);for(var y=n.openStart;y>=0;y--){var b=(y+h+1)%(n.openStart+1),x=p[b];if(x)for(var w=0;w<a.length;w++){var S=a[(w+d)%a.length],k=!0;S<0&&(k=!1,S=-S);var C=o.node(S-1),M=o.index(S-1);if(C.canReplaceWith(M,M,x.type,x.marks))return this.replace(o.before(S),k?r.after(S):t,new i.Slice(z(n.content,0,n.openStart,b),b,n.openEnd))}}for(var _=this.steps.length,O=a.length-1;O>=0&&(this.replace(e,t,n),!(this.steps.length>_));O--){var P=a[O];O<0||(e=o.before(P),t=r.after(P))}return this},u.prototype.replaceRangeWith=function(e,t,n){if(!n.isInline&&e==t&&this.doc.resolve(e).parent.content.size){var o=O(this.doc,e,n.type);null!=o&&(e=t=o)}return this.replaceRange(e,t,new i.Slice(i.Fragment.from(n),0,0))},u.prototype.deleteRange=function(e,t){for(var n=this.doc.resolve(e),i=this.doc.resolve(t),o=H(n,i),r=0;r<o.length;r++){var a=o[r],s=r==o.length-1;if(s&&0==a||n.node(a).type.contentMatch.validEnd)return this.delete(n.start(a),i.end(a));if(a>0&&(s||n.node(a-1).canReplace(n.index(a-1),i.indexAfter(a-1))))return this.delete(n.before(a),i.after(a))}for(var l=1;l<=n.depth&&l<=i.depth;l++)if(e-n.start(l)==n.depth-l&&t>n.end(l)&&i.end(l)-t!=i.depth-l)return this.delete(n.before(l),t);return this.delete(e,t)}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.delay=t.localizeQuery=t.closest=t.matchUrl=t.getUrlHashPart=t.camelCaseToKebabCase=t.getClosestBreakpoint=t.optimizeBreakpoints=t.pointerToClientQuadrant=t.slugify=t.elementsFromPoint=t.findNodesRecursively=t.assign=t.replace=t.intersectDeepMany=t.uint8ArrayToString=t.stringToUnit8Array=t.getCookie=t.isDirectUrl=t.progressEventToProgress=t.readDataUrlFromReader=t.readBlobAsDataUrl=t.readFileAsByteArray=t.arrayBufferToBase64=t.downloadFile=t.randomClassName=t.identifier=t.guid=void 0;const i=n(505);function o(e){return new Promise((t,n)=>{const i=new FileReader;i.onload=e=>t(e.target.result),e(i)})}t.guid=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},t.identifier=function(){let e="";const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let n=0;n<5;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},t.randomClassName=function(){let e="";const t="abcdefghijklmnopqrstuvwxyz";for(let n=0;n<10;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},t.downloadFile=function(e){return new Promise((t,n)=>{const i=new XMLHttpRequest;i.responseType="arraybuffer",i.onload=()=>t(new Uint8Array(i.response)),i.open("GET",e),i.send()})},t.arrayBufferToBase64=function(t){if(e)return e.from(t).toString("base64");{let e="";const n=new Uint8Array(t),i=n.byteLength;for(let t=0;t<i;t++)e+=String.fromCharCode(n[t]);return btoa(e)}},t.readFileAsByteArray=function(e){return new Promise((t,n)=>{const i=new FileReader;i.onload=e=>t(e.target.result),i.readAsArrayBuffer(e)})},t.readBlobAsDataUrl=function(e){return o(t=>t.readAsDataURL(e))},t.readDataUrlFromReader=o,t.progressEventToProgress=function(e){return t=>{if(t.lengthComputable){const n=Math.round(t.loaded/t.total*100);e(n)}}},t.isDirectUrl=function(e){return e.startsWith("http://")||e.startsWith("https://")||e.startsWith("data:")||e.startsWith("blob:")},t.getCookie=function(e){const t=("; "+document.cookie).split("; "+e+"=");if(2===t.length)return t.pop().split(";").shift()},t.stringToUnit8Array=function(e){const t=encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x"+t)})),n=new Uint8Array(t.length);return Array.prototype.forEach.call(t,(e,t)=>{n[t]=e.charCodeAt(0)}),n},t.uint8ArrayToString=function(e){const t=String.fromCharCode.apply(null,e);return decodeURIComponent(escape(t))},t.intersectDeepMany=function(e,t,...n){let i=e;return n.forEach(e=>{i=this.intersectDeep(i,t,e)}),i},t.replace=function(e,t,n,i="/"){t=JSON.parse(JSON.stringify(t));const o=e.split(i);let r,a=t,s=t;return o.forEach(e=>{a[e]||(a[e]={}),s=a,a=a[e],r=e}),r&&(s[r]=n),t},t.assign=function(e,t){Object.assign(e,i(e,t))},t.findNodesRecursively=function e(t,n){const i=[];return t(n)&&i.push(n),Object.keys(n).forEach(o=>{const r=n[o];if(r instanceof Object){const n=e(t,r);i.push.apply(i,n)}}),i},t.elementsFromPoint=function(e,t,n){if(!t||!n)return[];if(e.elementsFromPoint)return Array.prototype.slice.call(e.elementsFromPoint(Math.floor(t),Math.floor(n)));if(e.msElementsFromPoint)return Array.prototype.slice.call(e.msElementsFromPoint(Math.floor(t),Math.floor(n)));throw new Error('Method "elementsFromPoint" not supported by browser.')},t.slugify=function(e){return e.toString().toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")},t.pointerToClientQuadrant=function(e,t,n){const i=n.getBoundingClientRect(),o=e-i.left,r=t-i.top;let a,s;return s=o>i.width/2?"right":"left",a=r>i.height/2?"bottom":"top",{vertical:a,horizontal:s}},t.optimizeBreakpoints=function(e){const t={};let n=null;["xs","sm","md","lg","xl"].forEach(i=>{const o=e[i];o&&o!==n&&(t[i]=o,n=o)});const i=Object.keys(t);if(1===i.length){const e=i[0];return t[e]}return t},t.getClosestBreakpoint=function(e,t){const n=["xs","sm","md","lg","xl"];let i=n.indexOf(t),o=null;do{o=n[i],i--}while(!e[o]&&i>=0);return o},t.camelCaseToKebabCase=function(e){return e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()},t.getUrlHashPart=function(e){if(-1!==e.indexOf("#"))return e.split("#")[1]},t.matchUrl=function(e,t){"/"===e.charAt(0)&&(e=e.slice(1)),"/"===t.charAt(0)&&(t=t.slice(1)),"/"===e.charAt(e.length-1)&&(e=e.slice(0,-1)),"/"===t.charAt(t.length-1)&&(t=t.slice(0,-1));const n=e.split("/"),i=t.split("/");if(n.length!==i.length&&-1===t.indexOf("*"))return;const o=[];i.filter((e,t)=>{"{"===e.charAt(0)&&o.push({index:t,name:e.replace(/{|}/g,"")})});for(let r=0;r<i.length;r++){const e=n[r],t=o.find(e=>e.index===r);if(t||e!==i[r]&&"*"!==i[r]){if(!t)return i.length-1-r<=1&&e.indexOf("#")>0?(o.push({index:-1,name:"#",value:e.split("#")[1]}),o):void 0;{const n=e.indexOf("#");if(0===n)t.value=e.substring(1);else{if(n>0)return;t.value=e}}}else if("*"===i[r])return o}return o},t.closest=function(e,t){do{if(t(e))return e}while(e=e&&e.parentNode)},t.localizeQuery=function(e,t){const n=e.copy();return n.filters.forEach(e=>e.left=`locales/${t}/${e.left}`),n.orderingBy&&(n.orderingBy=`locales/${t}/${n.orderingBy}`),n},t.delay=function(e){return new Promise(t=>setTimeout(t,e))}}).call(this,n(202).Buffer)},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(98),t),o(n(609),t),o(n(610),t),o(n(611),t),o(n(612),t),o(n(613),t),o(n(614),t),o(n(615),t),o(n(616),t),o(n(617),t),o(n(618),t),o(n(619),t),o(n(620),t),o(n(621),t),o(n(622),t),o(n(623),t),o(n(624),t),o(n(625),t),o(n(626),t),o(n(627),t),o(n(628),t)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var i=n(7);e.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,n){"use strict";function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return i}))},function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(this,n(39))},function(e,t,n){var i=n(9);e.exports=function(e){if(!i(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){var i=n(110);e.exports=function(e){return Object(i(e))}},function(e,t,n){var i=n(12),o=n(114),r=n(22),a=n(90),s=n(121),l=n(164),c=o("wks"),u=i.Symbol,d=l?u:u&&u.withoutSetter||a;e.exports=function(e){return r(c,e)||(s&&r(u,e)?c[e]=u[e]:c[e]=d("Symbol."+e)),c[e]}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.StylePlugin=void 0;class o{configToStyleRules(e){return i(this,void 0,void 0,(function*(){return[]}))}configToNestedStyles(e){return i(this,void 0,void 0,(function*(){return[]}))}configToPseudoStyles(e){return i(this,void 0,void 0,(function*(){return[]}))}}t.StylePlugin=o,o.parseSize=(e,t=0)=>"auto"===e||"initial"===e||"inherit"===e?e:null!=e?parseInt(e)+"px":t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChangeRateLimit=void 0,t.ChangeRateLimit={rateLimit:{timeout:500,method:"notifyWhenChangesStop"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NAMED_TAG="named",t.NAME_TAG="name",t.UNMANAGED_TAG="unmanaged",t.OPTIONAL_TAG="optional",t.INJECT_TAG="inject",t.MULTI_INJECT_TAG="multi_inject",t.TAGGED="inversify:tagged",t.TAGGED_PROP="inversify:tagged_props",t.PARAM_TYPES="inversify:paramtypes",t.DESIGN_PARAM_TYPES="design:paramtypes",t.POST_CONSTRUCT="post_construct"},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(222),t),o(n(98),t),o(n(607),t),o(n(608),t),o(n(93),t),o(n(6),t),o(n(30),t)},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.StyleService=void 0;const o=n(85),r=n(6),a=n(30),s=n(225);t.StyleService=class{constructor(e,t){this.objectStorage=e,this.styleHandlers=t}getStyles(){return i(this,void 0,void 0,(function*(){const e=yield this.objectStorage.getObject("styles");if(!e)throw new Error("Data doesn't contain styles.");return this.styleHandlers.forEach(t=>{t.migrate&&t.migrate(e.components[t.key]),e.components[t.key]||(e.components[t.key]=t.getDefaultStyle())}),e}))}getStyleByKey(e){return i(this,void 0,void 0,(function*(){if(!e)throw new Error('Parameter "styleKey" not specified.');if(!s.StylePrimitives.some(t=>e.startsWith(t+"/")))throw new Error(`Unknown style premitive: "${e}".`);const t=yield this.getStyles(),n=a.getObjectAt(e,t);if(n)return n;const i=this.styleHandlers.map(t=>t.getDefaultStyle(e)).find(e=>!!e);if(i)return i;throw new Error(`Neither style nor default can be fetched by key "${e}".`)}))}addColorVariation(e){return i(this,void 0,void 0,(function*(){const t=yield this.getStyles(),n=a.clone(t.colors.default);return n.key="colors/"+e,n.displayName="< Unnamed >",a.setValue("colors/"+e,t,n),this.updateStyles(t),n}))}addGradientVariation(e){return i(this,void 0,void 0,(function*(){const t=yield this.getStyles(),n={key:"gradients/"+e,displayName:"Gradient",direction:"45deg",colorStops:[{color:"#87E0FD",length:0},{color:"#05ABE0",length:100}]};return n.displayName="< Unnamed >",a.setValue("gradients/"+e,t,n),this.updateStyles(t),n}))}addShadowVariation(e){return i(this,void 0,void 0,(function*(){const t=yield this.getStyles(),n={blur:1,spread:1,color:"rgba(0, 0, 0, 0.1)",inset:!1,offsetX:1,offsetY:1};return n.key="shadows/"+e,n.displayName="< Unnamed >",a.setValue("shadows/"+e,t,n),this.updateStyles(t),n}))}rewriteVariationKeysRecursively(e,t){e.key=t,e.components&&Object.keys(e.components).forEach(n=>{const i=e.components[n];Object.keys(i).forEach(e=>{const o=i[e],r=`${t}/components/${n}/${e}`;this.rewriteVariationKeysRecursively(o,r)})})}addComponentVariation(e,t,n){return i(this,void 0,void 0,(function*(){const i=yield this.getStyles(),o=n.variations.find(t=>t.key===`components/${e}/default`);if(!o)throw new Error(`Default variation for component "${e}" not found.`);const r=a.clone(o),s=`components/${e}/${t}`;return this.rewriteVariationKeysRecursively(r,s),r.key=s,r.displayName="< Unnamed >",r.category="appearance",i.components[e][t]=r,this.updateStyles(i),r.key}))}addTextStyleVariation(e){return i(this,void 0,void 0,(function*(){const t=yield this.getStyles(),n={key:"globals/body/"+e,displayName:"< Unnamed >"};return t.globals.body[e]=n,this.updateStyles(t),n}))}updateStyles(e){return i(this,void 0,void 0,(function*(){this.objectStorage.updateObject("styles",e)}))}mergeStyles(e){return i(this,void 0,void 0,(function*(){const t=yield this.getStyles();yield this.updateStyles(o.merge(t,e))}))}updateStyle(e){return i(this,void 0,void 0,(function*(){if(!e)throw new Error("Style cannot be empty.");if(!e.key)throw new Error("Style doesn't have key.");const t=yield this.getStyles();a.setValue(e.key,t,e),yield this.updateStyles(t)}))}getVariations(e,t){return i(this,void 0,void 0,(function*(){if(!e)throw new Error('Parameter "categoryName" not specified.');const n=yield this.getStyles();let i;i=t?n[e][t]:n[e];const o=Object.keys(i),r=this.getAllowedStates(i);return o.map(e=>{const t=i[e];return r&&"default"!==e&&(t.allowedStates=r),t})}))}getAllowedStates(e){const t=e.default.allowedStates;if(t)return t}getComponentVariations(e){return i(this,void 0,void 0,(function*(){if(!e)throw new Error('Parameter "componentName" not specified.');const t=(yield this.getStyles()).components[e],n=this.getAllowedStates(t);return Object.keys(t).map(e=>{const i=t[e];return n&&"default"!==e&&(i.allowedStates=n),i})}))}removeStyle(e){return i(this,void 0,void 0,(function*(){if(!e)throw new Error('Parameter "styleKey" not specified.');const t=yield this.getStyles();a.deleteNodeAt(""+e,t),this.objectStorage.updateObject("styles",t)}))}checkStyleIsInUse(e){return i(this,void 0,void 0,(function*(){if(!e)throw new Error('Parameter "styleKey" not specified.');const t=yield this.getStyles(),n=a.getObjectAt(e,t);return r.findNodesRecursively(t=>{let i=!1;return t!==n&&t.displayName&&r.findNodesRecursively(t=>{let n=!1;return Object.keys(t).forEach(i=>{t[i]===e&&(n=!0)}),n},t).length>0&&(i=!0),i},t)}))}}},function(e,t,n){var i=n(10),o=n(158),r=n(13),a=n(50),s=Object.defineProperty;t.f=i?s:function(e,t,n){if(r(e),t=a(t,!0),r(n),o)try{return s(e,t,n)}catch(i){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(506),t),o(n(507),t),o(n(508),t),o(n(509),t),o(n(510),t),o(n(511),t),o(n(512),t),o(n(513),t),o(n(514),t),o(n(515),t)},function(e,t,n){var i=n(61),o=Math.min;e.exports=function(e){return e>0?o(i(e),9007199254740991):0}},function(e,t,n){var i=n(10),o=n(7),r=n(22),a=Object.defineProperty,s={},l=function(e){throw e};e.exports=function(e,t){if(r(s,e))return s[e];t||(t={});var n=[][e],c=!!r(t,"ACCESSORS")&&t.ACCESSORS,u=r(t,0)?t[0]:l,d=r(t,1)?t[1]:void 0;return s[e]=!!n&&!o((function(){if(c&&!i)return!0;var e={length:-1};c?a(e,1,{enumerable:!0,get:l}):e[1]=1,n.call(e,u,d)}))}},function(e,t,n){var i=n(53),o=n(22),r=n(181),a=n(21).f;e.exports=function(e){var t=i.Symbol||(i.Symbol={});o(t,e)||a(t,e,{value:r.f(e)})}},function(e,t,n){"use strict";n.r(t),n.d(t,"RuleList",(function(){return q})),n.d(t,"SheetsManager",(function(){return me})),n.d(t,"SheetsRegistry",(function(){return J})),n.d(t,"create",(function(){return ge})),n.d(t,"createGenerateId",(function(){return ne})),n.d(t,"createRule",(function(){return p})),n.d(t,"getDynamicStyles",(function(){return fe})),n.d(t,"hasCSSTOMSupport",(function(){return ve})),n.d(t,"sheets",(function(){return Q})),n.d(t,"toCssValue",(function(){return f}));var i=n(11),o=n(59),r=n(49);function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function l(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var u={}.constructor;function d(e){if(null==e||"object"!=typeof e)return e;if(Array.isArray(e))return e.map(d);if(e.constructor!==u)return e;var t={};for(var n in e)t[n]=d(e[n]);return t}function p(e,t,n){void 0===e&&(e="unnamed");var i=n.jss,o=d(t);return i.plugins.onCreateRule(e,o,n)||(e[0],null)}var h=function(e,t){for(var n="",i=0;i<e.length&&"!important"!==e[i];i++)n&&(n+=t),n+=e[i];return n};function f(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var i=0;i<e.length&&"!important"!==e[i];i++)n&&(n+=", "),n+=h(e[i]," ");else n=h(e,", ");return t||"!important"!==e[e.length-1]||(n+=" !important"),n}function m(e,t){for(var n="",i=0;i<t;i++)n+="  ";return n+e}function v(e,t,n){void 0===n&&(n={});var i="";if(!t)return i;var o=n.indent,r=void 0===o?0:o,a=t.fallbacks;if(e&&r++,a)if(Array.isArray(a))for(var s=0;s<a.length;s++){var l=a[s];for(var c in l){var u=l[c];null!=u&&(i&&(i+="\n"),i+=""+m(c+": "+f(u)+";",r))}}else for(var d in a){var p=a[d];null!=p&&(i&&(i+="\n"),i+=""+m(d+": "+f(p)+";",r))}for(var h in t){var v=t[h];null!=v&&"fallbacks"!==h&&(i&&(i+="\n"),i+=""+m(h+": "+f(v)+";",r))}return(i||n.allowEmpty)&&e?(i&&(i="\n"+i+"\n"),m(e+" {"+i,--r)+m("}",r)):i}var g=/([[\].#*$><+~=|^:(),"'`\s])/g,y="undefined"!=typeof CSS&&CSS.escape,b=function(e){return y?y(e):e.replace(g,"\\$1")},x=function(){function e(e,t,n){this.type="style",this.key=void 0,this.isProcessed=!1,this.style=void 0,this.renderer=void 0,this.renderable=void 0,this.options=void 0;var i=n.sheet,o=n.Renderer;this.key=e,this.options=n,this.style=t,i?this.renderer=i.renderer:o&&(this.renderer=new o)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var i=!!n&&n.force;if(!i&&this.style[e]===t)return this;var o=t;n&&!1===n.process||(o=this.options.jss.plugins.onChangeValue(t,e,this));var r=null==o||!1===o,a=e in this.style;if(r&&!a&&!i)return this;var s=r&&a;if(s?delete this.style[e]:this.style[e]=o,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,o),this;var l=this.options.sheet;return l&&l.attached,this},e}(),w=function(e){function t(t,n,i){var o;(o=e.call(this,t,n,i)||this).selectorText=void 0,o.id=void 0,o.renderable=void 0;var r=i.selector,a=i.scoped,s=i.sheet,l=i.generateId;return r?o.selectorText=r:!1!==a&&(o.id=l(c(c(o)),s),o.selectorText="."+b(o.id)),o}l(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var i in n)t.setProperty(e,i,n[i])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!=typeof n?e[t]=n:Array.isArray(n)&&(e[t]=f(n))}return e},n.toString=function(e){var t=this.options.sheet,n=t&&t.options.link?Object(i.a)({},e,{allowEmpty:!0}):e;return v(this.selectorText,this.style,n)},s(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;n&&t&&(t.setSelector(n,e)||t.replaceRule(n,this))}},get:function(){return this.selectorText}}]),t}(x),S={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new w(e,t,n)}},k={indent:1,children:!0},C=/@([\w-]+)/,M=function(){function e(e,t,n){this.type="conditional",this.at=void 0,this.key=void 0,this.query=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.query=n.name;var o=e.match(C);for(var r in this.at=o?o[1]:"unknown",this.options=n,this.rules=new q(Object(i.a)({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),i):null},t.toString=function(e){if(void 0===e&&(e=k),null==e.indent&&(e.indent=k.indent),null==e.children&&(e.children=k.children),!1===e.children)return this.query+" {}";var t=this.rules.toString(e);return t?this.query+" {\n"+t+"\n}":""},e}(),_=/@media|@supports\s+/,O={onCreateRule:function(e,t,n){return _.test(e)?new M(e,t,n):null}},P={indent:1,children:!0},E=/@keyframes\s+([\w-]+)/,T=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.key=void 0,this.name=void 0,this.id=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0;var o=e.match(E);o&&o[1]?this.name=o[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var r=n.scoped,a=n.sheet,s=n.generateId;for(var l in this.id=!1===r?this.name:b(s(this,a)),this.rules=new q(Object(i.a)({},n,{parent:this})),t)this.rules.add(l,t[l],Object(i.a)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){if(void 0===e&&(e=P),null==e.indent&&(e.indent=P.indent),null==e.children&&(e.children=P.children),!1===e.children)return this.at+" "+this.id+" {}";var t=this.rules.toString(e);return t&&(t="\n"+t+"\n"),this.at+" "+this.id+" {"+t+"}"},e}(),j=/@keyframes\s+/,R=/\$([\w-]+)/g,N=function(e,t){return"string"==typeof e?e.replace(R,(function(e,n){return n in t?t[n]:e})):e},A=function(e,t,n){var i=e[t],o=N(i,n);o!==i&&(e[t]=o)},D={onCreateRule:function(e,t,n){return"string"==typeof e&&j.test(e)?new T(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&A(e,"animation-name",n.keyframes),"animation"in e&&A(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var i=n.options.sheet;if(!i)return e;switch(t){case"animation":case"animation-name":return N(e,i.keyframes);default:return e}}},B=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).renderable=void 0,t}return l(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=t&&t.options.link?Object(i.a)({},e,{allowEmpty:!0}):e;return v(this.key,this.style,n)},t}(x),I={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new B(e,t,n):null}},L=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.style)){for(var t="",n=0;n<this.style.length;n++)t+=v(this.at,this.style[n]),this.style[n+1]&&(t+="\n");return t}return v(this.at,this.style,e)},e}(),U=/@font-face/,F={onCreateRule:function(e,t,n){return U.test(e)?new L(e,t,n):null}},z=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return v(this.key,this.style,e)},e}(),H={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new z(e,t,n):null}},V=function(){function e(e,t,n){this.type="simple",this.key=void 0,this.value=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),W={"@charset":!0,"@import":!0,"@namespace":!0},$=[S,O,D,I,F,H,{onCreateRule:function(e,t,n){return e in W?new V(e,t,n):null}}],K={process:!0},G={force:!0,process:!0},q=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=void 0,this.classes=void 0,this.keyframes=void 0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var o=this.options,r=o.parent,a=o.sheet,s=o.jss,l=o.Renderer,c=o.generateId,u=o.scoped,d=Object(i.a)({classes:this.classes,parent:r,sheet:a,jss:s,Renderer:l,generateId:c,scoped:u,name:e,keyframes:this.keyframes,selector:void 0},n),h=e;e in this.raw&&(h=e+"-d"+this.counter++),this.raw[h]=t,h in this.classes&&(d.selector="."+b(this.classes[h]));var f=p(h,t,d);if(!f)return null;this.register(f);var m=void 0===d.index?this.index.length:d.index;return this.index.splice(m,0,f),f},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof w?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof T&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof w?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof T&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"==typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.map[e],t,n);else for(var i=0;i<this.index.length;i++)this.updateOne(this.index[i],t,n)},t.updateOne=function(t,n,i){void 0===i&&(i=K);var o=this.options,r=o.jss.plugins,a=o.sheet;if(t.rules instanceof e)t.rules.update(n,i);else{var s=t,l=s.style;if(r.onUpdate(n,t,a,i),i.process&&l&&l!==s.style){for(var c in r.onProcessStyle(s.style,s,a),s.style){var u=s.style[c];u!==l[c]&&s.prop(c,u,G)}for(var d in l){var p=s.style[d],h=l[d];null==p&&p!==h&&s.prop(d,null,G)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,i=!!n&&n.options.link,o=0;o<this.index.length;o++){var r=this.index[o].toString(e);(r||i)&&(t&&(t+="\n"),t+=r)}return t},e}(),Y=function(){function e(e,t){for(var n in this.options=void 0,this.deployed=void 0,this.attached=void 0,this.rules=void 0,this.renderer=void 0,this.classes=void 0,this.keyframes=void 0,this.queue=void 0,this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Object(i.a)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new q(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var i=this.queue;this.attached&&!i&&(this.queue=[]);var o=this.rules.add(e,t,n);return o?(this.options.jss.plugins.onProcessRule(o),this.attached?this.deployed?(i?i.push(o):(this.insertRule(o),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),o):o:(this.deployed=!1,o)):null},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var i in e){var o=this.addRule(i,e[i],t);o&&n.push(o)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"==typeof e?e:this.rules.get(e);return!!t&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),X=function(){function e(){this.plugins={internal:[],external:[]},this.registry=void 0}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var i=0;i<this.registry.onCreateRule.length;i++){var o=this.registry.onCreateRule[i](e,t,n);if(o)return o}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var i=0;i<this.registry.onProcessStyle.length;i++)t.style=this.registry.onProcessStyle[i](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,i){for(var o=0;o<this.registry.onUpdate.length;o++)this.registry.onUpdate[o](e,t,n,i)},t.onChangeValue=function(e,t,n){for(var i=e,o=0;o<this.registry.onChangeValue.length;o++)i=this.registry.onChangeValue[o](i,t,n);return i},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),J=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var i=0;i<t.length;i++)if(t[i].options.index>n)return void t.splice(i,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,i=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(t,["attached"]),o="",r=0;r<this.registry.length;r++){var a=this.registry[r];null!=n&&a.attached!==n||(o&&(o+="\n"),o+=a.toString(i))}return o},s(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),Q=new J,Z="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),ee="2f1acc6c3a606b082e5eef5e54414ffb";null==Z[ee]&&(Z[ee]=0);var te=Z[ee]++,ne=function(e){void 0===e&&(e={});var t=0;return function(n,i){t+=1;var o="",r="";return i&&(i.options.classNamePrefix&&(r=i.options.classNamePrefix),null!=i.options.jss.id&&(o=String(i.options.jss.id))),e.minify?""+(r||"c")+te+o+t:r+n.key+"-"+te+(o?"-"+o:"")+"-"+t}},ie=function(e){var t;return function(){return t||(t=e()),t}};function oe(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}}function re(e,t,n){try{var i=n;if(Array.isArray(n)&&(i=f(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,i,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,i):e.style.setProperty(t,i)}catch(o){return!1}return!0}function ae(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}}function se(e,t){return e.selectorText=t,e.selectorText===t}var le=ie((function(){return document.querySelector("head")}));var ce=ie((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),ue=function(e,t,n){var i=e.cssRules.length;(void 0===n||n>i)&&(n=i);try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(o){return!1}return e.cssRules[n]},de=function(){function e(e){this.getPropertyValue=oe,this.setProperty=re,this.removeProperty=ae,this.setSelector=se,this.element=void 0,this.sheet=void 0,this.hasInsertedRules=!1,e&&Q.add(e),this.sheet=e;var t,n=this.sheet?this.sheet.options:{},i=n.media,o=n.meta,r=n.element;this.element=r||((t=document.createElement("style")).textContent="\n",t),this.element.setAttribute("data-jss",""),i&&this.element.setAttribute("media",i),o&&this.element.setAttribute("data-meta",o);var a=ce();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,i=function(e){var t=Q.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(i.attached&&i.options.index>t.index&&i.options.insertionPoint===t.insertionPoint)return i}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if((n=function(e,t){for(var n=e.length-1;n>=0;n--){var i=e[n];if(i.attached&&i.options.insertionPoint===t.insertionPoint)return i}return null}(t,e))&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var i=e.insertionPoint;if(i&&"string"==typeof i){var o=function(e){for(var t=le(),n=0;n<t.childNodes.length;n++){var i=t.childNodes[n];if(8===i.nodeType&&i.nodeValue.trim()===e)return i}return null}(i);if(o)return{parent:o.parentNode,node:o.nextSibling}}return!1}(t);if(!1!==i&&i.parent)i.parent.insertBefore(e,i.node);else if(n&&"number"==typeof n.nodeType){var o=n,r=o.parentNode;r&&r.insertBefore(e,o.nextSibling)}else le().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){var e=this.element.parentNode;e&&e.removeChild(this.element)},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var i=e,o=n;return("conditional"!==e.type&&"keyframes"!==e.type||!1!==(o=ue(n,i.toString({children:!1}),t)))&&(this.insertRules(i.rules,o),o)}if(e.renderable&&e.renderable.parentStyleSheet===this.element.sheet)return e.renderable;var r=e.toString();if(!r)return!1;var a=ue(n,r,t);return!1!==a&&(this.hasInsertedRules=!0,e.renderable=a,a)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),!0)},t.indexOf=function(e){for(var t=this.element.sheet.cssRules,n=0;n<t.length;n++)if(e===t[n])return n;return-1},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),pe=0,he=function(){function e(e){this.id=pe++,this.version="10.4.0",this.plugins=new X,this.options={id:{minify:!1},createGenerateId:ne,Renderer:o.a?de:null,plugins:[]},this.generateId=ne({minify:!1});for(var t=0;t<$.length;t++)this.plugins.use($[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=Object(i.a)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!=typeof n&&(n=0===Q.index?0:Q.index+1);var o=new Y(e,Object(i.a)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(o),o},t.removeStyleSheet=function(e){return e.detach(),Q.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"==typeof e)return this.createRule(void 0,e,t);var o=Object(i.a)({},n,{name:e,jss:this,Renderer:this.options.Renderer});o.generateId||(o.generateId=this.generateId),o.classes||(o.classes={}),o.keyframes||(o.keyframes={});var r=p(e,t,o);return r&&this.plugins.onProcessRule(r),r},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.forEach((function(t){e.plugins.use(t)})),this},e}();function fe(e){var t=null;for(var n in e){var i=e[n],o=typeof i;if("function"===o)t||(t={}),t[n]=i;else if("object"===o&&null!==i&&!Array.isArray(i)){var r=fe(i);r&&(t||(t={}),t[n]=r)}}return t}var me=function(){function e(){this.length=0,this.sheets=new WeakMap}var t=e.prototype;return t.get=function(e){var t=this.sheets.get(e);return t&&t.sheet},t.add=function(e,t){this.sheets.has(e)||(this.length++,this.sheets.set(e,{sheet:t,refs:0}))},t.manage=function(e){var t=this.sheets.get(e);if(t)return 0===t.refs&&t.sheet.attach(),t.refs++,t.sheet;Object(r.a)(!1,"[JSS] SheetsManager: can't find sheet to manage")},t.unmanage=function(e){var t=this.sheets.get(e);t?t.refs>0&&(t.refs--,0===t.refs&&t.sheet.detach()):Object(r.a)(!1,"SheetsManager: can't find sheet to unmanage")},s(e,[{key:"size",get:function(){return this.length}}]),e}(),ve="undefined"!=typeof CSS&&CSS&&"number"in CSS,ge=function(e){return new he(e)},ye=ge();t.default=ye},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",t.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",t.NULL_ARGUMENT="NULL argument",t.KEY_NOT_FOUND="Key Not Found",t.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",t.CANNOT_UNBIND="Could not unbind serviceIdentifier:",t.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",t.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",t.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:",t.UNDEFINED_INJECT_ANNOTATION=function(e){return"@inject called with undefined this could mean that the class "+e+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},t.CIRCULAR_DEPENDENCY="Circular dependency found:",t.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",t.INVALID_BINDING_TYPE="Invalid binding type:",t.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",t.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",t.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",t.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",t.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",t.ARGUMENTS_LENGTH_MISMATCH=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"The number of constructor arguments in the derived class "+e[0]+" must be >= than the number of constructor arguments of its base class."},t.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",t.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",t.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",t.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",t.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class",t.POST_CONSTRUCT_ERROR=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"@postConstruct error in class "+e[0]+": "+e[1]},t.CIRCULAR_DEPENDENCY_IN_FACTORY=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"It looks like there is a circular dependency in one of the '"+e[0]+"' bindings. Please investigate bindings withservice identifier '"+e[1]+"'."},t.STACK_OVERFLOW="Maximum call stack size exceeded"},function(e,t,n){"use strict";function i(e){return void 0!==e&&e&&"object"==typeof e&&!Array.isArray(e)}function o(e,t,n="/"){const i=e.split(n);let o=t;for(const r of i)if(o=o[r],null==o)return o;return o}function r(e,t,n=!1){const o={};return i(e)&&i(t)&&Object.keys(t).forEach(a=>{const s=t[a];i(s)&&void 0!==e[a]&&null!==e[a]?o[a]=r(e[a],s,n):e[a]!==s&&(o[a]=e[a]||null,e[a]=s,n&&(null!==e[a]&&void 0!==e[a]||delete e[a]))}),o}function a(e,t,n="/"){const i=e.split(n);let o=t;return i.forEach(e=>{o[e]||(o[e]={}),o=o[e]}),o}function s(e,t,n){const i=o(e,c(t));return l(e,t,n),i}function l(e,t,n){const i=e.split("/");let o=t;for(let r=0;r<i.length-1;r++){const e=i[r];o[e]||(o[e]={}),o=o[e]}o[i[i.length-1]]=n}function c(e){return JSON.parse(JSON.stringify(e))}Object.defineProperty(t,"__esModule",{value:!0}),t.isEmpty=t.findObjects=t.clone=t.deleteNodeAt=t.setValue=t.setValueWithCompensation=t.cleanupObject=t.setStructure=t.mergeDeepAt=t.mergeDeep=t.getObjectAt=t.isObject=void 0,t.isObject=i,t.getObjectAt=o,t.mergeDeep=r,t.mergeDeepAt=function(e,t,n,i=!1){Array.isArray(n)?s(e,t,n):r(a(e,t),n,i)},t.setStructure=a,t.cleanupObject=function e(t,n=!1,i=!1){t instanceof Object&&Object.keys(t).forEach(o=>{const r=t[o];Array.isArray(r)?(r.forEach(t=>e(t,n,i)),0===r.length&&(t[o]=null,n&&delete t[o])):r instanceof Object?(e(r,n,i),0===Object.keys(r).length&&delete t[o]):(void 0===r||n&&null===r||i&&""===r)&&delete t[o]})},t.setValueWithCompensation=s,t.setValue=l,t.deleteNodeAt=function(e,t){const n=e.split("/");let i=t;for(let o=0;o<n.length-1;o++){const e=n[o];i[e]||(i[e]={}),i=i[e]}delete i[n[n.length-1]]},t.clone=c,t.findObjects=function e(t,n){let i=[];const o=Object.keys(t);for(const r of o){const o=t[r];if(n(o))i.push(o);else{const t=e(o,n);i=i.concat(t)}}return i},t.isEmpty=function(e){return!e||0===Object.keys(e).length}},function(e,t,n){var i=n(10),o=n(91),r=n(62),a=n(32),s=n(50),l=n(22),c=n(158),u=Object.getOwnPropertyDescriptor;t.f=i?u:function(e,t){if(e=a(e),t=s(t,!0),c)try{return u(e,t)}catch(n){}if(l(e,t))return r(!o.f.call(e,t),e[t])}},function(e,t,n){var i=n(70),o=n(110);e.exports=function(e){return i(o(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(18),o=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.toString=function(){return this.key===i.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},e}();t.Metadata=o},function(e,t,n){var i=n(53),o=n(12),r=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?r(i[e])||r(o[e]):i[e]&&i[e][t]||o[e]&&o[e][t]}},function(e,t,n){"use strict";var i=n(7);e.exports=function(e,t){var n=[][e];return!!n&&i((function(){n.call(null,t||function(){throw 1},1)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingScopeEnum={Request:"Request",Singleton:"Singleton",Transient:"Transient"},t.BindingTypeEnum={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"},t.TargetTypeEnum={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(549),t),o(n(550),t),o(n(551),t),o(n(552),t),o(n(553),t)},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.PlaceholderViewModel=void 0;const r=n(0),a=n(599),s=n(2);let l=class{constructor(e){this.title=r.observable(e)}};l=i([s.Component({selector:"paperbits-placeholder",template:a.default}),o("design:paramtypes",[String])],l),t.PlaceholderViewModel=l},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(i){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var i=n(10),o=n(21),r=n(62);e.exports=i?function(e,t,n){return o.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var i=n(22),o=n(14),r=n(89),a=n(120),s=r("IE_PROTO"),l=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=o(e),i(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},function(e,t,n){var i=n(15),o=n(72),r=n(21),a=i("unscopables"),s=Array.prototype;null==s[a]&&r.f(s,a,{configurable:!0,value:o(null)}),e.exports=function(e){s[a][e]=!0}},function(e,t,n){var i=n(75),o=n(70),r=n(14),a=n(24),s=n(76),l=[].push,c=function(e){var t=1==e,n=2==e,c=3==e,u=4==e,d=6==e,p=5==e||d;return function(h,f,m,v){for(var g,y,b=r(h),x=o(b),w=i(f,m,3),S=a(x.length),k=0,C=v||s,M=t?C(h,S):n?C(h,0):void 0;S>k;k++)if((p||k in x)&&(y=w(g=x[k],k,b),e))if(t)M[k]=y;else if(y)switch(e){case 3:return!0;case 5:return g;case 6:return k;case 2:l.call(M,g)}else if(u)return!1;return d?-1:c||u?u:M}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(29),o=n(18);function r(e,t,n,o,r){var a={},s="number"==typeof r,l=void 0!==r&&s?r.toString():n;if(s&&void 0!==n)throw new Error(i.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(e,t)&&(a=Reflect.getMetadata(e,t));var c=a[l];if(Array.isArray(c))for(var u=0,d=c;u<d.length;u++){var p=d[u];if(p.key===o.key)throw new Error(i.DUPLICATED_METADATA+" "+p.key.toString())}else c=[];c.push(o),a[l]=c,Reflect.defineMetadata(e,a,t)}function a(e,t){Reflect.decorate(e,t)}function s(e,t){return function(n,i){t(n,i,e)}}t.tagParameter=function(e,t,n,i){r(o.TAGGED,e,t,i,n)},t.tagProperty=function(e,t,n){r(o.TAGGED_PROP,e.constructor,t,n)},t.decorate=function(e,t,n){"number"==typeof n?a([s(n,e)],t):"string"==typeof n?Reflect.decorate([e],t,n):a([e],t)}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(467),t),o(n(468),t),o(n(469),t),o(n(470),t),o(n(471),t),o(n(472),t),o(n(473),t),o(n(474),t),o(n(475),t),o(n(476),t),o(n(477),t),o(n(200),t),o(n(478),t),o(n(479),t),o(n(480),t)},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(524),t),o(n(525),t),o(n(526),t),o(n(527),t)},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(97),t),o(n(20),t),o(n(226),t),o(n(225),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JssCompiler=void 0;const i=n(27),o=n(1017),r=n(6),a=n(8),s=o.default();s.createGenerateId=()=>(e,t)=>r.camelCaseToKebabCase(e.key),i.default.setup(s),t.JssCompiler=class{flattenMediaQueries(e,t){const n=e.map(e=>e.nestedMediaQueries).reduce((e,t)=>e.concat(t),[]),i=t.map(e=>e.nestedMediaQueries).reduce((e,t)=>e.concat(t),[]),o=[];for(const r of Object.values(a.BreakpointValues)){const e=new a.StyleMediaQuery(r);n.filter(e=>e.minWidth===r).forEach(t=>e.styles.push(...t.styles)),i.filter(e=>e.minWidth===r).forEach(t=>e.globalStyles.push(...t.styles)),o.push(e)}return o}styleSheetToCss(e){const t=`{ "@global": { ${e.globalStyles.map(e=>e.toJssString()).filter(e=>!!e).join(",")} } }`,n=JSON.parse(t),o=i.default.createStyleSheet(n).toString(),r=`{${[`"@font-face":[${e.fontFaces.map(e=>e.toJssString()).join(",")}]`,e.styles.map(e=>e.toJssString()).filter(e=>!!e).join(","),this.flattenMediaQueries(e.styles,e.globalStyles).map(e=>e.toJssString()).filter(e=>!!e).join(",")].filter(e=>!!e).join(",")}}`,a=JSON.parse(r);return`${o} ${i.default.createStyleSheet(a).toString()}`}compile(...e){return e.map(e=>this.styleSheetToCss(e)).join(" ").replace(/\n/g,"").replace(/\s\s+/g," ")}}},function(e,t,n){"use strict";t.a=function(e,t){}},function(e,t,n){var i=n(9);e.exports=function(e,t){if(!i(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!i(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!i(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!i(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=!1},function(e,t,n){var i=n(12),o=n(40),r=n(22),a=n(112),s=n(111),l=n(68),c=l.get,u=l.enforce,d=String(String).split("String");(e.exports=function(e,t,n,s){var l=!!s&&!!s.unsafe,c=!!s&&!!s.enumerable,p=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof t||r(n,"name")||o(n,"name",t),u(n).source=d.join("string"==typeof t?t:"")),e!==i?(l?!p&&e[t]&&(c=!0):delete e[t],c?e[t]=n:o(e,t,n)):c?e[t]=n:a(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s(this)}))},function(e,t,n){var i=n(12);e.exports=i},function(e,t,n){"use strict";var i=n(50),o=n(21),r=n(62);e.exports=function(e,t,n){var a=i(t);a in e?o.f(e,a,r(0,n)):e[a]=n}},function(e,t,n){var i=n(63);e.exports=Array.isArray||function(e){return"Array"==i(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=0;t.id=function(){return i++}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(80),t),o(n(545),t),o(n(546),t),o(n(209),t),o(n(547),t),o(n(548),t)},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(589),t),o(n(590),t),o(n(591),t),o(n(592),t),o(n(593),t)},function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o="object"===("undefined"==typeof window?"undefined":i(window))&&"object"===("undefined"==typeof document?"undefined":i(document))&&9===document.nodeType;t.a=o},function(e,t,n){(function(e){var i=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function r(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new r(o.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new r(o.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(312),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(39))},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var i=n(21).f,o=n(22),r=n(15)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,r)&&i(e,r,{configurable:!0,value:t})}},function(e,t,n){(function(e,t){var n;!function(n){!function(i){var o="object"==typeof t?t:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),r=a(n);function a(e,t){return function(n,i){"function"!=typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:i}),t&&t(n,i)}}void 0===o.Reflect?o.Reflect=n:r=a(o.Reflect,r),function(t){var n=Object.prototype.hasOwnProperty,i="function"==typeof Symbol,o=i&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",r=i&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",a="function"==typeof Object.create,s={__proto__:[]}instanceof Array,l=!a&&!s,c={create:a?function(){return N(Object.create(null))}:s?function(){return N({__proto__:null})}:function(){return N({})},has:l?function(e,t){return n.call(e,t)}:function(e,t){return t in e},get:l?function(e,t){return n.call(e,t)?e[t]:void 0}:function(e,t){return e[t]}},u=Object.getPrototypeOf(Function),d="object"==typeof e&&e.env&&"true"===e.env.REFLECT_METADATA_USE_MAP_POLYFILL,p=d||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[r]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var i=this._keys.length,o=n+1;o<i;o++)this._keys[o-1]=this._keys[o],this._values[o-1]=this._values[o];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,i)},t.prototype.values=function(){return new n(this._keys,this._values,o)},t.prototype.entries=function(){return new n(this._keys,this._values,a)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[r]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function i(e,t){return e}function o(e,t){return t}function a(e,t){return[e,t]}}():Map,h=d||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function e(){this._map=new p}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[r]=function(){return this.keys()},e}():Set,f=new(d||"function"!=typeof WeakMap?function(){var e=c.create(),t=i();return function(){function e(){this._key=i()}return e.prototype.has=function(e){var t=o(e,!1);return void 0!==t&&c.has(t,this._key)},e.prototype.get=function(e){var t=o(e,!1);return void 0!==t?c.get(t,this._key):void 0},e.prototype.set=function(e,t){return o(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=o(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=i()},e}();function i(){var t;do{t="@@WeakMap@@"+a()}while(c.has(e,t));return e[t]=!0,t}function o(e,i){if(!n.call(e,t)){if(!i)return;Object.defineProperty(e,t,{value:c.create()})}return e[t]}function r(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function a(){var e,t=(e=16,"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):r(new Uint8Array(e),e):r(new Array(e),e));t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var n="",i=0;i<16;++i){var o=t[i];4!==i&&6!==i&&8!==i||(n+="-"),o<16&&(n+="0"),n+=o.toString(16).toLowerCase()}return n}}():WeakMap);function m(e,t,n){var i=f.get(e);if(w(i)){if(!n)return;i=new p,f.set(e,i)}var o=i.get(t);if(w(o)){if(!n)return;o=new p,i.set(t,o)}return o}function v(e,t,n){var i=m(t,n,!1);return!w(i)&&!!i.has(e)}function g(e,t,n){var i=m(t,n,!1);if(!w(i))return i.get(e)}function y(e,t,n,i){m(n,i,!0).set(e,t)}function b(e,t){var n=[],i=m(e,t,!1);if(w(i))return n;for(var o=function(e){var t=E(e,r);if(!O(t))throw new TypeError;var n=t.call(e);if(!k(n))throw new TypeError;return n}(i.keys()),a=0;;){var s=T(o);if(!s)return n.length=a,n;var l=s.value;try{n[a]=l}catch(c){try{j(o)}finally{throw c}}a++}}function x(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function w(e){return void 0===e}function S(e){return null===e}function k(e){return"object"==typeof e?null!==e:"function"==typeof e}function C(e,t){switch(x(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",i=E(e,o);if(void 0!==i){var r=i.call(e,n);if(k(r))throw new TypeError;return r}return function(e,t){if("string"===t){var n=e.toString;if(O(n)&&!k(o=n.call(e)))return o;if(O(i=e.valueOf)&&!k(o=i.call(e)))return o}else{var i;if(O(i=e.valueOf)&&!k(o=i.call(e)))return o;var o,r=e.toString;if(O(r)&&!k(o=r.call(e)))return o}throw new TypeError}(e,"default"===n?"number":n)}function M(e){var t=C(e,3);return"symbol"==typeof t?t:function(e){return""+e}(t)}function _(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function O(e){return"function"==typeof e}function P(e){return"function"==typeof e}function E(e,t){var n=e[t];if(null!=n){if(!O(n))throw new TypeError;return n}}function T(e){var t=e.next();return!t.done&&t}function j(e){var t=e.return;t&&t.call(e)}function R(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===u)return t;if(t!==u)return t;var n=e.prototype,i=n&&Object.getPrototypeOf(n);if(null==i||i===Object.prototype)return t;var o=i.constructor;return"function"!=typeof o||o===e?t:o}function N(e){return e.__=void 0,delete e.__,e}t("decorate",(function(e,t,n,i){if(w(n)){if(!_(e))throw new TypeError;if(!P(t))throw new TypeError;return function(e,t){for(var n=e.length-1;n>=0;--n){var i=(0,e[n])(t);if(!w(i)&&!S(i)){if(!P(i))throw new TypeError;t=i}}return t}(e,t)}if(!_(e))throw new TypeError;if(!k(t))throw new TypeError;if(!k(i)&&!w(i)&&!S(i))throw new TypeError;return S(i)&&(i=void 0),function(e,t,n,i){for(var o=e.length-1;o>=0;--o){var r=(0,e[o])(t,n,i);if(!w(r)&&!S(r)){if(!k(r))throw new TypeError;i=r}}return i}(e,t,n=M(n),i)})),t("metadata",(function(e,t){return function(n,i){if(!k(n))throw new TypeError;if(!w(i)&&!function(e){switch(x(e)){case 3:case 4:return!0;default:return!1}}(i))throw new TypeError;y(e,t,n,i)}})),t("defineMetadata",(function(e,t,n,i){if(!k(n))throw new TypeError;return w(i)||(i=M(i)),y(e,t,n,i)})),t("hasMetadata",(function(e,t,n){if(!k(t))throw new TypeError;return w(n)||(n=M(n)),function e(t,n,i){if(v(t,n,i))return!0;var o=R(n);return!S(o)&&e(t,o,i)}(e,t,n)})),t("hasOwnMetadata",(function(e,t,n){if(!k(t))throw new TypeError;return w(n)||(n=M(n)),v(e,t,n)})),t("getMetadata",(function(e,t,n){if(!k(t))throw new TypeError;return w(n)||(n=M(n)),function e(t,n,i){if(v(t,n,i))return g(t,n,i);var o=R(n);return S(o)?void 0:e(t,o,i)}(e,t,n)})),t("getOwnMetadata",(function(e,t,n){if(!k(t))throw new TypeError;return w(n)||(n=M(n)),g(e,t,n)})),t("getMetadataKeys",(function(e,t){if(!k(e))throw new TypeError;return w(t)||(t=M(t)),function e(t,n){var i=b(t,n),o=R(t);if(null===o)return i;var r=e(o,n);if(r.length<=0)return i;if(i.length<=0)return r;for(var a=new h,s=[],l=0,c=i;l<c.length;l++){var u=c[l];a.has(u)||(a.add(u),s.push(u))}for(var d=0,p=r;d<p.length;d++)u=p[d],a.has(u)||(a.add(u),s.push(u));return s}(e,t)})),t("getOwnMetadataKeys",(function(e,t){if(!k(e))throw new TypeError;return w(t)||(t=M(t)),b(e,t)})),t("deleteMetadata",(function(e,t,n){if(!k(t))throw new TypeError;w(n)||(n=M(n));var i=m(t,n,!1);if(w(i))return!1;if(!i.delete(e))return!1;if(i.size>0)return!0;var o=f.get(t);return o.delete(n),o.size>0||f.delete(t),!0}))}(r)}()}(n||(n={}))}).call(this,n(88),n(39))},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(481),t),o(n(482),t),o(n(483),t),o(n(484),t),o(n(485),t),o(n(486),t),o(n(487),t),o(n(488),t),o(n(489),t),o(n(490),t),o(n(491),t),o(n(492),t),o(n(493),t),o(n(494),t),o(n(495),t),o(n(496),t),o(n(497),t),o(n(498),t)},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(500),t),o(n(501),t),o(n(203),t)},function(e,t,n){var i,o,r,a=n(317),s=n(12),l=n(9),c=n(40),u=n(22),d=n(89),p=n(69),h=s.WeakMap;if(a){var f=new h,m=f.get,v=f.has,g=f.set;i=function(e,t){return g.call(f,e,t),t},o=function(e){return m.call(f,e)||{}},r=function(e){return v.call(f,e)}}else{var y=d("state");p[y]=!0,i=function(e,t){return c(e,y,t),t},o=function(e){return u(e,y)?e[y]:{}},r=function(e){return u(e,y)}}e.exports={set:i,get:o,has:r,enforce:function(e){return r(e)?o(e):i(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t){e.exports={}},function(e,t,n){var i=n(7),o=n(63),r="".split;e.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?r.call(e,""):Object(e)}:Object},function(e,t,n){var i=n(61),o=Math.max,r=Math.min;e.exports=function(e,t){var n=i(e);return n<0?o(n+t,0):r(n,t)}},function(e,t,n){var i,o=n(13),r=n(165),a=n(118),s=n(69),l=n(166),c=n(113),u=n(89)("IE_PROTO"),d=function(){},p=function(e){return"<script>"+e+"<\/script>"},h=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(o){}var e,t;h=i?function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t}(i):((t=c("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F);for(var n=a.length;n--;)delete h.prototype[a[n]];return h()};s[u]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(d.prototype=o(e),n=new d,d.prototype=null,n[u]=e):n=h(),void 0===t?n:r(n,t)}},function(e,t,n){var i=n(161),o=n(118);e.exports=Object.keys||function(e){return i(e,o)}},function(e,t){e.exports={}},function(e,t,n){var i=n(28);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,o){return e.call(t,n,i,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var i=n(9),o=n(55),r=n(15)("species");e.exports=function(e,t){var n;return o(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!o(n.prototype)?i(n)&&null===(n=n[r])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t,n){var i=n(7),o=n(15),r=n(124),a=o("species");e.exports=function(e){return r>=51||!i((function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t,n){var i=n(7);e.exports=!i((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(29);function o(e){return"function"==typeof e?e.name:"symbol"==typeof e?e.toString():e}function r(e){if(e.name)return e.name;var t=e.toString(),n=t.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+t}t.getServiceIdentifierAsString=o,t.listRegisteredBindingsForServiceIdentifier=function(e,t,n){var i="",o=n(e,t);return 0!==o.length&&(i="\nRegistered bindings:",o.forEach((function(e){var t="Object";null!==e.implementationType&&(t=r(e.implementationType)),i=i+"\n "+t,e.constraint.metaData&&(i=i+" - "+e.constraint.metaData)}))),i},t.circularDependencyToException=function e(t){t.childRequests.forEach((function(t){if(function e(t,n){return null!==t.parentRequest&&(t.parentRequest.serviceIdentifier===n||e(t.parentRequest,n))}(t,t.serviceIdentifier)){var n=function(e){return function e(t,n){void 0===n&&(n=[]);var i=o(t.serviceIdentifier);return n.push(i),null!==t.parentRequest?e(t.parentRequest,n):n}(e).reverse().join(" --\x3e ")}(t);throw new Error(i.CIRCULAR_DEPENDENCY+" "+n)}e(t)}))},t.listMetadataForTarget=function(e,t){if(t.isTagged()||t.isNamed()){var n="",i=t.getNamedTag(),o=t.getCustomTags();return null!==i&&(n+=i.toString()+"\n"),null!==o&&o.forEach((function(e){n+=e.toString()+"\n"}))," "+e+"\n "+e+" - "+n}return" "+e},t.getFunctionName=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HyperlinkModel=void 0,t.HyperlinkModel=class{}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ModelBinderSelector=t.PlaceholderModelBinder=void 0;const o=n(94);class r{constructor(e){this.message=e}contractToModel(e){return i(this,void 0,void 0,(function*(){return new o.PlaceholderModel(`Could not find model binder for widget type "${e.type}".`)}))}modelToContract(e){return{type:"placeholder"}}canHandleModel(e){return e instanceof o.PlaceholderModel}canHandleContract(e){throw new Error("Not implemented")}}t.PlaceholderModelBinder=r,t.ModelBinderSelector=class{constructor(e){this.modelBinders=e}getModelBinderByContract(e){return this.modelBinders.find(t=>!(!t||!t.canHandleContract)&&t.canHandleContract(e))||new r}getModelBinderByModel(e){return this.modelBinders.find(t=>t.canHandleModel(e))||new r}}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(212),t),o(n(585),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextblockModel=void 0,t.TextblockModel=class{constructor(e){this.type="text-block",this.state=e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CollapsiblePanelModel=void 0,t.CollapsiblePanelModel=class{constructor(){this.widgets=[],this.styles={}}}},function(e,t,n){(function(e,i){var o;(function(){var r="Expected a function",a="__lodash_placeholder__",s=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],l="[object Arguments]",c="[object Array]",u="[object Boolean]",d="[object Date]",p="[object Error]",h="[object Function]",f="[object GeneratorFunction]",m="[object Map]",v="[object Number]",g="[object Object]",y="[object RegExp]",b="[object Set]",x="[object String]",w="[object Symbol]",S="[object WeakMap]",k="[object ArrayBuffer]",C="[object DataView]",M="[object Float32Array]",_="[object Float64Array]",O="[object Int8Array]",P="[object Int16Array]",E="[object Int32Array]",T="[object Uint8Array]",j="[object Uint16Array]",R="[object Uint32Array]",N=/\b__p \+= '';/g,A=/\b(__p \+=) '' \+/g,D=/(__e\(.*?\)|\b__t\)) \+\n'';/g,B=/&(?:amp|lt|gt|quot|#39);/g,I=/[&<>"']/g,L=RegExp(B.source),U=RegExp(I.source),F=/<%-([\s\S]+?)%>/g,z=/<%([\s\S]+?)%>/g,H=/<%=([\s\S]+?)%>/g,V=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,W=/^\w*$/,$=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,K=/[\\^$.*+?()[\]{}|]/g,G=RegExp(K.source),q=/^\s+|\s+$/g,Y=/^\s+/,X=/\s+$/,J=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Q=/\{\n\/\* \[wrapped with (.+)\] \*/,Z=/,? & /,ee=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,te=/\\(\\)?/g,ne=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ie=/\w*$/,oe=/^[-+]0x[0-9a-f]+$/i,re=/^0b[01]+$/i,ae=/^\[object .+?Constructor\]$/,se=/^0o[0-7]+$/i,le=/^(?:0|[1-9]\d*)$/,ce=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ue=/($^)/,de=/['\n\r\u2028\u2029\\]/g,pe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",he="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",fe="["+he+"]",me="["+pe+"]",ve="\\d+",ge="[a-z\\xdf-\\xf6\\xf8-\\xff]",ye="[^\\ud800-\\udfff"+he+ve+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",be="\\ud83c[\\udffb-\\udfff]",xe="[^\\ud800-\\udfff]",we="(?:\\ud83c[\\udde6-\\uddff]){2}",Se="[\\ud800-\\udbff][\\udc00-\\udfff]",ke="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Ce="(?:"+ge+"|"+ye+")",Me="(?:"+ke+"|"+ye+")",_e="(?:"+me+"|"+be+")?",Oe="[\\ufe0e\\ufe0f]?"+_e+"(?:\\u200d(?:"+[xe,we,Se].join("|")+")[\\ufe0e\\ufe0f]?"+_e+")*",Pe="(?:"+["[\\u2700-\\u27bf]",we,Se].join("|")+")"+Oe,Ee="(?:"+[xe+me+"?",me,we,Se,"[\\ud800-\\udfff]"].join("|")+")",Te=RegExp("['\u2019]","g"),je=RegExp(me,"g"),Re=RegExp(be+"(?="+be+")|"+Ee+Oe,"g"),Ne=RegExp([ke+"?"+ge+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[fe,ke,"$"].join("|")+")",Me+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[fe,ke+Ce,"$"].join("|")+")",ke+"?"+Ce+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",ke+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ve,Pe].join("|"),"g"),Ae=RegExp("[\\u200d\\ud800-\\udfff"+pe+"\\ufe0e\\ufe0f]"),De=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Be=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ie=-1,Le={};Le[M]=Le[_]=Le[O]=Le[P]=Le[E]=Le[T]=Le["[object Uint8ClampedArray]"]=Le[j]=Le[R]=!0,Le[l]=Le[c]=Le[k]=Le[u]=Le[C]=Le[d]=Le[p]=Le[h]=Le[m]=Le[v]=Le[g]=Le[y]=Le[b]=Le[x]=Le[S]=!1;var Ue={};Ue[l]=Ue[c]=Ue[k]=Ue[C]=Ue[u]=Ue[d]=Ue[M]=Ue[_]=Ue[O]=Ue[P]=Ue[E]=Ue[m]=Ue[v]=Ue[g]=Ue[y]=Ue[b]=Ue[x]=Ue[w]=Ue[T]=Ue["[object Uint8ClampedArray]"]=Ue[j]=Ue[R]=!0,Ue[p]=Ue[h]=Ue[S]=!1;var Fe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ze=parseFloat,He=parseInt,Ve="object"==typeof e&&e&&e.Object===Object&&e,We="object"==typeof self&&self&&self.Object===Object&&self,$e=Ve||We||Function("return this")(),Ke=t&&!t.nodeType&&t,Ge=Ke&&"object"==typeof i&&i&&!i.nodeType&&i,qe=Ge&&Ge.exports===Ke,Ye=qe&&Ve.process,Xe=function(){try{return Ge&&Ge.require&&Ge.require("util").types||Ye&&Ye.binding&&Ye.binding("util")}catch(e){}}(),Je=Xe&&Xe.isArrayBuffer,Qe=Xe&&Xe.isDate,Ze=Xe&&Xe.isMap,et=Xe&&Xe.isRegExp,tt=Xe&&Xe.isSet,nt=Xe&&Xe.isTypedArray;function it(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function ot(e,t,n,i){for(var o=-1,r=null==e?0:e.length;++o<r;){var a=e[o];t(i,a,n(a),e)}return i}function rt(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}function at(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function st(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function lt(e,t){for(var n=-1,i=null==e?0:e.length,o=0,r=[];++n<i;){var a=e[n];t(a,n,e)&&(r[o++]=a)}return r}function ct(e,t){return!(null==e||!e.length)&&bt(e,t,0)>-1}function ut(e,t,n){for(var i=-1,o=null==e?0:e.length;++i<o;)if(n(t,e[i]))return!0;return!1}function dt(e,t){for(var n=-1,i=null==e?0:e.length,o=Array(i);++n<i;)o[n]=t(e[n],n,e);return o}function pt(e,t){for(var n=-1,i=t.length,o=e.length;++n<i;)e[o+n]=t[n];return e}function ht(e,t,n,i){var o=-1,r=null==e?0:e.length;for(i&&r&&(n=e[++o]);++o<r;)n=t(n,e[o],o,e);return n}function ft(e,t,n,i){var o=null==e?0:e.length;for(i&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function mt(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}var vt=kt("length");function gt(e,t,n){var i;return n(e,(function(e,n,o){if(t(e,n,o))return i=n,!1})),i}function yt(e,t,n,i){for(var o=e.length,r=n+(i?1:-1);i?r--:++r<o;)if(t(e[r],r,e))return r;return-1}function bt(e,t,n){return t==t?function(e,t,n){for(var i=n-1,o=e.length;++i<o;)if(e[i]===t)return i;return-1}(e,t,n):yt(e,wt,n)}function xt(e,t,n,i){for(var o=n-1,r=e.length;++o<r;)if(i(e[o],t))return o;return-1}function wt(e){return e!=e}function St(e,t){var n=null==e?0:e.length;return n?_t(e,t)/n:NaN}function kt(e){return function(t){return null==t?void 0:t[e]}}function Ct(e){return function(t){return null==e?void 0:e[t]}}function Mt(e,t,n,i,o){return o(e,(function(e,o,r){n=i?(i=!1,e):t(n,e,o,r)})),n}function _t(e,t){for(var n,i=-1,o=e.length;++i<o;){var r=t(e[i]);void 0!==r&&(n=void 0===n?r:n+r)}return n}function Ot(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function Pt(e){return function(t){return e(t)}}function Et(e,t){return dt(t,(function(t){return e[t]}))}function Tt(e,t){return e.has(t)}function jt(e,t){for(var n=-1,i=e.length;++n<i&&bt(t,e[n],0)>-1;);return n}function Rt(e,t){for(var n=e.length;n--&&bt(t,e[n],0)>-1;);return n}function Nt(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&++i;return i}var At=Ct({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),Dt=Ct({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Bt(e){return"\\"+Fe[e]}function It(e){return Ae.test(e)}function Lt(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function Ut(e,t){return function(n){return e(t(n))}}function Ft(e,t){for(var n=-1,i=e.length,o=0,r=[];++n<i;){var s=e[n];s!==t&&s!==a||(e[n]=a,r[o++]=n)}return r}function zt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function Ht(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function Vt(e){return It(e)?function(e){for(var t=Re.lastIndex=0;Re.test(e);)++t;return t}(e):vt(e)}function Wt(e){return It(e)?function(e){return e.match(Re)||[]}(e):function(e){return e.split("")}(e)}var $t=Ct({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Kt=function e(t){var n,i=(t=null==t?$e:Kt.defaults($e.Object(),t,Kt.pick($e,Be))).Array,o=t.Date,pe=t.Error,he=t.Function,fe=t.Math,me=t.Object,ve=t.RegExp,ge=t.String,ye=t.TypeError,be=i.prototype,xe=he.prototype,we=me.prototype,Se=t["__core-js_shared__"],ke=xe.toString,Ce=we.hasOwnProperty,Me=0,_e=(n=/[^.]+$/.exec(Se&&Se.keys&&Se.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Oe=we.toString,Pe=ke.call(me),Ee=$e._,Re=ve("^"+ke.call(Ce).replace(K,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ae=qe?t.Buffer:void 0,Fe=t.Symbol,Ve=t.Uint8Array,We=Ae?Ae.allocUnsafe:void 0,Ke=Ut(me.getPrototypeOf,me),Ge=me.create,Ye=we.propertyIsEnumerable,Xe=be.splice,vt=Fe?Fe.isConcatSpreadable:void 0,Ct=Fe?Fe.iterator:void 0,Gt=Fe?Fe.toStringTag:void 0,qt=function(){try{var e=Zo(me,"defineProperty");return e({},"",{}),e}catch(t){}}(),Yt=t.clearTimeout!==$e.clearTimeout&&t.clearTimeout,Xt=o&&o.now!==$e.Date.now&&o.now,Jt=t.setTimeout!==$e.setTimeout&&t.setTimeout,Qt=fe.ceil,Zt=fe.floor,en=me.getOwnPropertySymbols,tn=Ae?Ae.isBuffer:void 0,nn=t.isFinite,on=be.join,rn=Ut(me.keys,me),an=fe.max,sn=fe.min,ln=o.now,cn=t.parseInt,un=fe.random,dn=be.reverse,pn=Zo(t,"DataView"),hn=Zo(t,"Map"),fn=Zo(t,"Promise"),mn=Zo(t,"Set"),vn=Zo(t,"WeakMap"),gn=Zo(me,"create"),yn=vn&&new vn,bn={},xn=_r(pn),wn=_r(hn),Sn=_r(fn),kn=_r(mn),Cn=_r(vn),Mn=Fe?Fe.prototype:void 0,_n=Mn?Mn.valueOf:void 0,On=Mn?Mn.toString:void 0;function Pn(e){if(Va(e)&&!Ra(e)&&!(e instanceof Rn)){if(e instanceof jn)return e;if(Ce.call(e,"__wrapped__"))return Or(e)}return new jn(e)}var En=function(){function e(){}return function(t){if(!Ha(t))return{};if(Ge)return Ge(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Tn(){}function jn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function Rn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Nn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function An(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Dn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Bn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Dn;++t<n;)this.add(e[t])}function In(e){var t=this.__data__=new An(e);this.size=t.size}function Ln(e,t){var n=Ra(e),i=!n&&ja(e),o=!n&&!i&&Ba(e),r=!n&&!i&&!o&&Ja(e),a=n||i||o||r,s=a?Ot(e.length,ge):[],l=s.length;for(var c in e)!t&&!Ce.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||r&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ar(c,l))||s.push(c);return s}function Un(e){var t=e.length;return t?e[Di(0,t-1)]:void 0}function Fn(e,t){return kr(go(e),Yn(t,0,e.length))}function zn(e){return kr(go(e))}function Hn(e,t,n){(void 0!==n&&!Pa(e[t],n)||void 0===n&&!(t in e))&&Gn(e,t,n)}function Vn(e,t,n){var i=e[t];Ce.call(e,t)&&Pa(i,n)&&(void 0!==n||t in e)||Gn(e,t,n)}function Wn(e,t){for(var n=e.length;n--;)if(Pa(e[n][0],t))return n;return-1}function $n(e,t,n,i){return ei(e,(function(e,o,r){t(i,e,n(e),r)})),i}function Kn(e,t){return e&&yo(t,bs(t),e)}function Gn(e,t,n){"__proto__"==t&&qt?qt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function qn(e,t){for(var n=-1,o=t.length,r=i(o),a=null==e;++n<o;)r[n]=a?void 0:fs(e,t[n]);return r}function Yn(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function Xn(e,t,n,i,o,r){var a,s=1&t,c=2&t,p=4&t;if(n&&(a=o?n(e,i,o,r):n(e)),void 0!==a)return a;if(!Ha(e))return e;var S=Ra(e);if(S){if(a=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Ce.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!s)return go(e,a)}else{var N=nr(e),A=N==h||N==f;if(Ba(e))return uo(e,s);if(N==g||N==l||A&&!o){if(a=c||A?{}:or(e),!s)return c?function(e,t){return yo(e,tr(e),t)}(e,function(e,t){return e&&yo(t,xs(t),e)}(a,e)):function(e,t){return yo(e,er(e),t)}(e,Kn(a,e))}else{if(!Ue[N])return o?e:{};a=function(e,t,n){var i,o=e.constructor;switch(t){case k:return po(e);case u:case d:return new o(+e);case C:return function(e,t){var n=t?po(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case M:case _:case O:case P:case E:case T:case"[object Uint8ClampedArray]":case j:case R:return ho(e,n);case m:return new o;case v:case x:return new o(e);case y:return function(e){var t=new e.constructor(e.source,ie.exec(e));return t.lastIndex=e.lastIndex,t}(e);case b:return new o;case w:return i=e,_n?me(_n.call(i)):{}}}(e,N,s)}}r||(r=new In);var D=r.get(e);if(D)return D;r.set(e,a),qa(e)?e.forEach((function(i){a.add(Xn(i,t,n,i,e,r))})):Wa(e)&&e.forEach((function(i,o){a.set(o,Xn(i,t,n,o,e,r))}));var B=S?void 0:(p?c?Ko:$o:c?xs:bs)(e);return rt(B||e,(function(i,o){B&&(i=e[o=i]),Vn(a,o,Xn(i,t,n,o,e,r))})),a}function Jn(e,t,n){var i=n.length;if(null==e)return!i;for(e=me(e);i--;){var o=n[i],r=t[o],a=e[o];if(void 0===a&&!(o in e)||!r(a))return!1}return!0}function Qn(e,t,n){if("function"!=typeof e)throw new ye(r);return br((function(){e.apply(void 0,n)}),t)}function Zn(e,t,n,i){var o=-1,r=ct,a=!0,s=e.length,l=[],c=t.length;if(!s)return l;n&&(t=dt(t,Pt(n))),i?(r=ut,a=!1):t.length>=200&&(r=Tt,a=!1,t=new Bn(t));e:for(;++o<s;){var u=e[o],d=null==n?u:n(u);if(u=i||0!==u?u:0,a&&d==d){for(var p=c;p--;)if(t[p]===d)continue e;l.push(u)}else r(t,d,i)||l.push(u)}return l}Pn.templateSettings={escape:F,evaluate:z,interpolate:H,variable:"",imports:{_:Pn}},Pn.prototype=Tn.prototype,Pn.prototype.constructor=Pn,jn.prototype=En(Tn.prototype),jn.prototype.constructor=jn,Rn.prototype=En(Tn.prototype),Rn.prototype.constructor=Rn,Nn.prototype.clear=function(){this.__data__=gn?gn(null):{},this.size=0},Nn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Nn.prototype.get=function(e){var t=this.__data__;if(gn){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Ce.call(t,e)?t[e]:void 0},Nn.prototype.has=function(e){var t=this.__data__;return gn?void 0!==t[e]:Ce.call(t,e)},Nn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=gn&&void 0===t?"__lodash_hash_undefined__":t,this},An.prototype.clear=function(){this.__data__=[],this.size=0},An.prototype.delete=function(e){var t=this.__data__,n=Wn(t,e);return!(n<0)&&(n==t.length-1?t.pop():Xe.call(t,n,1),--this.size,!0)},An.prototype.get=function(e){var t=this.__data__,n=Wn(t,e);return n<0?void 0:t[n][1]},An.prototype.has=function(e){return Wn(this.__data__,e)>-1},An.prototype.set=function(e,t){var n=this.__data__,i=Wn(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},Dn.prototype.clear=function(){this.size=0,this.__data__={hash:new Nn,map:new(hn||An),string:new Nn}},Dn.prototype.delete=function(e){var t=Jo(this,e).delete(e);return this.size-=t?1:0,t},Dn.prototype.get=function(e){return Jo(this,e).get(e)},Dn.prototype.has=function(e){return Jo(this,e).has(e)},Dn.prototype.set=function(e,t){var n=Jo(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},Bn.prototype.add=Bn.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Bn.prototype.has=function(e){return this.__data__.has(e)},In.prototype.clear=function(){this.__data__=new An,this.size=0},In.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},In.prototype.get=function(e){return this.__data__.get(e)},In.prototype.has=function(e){return this.__data__.has(e)},In.prototype.set=function(e,t){var n=this.__data__;if(n instanceof An){var i=n.__data__;if(!hn||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new Dn(i)}return n.set(e,t),this.size=n.size,this};var ei=wo(li),ti=wo(ci,!0);function ni(e,t){var n=!0;return ei(e,(function(e,i,o){return n=!!t(e,i,o)})),n}function ii(e,t,n){for(var i=-1,o=e.length;++i<o;){var r=e[i],a=t(r);if(null!=a&&(void 0===s?a==a&&!Xa(a):n(a,s)))var s=a,l=r}return l}function oi(e,t){var n=[];return ei(e,(function(e,i,o){t(e,i,o)&&n.push(e)})),n}function ri(e,t,n,i,o){var r=-1,a=e.length;for(n||(n=rr),o||(o=[]);++r<a;){var s=e[r];t>0&&n(s)?t>1?ri(s,t-1,n,i,o):pt(o,s):i||(o[o.length]=s)}return o}var ai=So(),si=So(!0);function li(e,t){return e&&ai(e,t,bs)}function ci(e,t){return e&&si(e,t,bs)}function ui(e,t){return lt(t,(function(t){return Ua(e[t])}))}function di(e,t){for(var n=0,i=(t=ao(t,e)).length;null!=e&&n<i;)e=e[Mr(t[n++])];return n&&n==i?e:void 0}function pi(e,t,n){var i=t(e);return Ra(e)?i:pt(i,n(e))}function hi(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Gt&&Gt in me(e)?function(e){var t=Ce.call(e,Gt),n=e[Gt];try{e[Gt]=void 0;var i=!0}catch(r){}var o=Oe.call(e);return i&&(t?e[Gt]=n:delete e[Gt]),o}(e):function(e){return Oe.call(e)}(e)}function fi(e,t){return e>t}function mi(e,t){return null!=e&&Ce.call(e,t)}function vi(e,t){return null!=e&&t in me(e)}function gi(e,t,n){for(var o=n?ut:ct,r=e[0].length,a=e.length,s=a,l=i(a),c=1/0,u=[];s--;){var d=e[s];s&&t&&(d=dt(d,Pt(t))),c=sn(d.length,c),l[s]=!n&&(t||r>=120&&d.length>=120)?new Bn(s&&d):void 0}d=e[0];var p=-1,h=l[0];e:for(;++p<r&&u.length<c;){var f=d[p],m=t?t(f):f;if(f=n||0!==f?f:0,!(h?Tt(h,m):o(u,m,n))){for(s=a;--s;){var v=l[s];if(!(v?Tt(v,m):o(e[s],m,n)))continue e}h&&h.push(m),u.push(f)}}return u}function yi(e,t,n){var i=null==(e=mr(e,t=ao(t,e)))?e:e[Mr(Lr(t))];return null==i?void 0:it(i,e,n)}function bi(e){return Va(e)&&hi(e)==l}function xi(e,t,n,i,o){return e===t||(null==e||null==t||!Va(e)&&!Va(t)?e!=e&&t!=t:function(e,t,n,i,o,r){var a=Ra(e),s=Ra(t),h=a?c:nr(e),f=s?c:nr(t),S=(h=h==l?g:h)==g,M=(f=f==l?g:f)==g,_=h==f;if(_&&Ba(e)){if(!Ba(t))return!1;a=!0,S=!1}if(_&&!S)return r||(r=new In),a||Ja(e)?Vo(e,t,n,i,o,r):function(e,t,n,i,o,r,a){switch(n){case C:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case k:return!(e.byteLength!=t.byteLength||!r(new Ve(e),new Ve(t)));case u:case d:case v:return Pa(+e,+t);case p:return e.name==t.name&&e.message==t.message;case y:case x:return e==t+"";case m:var s=Lt;case b:var l=1&i;if(s||(s=zt),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;i|=2,a.set(e,t);var h=Vo(s(e),s(t),i,o,r,a);return a.delete(e),h;case w:if(_n)return _n.call(e)==_n.call(t)}return!1}(e,t,h,n,i,o,r);if(!(1&n)){var O=S&&Ce.call(e,"__wrapped__"),P=M&&Ce.call(t,"__wrapped__");if(O||P){var E=O?e.value():e,T=P?t.value():t;return r||(r=new In),o(E,T,n,i,r)}}return!!_&&(r||(r=new In),function(e,t,n,i,o,r){var a=1&n,s=$o(e),l=s.length;if(l!=$o(t).length&&!a)return!1;for(var c=l;c--;){var u=s[c];if(!(a?u in t:Ce.call(t,u)))return!1}var d=r.get(e),p=r.get(t);if(d&&p)return d==t&&p==e;var h=!0;r.set(e,t),r.set(t,e);for(var f=a;++c<l;){var m=e[u=s[c]],v=t[u];if(i)var g=a?i(v,m,u,t,e,r):i(m,v,u,e,t,r);if(!(void 0===g?m===v||o(m,v,n,i,r):g)){h=!1;break}f||(f="constructor"==u)}if(h&&!f){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(h=!1)}return r.delete(e),r.delete(t),h}(e,t,n,i,o,r))}(e,t,n,i,xi,o))}function wi(e,t,n,i){var o=n.length,r=o,a=!i;if(null==e)return!r;for(e=me(e);o--;){var s=n[o];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<r;){var l=(s=n[o])[0],c=e[l],u=s[1];if(a&&s[2]){if(void 0===c&&!(l in e))return!1}else{var d=new In;if(i)var p=i(c,u,l,e,t,d);if(!(void 0===p?xi(u,c,3,i,d):p))return!1}}return!0}function Si(e){return!(!Ha(e)||(t=e,_e&&_e in t))&&(Ua(e)?Re:ae).test(_r(e));var t}function ki(e){return"function"==typeof e?e:null==e?$s:"object"==typeof e?Ra(e)?Pi(e[0],e[1]):Oi(e):el(e)}function Ci(e){if(!dr(e))return rn(e);var t=[];for(var n in me(e))Ce.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Mi(e,t){return e<t}function _i(e,t){var n=-1,o=Aa(e)?i(e.length):[];return ei(e,(function(e,i,r){o[++n]=t(e,i,r)})),o}function Oi(e){var t=Qo(e);return 1==t.length&&t[0][2]?hr(t[0][0],t[0][1]):function(n){return n===e||wi(n,e,t)}}function Pi(e,t){return lr(e)&&pr(t)?hr(Mr(e),t):function(n){var i=fs(n,e);return void 0===i&&i===t?ms(n,e):xi(t,i,3)}}function Ei(e,t,n,i,o){e!==t&&ai(t,(function(r,a){if(o||(o=new In),Ha(r))!function(e,t,n,i,o,r,a){var s=gr(e,n),l=gr(t,n),c=a.get(l);if(c)Hn(e,n,c);else{var u=r?r(s,l,n+"",e,t,a):void 0,d=void 0===u;if(d){var p=Ra(l),h=!p&&Ba(l),f=!p&&!h&&Ja(l);u=l,p||h||f?Ra(s)?u=s:Da(s)?u=go(s):h?(d=!1,u=uo(l,!0)):f?(d=!1,u=ho(l,!0)):u=[]:Ka(l)||ja(l)?(u=s,ja(s)?u=rs(s):Ha(s)&&!Ua(s)||(u=or(l))):d=!1}d&&(a.set(l,u),o(u,l,i,r,a),a.delete(l)),Hn(e,n,u)}}(e,t,a,n,Ei,i,o);else{var s=i?i(gr(e,a),r,a+"",e,t,o):void 0;void 0===s&&(s=r),Hn(e,a,s)}}),xs)}function Ti(e,t){var n=e.length;if(n)return ar(t+=t<0?n:0,n)?e[t]:void 0}function ji(e,t,n){t=t.length?dt(t,(function(e){return Ra(e)?function(t){return di(t,1===e.length?e[0]:e)}:e})):[$s];var i=-1;return t=dt(t,Pt(Xo())),function(e,t){var i=e.length;for(e.sort((function(e,t){return function(e,t,n){for(var i=-1,o=e.criteria,r=t.criteria,a=o.length,s=n.length;++i<a;){var l=fo(o[i],r[i]);if(l)return i>=s?l:l*("desc"==n[i]?-1:1)}return e.index-t.index}(e,t,n)}));i--;)e[i]=e[i].value;return e}(_i(e,(function(e,n,o){return{criteria:dt(t,(function(t){return t(e)})),index:++i,value:e}})))}function Ri(e,t,n){for(var i=-1,o=t.length,r={};++i<o;){var a=t[i],s=di(e,a);n(s,a)&&Fi(r,ao(a,e),s)}return r}function Ni(e,t,n,i){var o=i?xt:bt,r=-1,a=t.length,s=e;for(e===t&&(t=go(t)),n&&(s=dt(e,Pt(n)));++r<a;)for(var l=0,c=t[r],u=n?n(c):c;(l=o(s,u,l,i))>-1;)s!==e&&Xe.call(s,l,1),Xe.call(e,l,1);return e}function Ai(e,t){for(var n=e?t.length:0,i=n-1;n--;){var o=t[n];if(n==i||o!==r){var r=o;ar(o)?Xe.call(e,o,1):Qi(e,o)}}return e}function Di(e,t){return e+Zt(un()*(t-e+1))}function Bi(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=Zt(t/2))&&(e+=e)}while(t);return n}function Ii(e,t){return xr(fr(e,t,$s),e+"")}function Li(e){return Un(Ps(e))}function Ui(e,t){var n=Ps(e);return kr(n,Yn(t,0,n.length))}function Fi(e,t,n,i){if(!Ha(e))return e;for(var o=-1,r=(t=ao(t,e)).length,a=r-1,s=e;null!=s&&++o<r;){var l=Mr(t[o]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(o!=a){var u=s[l];void 0===(c=i?i(u,l,s):void 0)&&(c=Ha(u)?u:ar(t[o+1])?[]:{})}Vn(s,l,c),s=s[l]}return e}var zi=yn?function(e,t){return yn.set(e,t),e}:$s,Hi=qt?function(e,t){return qt(e,"toString",{configurable:!0,enumerable:!1,value:Hs(t),writable:!0})}:$s;function Vi(e){return kr(Ps(e))}function Wi(e,t,n){var o=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var a=i(r);++o<r;)a[o]=e[o+t];return a}function $i(e,t){var n;return ei(e,(function(e,i,o){return!(n=t(e,i,o))})),!!n}function Ki(e,t,n){var i=0,o=null==e?i:e.length;if("number"==typeof t&&t==t&&o<=2147483647){for(;i<o;){var r=i+o>>>1,a=e[r];null!==a&&!Xa(a)&&(n?a<=t:a<t)?i=r+1:o=r}return o}return Gi(e,t,$s,n)}function Gi(e,t,n,i){var o=0,r=null==e?0:e.length;if(0===r)return 0;for(var a=(t=n(t))!=t,s=null===t,l=Xa(t),c=void 0===t;o<r;){var u=Zt((o+r)/2),d=n(e[u]),p=void 0!==d,h=null===d,f=d==d,m=Xa(d);if(a)var v=i||f;else v=c?f&&(i||p):s?f&&p&&(i||!h):l?f&&p&&!h&&(i||!m):!h&&!m&&(i?d<=t:d<t);v?o=u+1:r=u}return sn(r,4294967294)}function qi(e,t){for(var n=-1,i=e.length,o=0,r=[];++n<i;){var a=e[n],s=t?t(a):a;if(!n||!Pa(s,l)){var l=s;r[o++]=0===a?0:a}}return r}function Yi(e){return"number"==typeof e?e:Xa(e)?NaN:+e}function Xi(e){if("string"==typeof e)return e;if(Ra(e))return dt(e,Xi)+"";if(Xa(e))return On?On.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ji(e,t,n){var i=-1,o=ct,r=e.length,a=!0,s=[],l=s;if(n)a=!1,o=ut;else if(r>=200){var c=t?null:Io(e);if(c)return zt(c);a=!1,o=Tt,l=new Bn}else l=t?[]:s;e:for(;++i<r;){var u=e[i],d=t?t(u):u;if(u=n||0!==u?u:0,a&&d==d){for(var p=l.length;p--;)if(l[p]===d)continue e;t&&l.push(d),s.push(u)}else o(l,d,n)||(l!==s&&l.push(d),s.push(u))}return s}function Qi(e,t){return null==(e=mr(e,t=ao(t,e)))||delete e[Mr(Lr(t))]}function Zi(e,t,n,i){return Fi(e,t,n(di(e,t)),i)}function eo(e,t,n,i){for(var o=e.length,r=i?o:-1;(i?r--:++r<o)&&t(e[r],r,e););return n?Wi(e,i?0:r,i?r+1:o):Wi(e,i?r+1:0,i?o:r)}function to(e,t){var n=e;return n instanceof Rn&&(n=n.value()),ht(t,(function(e,t){return t.func.apply(t.thisArg,pt([e],t.args))}),n)}function no(e,t,n){var o=e.length;if(o<2)return o?Ji(e[0]):[];for(var r=-1,a=i(o);++r<o;)for(var s=e[r],l=-1;++l<o;)l!=r&&(a[r]=Zn(a[r]||s,e[l],t,n));return Ji(ri(a,1),t,n)}function io(e,t,n){for(var i=-1,o=e.length,r=t.length,a={};++i<o;){var s=i<r?t[i]:void 0;n(a,e[i],s)}return a}function oo(e){return Da(e)?e:[]}function ro(e){return"function"==typeof e?e:$s}function ao(e,t){return Ra(e)?e:lr(e,t)?[e]:Cr(as(e))}var so=Ii;function lo(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:Wi(e,t,n)}var co=Yt||function(e){return $e.clearTimeout(e)};function uo(e,t){if(t)return e.slice();var n=e.length,i=We?We(n):new e.constructor(n);return e.copy(i),i}function po(e){var t=new e.constructor(e.byteLength);return new Ve(t).set(new Ve(e)),t}function ho(e,t){var n=t?po(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function fo(e,t){if(e!==t){var n=void 0!==e,i=null===e,o=e==e,r=Xa(e),a=void 0!==t,s=null===t,l=t==t,c=Xa(t);if(!s&&!c&&!r&&e>t||r&&a&&l&&!s&&!c||i&&a&&l||!n&&l||!o)return 1;if(!i&&!r&&!c&&e<t||c&&n&&o&&!i&&!r||s&&n&&o||!a&&o||!l)return-1}return 0}function mo(e,t,n,o){for(var r=-1,a=e.length,s=n.length,l=-1,c=t.length,u=an(a-s,0),d=i(c+u),p=!o;++l<c;)d[l]=t[l];for(;++r<s;)(p||r<a)&&(d[n[r]]=e[r]);for(;u--;)d[l++]=e[r++];return d}function vo(e,t,n,o){for(var r=-1,a=e.length,s=-1,l=n.length,c=-1,u=t.length,d=an(a-l,0),p=i(d+u),h=!o;++r<d;)p[r]=e[r];for(var f=r;++c<u;)p[f+c]=t[c];for(;++s<l;)(h||r<a)&&(p[f+n[s]]=e[r++]);return p}function go(e,t){var n=-1,o=e.length;for(t||(t=i(o));++n<o;)t[n]=e[n];return t}function yo(e,t,n,i){var o=!n;n||(n={});for(var r=-1,a=t.length;++r<a;){var s=t[r],l=i?i(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),o?Gn(n,s,l):Vn(n,s,l)}return n}function bo(e,t){return function(n,i){var o=Ra(n)?ot:$n,r=t?t():{};return o(n,e,Xo(i,2),r)}}function xo(e){return Ii((function(t,n){var i=-1,o=n.length,r=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(r=e.length>3&&"function"==typeof r?(o--,r):void 0,a&&sr(n[0],n[1],a)&&(r=o<3?void 0:r,o=1),t=me(t);++i<o;){var s=n[i];s&&e(t,s,i,r)}return t}))}function wo(e,t){return function(n,i){if(null==n)return n;if(!Aa(n))return e(n,i);for(var o=n.length,r=t?o:-1,a=me(n);(t?r--:++r<o)&&!1!==i(a[r],r,a););return n}}function So(e){return function(t,n,i){for(var o=-1,r=me(t),a=i(t),s=a.length;s--;){var l=a[e?s:++o];if(!1===n(r[l],l,r))break}return t}}function ko(e){return function(t){var n=It(t=as(t))?Wt(t):void 0,i=n?n[0]:t.charAt(0),o=n?lo(n,1).join(""):t.slice(1);return i[e]()+o}}function Co(e){return function(t){return ht(Us(js(t).replace(Te,"")),e,"")}}function Mo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=En(e.prototype),i=e.apply(n,t);return Ha(i)?i:n}}function _o(e){return function(t,n,i){var o=me(t);if(!Aa(t)){var r=Xo(n,3);t=bs(t),n=function(e){return r(o[e],e,o)}}var a=e(t,n,i);return a>-1?o[r?t[a]:a]:void 0}}function Oo(e){return Wo((function(t){var n=t.length,i=n,o=jn.prototype.thru;for(e&&t.reverse();i--;){var a=t[i];if("function"!=typeof a)throw new ye(r);if(o&&!s&&"wrapper"==qo(a))var s=new jn([],!0)}for(i=s?i:n;++i<n;){var l=qo(a=t[i]),c="wrapper"==l?Go(a):void 0;s=c&&cr(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?s[qo(c[0])].apply(s,c[3]):1==a.length&&cr(a)?s[l]():s.thru(a)}return function(){var e=arguments,i=e[0];if(s&&1==e.length&&Ra(i))return s.plant(i).value();for(var o=0,r=n?t[o].apply(this,e):i;++o<n;)r=t[o].call(this,r);return r}}))}function Po(e,t,n,o,r,a,s,l,c,u){var d=128&t,p=1&t,h=2&t,f=24&t,m=512&t,v=h?void 0:Mo(e);return function g(){for(var y=arguments.length,b=i(y),x=y;x--;)b[x]=arguments[x];if(f)var w=Yo(g),S=Nt(b,w);if(o&&(b=mo(b,o,r,f)),a&&(b=vo(b,a,s,f)),y-=S,f&&y<u){var k=Ft(b,w);return Do(e,t,Po,g.placeholder,n,b,k,l,c,u-y)}var C=p?n:this,M=h?C[e]:e;return y=b.length,l?b=vr(b,l):m&&y>1&&b.reverse(),d&&c<y&&(b.length=c),this&&this!==$e&&this instanceof g&&(M=v||Mo(M)),M.apply(C,b)}}function Eo(e,t){return function(n,i){return function(e,t,n,i){return li(e,(function(e,o,r){t(i,n(e),o,r)})),i}(n,e,t(i),{})}}function To(e,t){return function(n,i){var o;if(void 0===n&&void 0===i)return t;if(void 0!==n&&(o=n),void 0!==i){if(void 0===o)return i;"string"==typeof n||"string"==typeof i?(n=Xi(n),i=Xi(i)):(n=Yi(n),i=Yi(i)),o=e(n,i)}return o}}function jo(e){return Wo((function(t){return t=dt(t,Pt(Xo())),Ii((function(n){var i=this;return e(t,(function(e){return it(e,i,n)}))}))}))}function Ro(e,t){var n=(t=void 0===t?" ":Xi(t)).length;if(n<2)return n?Bi(t,e):t;var i=Bi(t,Qt(e/Vt(t)));return It(t)?lo(Wt(i),0,e).join(""):i.slice(0,e)}function No(e){return function(t,n,o){return o&&"number"!=typeof o&&sr(t,n,o)&&(n=o=void 0),t=ts(t),void 0===n?(n=t,t=0):n=ts(n),function(e,t,n,o){for(var r=-1,a=an(Qt((t-e)/(n||1)),0),s=i(a);a--;)s[o?a:++r]=e,e+=n;return s}(t,n,o=void 0===o?t<n?1:-1:ts(o),e)}}function Ao(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=os(t),n=os(n)),e(t,n)}}function Do(e,t,n,i,o,r,a,s,l,c){var u=8&t;t|=u?32:64,4&(t&=~(u?64:32))||(t&=-4);var d=[e,t,o,u?r:void 0,u?a:void 0,u?void 0:r,u?void 0:a,s,l,c],p=n.apply(void 0,d);return cr(e)&&yr(p,d),p.placeholder=i,wr(p,e,t)}function Bo(e){var t=fe[e];return function(e,n){if(e=os(e),(n=null==n?0:sn(ns(n),292))&&nn(e)){var i=(as(e)+"e").split("e");return+((i=(as(t(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return t(e)}}var Io=mn&&1/zt(new mn([,-0]))[1]==1/0?function(e){return new mn(e)}:Xs;function Lo(e){return function(t){var n=nr(t);return n==m?Lt(t):n==b?Ht(t):function(e,t){return dt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Uo(e,t,n,o,s,l,c,u){var d=2&t;if(!d&&"function"!=typeof e)throw new ye(r);var p=o?o.length:0;if(p||(t&=-97,o=s=void 0),c=void 0===c?c:an(ns(c),0),u=void 0===u?u:ns(u),p-=s?s.length:0,64&t){var h=o,f=s;o=s=void 0}var m=d?void 0:Go(e),v=[e,t,n,o,s,h,f,l,c,u];if(m&&function(e,t){var n=e[1],i=t[1],o=n|i,r=o<131,s=128==i&&8==n||128==i&&256==n&&e[7].length<=t[8]||384==i&&t[7].length<=t[8]&&8==n;if(!r&&!s)return e;1&i&&(e[2]=t[2],o|=1&n?0:4);var l=t[3];if(l){var c=e[3];e[3]=c?mo(c,l,t[4]):l,e[4]=c?Ft(e[3],a):t[4]}(l=t[5])&&(c=e[5],e[5]=c?vo(c,l,t[6]):l,e[6]=c?Ft(e[5],a):t[6]),(l=t[7])&&(e[7]=l),128&i&&(e[8]=null==e[8]?t[8]:sn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o}(v,m),e=v[0],t=v[1],n=v[2],o=v[3],s=v[4],!(u=v[9]=void 0===v[9]?d?0:e.length:an(v[9]-p,0))&&24&t&&(t&=-25),t&&1!=t)g=8==t||16==t?function(e,t,n){var o=Mo(e);return function r(){for(var a=arguments.length,s=i(a),l=a,c=Yo(r);l--;)s[l]=arguments[l];var u=a<3&&s[0]!==c&&s[a-1]!==c?[]:Ft(s,c);return(a-=u.length)<n?Do(e,t,Po,r.placeholder,void 0,s,u,void 0,void 0,n-a):it(this&&this!==$e&&this instanceof r?o:e,this,s)}}(e,t,u):32!=t&&33!=t||s.length?Po.apply(void 0,v):function(e,t,n,o){var r=1&t,a=Mo(e);return function t(){for(var s=-1,l=arguments.length,c=-1,u=o.length,d=i(u+l),p=this&&this!==$e&&this instanceof t?a:e;++c<u;)d[c]=o[c];for(;l--;)d[c++]=arguments[++s];return it(p,r?n:this,d)}}(e,t,n,o);else var g=function(e,t,n){var i=1&t,o=Mo(e);return function t(){return(this&&this!==$e&&this instanceof t?o:e).apply(i?n:this,arguments)}}(e,t,n);return wr((m?zi:yr)(g,v),e,t)}function Fo(e,t,n,i){return void 0===e||Pa(e,we[n])&&!Ce.call(i,n)?t:e}function zo(e,t,n,i,o,r){return Ha(e)&&Ha(t)&&(r.set(t,e),Ei(e,t,void 0,zo,r),r.delete(t)),e}function Ho(e){return Ka(e)?void 0:e}function Vo(e,t,n,i,o,r){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=r.get(e),u=r.get(t);if(c&&u)return c==t&&u==e;var d=-1,p=!0,h=2&n?new Bn:void 0;for(r.set(e,t),r.set(t,e);++d<s;){var f=e[d],m=t[d];if(i)var v=a?i(m,f,d,t,e,r):i(f,m,d,e,t,r);if(void 0!==v){if(v)continue;p=!1;break}if(h){if(!mt(t,(function(e,t){if(!Tt(h,t)&&(f===e||o(f,e,n,i,r)))return h.push(t)}))){p=!1;break}}else if(f!==m&&!o(f,m,n,i,r)){p=!1;break}}return r.delete(e),r.delete(t),p}function Wo(e){return xr(fr(e,void 0,Nr),e+"")}function $o(e){return pi(e,bs,er)}function Ko(e){return pi(e,xs,tr)}var Go=yn?function(e){return yn.get(e)}:Xs;function qo(e){for(var t=e.name+"",n=bn[t],i=Ce.call(bn,t)?n.length:0;i--;){var o=n[i],r=o.func;if(null==r||r==e)return o.name}return t}function Yo(e){return(Ce.call(Pn,"placeholder")?Pn:e).placeholder}function Xo(){var e=Pn.iteratee||Ks;return e=e===Ks?ki:e,arguments.length?e(arguments[0],arguments[1]):e}function Jo(e,t){var n,i,o=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function Qo(e){for(var t=bs(e),n=t.length;n--;){var i=t[n],o=e[i];t[n]=[i,o,pr(o)]}return t}function Zo(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Si(n)?n:void 0}var er=en?function(e){return null==e?[]:(e=me(e),lt(en(e),(function(t){return Ye.call(e,t)})))}:il,tr=en?function(e){for(var t=[];e;)pt(t,er(e)),e=Ke(e);return t}:il,nr=hi;function ir(e,t,n){for(var i=-1,o=(t=ao(t,e)).length,r=!1;++i<o;){var a=Mr(t[i]);if(!(r=null!=e&&n(e,a)))break;e=e[a]}return r||++i!=o?r:!!(o=null==e?0:e.length)&&za(o)&&ar(a,o)&&(Ra(e)||ja(e))}function or(e){return"function"!=typeof e.constructor||dr(e)?{}:En(Ke(e))}function rr(e){return Ra(e)||ja(e)||!!(vt&&e&&e[vt])}function ar(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&le.test(e))&&e>-1&&e%1==0&&e<t}function sr(e,t,n){if(!Ha(n))return!1;var i=typeof t;return!!("number"==i?Aa(n)&&ar(t,n.length):"string"==i&&t in n)&&Pa(n[t],e)}function lr(e,t){if(Ra(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Xa(e))||W.test(e)||!V.test(e)||null!=t&&e in me(t)}function cr(e){var t=qo(e),n=Pn[t];if("function"!=typeof n||!(t in Rn.prototype))return!1;if(e===n)return!0;var i=Go(n);return!!i&&e===i[0]}(pn&&nr(new pn(new ArrayBuffer(1)))!=C||hn&&nr(new hn)!=m||fn&&"[object Promise]"!=nr(fn.resolve())||mn&&nr(new mn)!=b||vn&&nr(new vn)!=S)&&(nr=function(e){var t=hi(e),n=t==g?e.constructor:void 0,i=n?_r(n):"";if(i)switch(i){case xn:return C;case wn:return m;case Sn:return"[object Promise]";case kn:return b;case Cn:return S}return t});var ur=Se?Ua:ol;function dr(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||we)}function pr(e){return e==e&&!Ha(e)}function hr(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in me(n))}}function fr(e,t,n){return t=an(void 0===t?e.length-1:t,0),function(){for(var o=arguments,r=-1,a=an(o.length-t,0),s=i(a);++r<a;)s[r]=o[t+r];r=-1;for(var l=i(t+1);++r<t;)l[r]=o[r];return l[t]=n(s),it(e,this,l)}}function mr(e,t){return t.length<2?e:di(e,Wi(t,0,-1))}function vr(e,t){for(var n=e.length,i=sn(t.length,n),o=go(e);i--;){var r=t[i];e[i]=ar(r,n)?o[r]:void 0}return e}function gr(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var yr=Sr(zi),br=Jt||function(e,t){return $e.setTimeout(e,t)},xr=Sr(Hi);function wr(e,t,n){var i=t+"";return xr(e,function(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(n>1?"& ":"")+t[i],t=t.join(n>2?", ":" "),e.replace(J,"{\n/* [wrapped with "+t+"] */\n")}(i,function(e,t){return rt(s,(function(n){var i="_."+n[0];t&n[1]&&!ct(e,i)&&e.push(i)})),e.sort()}(function(e){var t=e.match(Q);return t?t[1].split(Z):[]}(i),n)))}function Sr(e){var t=0,n=0;return function(){var i=ln(),o=16-(i-n);if(n=i,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function kr(e,t){var n=-1,i=e.length,o=i-1;for(t=void 0===t?i:t;++n<t;){var r=Di(n,o),a=e[r];e[r]=e[n],e[n]=a}return e.length=t,e}var Cr=function(e){var t=Sa((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace($,(function(e,n,i,o){t.push(i?o.replace(te,"$1"):n||e)})),t}),(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}();function Mr(e){if("string"==typeof e||Xa(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function _r(e){if(null!=e){try{return ke.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Or(e){if(e instanceof Rn)return e.clone();var t=new jn(e.__wrapped__,e.__chain__);return t.__actions__=go(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Pr=Ii((function(e,t){return Da(e)?Zn(e,ri(t,1,Da,!0)):[]})),Er=Ii((function(e,t){var n=Lr(t);return Da(n)&&(n=void 0),Da(e)?Zn(e,ri(t,1,Da,!0),Xo(n,2)):[]})),Tr=Ii((function(e,t){var n=Lr(t);return Da(n)&&(n=void 0),Da(e)?Zn(e,ri(t,1,Da,!0),void 0,n):[]}));function jr(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var o=null==n?0:ns(n);return o<0&&(o=an(i+o,0)),yt(e,Xo(t,3),o)}function Rr(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var o=i-1;return void 0!==n&&(o=ns(n),o=n<0?an(i+o,0):sn(o,i-1)),yt(e,Xo(t,3),o,!0)}function Nr(e){return null!=e&&e.length?ri(e,1):[]}function Ar(e){return e&&e.length?e[0]:void 0}var Dr=Ii((function(e){var t=dt(e,oo);return t.length&&t[0]===e[0]?gi(t):[]})),Br=Ii((function(e){var t=Lr(e),n=dt(e,oo);return t===Lr(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?gi(n,Xo(t,2)):[]})),Ir=Ii((function(e){var t=Lr(e),n=dt(e,oo);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?gi(n,void 0,t):[]}));function Lr(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var Ur=Ii(Fr);function Fr(e,t){return e&&e.length&&t&&t.length?Ni(e,t):e}var zr=Wo((function(e,t){var n=null==e?0:e.length,i=qn(e,t);return Ai(e,dt(t,(function(e){return ar(e,n)?+e:e})).sort(fo)),i}));function Hr(e){return null==e?e:dn.call(e)}var Vr=Ii((function(e){return Ji(ri(e,1,Da,!0))})),Wr=Ii((function(e){var t=Lr(e);return Da(t)&&(t=void 0),Ji(ri(e,1,Da,!0),Xo(t,2))})),$r=Ii((function(e){var t=Lr(e);return t="function"==typeof t?t:void 0,Ji(ri(e,1,Da,!0),void 0,t)}));function Kr(e){if(!e||!e.length)return[];var t=0;return e=lt(e,(function(e){if(Da(e))return t=an(e.length,t),!0})),Ot(t,(function(t){return dt(e,kt(t))}))}function Gr(e,t){if(!e||!e.length)return[];var n=Kr(e);return null==t?n:dt(n,(function(e){return it(t,void 0,e)}))}var qr=Ii((function(e,t){return Da(e)?Zn(e,t):[]})),Yr=Ii((function(e){return no(lt(e,Da))})),Xr=Ii((function(e){var t=Lr(e);return Da(t)&&(t=void 0),no(lt(e,Da),Xo(t,2))})),Jr=Ii((function(e){var t=Lr(e);return t="function"==typeof t?t:void 0,no(lt(e,Da),void 0,t)})),Qr=Ii(Kr),Zr=Ii((function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,Gr(e,n)}));function ea(e){var t=Pn(e);return t.__chain__=!0,t}function ta(e,t){return t(e)}var na=Wo((function(e){var t=e.length,n=t?e[0]:0,i=this.__wrapped__,o=function(t){return qn(t,e)};return!(t>1||this.__actions__.length)&&i instanceof Rn&&ar(n)?((i=i.slice(n,+n+(t?1:0))).__actions__.push({func:ta,args:[o],thisArg:void 0}),new jn(i,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(o)})),ia=bo((function(e,t,n){Ce.call(e,n)?++e[n]:Gn(e,n,1)})),oa=_o(jr),ra=_o(Rr);function aa(e,t){return(Ra(e)?rt:ei)(e,Xo(t,3))}function sa(e,t){return(Ra(e)?at:ti)(e,Xo(t,3))}var la=bo((function(e,t,n){Ce.call(e,n)?e[n].push(t):Gn(e,n,[t])})),ca=Ii((function(e,t,n){var o=-1,r="function"==typeof t,a=Aa(e)?i(e.length):[];return ei(e,(function(e){a[++o]=r?it(t,e,n):yi(e,t,n)})),a})),ua=bo((function(e,t,n){Gn(e,n,t)}));function da(e,t){return(Ra(e)?dt:_i)(e,Xo(t,3))}var pa=bo((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),ha=Ii((function(e,t){if(null==e)return[];var n=t.length;return n>1&&sr(e,t[0],t[1])?t=[]:n>2&&sr(t[0],t[1],t[2])&&(t=[t[0]]),ji(e,ri(t,1),[])})),fa=Xt||function(){return $e.Date.now()};function ma(e,t,n){return t=n?void 0:t,Uo(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function va(e,t){var n;if("function"!=typeof t)throw new ye(r);return e=ns(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var ga=Ii((function(e,t,n){var i=1;if(n.length){var o=Ft(n,Yo(ga));i|=32}return Uo(e,i,t,n,o)})),ya=Ii((function(e,t,n){var i=3;if(n.length){var o=Ft(n,Yo(ya));i|=32}return Uo(t,i,e,n,o)}));function ba(e,t,n){var i,o,a,s,l,c,u=0,d=!1,p=!1,h=!0;if("function"!=typeof e)throw new ye(r);function f(t){var n=i,r=o;return i=o=void 0,u=t,s=e.apply(r,n)}function m(e){return u=e,l=br(g,t),d?f(e):s}function v(e){var n=e-c;return void 0===c||n>=t||n<0||p&&e-u>=a}function g(){var e=fa();if(v(e))return y(e);l=br(g,function(e){var n=t-(e-c);return p?sn(n,a-(e-u)):n}(e))}function y(e){return l=void 0,h&&i?f(e):(i=o=void 0,s)}function b(){var e=fa(),n=v(e);if(i=arguments,o=this,c=e,n){if(void 0===l)return m(c);if(p)return co(l),l=br(g,t),f(c)}return void 0===l&&(l=br(g,t)),s}return t=os(t)||0,Ha(n)&&(d=!!n.leading,a=(p="maxWait"in n)?an(os(n.maxWait)||0,t):a,h="trailing"in n?!!n.trailing:h),b.cancel=function(){void 0!==l&&co(l),u=0,i=c=o=l=void 0},b.flush=function(){return void 0===l?s:y(fa())},b}var xa=Ii((function(e,t){return Qn(e,1,t)})),wa=Ii((function(e,t,n){return Qn(e,os(t)||0,n)}));function Sa(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ye(r);var n=function(){var i=arguments,o=t?t.apply(this,i):i[0],r=n.cache;if(r.has(o))return r.get(o);var a=e.apply(this,i);return n.cache=r.set(o,a)||r,a};return n.cache=new(Sa.Cache||Dn),n}function ka(e){if("function"!=typeof e)throw new ye(r);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Sa.Cache=Dn;var Ca=so((function(e,t){var n=(t=1==t.length&&Ra(t[0])?dt(t[0],Pt(Xo())):dt(ri(t,1),Pt(Xo()))).length;return Ii((function(i){for(var o=-1,r=sn(i.length,n);++o<r;)i[o]=t[o].call(this,i[o]);return it(e,this,i)}))})),Ma=Ii((function(e,t){return Uo(e,32,void 0,t,Ft(t,Yo(Ma)))})),_a=Ii((function(e,t){return Uo(e,64,void 0,t,Ft(t,Yo(_a)))})),Oa=Wo((function(e,t){return Uo(e,256,void 0,void 0,void 0,t)}));function Pa(e,t){return e===t||e!=e&&t!=t}var Ea=Ao(fi),Ta=Ao((function(e,t){return e>=t})),ja=bi(function(){return arguments}())?bi:function(e){return Va(e)&&Ce.call(e,"callee")&&!Ye.call(e,"callee")},Ra=i.isArray,Na=Je?Pt(Je):function(e){return Va(e)&&hi(e)==k};function Aa(e){return null!=e&&za(e.length)&&!Ua(e)}function Da(e){return Va(e)&&Aa(e)}var Ba=tn||ol,Ia=Qe?Pt(Qe):function(e){return Va(e)&&hi(e)==d};function La(e){if(!Va(e))return!1;var t=hi(e);return t==p||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Ka(e)}function Ua(e){if(!Ha(e))return!1;var t=hi(e);return t==h||t==f||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Fa(e){return"number"==typeof e&&e==ns(e)}function za(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Ha(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Va(e){return null!=e&&"object"==typeof e}var Wa=Ze?Pt(Ze):function(e){return Va(e)&&nr(e)==m};function $a(e){return"number"==typeof e||Va(e)&&hi(e)==v}function Ka(e){if(!Va(e)||hi(e)!=g)return!1;var t=Ke(e);if(null===t)return!0;var n=Ce.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ke.call(n)==Pe}var Ga=et?Pt(et):function(e){return Va(e)&&hi(e)==y},qa=tt?Pt(tt):function(e){return Va(e)&&nr(e)==b};function Ya(e){return"string"==typeof e||!Ra(e)&&Va(e)&&hi(e)==x}function Xa(e){return"symbol"==typeof e||Va(e)&&hi(e)==w}var Ja=nt?Pt(nt):function(e){return Va(e)&&za(e.length)&&!!Le[hi(e)]},Qa=Ao(Mi),Za=Ao((function(e,t){return e<=t}));function es(e){if(!e)return[];if(Aa(e))return Ya(e)?Wt(e):go(e);if(Ct&&e[Ct])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ct]());var t=nr(e);return(t==m?Lt:t==b?zt:Ps)(e)}function ts(e){return e?1/0===(e=os(e))||-1/0===e?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ns(e){var t=ts(e),n=t%1;return t==t?n?t-n:t:0}function is(e){return e?Yn(ns(e),0,4294967295):0}function os(e){if("number"==typeof e)return e;if(Xa(e))return NaN;if(Ha(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ha(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(q,"");var n=re.test(e);return n||se.test(e)?He(e.slice(2),n?2:8):oe.test(e)?NaN:+e}function rs(e){return yo(e,xs(e))}function as(e){return null==e?"":Xi(e)}var ss=xo((function(e,t){if(dr(t)||Aa(t))yo(t,bs(t),e);else for(var n in t)Ce.call(t,n)&&Vn(e,n,t[n])})),ls=xo((function(e,t){yo(t,xs(t),e)})),cs=xo((function(e,t,n,i){yo(t,xs(t),e,i)})),us=xo((function(e,t,n,i){yo(t,bs(t),e,i)})),ds=Wo(qn),ps=Ii((function(e,t){e=me(e);var n=-1,i=t.length,o=i>2?t[2]:void 0;for(o&&sr(t[0],t[1],o)&&(i=1);++n<i;)for(var r=t[n],a=xs(r),s=-1,l=a.length;++s<l;){var c=a[s],u=e[c];(void 0===u||Pa(u,we[c])&&!Ce.call(e,c))&&(e[c]=r[c])}return e})),hs=Ii((function(e){return e.push(void 0,zo),it(Ss,void 0,e)}));function fs(e,t,n){var i=null==e?void 0:di(e,t);return void 0===i?n:i}function ms(e,t){return null!=e&&ir(e,t,vi)}var vs=Eo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Oe.call(t)),e[t]=n}),Hs($s)),gs=Eo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Oe.call(t)),Ce.call(e,t)?e[t].push(n):e[t]=[n]}),Xo),ys=Ii(yi);function bs(e){return Aa(e)?Ln(e):Ci(e)}function xs(e){return Aa(e)?Ln(e,!0):function(e){if(!Ha(e))return function(e){var t=[];if(null!=e)for(var n in me(e))t.push(n);return t}(e);var t=dr(e),n=[];for(var i in e)("constructor"!=i||!t&&Ce.call(e,i))&&n.push(i);return n}(e)}var ws=xo((function(e,t,n){Ei(e,t,n)})),Ss=xo((function(e,t,n,i){Ei(e,t,n,i)})),ks=Wo((function(e,t){var n={};if(null==e)return n;var i=!1;t=dt(t,(function(t){return t=ao(t,e),i||(i=t.length>1),t})),yo(e,Ko(e),n),i&&(n=Xn(n,7,Ho));for(var o=t.length;o--;)Qi(n,t[o]);return n})),Cs=Wo((function(e,t){return null==e?{}:function(e,t){return Ri(e,t,(function(t,n){return ms(e,n)}))}(e,t)}));function Ms(e,t){if(null==e)return{};var n=dt(Ko(e),(function(e){return[e]}));return t=Xo(t),Ri(e,n,(function(e,n){return t(e,n[0])}))}var _s=Lo(bs),Os=Lo(xs);function Ps(e){return null==e?[]:Et(e,bs(e))}var Es=Co((function(e,t,n){return t=t.toLowerCase(),e+(n?Ts(t):t)}));function Ts(e){return Ls(as(e).toLowerCase())}function js(e){return(e=as(e))&&e.replace(ce,At).replace(je,"")}var Rs=Co((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ns=Co((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),As=ko("toLowerCase"),Ds=Co((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),Bs=Co((function(e,t,n){return e+(n?" ":"")+Ls(t)})),Is=Co((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Ls=ko("toUpperCase");function Us(e,t,n){return e=as(e),void 0===(t=n?void 0:t)?function(e){return De.test(e)}(e)?function(e){return e.match(Ne)||[]}(e):function(e){return e.match(ee)||[]}(e):e.match(t)||[]}var Fs=Ii((function(e,t){try{return it(e,void 0,t)}catch(n){return La(n)?n:new pe(n)}})),zs=Wo((function(e,t){return rt(t,(function(t){t=Mr(t),Gn(e,t,ga(e[t],e))})),e}));function Hs(e){return function(){return e}}var Vs=Oo(),Ws=Oo(!0);function $s(e){return e}function Ks(e){return ki("function"==typeof e?e:Xn(e,1))}var Gs=Ii((function(e,t){return function(n){return yi(n,e,t)}})),qs=Ii((function(e,t){return function(n){return yi(e,n,t)}}));function Ys(e,t,n){var i=bs(t),o=ui(t,i);null!=n||Ha(t)&&(o.length||!i.length)||(n=t,t=e,e=this,o=ui(t,bs(t)));var r=!(Ha(n)&&"chain"in n&&!n.chain),a=Ua(e);return rt(o,(function(n){var i=t[n];e[n]=i,a&&(e.prototype[n]=function(){var t=this.__chain__;if(r||t){var n=e(this.__wrapped__),o=n.__actions__=go(this.__actions__);return o.push({func:i,args:arguments,thisArg:e}),n.__chain__=t,n}return i.apply(e,pt([this.value()],arguments))})})),e}function Xs(){}var Js=jo(dt),Qs=jo(st),Zs=jo(mt);function el(e){return lr(e)?kt(Mr(e)):function(e){return function(t){return di(t,e)}}(e)}var tl=No(),nl=No(!0);function il(){return[]}function ol(){return!1}var rl,al=To((function(e,t){return e+t}),0),sl=Bo("ceil"),ll=To((function(e,t){return e/t}),1),cl=Bo("floor"),ul=To((function(e,t){return e*t}),1),dl=Bo("round"),pl=To((function(e,t){return e-t}),0);return Pn.after=function(e,t){if("function"!=typeof t)throw new ye(r);return e=ns(e),function(){if(--e<1)return t.apply(this,arguments)}},Pn.ary=ma,Pn.assign=ss,Pn.assignIn=ls,Pn.assignInWith=cs,Pn.assignWith=us,Pn.at=ds,Pn.before=va,Pn.bind=ga,Pn.bindAll=zs,Pn.bindKey=ya,Pn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ra(e)?e:[e]},Pn.chain=ea,Pn.chunk=function(e,t,n){t=(n?sr(e,t,n):void 0===t)?1:an(ns(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var r=0,a=0,s=i(Qt(o/t));r<o;)s[a++]=Wi(e,r,r+=t);return s},Pn.compact=function(e){for(var t=-1,n=null==e?0:e.length,i=0,o=[];++t<n;){var r=e[t];r&&(o[i++]=r)}return o},Pn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=i(e-1),n=arguments[0],o=e;o--;)t[o-1]=arguments[o];return pt(Ra(n)?go(n):[n],ri(t,1))},Pn.cond=function(e){var t=null==e?0:e.length,n=Xo();return e=t?dt(e,(function(e){if("function"!=typeof e[1])throw new ye(r);return[n(e[0]),e[1]]})):[],Ii((function(n){for(var i=-1;++i<t;){var o=e[i];if(it(o[0],this,n))return it(o[1],this,n)}}))},Pn.conforms=function(e){return function(e){var t=bs(e);return function(n){return Jn(n,e,t)}}(Xn(e,1))},Pn.constant=Hs,Pn.countBy=ia,Pn.create=function(e,t){var n=En(e);return null==t?n:Kn(n,t)},Pn.curry=function e(t,n,i){var o=Uo(t,8,void 0,void 0,void 0,void 0,void 0,n=i?void 0:n);return o.placeholder=e.placeholder,o},Pn.curryRight=function e(t,n,i){var o=Uo(t,16,void 0,void 0,void 0,void 0,void 0,n=i?void 0:n);return o.placeholder=e.placeholder,o},Pn.debounce=ba,Pn.defaults=ps,Pn.defaultsDeep=hs,Pn.defer=xa,Pn.delay=wa,Pn.difference=Pr,Pn.differenceBy=Er,Pn.differenceWith=Tr,Pn.drop=function(e,t,n){var i=null==e?0:e.length;return i?Wi(e,(t=n||void 0===t?1:ns(t))<0?0:t,i):[]},Pn.dropRight=function(e,t,n){var i=null==e?0:e.length;return i?Wi(e,0,(t=i-(t=n||void 0===t?1:ns(t)))<0?0:t):[]},Pn.dropRightWhile=function(e,t){return e&&e.length?eo(e,Xo(t,3),!0,!0):[]},Pn.dropWhile=function(e,t){return e&&e.length?eo(e,Xo(t,3),!0):[]},Pn.fill=function(e,t,n,i){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&sr(e,t,n)&&(n=0,i=o),function(e,t,n,i){var o=e.length;for((n=ns(n))<0&&(n=-n>o?0:o+n),(i=void 0===i||i>o?o:ns(i))<0&&(i+=o),i=n>i?0:is(i);n<i;)e[n++]=t;return e}(e,t,n,i)):[]},Pn.filter=function(e,t){return(Ra(e)?lt:oi)(e,Xo(t,3))},Pn.flatMap=function(e,t){return ri(da(e,t),1)},Pn.flatMapDeep=function(e,t){return ri(da(e,t),1/0)},Pn.flatMapDepth=function(e,t,n){return n=void 0===n?1:ns(n),ri(da(e,t),n)},Pn.flatten=Nr,Pn.flattenDeep=function(e){return null!=e&&e.length?ri(e,1/0):[]},Pn.flattenDepth=function(e,t){return null!=e&&e.length?ri(e,t=void 0===t?1:ns(t)):[]},Pn.flip=function(e){return Uo(e,512)},Pn.flow=Vs,Pn.flowRight=Ws,Pn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,i={};++t<n;){var o=e[t];i[o[0]]=o[1]}return i},Pn.functions=function(e){return null==e?[]:ui(e,bs(e))},Pn.functionsIn=function(e){return null==e?[]:ui(e,xs(e))},Pn.groupBy=la,Pn.initial=function(e){return null!=e&&e.length?Wi(e,0,-1):[]},Pn.intersection=Dr,Pn.intersectionBy=Br,Pn.intersectionWith=Ir,Pn.invert=vs,Pn.invertBy=gs,Pn.invokeMap=ca,Pn.iteratee=Ks,Pn.keyBy=ua,Pn.keys=bs,Pn.keysIn=xs,Pn.map=da,Pn.mapKeys=function(e,t){var n={};return t=Xo(t,3),li(e,(function(e,i,o){Gn(n,t(e,i,o),e)})),n},Pn.mapValues=function(e,t){var n={};return t=Xo(t,3),li(e,(function(e,i,o){Gn(n,i,t(e,i,o))})),n},Pn.matches=function(e){return Oi(Xn(e,1))},Pn.matchesProperty=function(e,t){return Pi(e,Xn(t,1))},Pn.memoize=Sa,Pn.merge=ws,Pn.mergeWith=Ss,Pn.method=Gs,Pn.methodOf=qs,Pn.mixin=Ys,Pn.negate=ka,Pn.nthArg=function(e){return e=ns(e),Ii((function(t){return Ti(t,e)}))},Pn.omit=ks,Pn.omitBy=function(e,t){return Ms(e,ka(Xo(t)))},Pn.once=function(e){return va(2,e)},Pn.orderBy=function(e,t,n,i){return null==e?[]:(Ra(t)||(t=null==t?[]:[t]),Ra(n=i?void 0:n)||(n=null==n?[]:[n]),ji(e,t,n))},Pn.over=Js,Pn.overArgs=Ca,Pn.overEvery=Qs,Pn.overSome=Zs,Pn.partial=Ma,Pn.partialRight=_a,Pn.partition=pa,Pn.pick=Cs,Pn.pickBy=Ms,Pn.property=el,Pn.propertyOf=function(e){return function(t){return null==e?void 0:di(e,t)}},Pn.pull=Ur,Pn.pullAll=Fr,Pn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Ni(e,t,Xo(n,2)):e},Pn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Ni(e,t,void 0,n):e},Pn.pullAt=zr,Pn.range=tl,Pn.rangeRight=nl,Pn.rearg=Oa,Pn.reject=function(e,t){return(Ra(e)?lt:oi)(e,ka(Xo(t,3)))},Pn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var i=-1,o=[],r=e.length;for(t=Xo(t,3);++i<r;){var a=e[i];t(a,i,e)&&(n.push(a),o.push(i))}return Ai(e,o),n},Pn.rest=function(e,t){if("function"!=typeof e)throw new ye(r);return Ii(e,t=void 0===t?t:ns(t))},Pn.reverse=Hr,Pn.sampleSize=function(e,t,n){return t=(n?sr(e,t,n):void 0===t)?1:ns(t),(Ra(e)?Fn:Ui)(e,t)},Pn.set=function(e,t,n){return null==e?e:Fi(e,t,n)},Pn.setWith=function(e,t,n,i){return i="function"==typeof i?i:void 0,null==e?e:Fi(e,t,n,i)},Pn.shuffle=function(e){return(Ra(e)?zn:Vi)(e)},Pn.slice=function(e,t,n){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&sr(e,t,n)?(t=0,n=i):(t=null==t?0:ns(t),n=void 0===n?i:ns(n)),Wi(e,t,n)):[]},Pn.sortBy=ha,Pn.sortedUniq=function(e){return e&&e.length?qi(e):[]},Pn.sortedUniqBy=function(e,t){return e&&e.length?qi(e,Xo(t,2)):[]},Pn.split=function(e,t,n){return n&&"number"!=typeof n&&sr(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=as(e))&&("string"==typeof t||null!=t&&!Ga(t))&&!(t=Xi(t))&&It(e)?lo(Wt(e),0,n):e.split(t,n):[]},Pn.spread=function(e,t){if("function"!=typeof e)throw new ye(r);return t=null==t?0:an(ns(t),0),Ii((function(n){var i=n[t],o=lo(n,0,t);return i&&pt(o,i),it(e,this,o)}))},Pn.tail=function(e){var t=null==e?0:e.length;return t?Wi(e,1,t):[]},Pn.take=function(e,t,n){return e&&e.length?Wi(e,0,(t=n||void 0===t?1:ns(t))<0?0:t):[]},Pn.takeRight=function(e,t,n){var i=null==e?0:e.length;return i?Wi(e,(t=i-(t=n||void 0===t?1:ns(t)))<0?0:t,i):[]},Pn.takeRightWhile=function(e,t){return e&&e.length?eo(e,Xo(t,3),!1,!0):[]},Pn.takeWhile=function(e,t){return e&&e.length?eo(e,Xo(t,3)):[]},Pn.tap=function(e,t){return t(e),e},Pn.throttle=function(e,t,n){var i=!0,o=!0;if("function"!=typeof e)throw new ye(r);return Ha(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),ba(e,t,{leading:i,maxWait:t,trailing:o})},Pn.thru=ta,Pn.toArray=es,Pn.toPairs=_s,Pn.toPairsIn=Os,Pn.toPath=function(e){return Ra(e)?dt(e,Mr):Xa(e)?[e]:go(Cr(as(e)))},Pn.toPlainObject=rs,Pn.transform=function(e,t,n){var i=Ra(e),o=i||Ba(e)||Ja(e);if(t=Xo(t,4),null==n){var r=e&&e.constructor;n=o?i?new r:[]:Ha(e)&&Ua(r)?En(Ke(e)):{}}return(o?rt:li)(e,(function(e,i,o){return t(n,e,i,o)})),n},Pn.unary=function(e){return ma(e,1)},Pn.union=Vr,Pn.unionBy=Wr,Pn.unionWith=$r,Pn.uniq=function(e){return e&&e.length?Ji(e):[]},Pn.uniqBy=function(e,t){return e&&e.length?Ji(e,Xo(t,2)):[]},Pn.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Ji(e,void 0,t):[]},Pn.unset=function(e,t){return null==e||Qi(e,t)},Pn.unzip=Kr,Pn.unzipWith=Gr,Pn.update=function(e,t,n){return null==e?e:Zi(e,t,ro(n))},Pn.updateWith=function(e,t,n,i){return i="function"==typeof i?i:void 0,null==e?e:Zi(e,t,ro(n),i)},Pn.values=Ps,Pn.valuesIn=function(e){return null==e?[]:Et(e,xs(e))},Pn.without=qr,Pn.words=Us,Pn.wrap=function(e,t){return Ma(ro(t),e)},Pn.xor=Yr,Pn.xorBy=Xr,Pn.xorWith=Jr,Pn.zip=Qr,Pn.zipObject=function(e,t){return io(e||[],t||[],Vn)},Pn.zipObjectDeep=function(e,t){return io(e||[],t||[],Fi)},Pn.zipWith=Zr,Pn.entries=_s,Pn.entriesIn=Os,Pn.extend=ls,Pn.extendWith=cs,Ys(Pn,Pn),Pn.add=al,Pn.attempt=Fs,Pn.camelCase=Es,Pn.capitalize=Ts,Pn.ceil=sl,Pn.clamp=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=os(n))==n?n:0),void 0!==t&&(t=(t=os(t))==t?t:0),Yn(os(e),t,n)},Pn.clone=function(e){return Xn(e,4)},Pn.cloneDeep=function(e){return Xn(e,5)},Pn.cloneDeepWith=function(e,t){return Xn(e,5,t="function"==typeof t?t:void 0)},Pn.cloneWith=function(e,t){return Xn(e,4,t="function"==typeof t?t:void 0)},Pn.conformsTo=function(e,t){return null==t||Jn(e,t,bs(t))},Pn.deburr=js,Pn.defaultTo=function(e,t){return null==e||e!=e?t:e},Pn.divide=ll,Pn.endsWith=function(e,t,n){e=as(e),t=Xi(t);var i=e.length,o=n=void 0===n?i:Yn(ns(n),0,i);return(n-=t.length)>=0&&e.slice(n,o)==t},Pn.eq=Pa,Pn.escape=function(e){return(e=as(e))&&U.test(e)?e.replace(I,Dt):e},Pn.escapeRegExp=function(e){return(e=as(e))&&G.test(e)?e.replace(K,"\\$&"):e},Pn.every=function(e,t,n){var i=Ra(e)?st:ni;return n&&sr(e,t,n)&&(t=void 0),i(e,Xo(t,3))},Pn.find=oa,Pn.findIndex=jr,Pn.findKey=function(e,t){return gt(e,Xo(t,3),li)},Pn.findLast=ra,Pn.findLastIndex=Rr,Pn.findLastKey=function(e,t){return gt(e,Xo(t,3),ci)},Pn.floor=cl,Pn.forEach=aa,Pn.forEachRight=sa,Pn.forIn=function(e,t){return null==e?e:ai(e,Xo(t,3),xs)},Pn.forInRight=function(e,t){return null==e?e:si(e,Xo(t,3),xs)},Pn.forOwn=function(e,t){return e&&li(e,Xo(t,3))},Pn.forOwnRight=function(e,t){return e&&ci(e,Xo(t,3))},Pn.get=fs,Pn.gt=Ea,Pn.gte=Ta,Pn.has=function(e,t){return null!=e&&ir(e,t,mi)},Pn.hasIn=ms,Pn.head=Ar,Pn.identity=$s,Pn.includes=function(e,t,n,i){e=Aa(e)?e:Ps(e),n=n&&!i?ns(n):0;var o=e.length;return n<0&&(n=an(o+n,0)),Ya(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&bt(e,t,n)>-1},Pn.indexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var o=null==n?0:ns(n);return o<0&&(o=an(i+o,0)),bt(e,t,o)},Pn.inRange=function(e,t,n){return t=ts(t),void 0===n?(n=t,t=0):n=ts(n),function(e,t,n){return e>=sn(t,n)&&e<an(t,n)}(e=os(e),t,n)},Pn.invoke=ys,Pn.isArguments=ja,Pn.isArray=Ra,Pn.isArrayBuffer=Na,Pn.isArrayLike=Aa,Pn.isArrayLikeObject=Da,Pn.isBoolean=function(e){return!0===e||!1===e||Va(e)&&hi(e)==u},Pn.isBuffer=Ba,Pn.isDate=Ia,Pn.isElement=function(e){return Va(e)&&1===e.nodeType&&!Ka(e)},Pn.isEmpty=function(e){if(null==e)return!0;if(Aa(e)&&(Ra(e)||"string"==typeof e||"function"==typeof e.splice||Ba(e)||Ja(e)||ja(e)))return!e.length;var t=nr(e);if(t==m||t==b)return!e.size;if(dr(e))return!Ci(e).length;for(var n in e)if(Ce.call(e,n))return!1;return!0},Pn.isEqual=function(e,t){return xi(e,t)},Pn.isEqualWith=function(e,t,n){var i=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===i?xi(e,t,void 0,n):!!i},Pn.isError=La,Pn.isFinite=function(e){return"number"==typeof e&&nn(e)},Pn.isFunction=Ua,Pn.isInteger=Fa,Pn.isLength=za,Pn.isMap=Wa,Pn.isMatch=function(e,t){return e===t||wi(e,t,Qo(t))},Pn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:void 0,wi(e,t,Qo(t),n)},Pn.isNaN=function(e){return $a(e)&&e!=+e},Pn.isNative=function(e){if(ur(e))throw new pe("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Si(e)},Pn.isNil=function(e){return null==e},Pn.isNull=function(e){return null===e},Pn.isNumber=$a,Pn.isObject=Ha,Pn.isObjectLike=Va,Pn.isPlainObject=Ka,Pn.isRegExp=Ga,Pn.isSafeInteger=function(e){return Fa(e)&&e>=-9007199254740991&&e<=9007199254740991},Pn.isSet=qa,Pn.isString=Ya,Pn.isSymbol=Xa,Pn.isTypedArray=Ja,Pn.isUndefined=function(e){return void 0===e},Pn.isWeakMap=function(e){return Va(e)&&nr(e)==S},Pn.isWeakSet=function(e){return Va(e)&&"[object WeakSet]"==hi(e)},Pn.join=function(e,t){return null==e?"":on.call(e,t)},Pn.kebabCase=Rs,Pn.last=Lr,Pn.lastIndexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var o=i;return void 0!==n&&(o=(o=ns(n))<0?an(i+o,0):sn(o,i-1)),t==t?function(e,t,n){for(var i=n+1;i--;)if(e[i]===t)return i;return i}(e,t,o):yt(e,wt,o,!0)},Pn.lowerCase=Ns,Pn.lowerFirst=As,Pn.lt=Qa,Pn.lte=Za,Pn.max=function(e){return e&&e.length?ii(e,$s,fi):void 0},Pn.maxBy=function(e,t){return e&&e.length?ii(e,Xo(t,2),fi):void 0},Pn.mean=function(e){return St(e,$s)},Pn.meanBy=function(e,t){return St(e,Xo(t,2))},Pn.min=function(e){return e&&e.length?ii(e,$s,Mi):void 0},Pn.minBy=function(e,t){return e&&e.length?ii(e,Xo(t,2),Mi):void 0},Pn.stubArray=il,Pn.stubFalse=ol,Pn.stubObject=function(){return{}},Pn.stubString=function(){return""},Pn.stubTrue=function(){return!0},Pn.multiply=ul,Pn.nth=function(e,t){return e&&e.length?Ti(e,ns(t)):void 0},Pn.noConflict=function(){return $e._===this&&($e._=Ee),this},Pn.noop=Xs,Pn.now=fa,Pn.pad=function(e,t,n){e=as(e);var i=(t=ns(t))?Vt(e):0;if(!t||i>=t)return e;var o=(t-i)/2;return Ro(Zt(o),n)+e+Ro(Qt(o),n)},Pn.padEnd=function(e,t,n){e=as(e);var i=(t=ns(t))?Vt(e):0;return t&&i<t?e+Ro(t-i,n):e},Pn.padStart=function(e,t,n){e=as(e);var i=(t=ns(t))?Vt(e):0;return t&&i<t?Ro(t-i,n)+e:e},Pn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),cn(as(e).replace(Y,""),t||0)},Pn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&sr(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=ts(e),void 0===t?(t=e,e=0):t=ts(t)),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var o=un();return sn(e+o*(t-e+ze("1e-"+((o+"").length-1))),t)}return Di(e,t)},Pn.reduce=function(e,t,n){var i=Ra(e)?ht:Mt,o=arguments.length<3;return i(e,Xo(t,4),n,o,ei)},Pn.reduceRight=function(e,t,n){var i=Ra(e)?ft:Mt,o=arguments.length<3;return i(e,Xo(t,4),n,o,ti)},Pn.repeat=function(e,t,n){return t=(n?sr(e,t,n):void 0===t)?1:ns(t),Bi(as(e),t)},Pn.replace=function(){var e=arguments,t=as(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Pn.result=function(e,t,n){var i=-1,o=(t=ao(t,e)).length;for(o||(o=1,e=void 0);++i<o;){var r=null==e?void 0:e[Mr(t[i])];void 0===r&&(i=o,r=n),e=Ua(r)?r.call(e):r}return e},Pn.round=dl,Pn.runInContext=e,Pn.sample=function(e){return(Ra(e)?Un:Li)(e)},Pn.size=function(e){if(null==e)return 0;if(Aa(e))return Ya(e)?Vt(e):e.length;var t=nr(e);return t==m||t==b?e.size:Ci(e).length},Pn.snakeCase=Ds,Pn.some=function(e,t,n){var i=Ra(e)?mt:$i;return n&&sr(e,t,n)&&(t=void 0),i(e,Xo(t,3))},Pn.sortedIndex=function(e,t){return Ki(e,t)},Pn.sortedIndexBy=function(e,t,n){return Gi(e,t,Xo(n,2))},Pn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var i=Ki(e,t);if(i<n&&Pa(e[i],t))return i}return-1},Pn.sortedLastIndex=function(e,t){return Ki(e,t,!0)},Pn.sortedLastIndexBy=function(e,t,n){return Gi(e,t,Xo(n,2),!0)},Pn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=Ki(e,t,!0)-1;if(Pa(e[n],t))return n}return-1},Pn.startCase=Bs,Pn.startsWith=function(e,t,n){return e=as(e),n=null==n?0:Yn(ns(n),0,e.length),t=Xi(t),e.slice(n,n+t.length)==t},Pn.subtract=pl,Pn.sum=function(e){return e&&e.length?_t(e,$s):0},Pn.sumBy=function(e,t){return e&&e.length?_t(e,Xo(t,2)):0},Pn.template=function(e,t,n){var i=Pn.templateSettings;n&&sr(e,t,n)&&(t=void 0),e=as(e),t=cs({},t,i,Fo);var o,r,a=cs({},t.imports,i.imports,Fo),s=bs(a),l=Et(a,s),c=0,u=t.interpolate||ue,d="__p += '",p=ve((t.escape||ue).source+"|"+u.source+"|"+(u===H?ne:ue).source+"|"+(t.evaluate||ue).source+"|$","g"),h="//# sourceURL="+(Ce.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ie+"]")+"\n";e.replace(p,(function(t,n,i,a,s,l){return i||(i=a),d+=e.slice(c,l).replace(de,Bt),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),s&&(r=!0,d+="';\n"+s+";\n__p += '"),i&&(d+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),c=l+t.length,t})),d+="';\n";var f=Ce.call(t,"variable")&&t.variable;f||(d="with (obj) {\n"+d+"\n}\n"),d=(r?d.replace(N,""):d).replace(A,"$1").replace(D,"$1;"),d="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(r?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=Fs((function(){return he(s,h+"return "+d).apply(void 0,l)}));if(m.source=d,La(m))throw m;return m},Pn.times=function(e,t){if((e=ns(e))<1||e>9007199254740991)return[];var n=4294967295,i=sn(e,4294967295);e-=4294967295;for(var o=Ot(i,t=Xo(t));++n<e;)t(n);return o},Pn.toFinite=ts,Pn.toInteger=ns,Pn.toLength=is,Pn.toLower=function(e){return as(e).toLowerCase()},Pn.toNumber=os,Pn.toSafeInteger=function(e){return e?Yn(ns(e),-9007199254740991,9007199254740991):0===e?e:0},Pn.toString=as,Pn.toUpper=function(e){return as(e).toUpperCase()},Pn.trim=function(e,t,n){if((e=as(e))&&(n||void 0===t))return e.replace(q,"");if(!e||!(t=Xi(t)))return e;var i=Wt(e),o=Wt(t);return lo(i,jt(i,o),Rt(i,o)+1).join("")},Pn.trimEnd=function(e,t,n){if((e=as(e))&&(n||void 0===t))return e.replace(X,"");if(!e||!(t=Xi(t)))return e;var i=Wt(e);return lo(i,0,Rt(i,Wt(t))+1).join("")},Pn.trimStart=function(e,t,n){if((e=as(e))&&(n||void 0===t))return e.replace(Y,"");if(!e||!(t=Xi(t)))return e;var i=Wt(e);return lo(i,jt(i,Wt(t))).join("")},Pn.truncate=function(e,t){var n=30,i="...";if(Ha(t)){var o="separator"in t?t.separator:o;n="length"in t?ns(t.length):n,i="omission"in t?Xi(t.omission):i}var r=(e=as(e)).length;if(It(e)){var a=Wt(e);r=a.length}if(n>=r)return e;var s=n-Vt(i);if(s<1)return i;var l=a?lo(a,0,s).join(""):e.slice(0,s);if(void 0===o)return l+i;if(a&&(s+=l.length-s),Ga(o)){if(e.slice(s).search(o)){var c,u=l;for(o.global||(o=ve(o.source,as(ie.exec(o))+"g")),o.lastIndex=0;c=o.exec(u);)var d=c.index;l=l.slice(0,void 0===d?s:d)}}else if(e.indexOf(Xi(o),s)!=s){var p=l.lastIndexOf(o);p>-1&&(l=l.slice(0,p))}return l+i},Pn.unescape=function(e){return(e=as(e))&&L.test(e)?e.replace(B,$t):e},Pn.uniqueId=function(e){var t=++Me;return as(e)+t},Pn.upperCase=Is,Pn.upperFirst=Ls,Pn.each=aa,Pn.eachRight=sa,Pn.first=Ar,Ys(Pn,(rl={},li(Pn,(function(e,t){Ce.call(Pn.prototype,t)||(rl[t]=e)})),rl),{chain:!1}),Pn.VERSION="4.17.20",rt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Pn[e].placeholder=Pn})),rt(["drop","take"],(function(e,t){Rn.prototype[e]=function(n){n=void 0===n?1:an(ns(n),0);var i=this.__filtered__&&!t?new Rn(this):this.clone();return i.__filtered__?i.__takeCount__=sn(n,i.__takeCount__):i.__views__.push({size:sn(n,4294967295),type:e+(i.__dir__<0?"Right":"")}),i},Rn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),rt(["filter","map","takeWhile"],(function(e,t){var n=t+1,i=1==n||3==n;Rn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Xo(e,3),type:n}),t.__filtered__=t.__filtered__||i,t}})),rt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Rn.prototype[e]=function(){return this[n](1).value()[0]}})),rt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Rn.prototype[e]=function(){return this.__filtered__?new Rn(this):this[n](1)}})),Rn.prototype.compact=function(){return this.filter($s)},Rn.prototype.find=function(e){return this.filter(e).head()},Rn.prototype.findLast=function(e){return this.reverse().find(e)},Rn.prototype.invokeMap=Ii((function(e,t){return"function"==typeof e?new Rn(this):this.map((function(n){return yi(n,e,t)}))})),Rn.prototype.reject=function(e){return this.filter(ka(Xo(e)))},Rn.prototype.slice=function(e,t){e=ns(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Rn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=ns(t))<0?n.dropRight(-t):n.take(t-e)),n)},Rn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Rn.prototype.toArray=function(){return this.take(4294967295)},li(Rn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),o=Pn[i?"take"+("last"==t?"Right":""):t],r=i||/^find/.test(t);o&&(Pn.prototype[t]=function(){var t=this.__wrapped__,a=i?[1]:arguments,s=t instanceof Rn,l=a[0],c=s||Ra(t),u=function(e){var t=o.apply(Pn,pt([e],a));return i&&d?t[0]:t};c&&n&&"function"==typeof l&&1!=l.length&&(s=c=!1);var d=this.__chain__,p=!!this.__actions__.length,h=r&&!d,f=s&&!p;if(!r&&c){t=f?t:new Rn(this);var m=e.apply(t,a);return m.__actions__.push({func:ta,args:[u],thisArg:void 0}),new jn(m,d)}return h&&f?e.apply(this,a):(m=this.thru(u),h?i?m.value()[0]:m.value():m)})})),rt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=be[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);Pn.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var o=this.value();return t.apply(Ra(o)?o:[],e)}return this[n]((function(n){return t.apply(Ra(n)?n:[],e)}))}})),li(Rn.prototype,(function(e,t){var n=Pn[t];if(n){var i=n.name+"";Ce.call(bn,i)||(bn[i]=[]),bn[i].push({name:t,func:n})}})),bn[Po(void 0,2).name]=[{name:"wrapper",func:void 0}],Rn.prototype.clone=function(){var e=new Rn(this.__wrapped__);return e.__actions__=go(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=go(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=go(this.__views__),e},Rn.prototype.reverse=function(){if(this.__filtered__){var e=new Rn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Rn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ra(e),i=t<0,o=n?e.length:0,r=function(e,t,n){for(var i=-1,o=n.length;++i<o;){var r=n[i],a=r.size;switch(r.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=sn(t,e+a);break;case"takeRight":e=an(e,t-a)}}return{start:e,end:t}}(0,o,this.__views__),a=r.start,s=r.end,l=s-a,c=i?s:a-1,u=this.__iteratees__,d=u.length,p=0,h=sn(l,this.__takeCount__);if(!n||!i&&o==l&&h==l)return to(e,this.__actions__);var f=[];e:for(;l--&&p<h;){for(var m=-1,v=e[c+=t];++m<d;){var g=u[m],y=g.iteratee,b=g.type,x=y(v);if(2==b)v=x;else if(!x){if(1==b)continue e;break e}}f[p++]=v}return f},Pn.prototype.at=na,Pn.prototype.chain=function(){return ea(this)},Pn.prototype.commit=function(){return new jn(this.value(),this.__chain__)},Pn.prototype.next=function(){void 0===this.__values__&&(this.__values__=es(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},Pn.prototype.plant=function(e){for(var t,n=this;n instanceof Tn;){var i=Or(n);i.__index__=0,i.__values__=void 0,t?o.__wrapped__=i:t=i;var o=i;n=n.__wrapped__}return o.__wrapped__=e,t},Pn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Rn){var t=e;return this.__actions__.length&&(t=new Rn(this)),(t=t.reverse()).__actions__.push({func:ta,args:[Hr],thisArg:void 0}),new jn(t,this.__chain__)}return this.thru(Hr)},Pn.prototype.toJSON=Pn.prototype.valueOf=Pn.prototype.value=function(){return to(this.__wrapped__,this.__actions__)},Pn.prototype.first=Pn.prototype.head,Ct&&(Pn.prototype[Ct]=function(){return this}),Pn}();$e._=Kt,void 0===(o=function(){return Kt}.call(t,n,t,i))||(i.exports=o)}).call(this)}).call(this,n(39),n(659)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SectionModel=void 0,t.SectionModel=class{constructor(){this.styles={},this.widgets=[]}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.MediaItem=t.defaultURL=t.defaultFileName=void 0;const o=n(0),r=n(135),a=n(57);t.defaultFileName="media.svg",t.defaultURL="https://cdn.paperbits.io/images/logo.svg",t.MediaItem=class{constructor(e){this.key=e.key,this.blobKey=e.blobKey,this.fileName=o.observable(e.fileName),this.description=o.observable(e.description),this.keywords=o.observable(e.keywords),this.permalink=o.observable(e.permalink),this.contentType=o.observable(e.mimeType),this.thumbnailUrl=o.observable(),this.downloadUrl=o.observable(e.downloadUrl),this.getThumbnail(e)}getThumbnail(e){var t,n;return i(this,void 0,void 0,(function*(){if(null===(t=e.mimeType)||void 0===t?void 0:t.startsWith("video")){const t=yield r.getVideoThumbnailAsDataUrlFromUrl(e.downloadUrl);this.thumbnailUrl(t)}else(null===(n=e.mimeType)||void 0===n?void 0:n.startsWith("image"))?this.thumbnailUrl(e.downloadUrl):this.thumbnailUrl(null)}))}isDefaultFileName(){return this.fileName()===t.defaultFileName}isDefaultUrl(){return this.downloadUrl()===t.defaultURL}updateDefault(e){this.fileName(e),this.permalink(this.permalink().replace(t.defaultFileName,e)),this.thumbnailUrl(this.downloadUrl())}toMedia(){return{key:this.key,blobKey:this.blobKey,fileName:this.fileName(),description:this.description(),keywords:this.keywords(),mimeType:this.contentType(),downloadUrl:this.downloadUrl(),permalink:this.permalink()}}getHyperlink(){const e=new a.HyperlinkModel;return e.title=this.fileName(),e.targetKey=this.key,e.href=this.permalink(),e}}},function(e,t){var n,i,o=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(e){n=r}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var l,c=[],u=!1,d=-1;function p(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&h())}function h(){if(!u){var e=s(p);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||u||s(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){var i=n(114),o=n(90),r=i("keys");e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+i).toString(36)}},function(e,t,n){"use strict";var i={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,r=o&&!i.call({1:2},1);t.f=r?function(e){var t=o(this,e);return!!t&&t.enumerable}:i},function(e,t,n){"use strict";var i=n(51),o=n(12),r=n(7);e.exports=i||!r((function(){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete o[e]}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Keys=void 0,t.Keys={Tab:9,Enter:13,Esc:27,Space:32,Delete:46,Alt:18,O:79,P:80,S:83,Y:89,Z:90}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(583),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonModel=void 0,t.ButtonModel=class{constructor(){this.label="Button",this.styles={appearance:"components/button/default"}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CardModel=void 0,t.CardModel=class{constructor(){this.widgets=[],this.alignment={},this.styles={appearance:"components/card/default"}}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultStyleCompiler=void 0;const o=n(6),r=n(30),a=n(98),s=n(138),l=n(656),c=n(657),u=n(8),d=n(48);t.DefaultStyleCompiler=class{constructor(e,t){this.styleService=e,this.mediaPermalinkResolver=t,this.pluginsToRefresh=["border","background","shadow","animation","typography"],this.plugins={}}isResponsive(e){if(!e)throw new Error('Parameter "variation" not specified.');return Object.keys(e).some(e=>Object.keys(a.BreakpointValues).includes(e))}setStyles(e){this.styles=e}getStyles(){return i(this,void 0,void 0,(function*(){return this.styles||this.styleService||console.error("Styles provider is not set!!!"),this.styles||(yield this.styleService.getStyles())}))}initializePlugins(){return i(this,void 0,void 0,(function*(){const e=yield this.getStyles();Object.keys(this.plugins).length>0?e&&this.pluginsToRefresh.map(t=>{const n=this.plugins[t];n.setThemeContract?n.setThemeContract(e):console.error(`Plugin ${t} does not support setThemeContract`)}):(this.plugins.padding=new s.PaddingStylePlugin,this.plugins.margin=new s.MarginStylePlugin,this.plugins.border=new s.BorderStylePlugin(e),this.plugins.borderRadius=new s.BorderRadiusStylePlugin,this.plugins.background=new s.BackgroundStylePlugin(e,this.mediaPermalinkResolver),this.plugins.shadow=new s.ShadowStylePlugin(e),this.plugins.animation=new s.AnimationStylePlugin(e),this.plugins.typography=new s.TypographyStylePlugin(e),this.plugins.list=new s.ListStylePlugin,this.plugins.components=new s.ComponentsStylePlugin(this),this.plugins.states=new s.StatesStylePlugin(this),this.plugins.grid=new l.GridStylePlugin,this.plugins["grid-cell"]=new c.GridCellStylePlugin,this.plugins.container=new s.ContainerStylePlugin,this.plugins.size=new s.SizeStylePlugin,this.plugins.transform=new s.TransformStylePlugin,this.plugins.transition=new s.TransitionStylePlugin,this.plugins.stickTo=new s.StickToStylePlugin)}))}getStyleSheet(){return i(this,void 0,void 0,(function*(){yield this.initializePlugins();const e=new u.StyleSheet("global"),t=yield this.getStyles(),n=new s.FontsStylePlugin(this.mediaPermalinkResolver,t),i=yield n.contractToFontFaces();if(e.fontFaces.push(...i),t.components)for(const o of Object.keys(t.components)){const n=t.components[o],i=yield this.getVariationStyle(n.default,o),r=Object.keys(n);for(const e of r){if("default"===e)continue;const t=yield this.getVariationStyle(n[e],o,e);i.modifierStyles.push(t)}e.styles.push(i)}if(t.utils){for(const n of Object.keys(t.utils.text)){const i=yield this.getVariationStyle(t.utils.text[n],"text",n);e.styles.push(i)}for(const n of Object.keys(t.utils.content)){const i=yield this.getVariationStyle(t.utils.content[n],"content",n);e.styles.push(i)}}if(t.globals)for(const r of Object.keys(t.globals)){const n=t.globals[r],i=yield this.getVariationStyle(n.default,r,"default",!0),a=Object.keys(n);if(i||!(a.length<=1)){for(const e of a){if("default"===e)continue;const t=o.camelCaseToKebabCase("body"===r?"text":r),a=yield this.getVariationStyle(n[e],t,e,!0);a&&("text"===t?i.nestedStyles.push(a):i.modifierStyles.push(a))}e.globalStyles.push(i)}}if(t.colors)for(const r of Object.keys(t.colors)){const n="colors-"+o.camelCaseToKebabCase(r),i=new u.Style(n);i.addRule(new u.StyleRule("color",t.colors[r].value)),e.styles.push(i)}return e}))}compileCss(){return i(this,void 0,void 0,(function*(){const e=yield this.getStyleSheet();return(new d.JssCompiler).compile(e)}))}getVariationStyle(e,t,n=null,o=!1){return i(this,void 0,void 0,(function*(){yield this.initializePlugins();const i=n?`${t}-${n}`.replace("-default",""):t,r=new u.Style(i);n||(n="default");const s={};for(const l of Object.keys(e)){if("allowedStates"===l)continue;const i=this.plugins[l];if(!i)continue;const c=e[l];if(this.isResponsive(c))for(const e of Object.keys(a.BreakpointValues)){const l=c[e];if(!l)continue;if("xs"===e){const e=yield i.configToStyleRules(l);r.addRules(e);const t=yield i.configToPseudoStyles(l);r.pseudoStyles.push(...t);const n=yield i.configToNestedStyles(l);r.nestedStyles.push(...n);continue}const d=o?t:`${t}-${e}-${n}`.replace("-default","");let p,h=s[e];h?p=h.styles[0]:(h=new u.StyleMediaQuery(a.BreakpointValues[e]),s[e]=h,r.nestedMediaQueries.push(h),p=new u.Style(d),h.styles.push(p));const f=yield i.configToStyleRules(l);p.rules.push(...f);const m=yield i.configToPseudoStyles(l);p.pseudoStyles.push(...m);const v=yield i.configToNestedStyles(l);p.nestedStyles.push(...v)}else{const e=yield i.configToStyleRules(c);r.addRules(e);const t=yield i.configToPseudoStyles(c);r.pseudoStyles.push(...t);const n=yield i.configToNestedStyles(c);o?r.nestedGlobalStyles.push(...n):r.nestedStyles.push(...n),r.nestedStyles.push(...n)}}return r}))}getVariationClassNames(e,t,n=null){const i=[];n||(n="default");for(const o of Object.keys(e)){const r=e[o];if(this.isResponsive(r)){for(const e of Object.keys(a.BreakpointValues))if(r[e]){let o;o="xs"===e?`${t}-${n}`.replace("-default",""):`${t}-${e}-${n}`.replace("-default",""),i.push(o)}}else{const e=`${t}-${n}`.replace("-default","");i.push(e)}}return i}getStateStyle(e,t){return i(this,void 0,void 0,(function*(){const n=new u.Style(t);for(const t of Object.keys(e)){const i=this.plugins[t];if(i){const o=e[t],r=yield i.configToStyleRules(o);n.addRules(r);const a=yield i.configToNestedStyles(o);n.nestedStyles.push(...a)}}return n}))}getFontsStylesCss(){return i(this,void 0,void 0,(function*(){const e=yield this.getStyles(),t=new s.FontsStylePlugin(this.mediaPermalinkResolver,e),n=yield t.contractToFontFaces(),i=new u.StyleSheet;return i.fontFaces.push(...n),(new d.JssCompiler).compile(i)}))}getClassNameByColorKey(e){return o.camelCaseToKebabCase(e.replaceAll("/","-"))}getClassNamesForLocalStylesAsync(e){return i(this,void 0,void 0,(function*(){const t=[];for(const n of Object.keys(e)){const i=e[n];if(!i)continue;if(this.isResponsive(i)){for(const e of Object.keys(i)){let n;n="xs"===e?yield this.getClassNameByStyleKeyAsync(i[e]):yield this.getClassNameByStyleKeyAsync(i[e],e),n&&t.push(n)}continue}const o=i,r=yield this.getClassNameByStyleKeyAsync(o);r&&t.push(r)}return t.join(" ")}))}getStyleModelAsync(e,t){return i(this,void 0,void 0,(function*(){const n=[];let i,r;for(const t of Object.keys(e)){const a=e[t];if(a)if("instance"===t){const e=a,t=e.key||o.randomClassName();e.key=t,r=e.key,i=yield this.getVariationStyle(e,t);const s=yield this.getVariationClassNames(e,t);n.push(...s)}else if(this.isResponsive(a)){const e=a;for(const t of Object.keys(e)){let i;i="xs"===t?yield this.getClassNameByStyleKeyAsync(e[t]):yield this.getClassNameByStyleKeyAsync(e[t],t),i&&n.push(i)}}else{const e=a,t=yield this.getClassNameByStyleKeyAsync(e);t&&n.push(t)}}const a=new u.StyleSheet(r);return i&&a.styles.push(i),{key:r,classNames:n.join(" "),styleSheet:a,styleManager:t}}))}getClassNameByStyleKeyAsync(e,t){return i(this,void 0,void 0,(function*(){if(!e)throw new Error('Parameter "key" not specified.');const n=e.split("/"),i=n[0];let a=n[1];const s=n[2];if("globals"===i&&"body"!==a&&"ul"!==a)return null;const l=[];if("body"===a?a="text":l.push(o.camelCaseToKebabCase(a)),s){let e;e=t?`${a}-${t}-${s}`:`${a}-${s}`,e=o.camelCaseToKebabCase(e),l.push(e)}const c=yield this.getStyles(),u=r.getObjectAt(e,c);return u&&u.class&&l.push(u.class[t||"xs"]),l.join(" ")}))}styleToCss(e){if(!e)return"";const t=new u.StyleSheet;return t.styles.push(e),(new d.JssCompiler).compile(t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BreakpointValues=void 0,t.BreakpointValues={xs:0,sm:576,md:768,lg:992,xl:1200}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColumnModel=void 0,t.ColumnModel=class{constructor(){this.widgets=[],this.size={},this.alignment={},this.order={}}}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(664),t),o(n(666),t),o(n(140),t),o(n(230),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MenuModel=void 0,t.MenuModel=class{constructor(){this.items=[],this.roles=null,this.layout="vertical"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PictureModel=void 0,t.PictureModel=class{}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TestimonialsModel=void 0,t.TestimonialsModel=class{}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockModel=void 0,t.BlockModel=class{constructor(e){this.type=e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VideoPlayerModel=void 0,t.VideoPlayerModel=class{constructor(){this.styles={}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.YoutubePlayerModel=void 0,t.YoutubePlayerModel=class{constructor(){this.styles={}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LayoutItem=void 0;const i=n(0);t.LayoutItem=class{constructor(e){this.key=e.key,this.contentKey=e.contentKey,this.title=i.observable(e.title),this.description=i.observable(e.description),this.permalinkTemplate=i.observable(e.permalinkTemplate)}toContract(){return{key:this.key,contentKey:this.contentKey,title:this.title(),description:this.description(),permalinkTemplate:this.permalinkTemplate()}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SearchModel=void 0,t.SearchModel=class{}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClickCounterModel=void 0,t.ClickCounterModel=class{}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var i=n(157),o=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(e){return o.call(e)}),e.exports=i.inspectSource},function(e,t,n){var i=n(12),o=n(40);e.exports=function(e,t){try{o(i,e,t)}catch(n){i[e]=t}return t}},function(e,t,n){var i=n(12),o=n(9),r=i.document,a=o(r)&&o(r.createElement);e.exports=function(e){return a?r.createElement(e):{}}},function(e,t,n){var i=n(51),o=n(157);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:i?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var i=n(34),o=n(116),r=n(119),a=n(13);e.exports=i("Reflect","ownKeys")||function(e){var t=o.f(a(e)),n=r.f;return n?t.concat(n(e)):t}},function(e,t,n){var i=n(161),o=n(118).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,o)}},function(e,t,n){var i=n(32),o=n(24),r=n(71),a=function(e){return function(t,n,a){var s,l=i(t),c=o(l.length),u=r(a,c);if(e&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var i=n(7);e.exports=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){var i=n(7);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())}))},function(e,t,n){var i=n(13),o=n(167);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(r){}return function(n,r){return i(n),o(r),t?e.call(n,r):n.__proto__=r,n}}():void 0)},function(e,t,n){var i={};i[n(15)("toStringTag")]="z",e.exports="[object z]"===String(i)},function(e,t,n){var i,o,r=n(12),a=n(174),s=r.process,l=s&&s.versions,c=l&&l.v8;c?o=(i=c.split("."))[0]+i[1]:a&&(!(i=a.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=a.match(/Chrome\/(\d+)/))&&(o=i[1]),e.exports=o&&+o},function(e,t,n){var i=n(69),o=n(9),r=n(22),a=n(21).f,s=n(90),l=n(78),c=s("meta"),u=0,d=Object.isExtensible||function(){return!0},p=function(e){a(e,c,{value:{objectID:"O"+ ++u,weakData:{}}})},h=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!r(e,c)){if(!d(e))return"F";if(!t)return"E";p(e)}return e[c].objectID},getWeakData:function(e,t){if(!r(e,c)){if(!d(e))return!0;if(!t)return!1;p(e)}return e[c].weakData},onFreeze:function(e){return l&&h.REQUIRED&&d(e)&&!r(e,c)&&p(e),e}};i[c]=!0},function(e,t,n){var i=n(13),o=n(169),r=n(24),a=n(75),s=n(170),l=n(168),c=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,n,u,d){var p,h,f,m,v,g,y,b=a(t,n,u?2:1);if(d)p=e;else{if("function"!=typeof(h=s(e)))throw TypeError("Target is not iterable");if(o(h)){for(f=0,m=r(e.length);m>f;f++)if((v=u?b(i(y=e[f])[0],y[1]):b(e[f]))&&v instanceof c)return v;return new c(!1)}p=h.call(e)}for(g=p.next;!(y=g.call(p)).done;)if("object"==typeof(v=l(p,b,y.value,u))&&v&&v instanceof c)return v;return new c(!1)}).stop=function(e){return new c(!0,e)}},function(e,t,n){var i=n(123),o=n(52),r=n(374);i||o(Object.prototype,"toString",r,{unsafe:!0})},function(e,t,n){"use strict";var i=n(28),o=function(e){var t,n;this.promise=new e((function(e,i){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=i})),this.resolve=i(t),this.reject=i(n)};e.exports.f=function(e){return new o(e)}},function(e,t,n){"use strict";e.exports=n(421)},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(425),t),o(n(426),t),o(n(427),t),o(n(455),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(132),o=function(){function e(e){this._binding=e}return e.prototype.onActivation=function(e){return this._binding.onActivation=e,new i.BindingWhenSyntax(this._binding)},e}();t.BindingOnSyntax=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(131),o=n(197),r=function(){function e(e){this._binding=e}return e.prototype.when=function(e){return this._binding.constraint=e,new i.BindingOnSyntax(this._binding)},e.prototype.whenTargetNamed=function(e){return this._binding.constraint=o.namedConstraint(e),new i.BindingOnSyntax(this._binding)},e.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){return null!==e.target&&!e.target.isNamed()&&!e.target.isTagged()},new i.BindingOnSyntax(this._binding)},e.prototype.whenTargetTagged=function(e,t){return this._binding.constraint=o.taggedConstraint(e)(t),new i.BindingOnSyntax(this._binding)},e.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(t){return o.typeConstraint(e)(t.parentRequest)},new i.BindingOnSyntax(this._binding)},e.prototype.whenParentNamed=function(e){return this._binding.constraint=function(t){return o.namedConstraint(e)(t.parentRequest)},new i.BindingOnSyntax(this._binding)},e.prototype.whenParentTagged=function(e,t){return this._binding.constraint=function(n){return o.taggedConstraint(e)(t)(n.parentRequest)},new i.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(t){return o.traverseAncerstors(t,o.typeConstraint(e))},new i.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(t){return!o.traverseAncerstors(t,o.typeConstraint(e))},new i.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(t){return o.traverseAncerstors(t,o.namedConstraint(e))},new i.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(t){return!o.traverseAncerstors(t,o.namedConstraint(e))},new i.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._binding.constraint=function(n){return o.traverseAncerstors(n,o.taggedConstraint(e)(t))},new i.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorTagged=function(e,t){return this._binding.constraint=function(n){return!o.traverseAncerstors(n,o.taggedConstraint(e)(t))},new i.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(t){return o.traverseAncerstors(t,e)},new i.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(t){return!o.traverseAncerstors(t,e)},new i.BindingOnSyntax(this._binding)},e}();t.BindingWhenSyntax=r},function(e,t){String.prototype.replaceAll=function(e,t){return this.split(e).join(t)},Array.prototype.remove=function(e){const t=this.indexOf(e);t<0||this.splice(t,1)}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(540),t),o(n(541),t),o(n(542),t),o(n(543),t),o(n(135),t)},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};function o(e){return i(this,void 0,void 0,(function*(){return new Promise((t,n)=>{const i=document.createElement("video");i.crossOrigin="Anonymous";const o=()=>{r()&&(i.removeEventListener("timeupdate",o),i.pause())};i.addEventListener("loadeddata",()=>{r()&&i.removeEventListener("timeupdate",o)});const r=()=>{const n=document.createElement("canvas");n.width=i.videoWidth,n.height=i.videoHeight,n.getContext("2d").drawImage(i,0,0,n.width,n.height);const o=n.toDataURL(),r=o.length>1e5;return t(o),r&&URL.revokeObjectURL(e),r};i.addEventListener("timeupdate",o),i.preload="metadata",i.src=e,i.muted=!0,i.play()})}))}Object.defineProperty(t,"__esModule",{value:!0}),t.getVideoThumbnailAsDataUrl=t.getVideoThumbnailAsDataUrlFromUrl=void 0,t.getVideoThumbnailAsDataUrlFromUrl=o,t.getVideoThumbnailAsDataUrl=function(e){return i(this,void 0,void 0,(function*(){return new Promise((t,n)=>{const r=new FileReader;r.onload=()=>i(this,void 0,void 0,(function*(){const n=new Blob([r.result],{type:e.type}),i=URL.createObjectURL(n),a=yield o(i);t(a),URL.revokeObjectURL(i)})),r.readAsArrayBuffer(e)})}))}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(561),t),o(n(562),t),o(n(563),t),o(n(564),t),o(n(565),t),o(n(566),t),o(n(567),t),o(n(568),t)},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.CollapsiblePanel=void 0;const r=n(0),a=n(601),s=n(2);let l=class{constructor(){this.widgets=r.observableArray(),this.styles=r.observable()}};l=i([s.Component({selector:"collapsible-panel",template:a.default}),o("design:paramtypes",[])],l),t.CollapsiblePanel=l},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(606),t),o(n(223),t),o(n(641),t),o(n(642),t),o(n(643),t),o(n(644),t),o(n(645),t),o(n(16),t),o(n(646),t),o(n(647),t),o(n(648),t),o(n(649),t),o(n(650),t),o(n(651),t),o(n(652),t),o(n(653),t),o(n(654),t),o(n(655),t)},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(629),t),o(n(630),t),o(n(631),t),o(n(632),t),o(n(633),t),o(n(634),t),o(n(635),t),o(n(636),t),o(n(224),t),o(n(637),t),o(n(638),t),o(n(639),t),o(n(640),t)},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ContentViewModel=void 0;const r=n(0),a=n(665),s=n(2);let l=class{constructor(){this.title=r.observable(),this.description=r.observable(),this.keywords=r.observable(),this.widgets=r.observableArray()}};l=i([s.Component({selector:"paperbits-content",template:a.default}),o("design:paramtypes",[])],l),t.ContentViewModel=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContentModel=void 0,t.ContentModel=class{constructor(){this.widgets=[]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContentHandlers=void 0,t.ContentHandlers=class{constructor(e){this.viewManager=e}canAccept(e){return"section"===e.sourceBinding.name}getContextualEditor(e){const t={};return 0===e.model.widgets.length&&(t.hoverCommands=[{color:"#2b87da",position:"center",tooltip:"Add section",component:{name:"grid-layout-selector",params:{onSelect:t=>{e.model.widgets.push(t),e.binding.applyChanges(),this.viewManager.clearContextualEditors()}}}}]),t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GridCellModel=void 0,t.GridCellModel=class{constructor(){this.role="article",this.widgets=[]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SectionHandlers=void 0;const i=n(67);t.SectionHandlers=class{constructor(e,t){this.viewManager=e,this.eventManager=t}getContextualEditor(e){const t={color:"#2b87da",hoverCommands:[{position:e.half,tooltip:"Add section",color:"#2b87da",component:{name:"grid-layout-selector",params:{onSelect:t=>{const n=e.half;let i=e.parentModel.widgets.indexOf(e.model);"bottom"===n&&i++,e.parentModel.widgets.splice(i,0,t),e.parentBinding.applyChanges(),this.viewManager.clearContextualEditors(),this.eventManager.dispatchEvent("onContentUpdate")}}}}],deleteCommand:{tooltip:"Delete section",color:"#2b87da",callback:()=>{e.parentModel.widgets.remove(e.model),e.parentBinding.applyChanges(),this.viewManager.clearContextualEditors(),this.eventManager.dispatchEvent("onContentUpdate")}},selectCommands:[{tooltip:"Edit section",iconClass:"paperbits-edit-72",position:"top right",color:"#2b87da",callback:()=>this.viewManager.openWidgetEditor(e.binding)},{tooltip:"Add to library",iconClass:"paperbits-simple-add",position:"top right",color:"#2b87da",callback:()=>{const t={heading:"Add to library",component:{name:"add-block-dialog",params:{blockModel:e.model,blockType:i.BlockType.saved}},resize:"vertically horizontally"};this.viewManager.openViewAsPopup(t)}}]};return 0===e.model.widgets.length&&t.hoverCommands.push({position:"center",tooltip:"Add row",color:"#29c4a9",component:{name:"grid-layout-selector",params:{onSelect:t=>{const n=e.model,i=e.binding;n.widgets.push(t),i.applyChanges(),this.viewManager.clearContextualEditors(),this.eventManager.dispatchEvent("onContentUpdate")}}}}),t}}},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.GridViewModel=void 0;const r=n(0),a=n(672),s=n(2);let l=class{constructor(){this.widgets=r.observableArray(),this.container=r.observable(),this.styles=r.observable()}};l=i([s.Component({selector:"grid-layout-section",template:a.default}),o("design:paramtypes",[])],l),t.GridViewModel=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GridModel=void 0,t.GridModel=class{constructor(){this.styles={},this.widgets=[]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GridHandlers=void 0,t.GridHandlers=class{getContextualEditor(e){return{}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ViewModelBinderSelector=void 0;const i=n(219),o=n(94);t.ViewModelBinderSelector=class{constructor(e){this.viewModelBinders=e}getViewModelBinderByModel(e){if(e instanceof o.PlaceholderModel)return new i.PlaceholderViewModelBinder;return this.viewModelBinders.find(t=>!(!t||!t.canHandleModel)&&t.canHandleModel(e))||(console.warn("Could not find view model binder for model: "+(e.constructor.name||e)),new i.PlaceholderViewModelBinder)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RowModel=void 0,t.RowModel=class{constructor(){this.widgets=[]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PageItem=t.AnchorItem=void 0;const i=n(0),o=n(57);t.AnchorItem=class{constructor(){this.isSelected=i.observable()}},t.PageItem=class{constructor(e){this.contentKey=e.contentKey,this.key=e.key,this.title=i.observable(e.title),this.description=i.observable(e.description),this.keywords=i.observable(e.keywords),this.jsonLd=i.observable(e.jsonLd),this.permalink=i.observable(e.permalink),this.anchors=i.observableArray(),this.socialShareData=i.observable(e.socialShareData),this.anchorsLoaded=i.observable(!1)}getHyperlink(){const e=new o.HyperlinkModel;return e.title=this.title(),e.targetKey=this.key,e.href=this.permalink(),this.selectedAnchor&&(e.anchor=this.selectedAnchor.elementId,e.anchorName=this.selectedAnchor.shortTitle),e}toContract(){return{key:this.key,title:this.title(),description:this.description(),keywords:this.keywords(),jsonLd:this.jsonLd(),contentKey:this.contentKey,permalink:this.permalink(),socialShareData:this.socialShareData()}}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.NavigationModelBinder=void 0;const o=n(37);t.NavigationModelBinder=class{constructor(e,t){this.permalinkResolver=e,this.router=t}canHandleContract(e){return"navitem"===e.type}canHandleModel(e){return e instanceof o.NavigationItemModel}contractToModel(e,t){return i(this,void 0,void 0,(function*(){if(!e)throw new Error('Parameter "contract" not specified.');const n=new o.NavigationItemModel;if(n.label=e.label,n.key=e.key,n.targetKey=e.targetKey,n.isActive=n.targetUrl===this.router.getPath(),e.navigationItems){const t=[];e.navigationItems.forEach(e=>{t.push(this.contractToModel(e))}),(yield Promise.all(t)).forEach(e=>{n.nodes.push(e)})}else if(e.targetKey){const i=yield this.permalinkResolver.getUrlByTargetKey(e.targetKey,null==t?void 0:t.locale);n.targetUrl=i}else console.warn(`Navigation item "${n.label}" has no permalink assigned to it.`);return n}))}modelToContract(e){return{key:e.key,label:e.label,targetKey:e.targetKey,navigationItems:e.nodes.map(e=>this.modelToContract(e))}}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.NavigationViewModelBinder=void 0;const o=n(37),r=n(790);t.NavigationViewModelBinder=class{modelToViewModel(e){return i(this,void 0,void 0,(function*(){if(!e)throw new Error('Parameter "model" not specified.');const t=new r.NavigationItemViewModel(e);if(t.key=e.key,t.label(e.label),t.targetKey(e.targetKey),t.targetUrl(e.targetUrl),e.nodes){const n=[];e.nodes.forEach(e=>n.push(this.modelToViewModel(e))),(yield Promise.all(n)).forEach(e=>{t.nodes.push(e),e.parent=t})}return t}))}viewModelToModel(e){return{key:e.key,label:e.label(),targetKey:e.targetKey(),targetUrl:e.targetUrl(),nodes:e.nodes().map(e=>this.viewModelToModel(e))}}canHandleModel(e){return e instanceof o.NavigationItemModel}}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyleItem=void 0;const i=n(0);t.StyleItem=class{constructor(e,t,n){this.key=e.key,this.displayName=e.displayName,this.category=e.category,this.hasFocus=i.observable(),this.stylesConfig=t,this.stylesType=n}}},function(e,t,n){"use strict";(function(e,i){var o,r=n(309);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:i;var a=Object(r.a)(o);t.a=a}).call(this,n(39),n(658)(e))},function(e,t,n){"use strict";var i=n(316).charAt,o=n(68),r=n(159),a=o.set,s=o.getterFor("String Iterator");r(String,"String",(function(e){a(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=s(this),n=t.string,o=t.index;return o>=n.length?{value:void 0,done:!0}:(e=i(n,o),t.index+=e.length,{value:e,done:!1})}))},function(e,t,n){var i=n(12),o=n(112),r=i["__core-js_shared__"]||o("__core-js_shared__",{});e.exports=r},function(e,t,n){var i=n(10),o=n(7),r=n(113);e.exports=!i&&!o((function(){return 7!=Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){"use strict";var i=n(4),o=n(318),r=n(41),a=n(122),s=n(64),l=n(40),c=n(52),u=n(15),d=n(51),p=n(74),h=n(163),f=h.IteratorPrototype,m=h.BUGGY_SAFARI_ITERATORS,v=u("iterator"),g=function(){return this};e.exports=function(e,t,n,u,h,y,b){o(n,t,u);var x,w,S,k=function(e){if(e===h&&P)return P;if(!m&&e in _)return _[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},C=t+" Iterator",M=!1,_=e.prototype,O=_[v]||_["@@iterator"]||h&&_[h],P=!m&&O||k(h),E="Array"==t&&_.entries||O;if(E&&(x=r(E.call(new e)),f!==Object.prototype&&x.next&&(d||r(x)===f||(a?a(x,f):"function"!=typeof x[v]&&l(x,v,g)),s(x,C,!0,!0),d&&(p[C]=g))),"values"==h&&O&&"values"!==O.name&&(M=!0,P=function(){return O.call(this)}),d&&!b||_[v]===P||l(_,v,P),p[t]=P,h)if(w={values:k("values"),keys:y?P:k("keys"),entries:k("entries")},b)for(S in w)(m||M||!(S in _))&&c(_,S,w[S]);else i({target:t,proto:!0,forced:m||M},w);return w}},function(e,t,n){var i=n(22),o=n(115),r=n(31),a=n(21);e.exports=function(e,t){for(var n=o(t),s=a.f,l=r.f,c=0;c<n.length;c++){var u=n[c];i(e,u)||s(e,u,l(t,u))}}},function(e,t,n){var i=n(22),o=n(32),r=n(117).indexOf,a=n(69);e.exports=function(e,t){var n,s=o(e),l=0,c=[];for(n in s)!i(a,n)&&i(s,n)&&c.push(n);for(;t.length>l;)i(s,n=t[l++])&&(~r(c,n)||c.push(n));return c}},function(e,t,n){var i=n(7),o=/#|\.prototype\./,r=function(e,t){var n=s[a(e)];return n==c||n!=l&&("function"==typeof t?i(t):!!t)},a=r.normalize=function(e){return String(e).replace(o,".").toLowerCase()},s=r.data={},l=r.NATIVE="N",c=r.POLYFILL="P";e.exports=r},function(e,t,n){"use strict";var i,o,r,a=n(41),s=n(40),l=n(22),c=n(15),u=n(51),d=c("iterator"),p=!1;[].keys&&("next"in(r=[].keys())?(o=a(a(r)))!==Object.prototype&&(i=o):p=!0),null==i&&(i={}),u||l(i,d)||s(i,d,(function(){return this})),e.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:p}},function(e,t,n){var i=n(121);e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var i=n(10),o=n(21),r=n(13),a=n(73);e.exports=i?Object.defineProperties:function(e,t){r(e);for(var n,i=a(t),s=i.length,l=0;s>l;)o.f(e,n=i[l++],t[n]);return e}},function(e,t,n){var i=n(34);e.exports=i("document","documentElement")},function(e,t,n){var i=n(9);e.exports=function(e){if(!i(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,n){var i=n(13);e.exports=function(e,t,n,o){try{return o?t(i(n)[0],n[1]):t(n)}catch(a){var r=e.return;throw void 0!==r&&i(r.call(e)),a}}},function(e,t,n){var i=n(15),o=n(74),r=i("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||a[r]===e)}},function(e,t,n){var i=n(171),o=n(74),r=n(15)("iterator");e.exports=function(e){if(null!=e)return e[r]||e["@@iterator"]||o[i(e)]}},function(e,t,n){var i=n(123),o=n(63),r=n(15)("toStringTag"),a="Arguments"==o(function(){return arguments}());e.exports=i?o:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=Object(e),r))?n:a?o(t):"Object"==(i=o(t))&&"function"==typeof t.callee?"Arguments":i}},function(e,t,n){var i=n(15)("iterator"),o=!1;try{var r=0,a={next:function(){return{done:!!r++}},return:function(){o=!0}};a[i]=function(){return this},Array.from(a,(function(){throw 2}))}catch(s){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(s){}return n}},function(e,t,n){"use strict";var i=n(4),o=n(7),r=n(55),a=n(9),s=n(14),l=n(24),c=n(54),u=n(76),d=n(77),p=n(15),h=n(124),f=p("isConcatSpreadable"),m=h>=51||!o((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),v=d("concat"),g=function(e){if(!a(e))return!1;var t=e[f];return void 0!==t?!!t:r(e)};i({target:"Array",proto:!0,forced:!m||!v},{concat:function(e){var t,n,i,o,r,a=s(this),d=u(a,0),p=0;for(t=-1,i=arguments.length;t<i;t++)if(g(r=-1===t?a:arguments[t])){if(p+(o=l(r.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<o;n++,p++)n in r&&c(d,p,r[n])}else{if(p>=9007199254740991)throw TypeError("Maximum allowed index exceeded");c(d,p++,r)}return d.length=p,d}})},function(e,t,n){var i=n(34);e.exports=i("navigator","userAgent")||""},function(e,t,n){"use strict";var i=n(55),o=n(24),r=n(75),a=function(e,t,n,s,l,c,u,d){for(var p,h=l,f=0,m=!!u&&r(u,d,3);f<s;){if(f in n){if(p=m?m(n[f],f,t):n[f],c>0&&i(p))h=a(e,t,p,o(p.length),h,c-1)-1;else{if(h>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[h]=p}h++}f++}return h};e.exports=a},function(e,t,n){"use strict";var i=n(32),o=n(42),r=n(74),a=n(68),s=n(159),l=a.set,c=a.getterFor("Array Iterator");e.exports=s(Array,"Array",(function(e,t){l(this,{type:"Array Iterator",target:i(e),index:0,kind:t})}),(function(){var e=c(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:t[i],done:!1}:{value:[i,t[i]],done:!1}}),"values"),r.Arguments=r.Array,o("keys"),o("values"),o("entries")},function(e,t,n){var i=n(28),o=n(14),r=n(70),a=n(24),s=function(e){return function(t,n,s,l){i(n);var c=o(t),u=r(c),d=a(c.length),p=e?d-1:0,h=e?-1:1;if(s<2)for(;;){if(p in u){l=u[p],p+=h;break}if(p+=h,e?p<0:d<=p)throw TypeError("Reduce of empty array with no initial value")}for(;e?p>=0:d>p;p+=h)p in u&&(l=n(l,u[p],p,c));return l}};e.exports={left:s(!1),right:s(!0)}},function(e,t,n){"use strict";var i=n(34),o=n(21),r=n(15),a=n(10),s=r("species");e.exports=function(e){var t=i(e),n=o.f;a&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";var i=n(4),o=n(12),r=n(34),a=n(51),s=n(10),l=n(121),c=n(164),u=n(7),d=n(22),p=n(55),h=n(9),f=n(13),m=n(14),v=n(32),g=n(50),y=n(62),b=n(72),x=n(73),w=n(116),S=n(180),k=n(119),C=n(31),M=n(21),_=n(91),O=n(40),P=n(52),E=n(114),T=n(89),j=n(69),R=n(90),N=n(15),A=n(181),D=n(26),B=n(64),I=n(68),L=n(43).forEach,U=T("hidden"),F=N("toPrimitive"),z=I.set,H=I.getterFor("Symbol"),V=Object.prototype,W=o.Symbol,$=r("JSON","stringify"),K=C.f,G=M.f,q=S.f,Y=_.f,X=E("symbols"),J=E("op-symbols"),Q=E("string-to-symbol-registry"),Z=E("symbol-to-string-registry"),ee=E("wks"),te=o.QObject,ne=!te||!te.prototype||!te.prototype.findChild,ie=s&&u((function(){return 7!=b(G({},"a",{get:function(){return G(this,"a",{value:7}).a}})).a}))?function(e,t,n){var i=K(V,t);i&&delete V[t],G(e,t,n),i&&e!==V&&G(V,t,i)}:G,oe=function(e,t){var n=X[e]=b(W.prototype);return z(n,{type:"Symbol",tag:e,description:t}),s||(n.description=t),n},re=c?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof W},ae=function(e,t,n){e===V&&ae(J,t,n),f(e);var i=g(t,!0);return f(n),d(X,i)?(n.enumerable?(d(e,U)&&e[U][i]&&(e[U][i]=!1),n=b(n,{enumerable:y(0,!1)})):(d(e,U)||G(e,U,y(1,{})),e[U][i]=!0),ie(e,i,n)):G(e,i,n)},se=function(e,t){f(e);var n=v(t),i=x(n).concat(de(n));return L(i,(function(t){s&&!le.call(n,t)||ae(e,t,n[t])})),e},le=function(e){var t=g(e,!0),n=Y.call(this,t);return!(this===V&&d(X,t)&&!d(J,t))&&(!(n||!d(this,t)||!d(X,t)||d(this,U)&&this[U][t])||n)},ce=function(e,t){var n=v(e),i=g(t,!0);if(n!==V||!d(X,i)||d(J,i)){var o=K(n,i);return!o||!d(X,i)||d(n,U)&&n[U][i]||(o.enumerable=!0),o}},ue=function(e){var t=q(v(e)),n=[];return L(t,(function(e){d(X,e)||d(j,e)||n.push(e)})),n},de=function(e){var t=e===V,n=q(t?J:v(e)),i=[];return L(n,(function(e){!d(X,e)||t&&!d(V,e)||i.push(X[e])})),i};l||(P((W=function(){if(this instanceof W)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=R(e),n=function(e){this===V&&n.call(J,e),d(this,U)&&d(this[U],t)&&(this[U][t]=!1),ie(this,t,y(1,e))};return s&&ne&&ie(V,t,{configurable:!0,set:n}),oe(t,e)}).prototype,"toString",(function(){return H(this).tag})),P(W,"withoutSetter",(function(e){return oe(R(e),e)})),_.f=le,M.f=ae,C.f=ce,w.f=S.f=ue,k.f=de,A.f=function(e){return oe(N(e),e)},s&&(G(W.prototype,"description",{configurable:!0,get:function(){return H(this).description}}),a||P(V,"propertyIsEnumerable",le,{unsafe:!0}))),i({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:W}),L(x(ee),(function(e){D(e)})),i({target:"Symbol",stat:!0,forced:!l},{for:function(e){var t=String(e);if(d(Q,t))return Q[t];var n=W(t);return Q[t]=n,Z[n]=t,n},keyFor:function(e){if(!re(e))throw TypeError(e+" is not a symbol");if(d(Z,e))return Z[e]},useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),i({target:"Object",stat:!0,forced:!l,sham:!s},{create:function(e,t){return void 0===t?b(e):se(b(e),t)},defineProperty:ae,defineProperties:se,getOwnPropertyDescriptor:ce}),i({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:ue,getOwnPropertySymbols:de}),i({target:"Object",stat:!0,forced:u((function(){k.f(1)}))},{getOwnPropertySymbols:function(e){return k.f(m(e))}}),$&&i({target:"JSON",stat:!0,forced:!l||u((function(){var e=W();return"[null]"!=$([e])||"{}"!=$({a:e})||"{}"!=$(Object(e))}))},{stringify:function(e,t,n){for(var i,o=[e],r=1;arguments.length>r;)o.push(arguments[r++]);if(i=t,(h(t)||void 0!==e)&&!re(e))return p(t)||(t=function(e,t){if("function"==typeof i&&(t=i.call(this,e,t)),!re(t))return t}),o[1]=t,$.apply(null,o)}}),W.prototype[F]||O(W.prototype,F,W.prototype.valueOf),B(W,"Symbol"),j[U]=!0},function(e,t,n){var i=n(32),o=n(116).f,r={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==r.call(e)?function(e){try{return o(e)}catch(t){return a.slice()}}(e):o(i(e))}},function(e,t,n){var i=n(15);t.f=i},function(e,t,n){var i=n(10),o=n(73),r=n(32),a=n(91).f,s=function(e){return function(t){for(var n,s=r(t),l=o(s),c=l.length,u=0,d=[];c>u;)n=l[u++],i&&!a.call(s,n)||d.push(e?[n,s[n]]:s[n]);return d}};e.exports={entries:s(!0),values:s(!1)}},function(e,t,n){n(64)(Math,"Math",!0)},function(e,t,n){var i=n(12);n(64)(i.JSON,"JSON",!0)},function(e,t,n){var i=n(12);e.exports=i.Promise},function(e,t,n){var i=n(13),o=n(28),r=n(15)("species");e.exports=function(e,t){var n,a=i(e).constructor;return void 0===a||null==(n=i(a)[r])?t:o(n)}},function(e,t,n){var i,o,r,a=n(12),s=n(7),l=n(63),c=n(75),u=n(166),d=n(113),p=n(188),h=a.location,f=a.setImmediate,m=a.clearImmediate,v=a.process,g=a.MessageChannel,y=a.Dispatch,b=0,x={},w=function(e){if(x.hasOwnProperty(e)){var t=x[e];delete x[e],t()}},S=function(e){return function(){w(e)}},k=function(e){w(e.data)},C=function(e){a.postMessage(e+"",h.protocol+"//"+h.host)};f&&m||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return x[++b]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},i(b),b},m=function(e){delete x[e]},"process"==l(v)?i=function(e){v.nextTick(S(e))}:y&&y.now?i=function(e){y.now(S(e))}:g&&!p?(r=(o=new g).port2,o.port1.onmessage=k,i=c(r.postMessage,r,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||s(C)||"file:"===h.protocol?i="onreadystatechange"in d("script")?function(e){u.appendChild(d("script")).onreadystatechange=function(){u.removeChild(this),w(e)}}:function(e){setTimeout(S(e),0)}:(i=C,a.addEventListener("message",k,!1))),e.exports={set:f,clear:m}},function(e,t,n){var i=n(174);e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(i)},function(e,t,n){var i=n(13),o=n(9),r=n(128);e.exports=function(e,t){if(i(e),o(t)&&t.constructor===e)return t;var n=r.f(e);return(0,n.resolve)(t),n.promise}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},function(e,t,n){"use strict";var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(o){return!1}}()?Object.assign:function(e,t){for(var n,s,l=a(e),c=1;c<arguments.length;c++){for(var u in n=Object(arguments[c]))o.call(n,u)&&(l[u]=n[u]);if(i){s=i(n);for(var d=0;d<s.length;d++)r.call(n,s[d])&&(l[s[d]]=n[s[d]])}}return l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(18),o=function(){function e(){}return e.prototype.getConstructorMetadata=function(e){return{compilerGeneratedMetadata:Reflect.getMetadata(i.PARAM_TYPES,e),userGeneratedMetadata:Reflect.getMetadata(i.TAGGED,e)||{}}},e.prototype.getPropertiesMetadata=function(e){return Reflect.getMetadata(i.TAGGED_PROP,e)||[]},e}();t.MetadataReader=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(29);t.isStackOverflowExeption=function(e){return e instanceof RangeError||e.message===i.STACK_OVERFLOW}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(29),o=n(18),r=n(33),a=n(44),s=function(){function e(e){this._cb=e}return e.prototype.unwrap=function(){return this._cb()},e}();t.LazyServiceIdentifer=s,t.inject=function(e){return function(t,n,s){if(void 0===e)throw new Error(i.UNDEFINED_INJECT_ANNOTATION(t.name));var l=new r.Metadata(o.INJECT_TAG,e);"number"==typeof s?a.tagParameter(t,n,s,l):a.tagProperty(t,n,l)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(18),o=n(56),r=n(33),a=n(436),s=function(){function e(e,t,n,s){this.id=o.id(),this.type=e,this.serviceIdentifier=n,this.name=new a.QueryableString(t||""),this.metadata=new Array;var l=null;"string"==typeof s?l=new r.Metadata(i.NAMED_TAG,s):s instanceof r.Metadata&&(l=s),null!==l&&this.metadata.push(l)}return e.prototype.hasTag=function(e){for(var t=0,n=this.metadata;t<n.length;t++)if(n[t].key===e)return!0;return!1},e.prototype.isArray=function(){return this.hasTag(i.MULTI_INJECT_TAG)},e.prototype.matchesArray=function(e){return this.matchesTag(i.MULTI_INJECT_TAG)(e)},e.prototype.isNamed=function(){return this.hasTag(i.NAMED_TAG)},e.prototype.isTagged=function(){return this.metadata.some((function(e){return e.key!==i.INJECT_TAG&&e.key!==i.MULTI_INJECT_TAG&&e.key!==i.NAME_TAG&&e.key!==i.UNMANAGED_TAG&&e.key!==i.NAMED_TAG}))},e.prototype.isOptional=function(){return this.matchesTag(i.OPTIONAL_TAG)(!0)},e.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter((function(e){return e.key===i.NAMED_TAG}))[0]:null},e.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter((function(e){return e.key!==i.INJECT_TAG&&e.key!==i.MULTI_INJECT_TAG&&e.key!==i.NAME_TAG&&e.key!==i.UNMANAGED_TAG&&e.key!==i.NAMED_TAG})):null},e.prototype.matchesNamedTag=function(e){return this.matchesTag(i.NAMED_TAG)(e)},e.prototype.matchesTag=function(e){var t=this;return function(n){for(var i=0,o=t.metadata;i<o.length;i++){var r=o[i];if(r.key===e&&r.value===n)return!0}return!1}},e}();t.Target=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(131),o=n(132),r=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new o.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new i.BindingOnSyntax(this._binding)}return e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingWhenOnSyntax=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(18),o=n(33),r=function(e,t){var n=e.parentRequest;return null!==n&&(!!t(n)||r(n,t))};t.traverseAncerstors=r;var a=function(e){return function(t){var n=function(n){return null!==n&&null!==n.target&&n.target.matchesTag(e)(t)};return n.metaData=new o.Metadata(e,t),n}};t.taggedConstraint=a;var s=a(i.NAMED_TAG);t.namedConstraint=s,t.typeConstraint=function(e){return function(t){var n=null;if(null!==t){if(n=t.bindings[0],"string"==typeof e)return n.serviceIdentifier===e;var i=t.bindings[0].implementationType;return e===i}return!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LightboxBindingHandler=void 0;const i=n(0);t.LightboxBindingHandler=class{constructor(e){i.bindingHandlers.lightbox={init(t,n){const o=n();let r=i.unwrap(o.url),a=i.unwrap(o.fileName);i.isObservable(o.url)&&o.url.subscribe(e=>{r=e}),i.applyBindingsToNode(t,{click:()=>{e.show(r,a)}},null)}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GridBindingHandler=void 0;const i=n(0),o=n(45),r=n(66);class a{constructor(e,t,n,o){i.bindingHandlers.grid={init(e){o.attach(e.ownerDocument),i.utils.domNodeDisposal.addDisposeCallback(e,()=>{o.detach()})}},i.virtualElements.allowedBindings.grid=!0,i.bindingHandlers.draggable={init(i){a.attachWidgetDragEvents(i,e,t,n)}}}static attachWidgetDragEvents(e,t,n,a){let s;i.applyBindingsToNode(e,{dragsource:{sticky:!0,ondragstart:()=>{if(t.mode===o.ViewManagerMode.configure)return;const n=e.clientWidth-1+"px",i=e.clientHeight-1+"px",a=r.GridHelper.getWidgetBinding(e),l=r.GridHelper.getModel(e),c=r.GridHelper.getParentWidgetBinding(e),u=c.model;return s=e.ownerDocument.createElement("div"),s.style.height=i,s.style.width=n,s.classList.add("dragged-origin"),e.parentNode.insertBefore(s,e.nextSibling),t.beginDrag({sourceElement:e,sourceModel:l,sourceBinding:a,sourceParentModel:u,sourceParentBinding:c}),e},ondragend:()=>{const e=t.getDragSession(),i=e.targetElement,o=e.targetBinding;if(i){const t=e.sourceParentModel,n=e.sourceModel;t.widgets.remove(n)}if(o&&o.handler){const t=a.getWidgetHandler(o.handler);t.canAccept&&t.canAccept(e)&&(t.onDragDrop?t.onDragDrop(e):(e.targetBinding.model.widgets.splice(e.insertIndex,0,e.sourceModel),e.targetBinding.applyChanges(),e.sourceParentBinding.applyChanges()))}s.remove(),n.dispatchEvent("virtualDragEnd")},preventDragging:()=>t.mode===o.ViewManagerMode.configure}},null)}}t.GridBindingHandler=a},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.ViewManagerMode=void 0,(i=t.ViewManagerMode||(t.ViewManagerMode={})).selecting="selectig",i.dragging="dragging",i.selected="selected",i.configure="configure",i.pause="pause",i.preview="preview"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DraggablesBindingHandler=void 0;const i=n(0);t.DraggablesBindingHandler=class{constructor(e){i.bindingHandlers.dragsource={init(t,n){const i=n();e.registerDragSource(t,i)}},i.bindingHandlers.dragtarget={init(t,n){const i=n();e.registerDragTarget(t,i)}}}}},function(e,t,n){"use strict";(function(e){var i=n(502),o=n(503),r=n(504);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,n)}function c(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i),l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=p(e,t),e}(e,t,n,i):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|f(t,n),o=(e=s(e,i)).write(t,n);return o!==i&&(e=e.slice(0,o)),e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|h(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(i=t.length)!=i?s(e,0):p(e,t);if("Buffer"===t.type&&r(t.data))return p(e,t.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=s(e,t<0?0:0|h(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function p(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function f(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return F(e).length;default:if(i)return U(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return E(this,t,n);case"utf8":case"utf-8":return _(this,t,n);case"ascii":return O(this,t,n);case"latin1":case"binary":return P(this,t,n);case"base64":return M(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function v(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function g(e,t,n,i,o){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=l.from(t,i)),l.isBuffer(t))return 0===t.length?-1:y(e,t,n,i,o);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,i,o);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,i,o){var r,a=1,s=e.length,l=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var u=-1;for(r=n;r<s;r++)if(c(e,r)===c(t,-1===u?0:r-u)){if(-1===u&&(u=r),r-u+1===l)return u*a}else-1!==u&&(r-=r-u),u=-1}else for(n+l>s&&(n=s-l),r=n;r>=0;r--){for(var d=!0,p=0;p<l;p++)if(c(e,r+p)!==c(t,p)){d=!1;break}if(d)return r}return-1}function b(e,t,n,i){n=Number(n)||0;var o=e.length-n;i?(i=Number(i))>o&&(i=o):i=o;var r=t.length;if(r%2!=0)throw new TypeError("Invalid hex string");i>r/2&&(i=r/2);for(var a=0;a<i;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function x(e,t,n,i){return z(U(t,e.length-n),e,n,i)}function w(e,t,n,i){return z(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function S(e,t,n,i){return w(e,t,n,i)}function k(e,t,n,i){return z(F(t),e,n,i)}function C(e,t,n,i){return z(function(e,t){for(var n,i,o,r=[],a=0;a<e.length&&!((t-=2)<0);++a)i=(n=e.charCodeAt(a))>>8,o=n%256,r.push(o),r.push(i);return r}(t,e.length-n),e,n,i)}function M(e,t,n){return 0===t&&n===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,n))}function _(e,t,n){n=Math.min(e.length,n);for(var i=[],o=t;o<n;){var r,a,s,l,c=e[o],u=null,d=c>239?4:c>223?3:c>191?2:1;if(o+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(r=e[o+1]))&&(l=(31&c)<<6|63&r)>127&&(u=l);break;case 3:r=e[o+1],a=e[o+2],128==(192&r)&&128==(192&a)&&(l=(15&c)<<12|(63&r)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:r=e[o+1],a=e[o+2],s=e[o+3],128==(192&r)&&128==(192&a)&&128==(192&s)&&(l=(15&c)<<18|(63&r)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u),o+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var n="",i=0;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=4096));return n}(i)}function O(e,t,n){var i="";n=Math.min(e.length,n);for(var o=t;o<n;++o)i+=String.fromCharCode(127&e[o]);return i}function P(e,t,n){var i="";n=Math.min(e.length,n);for(var o=t;o<n;++o)i+=String.fromCharCode(e[o]);return i}function E(e,t,n){var i,o=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>o)&&(n=o);for(var r="",a=t;a<n;++a)r+=(i=e[a])<16?"0"+i.toString(16):i.toString(16);return r}function T(e,t,n){for(var i=e.slice(t,n),o="",r=0;r<i.length;r+=2)o+=String.fromCharCode(i[r]+256*i[r+1]);return o}function j(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,n,i,o,r){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<r)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function N(e,t,n,i){t<0&&(t=65535+t+1);for(var o=0,r=Math.min(e.length-n,2);o<r;++o)e[n+o]=(t&255<<8*(i?o:1-o))>>>8*(i?o:1-o)}function A(e,t,n,i){t<0&&(t=4294967295+t+1);for(var o=0,r=Math.min(e.length-n,4);o<r;++o)e[n+o]=t>>>8*(i?o:3-o)&255}function D(e,t,n,i,o,r){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(e,t,n,i,r){return r||D(e,0,n,4),o.write(e,t,n,i,23,4),n+4}function I(e,t,n,i,r){return r||D(e,0,n,8),o.write(e,t,n,i,52,8),n+8}t.Buffer=l,t.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return c(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,i){return u(t),t<=0?s(null,t):void 0!==n?"string"==typeof i?s(null,t).fill(n,i):s(null,t).fill(n):s(null,t)}(0,e,t,n)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,o=0,r=Math.min(n,i);o<r;++o)if(e[o]!==t[o]){n=e[o],i=t[o];break}return n<i?-1:i<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!r(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=l.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,o),o+=a.length}return i},l.byteLength=f,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?_(this,0,e):m.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,i,o){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),t<0||n>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&t>=n)return 0;if(i>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var r=(o>>>=0)-(i>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(r,a),c=this.slice(i,o),u=e.slice(t,n),d=0;d<s;++d)if(c[d]!==u[d]){r=c[d],a=u[d];break}return r<a?-1:a<r?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},l.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var r=!1;;)switch(i){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return x(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return S(this,e,t,n);case"base64":return k(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,n);default:if(r)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),r=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},l.prototype.slice=function(e,t){var n,i=this.length;if((e=~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var o=t-e;n=new l(o,void 0);for(var r=0;r<o;++r)n[r]=this[r+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||j(e,t,this.length);for(var i=this[e],o=1,r=0;++r<t&&(o*=256);)i+=this[e+r]*o;return i},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||j(e,t,this.length);for(var i=this[e+--t],o=1;t>0&&(o*=256);)i+=this[e+--t]*o;return i},l.prototype.readUInt8=function(e,t){return t||j(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||j(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||j(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||j(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||j(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||j(e,t,this.length);for(var i=this[e],o=1,r=0;++r<t&&(o*=256);)i+=this[e+r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||j(e,t,this.length);for(var i=t,o=1,r=this[e+--i];i>0&&(o*=256);)r+=this[e+--i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readInt8=function(e,t){return t||j(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||j(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||j(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||j(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||j(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||j(e,4,this.length),o.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||j(e,4,this.length),o.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||j(e,8,this.length),o.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||j(e,8,this.length),o.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,i){e=+e,t|=0,n|=0,i||R(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,r=0;for(this[t]=255&e;++r<n&&(o*=256);)this[t+r]=e/o&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,i){e=+e,t|=0,n|=0,i||R(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,r=1;for(this[t+o]=255&e;--o>=0&&(r*=256);)this[t+o]=e/r&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):A(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):A(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var o=Math.pow(2,8*n-1);R(this,e,t,n,o-1,-o)}var r=0,a=1,s=0;for(this[t]=255&e;++r<n&&(a*=256);)e<0&&0===s&&0!==this[t+r-1]&&(s=1),this[t+r]=(e/a>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var o=Math.pow(2,8*n-1);R(this,e,t,n,o-1,-o)}var r=n-1,a=1,s=0;for(this[t+r]=255&e;--r>=0&&(a*=256);)e<0&&0===s&&0!==this[t+r+1]&&(s=1),this[t+r]=(e/a>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):A(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):A(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return B(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return B(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return I(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return I(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var o,r=i-n;if(this===e&&n<t&&t<i)for(o=r-1;o>=0;--o)e[o+t]=this[o+n];else if(r<1e3||!l.TYPED_ARRAY_SUPPORT)for(o=0;o<r;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+r),t);return r},l.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!l.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var r;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(r=t;r<n;++r)this[r]=e;else{var a=l.isBuffer(e)?e:U(new l(e,i).toString()),s=a.length;for(r=0;r<n-t;++r)this[r+t]=a[r%s]}return this};var L=/[^+\/0-9A-Za-z-_]/g;function U(e,t){var n;t=t||1/0;for(var i=e.length,o=null,r=[],a=0;a<i;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&r.push(239,191,189);continue}if(a+1===i){(t-=3)>-1&&r.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&r.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&r.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;r.push(n)}else if(n<2048){if((t-=2)<0)break;r.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;r.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;r.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return r}function F(e){return i.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(L,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function z(e,t,n,i){for(var o=0;o<i&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}}).call(this,n(39))},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.BlockType=void 0,(i=t.BlockType||(t.BlockType={})).saved="layout-section",i.blocks="blocks-section"},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(205),t),o(n(528),t),o(n(529),t),o(n(530),t),o(n(531),t),o(n(532),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HttpResponse=void 0,t.HttpResponse=class{constructor(){this.headers=[]}toByteArray(){return this.body}toObject(){try{const e=this.utf8ArrayToStr(this.body);return JSON.parse(e.trim())}catch(e){throw new Error(e)}}toText(){return this.utf8ArrayToStr(this.body).trim()}utf8ArrayToStr(e){let t,n,i,o,r,a;for(t="",i=e.length,n=0;n<i;)switch(o=e[n++],o>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=String.fromCharCode(o);break;case 12:case 13:r=e[n++],t+=String.fromCharCode((31&o)<<6|63&r);break;case 14:r=e[n++],a=e[n++],t+=String.fromCharCode((15&o)<<12|(63&r)<<6|(63&a)<<0)}return t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultPageSize=t.localePrefix=void 0,t.localePrefix="locales",t.defaultPageSize=30},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(536),t),o(n(537),t),o(n(538),t),o(n(539),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mediaRoot=void 0,t.mediaRoot="uploads"},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.PermalinkResolver=void 0;const o=n(80);t.PermalinkResolver=class{constructor(e){this.permalinkResolvers=e}canHandleTarget(e){if(!e)throw new Error('Parameter "targetKey" not specified.');return this.permalinkResolvers.some(t=>t.canHandleTarget(e))}getUrlByTargetKey(e,t){return i(this,void 0,void 0,(function*(){if(!e)throw new Error('Parameter "targetKey" not specified.');let n=null;const i=this.permalinkResolvers.find(t=>t.canHandleTarget(e));if(!i)return console.warn(`Could not find permalink resolver for target key ${e}.`),e;try{n=yield i.getUrlByTargetKey(e,t)}catch(o){console.warn("Unable to resolve permalink. "+(o.stack||o.message))}return n}))}getHyperlinkFromContract(e,t){return i(this,void 0,void 0,(function*(){let n;if(!e.targetKey)return this.getEmptyHyperlink();const i=this.permalinkResolvers.find(t=>t.canHandleTarget(e.targetKey));return i?(n=yield i.getHyperlinkFromContract(e,t),n||this.getEmptyHyperlink()):(console.warn(`Could not find permalink resolver for target key "${e.targetKey}"`),this.getEmptyHyperlink())}))}getHyperlinkByTargetKey(e,t){return i(this,void 0,void 0,(function*(){const n=this.permalinkResolvers.find(t=>t.canHandleTarget(e));return n?(yield n.getHyperlinkByTargetKey(e,t))||this.getEmptyHyperlink():(console.warn(`Could not find permalink resolver for content item with key "${e}".`),this.getEmptyHyperlink())}))}getContentByPermalink(e,t){return i(this,void 0,void 0,(function*(){for(const n of this.permalinkResolvers){if(!n.getContentByPermalink)continue;const i=yield null==n?void 0:n.getContentByPermalink(e,t);if(i)return i}return null}))}getContentItemByPermalink(e,t){return i(this,void 0,void 0,(function*(){for(const n of this.permalinkResolvers){if(!n.getContentItemByPermalink)continue;const i=yield null==n?void 0:n.getContentItemByPermalink(e,t);if(i)return i}return null}))}getEmptyHyperlink(){const e=new o.HyperlinkModel;return e.title="Unset link",e.target="_self",e.targetKey=null,e.href="#",e.anchor=null,e.anchorName=null,e}}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(554),t),o(n(555),t),o(n(556),t),o(n(557),t),o(n(558),t),o(n(559),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UrlHyperlinkProvider=void 0;const i=n(80);t.UrlHyperlinkProvider=class{constructor(){this.name="Web URL",this.componentName="url-selector",this.iconClass="paperbits-icon paperbits-link-69-2"}canHandleHyperlink(e){return e.startsWith("urls/")}getHyperlinkFromResource(e){const t=new i.HyperlinkModel;return t.title=e.title,t.targetKey=e.key,t.href=e.permalink,t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundModel=void 0,t.BackgroundModel=class{constructor(){this.sourceType="none",this.size="contain",this.position="center center",this.repeat="no-repeat"}}},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.Button=void 0;const r=n(0),a=n(587),s=n(2);let l=class{constructor(){this.label=r.observable("Button"),this.styles=r.observable(),this.hyperlink=r.observable(),this.roles=r.observableArray()}};l=i([s.Component({selector:"paperbits-button",template:a.default}),o("design:paramtypes",[])],l),t.Button=l},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.CardViewModel=void 0;const r=n(0),a=n(596),s=n(2);let l=class{constructor(){this.widgets=r.observableArray(),this.styles=r.observable()}};l=i([s.Component({selector:"card",template:a.default}),o("design:paramtypes",[])],l),t.CardViewModel=l},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.CardHandlers=void 0;const o=n(83),r=n(96);t.CardHandlers=class{constructor(e,t){this.viewManager=e,this.eventManager=t}canAccept(e){return!["section","row","column","card"].includes(e.sourceBinding.name)}getContextualEditor(e){const t={color:"#4c5866",hoverCommands:[{color:"#607d8b",position:e.half,tooltip:"Add widget",component:{name:"widget-selector",params:{onRequest:()=>e.providers,onSelect:t=>{let n=e.parentModel.widgets.indexOf(e.model);"bottom"===e.half&&n++,e.parentBinding.model.widgets.splice(n,0,t),e.parentBinding.applyChanges(),this.viewManager.clearContextualEditors()}}}}],deleteCommand:{tooltip:"Delete card",color:"#4c5866",callback:()=>{e.parentModel.widgets.remove(e.model),e.parentBinding.applyChanges(),this.viewManager.clearContextualEditors(),this.eventManager.dispatchEvent("onContentUpdate")}},selectCommands:[{tooltip:"Edit card",iconClass:"paperbits-edit-72",position:"top right",color:"#4c5866",callback:()=>this.viewManager.openWidgetEditor(e.binding)}]};return 0===e.model.widgets.length&&t.hoverCommands.push({color:"#607d8b",position:"center",tooltip:"Add widget",component:{name:"widget-selector",params:{onRequest:()=>e.providers,onSelect:t=>{e.model.widgets.push(t),e.binding.applyChanges(),this.eventManager.dispatchEvent("onContentUpdate"),this.viewManager.clearContextualEditors()}}}}),t}getWidgetOrder(){return i(this,void 0,void 0,(function*(){return{name:"card",displayName:"Card",iconClass:"paperbits-polaroid",requires:["html"],createModel:()=>i(this,void 0,void 0,(function*(){const e=new o.TextblockModel([{type:"heading1",content:[{type:"text",text:"Card"}]},{type:"paragraph",content:[{type:"text",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor..."}]}]),t=new r.CardModel;return t.widgets.push(e),t}))}}))}}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(600),t),o(n(604),t),o(n(221),t),o(n(137),t),o(n(218),t)},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.CollapsiblePanelModelBinder=void 0;const o=n(84);t.CollapsiblePanelModelBinder=class{constructor(e){this.modelBinderSelector=e}canHandleContract(e){return"collapsible-panel"===e.type}canHandleModel(e){return e instanceof o.CollapsiblePanelModel}contractToModel(e,t){return i(this,void 0,void 0,(function*(){const n=new o.CollapsiblePanelModel;e.styles&&(n.styles=e.styles),e.nodes||(e.nodes=[]);const r=e.nodes.map(e=>i(this,void 0,void 0,(function*(){return this.modelBinderSelector.getModelBinderByContract(e).contractToModel(e,t)})));return n.widgets=yield Promise.all(r),n}))}modelToContract(e){const t={type:"collapsible-panel",styles:e.styles,nodes:[]};return e.widgets.forEach(e=>{const n=this.modelBinderSelector.getModelBinderByModel(e);t.nodes.push(n.modelToContract(e))}),t}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.CollapsiblePanelViewModelBinder=void 0;const o=n(137),r=n(84),a=n(602),s=n(603);t.CollapsiblePanelViewModelBinder=class{constructor(e,t,n){this.viewModelBinderSelector=e,this.eventManager=t,this.styleCompiler=n}modelToViewModel(e,t,n){return i(this,void 0,void 0,(function*(){t||(t=new o.CollapsiblePanel);const r=[];for(const t of e.widgets){const e=this.viewModelBinderSelector.getViewModelBinderByModel(t),i=yield e.modelToViewModel(t,null,n);r.push(i)}if(0===r.length&&r.push(new a.PlaceholderViewModel("Collapsible panel content")),e.styles){const i=yield this.styleCompiler.getStyleModelAsync(e.styles,null==n?void 0:n.styleManager);t.styles(i)}return t.widgets(r),t.widgetBinding={displayName:"Collapsible panel",readonly:!!n&&n.readonly,model:e,draggable:!0,flow:"inline",editor:"collapsible-panel-editor",handler:s.CollapsiblePanelHandlers,applyChanges:o=>i(this,void 0,void 0,(function*(){yield this.modelToViewModel(e,t,n),this.eventManager.dispatchEvent("onContentUpdate")}))},t}))}canHandleModel(e){return e instanceof r.CollapsiblePanelModel}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.PlaceholderViewModelBinder=void 0;const o=n(94),r=n(38);t.PlaceholderViewModelBinder=class{modelToViewModel(e){return i(this,void 0,void 0,(function*(){return new r.PlaceholderViewModel(e.message)}))}canHandleModel(e){return e instanceof o.PlaceholderModel}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.CollapsiblePanelHandlers=void 0;const o=n(84);t.CollapsiblePanelHandlers=class{constructor(e,t){this.viewManager=e,this.eventManager=t}canAccept(e){return!["section","row","column","collapsiblePanel"].includes(e.sourceBinding.name)}getWidgetOrder(){return i(this,void 0,void 0,(function*(){return{name:"collapsiblePanel",displayName:"Collapsible panel",iconClass:"paperbits-menu-34",requires:["html","js"],createModel:()=>i(this,void 0,void 0,(function*(){return new o.CollapsiblePanelModel}))}}))}getContextualEditor(e){const t={color:"#9C27B0",hoverCommands:[{color:"#607d8b",position:e.half,tooltip:"Add widget",component:{name:"widget-selector",params:{onRequest:()=>e.providers,onSelect:t=>{let n=e.parentModel.widgets.indexOf(e.model);"bottom"===e.half&&n++,e.parentBinding.model.widgets.splice(n,0,t),e.parentBinding.applyChanges(),this.viewManager.clearContextualEditors()}}}}],deleteCommand:{tooltip:"Delete widget",color:"#607d8b",callback:()=>{e.parentModel.widgets.remove(e.model),e.parentBinding.applyChanges(),this.viewManager.clearContextualEditors()}},selectCommands:[{tooltip:"Edit collapsible panel",iconClass:"paperbits-edit-72",position:"top right",color:"#607d8b",callback:()=>this.viewManager.openWidgetEditor(e.binding)}]};return 0===e.model.widgets.length&&t.hoverCommands.push({color:"#607d8b",position:"center",tooltip:"Add widget",component:{name:"widget-selector",params:{onRequest:()=>e.providers,onSelect:t=>{e.model.widgets.push(t),e.binding.applyChanges(),this.eventManager.dispatchEvent("onContentUpdate"),this.viewManager.clearContextualEditors()}}}}),t}}},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.CollapsiblePanelEditor=void 0;const r=n(0),a=n(605),s=n(84),l=n(2),c=n(46),u=n(47);let d=class{constructor(e,t){this.viewManager=e,this.eventManager=t,this.backgroundConfig=r.observable(),this.containerConfig=r.observable(),this.sizeConfig=r.observable()}initialize(){this.updateObservables(),this.eventManager.addEventListener(c.CommonEvents.onViewportChange,this.updateObservables)}updateObservables(){const e=this.viewManager.getViewport(),t=u.StyleHelper.getPluginConfigForLocalStyles(this.model.styles,"container",e);this.containerConfig(t);const n=u.StyleHelper.getPluginConfigForLocalStyles(this.model.styles,"background",e);this.backgroundConfig(n);const i=u.StyleHelper.getPluginConfigForLocalStyles(this.model.styles,"size",e);this.sizeConfig(i)}onContainerChange(e){const t=this.viewManager.getViewport();u.StyleHelper.setPluginConfigForLocalStyles(this.model.styles,"container",e,t),this.onChange(this.model)}onBackgroundChange(e){const t=this.viewManager.getViewport();u.StyleHelper.setPluginConfigForLocalStyles(this.model.styles,"background",e,t),this.onChange(this.model)}onSizeChange(e){const t=this.viewManager.getViewport();u.StyleHelper.setPluginConfigForLocalStyles(this.model.styles,"size",e,t),this.onChange(this.model)}dispose(){this.eventManager.removeEventListener(c.CommonEvents.onViewportChange,this.initialize)}};i([l.Param(),o("design:type",s.CollapsiblePanelModel)],d.prototype,"model",void 0),i([l.Event(),o("design:type",Function)],d.prototype,"onChange",void 0),i([l.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],d.prototype,"initialize",null),i([l.OnDestroyed(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],d.prototype,"dispose",null),d=i([l.Component({selector:"collapsible-panel-editor",template:a.default}),o("design:paramtypes",[Object,Object])],d),t.CollapsiblePanelEditor=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.coerce=void 0,t.coerce=function(e){return Array.prototype.slice.call(e)}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStylePlugin=void 0;const o=n(19),r=n(16),a=n(139),s=n(8);class l extends r.StylePlugin{constructor(e,t){super(),this.themeContract=e,this.mediaPermalinkResolver=t,this.name="background"}setThemeContract(e){this.themeContract=e}configToStyleRules(e){return i(this,void 0,void 0,(function*(){const t=[],n=[],i=[],r=[],l=[],c=[];if(e.colorKey){const n=o.getObjectAt(e.colorKey,this.themeContract);n?t.push(new s.StyleRule("backgroundColor",n.value)):console.warn(`Color with key "${e.colorKey}" not found. Elements using it will fallback to parent's definition.`)}if(e.images&&e.images.length>0)for(const o of e.images){const e=yield this.mediaPermalinkResolver.getUrlByTargetKey(o.sourceKey);e?(n.push(`url('${e}')`),i.push(o.position||"unset"),l.push(o.size||"unset"),r.push(o.repeat||"no-repeat"),c.push(o.attachment||"unset")):console.warn(`Unable to set background image. Media with source key ${o.sourceKey} not found.`)}if(e.gradientKey){const t=o.getObjectAt(e.gradientKey,this.themeContract);t?n.push(a.getLinearGradientString(t)):(n.push("none"),console.warn(`Gradient with key "${e.gradientKey}" not found. Elements using it will fallback to parent's definition.`))}return n.length>0&&t.push(new s.StyleRule("backgroundImage",n.join(","))),i.length>0&&t.push(new s.StyleRule("backgroundPosition",i.join(","))),l.length>0&&t.push(new s.StyleRule("backgroundSize",l.join(","))),r.length>0&&t.push(new s.StyleRule("backgroundRepeat",r.join(","))),c.length>0&&t.push(new s.StyleRule("backgroundAttachment",c.join(","))),t}))}}t.BackgroundStylePlugin=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLinearGradientString=void 0,t.getLinearGradientString=function(e){const t=e.colorStops.sort((e,t)=>e.length-t.length).map(e=>{let t=e.color;return e.length&&(t+=` ${e.length}%`),t});return`linear-gradient(${e.direction},${t.join(",")})`}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StylePrimitives=void 0,t.StylePrimitives=["animations","colors","components","fonts","globals","gradients","shadows","utils"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyleHelper=void 0;const i=n(98),o=n(30),r=n(6);class a{static isResponsive(e){if(!e)throw new Error('Parameter "variation" not specified.');return Object.keys(e).some(e=>Object.keys(i.BreakpointValues).includes(e))}static getPluginConfigForLocalStyles(e,t,n="xs"){if(!e)throw new Error('Parameter "localStyles" not specified.');if(!t)throw new Error('Parameter "pluginName" not specified.');if(!e.instance)return null;const i=e.instance[t];return i?this.isResponsive(i)?i[n]:i:null}static setPluginConfigForLocalStyles(e,t,n,i){if(!e)throw new Error('Parameter "localStyles" not specified.');if(!t)throw new Error('Parameter "pluginName" not specified.');const a=e.instance||{};let s=a[t]||{};i?s[i]=n:s=n,a[t]=s,e.instance=a,a.key||(a.key=r.randomClassName()),o.cleanupObject(e,!0,!0)}static getPluginConfig(e,t,n="xs"){if(!e)throw new Error('Parameter "pluginBag" not specified.');if(!t)throw new Error('Parameter "pluginName" not specified.');const i=e[t];return i?this.isResponsive(i)?i[n]:i:null}static setPluginConfig(e,t,n,i){if(!e)throw new Error('Parameter "pluginBag" not specified.');if(!t)throw new Error('Parameter "pluginName" not specified.');let a=e[t]||{};i?a[i]=n:a=n,e[t]=a,e.key||(e.key=r.randomClassName()),o.cleanupObject(e,!0,!0)}static optimizeProperty(e,t){if(!a.isResponsive(e[t]))return;const n=r.optimizeBreakpoints(e[t]);e[t]=n}static optimizePluginConfig(e){if(!a.isResponsive(e))return;const t=["xs","sm","md","lg","xl"],n={};for(const i of t){const t=e[i];if(!t)continue;const o=Object.keys(t);for(const e of o)n[e]===t[e]?delete t[e]:n[e]=t[e];0===Object.keys(t).length&&delete e[i]}}}t.StyleHelper=a},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ColumnViewModel=void 0;const r=n(0),a=n(661),s=n(2);let l=class{constructor(){this.widgets=r.observableArray(),this.sizeXs=r.observable(),this.sizeSm=r.observable(),this.sizeMd=r.observable(),this.sizeLg=r.observable(),this.sizeXl=r.observable(),this.alignmentXs=r.observable(),this.alignmentSm=r.observable(),this.alignmentMd=r.observable(),this.alignmentLg=r.observable(),this.alignmentXl=r.observable(),this.offsetXs=r.observable(),this.offsetSm=r.observable(),this.offsetMd=r.observable(),this.offsetLg=r.observable(),this.offsetXl=r.observable(),this.overflowX=r.observable(),this.overflowY=r.observable(),this.orderXs=r.observable(),this.orderSm=r.observable(),this.orderMd=r.observable(),this.orderLg=r.observable(),this.orderXl=r.observable(),this.css=r.computed(()=>{const e=[];return this.sizeXs()&&e.push(this.getSizeClass(this.sizeXs(),"xs")),this.sizeSm()&&e.push(this.getSizeClass(this.sizeSm(),"sm")),this.sizeMd()&&e.push(this.getSizeClass(this.sizeMd(),"md")),this.sizeLg()&&e.push(this.getSizeClass(this.sizeLg(),"lg")),this.sizeXl()&&e.push(this.getSizeClass(this.sizeXl(),"xl")),this.alignmentXs()&&e.push(this.getAlignmentClass(this.alignmentXs(),"xs")),this.alignmentSm()&&e.push(this.getAlignmentClass(this.alignmentSm(),"sm")),this.alignmentMd()&&e.push(this.getAlignmentClass(this.alignmentMd(),"md")),this.alignmentLg()&&e.push(this.getAlignmentClass(this.alignmentLg(),"lg")),this.alignmentXl()&&e.push(this.getAlignmentClass(this.alignmentXl(),"xl")),this.offsetXs()&&e.push(this.getOffsetClass(this.offsetXs(),"xs")),this.offsetSm()&&e.push(this.getOffsetClass(this.offsetSm(),"sm")),this.offsetMd()&&e.push(this.getOffsetClass(this.offsetMd(),"md")),this.offsetLg()&&e.push(this.getOffsetClass(this.offsetLg(),"lg")),this.offsetXl()&&e.push(this.getOffsetClass(this.offsetXl(),"xl")),this.orderXs()&&e.push(this.getOrderClass(this.orderXs(),"xs")),this.orderSm()&&e.push(this.getOrderClass(this.orderSm(),"sm")),this.orderMd()&&e.push(this.getOrderClass(this.orderMd(),"md")),this.orderLg()&&e.push(this.getOrderClass(this.orderLg(),"lg")),this.orderXl()&&e.push(this.getOrderClass(this.orderXl(),"xl")),e.join(" ")}),this.overflow=r.computed(()=>({x:this.overflowX(),y:this.overflowY()}))}getSizeClass(e,t){let n="";return"xs"!==t&&(n=t+"-"),"auto"===e&&(e=""),`col-${n}${e}`}getOffsetClass(e,t){let n="";return"xs"!==t&&(n=t+"-"),`offset-${n}${e}`}getOrderClass(e,t){let n="";return"xs"!==t&&(n=t+"-"),`order-${n}${e}`}getAlignmentClass(e,t){const n=e.split(" "),i=n[0];let o="";return"xs"!==t&&(o=t+"-"),`align-content-${o}${i} align-items-${o}${i} justify-content-${o}${n[1]}`}};l=i([s.Component({selector:"layout-column",template:a.default}),o("design:paramtypes",[])],l),t.ColumnViewModel=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColumnHandlers=void 0,t.ColumnHandlers=class{constructor(e,t){this.viewManager=e,this.eventManager=t}canAccept(e){return!["section","row","column"].includes(e.sourceBinding.name)}getContextualEditor(e){const t={color:"#9C27B0",hoverCommands:[],deleteCommand:null,selectCommands:[{tooltip:"Edit column",iconClass:"paperbits-edit-72",position:"top right",color:"#9C27B0",callback:()=>this.viewManager.openWidgetEditor(e.binding)}]};return 0===e.model.widgets.length&&t.hoverCommands.push({color:"#607d8b",position:"center",tooltip:"Add widget",component:{name:"widget-selector",params:{onRequest:()=>e.providers,onSelect:t=>{e.model.widgets.push(t),e.binding.applyChanges(),this.eventManager.dispatchEvent("onContentUpdate"),this.viewManager.clearContextualEditors()}}}}),t}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ContentModelBinder=void 0;const o=n(141),r=n(94);t.ContentModelBinder=class{constructor(e){this.modelBinderSelector=e}getChildModels(e,t){return i(this,void 0,void 0,(function*(){const n=e.map(e=>this.modelBinderSelector.getModelBinderByContract(e).contractToModel(e,t));return yield Promise.all(n)}))}getChildContracts(e){const t=[];return e.forEach(e=>{const n=this.modelBinderSelector.getModelBinderByModel(e);t.push(n.modelToContract(e))}),t}canHandleContract(e){return"page"===e.type}canHandleModel(e){return e instanceof o.ContentModel}contractToModel(e,t){var n,a;return i(this,void 0,void 0,(function*(){const i=new o.ContentModel;i.type=e.type;const s=null===(a=null===(n=null==t?void 0:t.template)||void 0===n?void 0:n[e.type])||void 0===a?void 0:a.value;return s&&(e=s),e.nodes?i.widgets=yield this.getChildModels(e.nodes,t):i.widgets=[new r.PlaceholderModel("Content")],i}))}modelToContract(e){return{type:"page"}}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ContentViewModelBinder=void 0;const o=n(30),r=n(140),a=n(141),s=n(142);t.ContentViewModelBinder=class{constructor(e,t,n,i){this.viewModelBinderSelector=e,this.contentModelBinder=t,this.modelBinderSelector=n,this.eventManager=i}createBinding(e,t,n){let o;const r=()=>i(this,void 0,void 0,(function*(){var t,i;const o={type:e.type,nodes:[]};e.widgets.forEach(e=>{const t=this.modelBinderSelector.getModelBinderByModel(e);o.nodes.push(t.modelToContract(e))});const r=null===(i=null===(t=null==n?void 0:n.template)||void 0===t?void 0:t[o.type])||void 0===i?void 0:i.onValueUpdate;r&&r(o)})),a=()=>i(this,void 0,void 0,(function*(){clearTimeout(o),o=setTimeout(r,600)})),l={displayName:"Content",readonly:e.type!==(null==n?void 0:n.routeKind),name:"content",model:e,draggable:!0,handler:s.ContentHandlers,applyChanges:()=>i(this,void 0,void 0,(function*(){return yield this.modelToViewModel(e,t,n)})),onCreate:()=>{e.type===(null==n?void 0:n.routeKind)&&this.eventManager.addEventListener("onContentUpdate",a)},onDispose:()=>{e.type===(null==n?void 0:n.routeKind)&&this.eventManager.removeEventListener("onContentUpdate",a)}};t.widgetBinding=l}modelToViewModel(e,t,n){return i(this,void 0,void 0,(function*(){t||(t=new r.ContentViewModel);let i={};n&&(i=o.clone(n),i.readonly=e.type!==(null==n?void 0:n.routeKind),i.template=n.template,i.styleManager=n.styleManager);const a=[];for(const t of e.widgets){const e=this.viewModelBinderSelector.getViewModelBinderByModel(t),n=yield e.modelToViewModel(t,null,i);a.push(n)}return t.widgetBinding||this.createBinding(e,t,n),t.widgets(a),t}))}canHandleModel(e){return e instanceof a.ContentModel}getContentViewModelByKey(e,t){return i(this,void 0,void 0,(function*(){const n=yield this.contentModelBinder.contractToModel(e,t),i=yield this.modelToViewModel(n,null,t);return i.widgetBinding.readonly=!0,i}))}}},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.GridCellViewModel=void 0;const r=n(0),a=n(668),s=n(2);let l=class{constructor(){this.widgets=r.observableArray(),this.styles=r.observable(),this.role=r.observable()}};l=i([s.Component({selector:"grid-cell",template:a.default}),o("design:paramtypes",[])],l),t.GridCellViewModel=l},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(142),t),o(n(141),t),o(n(229),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GridCellHandlers=void 0;const i=n(234);t.GridCellHandlers=class{constructor(e,t,n){this.viewManager=e,this.eventManager=t,this.widgetService=n}canAccept(e){return!["section","row","column"].includes(e.sourceBinding.name)}getContextualEditor(e){const t={color:"#9C27B0",hoverCommands:[],deleteCommand:null,selectCommands:[{tooltip:"Edit grid cell",iconClass:"paperbits-edit-72",position:"top right",color:"#9C27B0",callback:()=>this.viewManager.openWidgetEditor(e.binding)},{tooltip:"Switch to parent",iconClass:"paperbits-enlarge-vertical",position:"top right",color:"#9C27B0",callback:()=>{e.switchToParent(i.SectionModel)}}]};return 0!==e.model.widgets.length||t.hoverCommands.push({color:"#607d8b",position:"center",tooltip:"Add widget",component:{name:"widget-selector",params:{onRequest:()=>e.providers,onSelect:t=>{e.model.widgets.push(t),e.binding.applyChanges(),this.eventManager.dispatchEvent("onContentUpdate"),this.viewManager.clearContextualEditors()}}}}),t}}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(671),t),o(n(144),t),o(n(86),t),o(n(235),t)},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SectionModelBinder=void 0;const o=n(86);t.SectionModelBinder=class{constructor(e){this.modelBinderSelector=e}canHandleContract(e){return"layout-section"===e.type}canHandleModel(e){return e instanceof o.SectionModel}contractToModel(e,t){return i(this,void 0,void 0,(function*(){const n=new o.SectionModel;e.nodes=e.nodes||[],n.styles=e.styles||{};const r=e.nodes.map(e=>i(this,void 0,void 0,(function*(){const n=this.modelBinderSelector.getModelBinderByContract(e);return yield n.contractToModel(e,t)})));return n.widgets=yield Promise.all(r),n}))}modelToContract(e){const t={type:"layout-section",styles:e.styles,nodes:[]};return e.widgets.forEach(e=>{const n=this.modelBinderSelector.getModelBinderByModel(e);t.nodes.push(n.modelToContract(e))}),t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GridModule=void 0;const i=n(145),o=n(237),r=n(238);t.GridModule=class{register(e){e.bind("gridViewModel",i.GridViewModel),e.bindToCollection("modelBinders",o.GridModelBinder,"gridModelBinder"),e.bindToCollection("viewModelBinders",r.GridViewModelBinder,"gridViewModelBinder")}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.GridModelBinder=void 0;const o=n(146);t.GridModelBinder=class{constructor(e){this.modelBinderSelector=e}canHandleContract(e){return"grid"===e.type}canHandleModel(e){return e instanceof o.GridModel}contractToModel(e,t){return i(this,void 0,void 0,(function*(){const n=new o.GridModel;e.nodes=e.nodes||[],n.styles=e.styles;const r=e.nodes.map(e=>i(this,void 0,void 0,(function*(){const n=this.modelBinderSelector.getModelBinderByContract(e);return yield n.contractToModel(e,t)})));return n.widgets=yield Promise.all(r),n}))}modelToContract(e){const t={type:"grid",nodes:[],styles:e.styles};return e.widgets.forEach(e=>{const n=this.modelBinderSelector.getModelBinderByModel(e);t.nodes.push(n.modelToContract(e))}),t}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.GridViewModelBinder=void 0;const o=n(145),r=n(146),a=n(38),s=n(147);t.GridViewModelBinder=class{constructor(e,t,n){this.viewModelBinderSelector=e,this.eventManager=t,this.styleCompiler=n}modelToViewModel(e,t,n){return i(this,void 0,void 0,(function*(){t||(t=new o.GridViewModel);const r=[];for(const t of e.widgets){const e=this.viewModelBinderSelector.getViewModelBinderByModel(t),i=yield e.modelToViewModel(t,null,n);r.push(i)}0===r.length&&r.push(new a.PlaceholderViewModel("Grid")),t.widgets(r),e.styles&&t.styles(yield this.styleCompiler.getStyleModelAsync(e.styles,null==n?void 0:n.styleManager));const l={name:"grid",displayName:"Grid",readonly:!!n&&n.readonly,model:e,draggable:!1,flow:"block",handler:s.GridHandlers,applyChanges:o=>i(this,void 0,void 0,(function*(){yield this.modelToViewModel(e,t,n),this.eventManager.dispatchEvent("onContentUpdate")}))};return t.widgetBinding=l,t}))}canHandleModel(e){return e instanceof r.GridModel}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundBindingHandler=void 0;const o=n(0);o.bindingHandlers.style={update(e,t){const n=o.utils.unwrapObservable(t()||{});o.utils.objectForEach(n,(function(t,n){null!=(n=o.utils.unwrapObservable(n))&&!1!==n||(n=""),e.style.setProperty(t,n)}))}},t.BackgroundBindingHandler=class{constructor(e){o.bindingHandlers.background={init(e,t){const n=t(),r=o.observable(),a=e=>i(this,void 0,void 0,(function*(){e.sourceUrl?r({"background-image":`url("${o.unwrap(e.sourceUrl)}")`,"background-repeat":"no-repeat","background-size":"cover","background-position":"center","background-color":e.color}):e.color?r({"background-color":e.color}):r({"background-image":null,"background-repeat":null,"background-size":null,"background-position":null,"background-color":null})}));o.applyBindingsToNode(e,{style:r},null),o.isObservable(n)&&n.subscribe(e=>{a(e?o.unwrap(e):{})});let s=o.unwrap(n);s||(s={}),a(s)}}}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SecuredBindingHandler=void 0;const o=n(0),r=n(58);t.SecuredBindingHandler=class{constructor(e,t){this.eventManager=e,this.userService=t,o.bindingHandlers.secured={update:(e,t)=>{const n=o.observable(!0),a=o.observable(),s=()=>i(this,void 0,void 0,(function*(){const e=o.unwrap(t())||[r.BuiltInRoles.everyone.key],i=(yield this.userService.getUserRoles()).some(t=>e.includes(t))||e.includes(r.BuiltInRoles.everyone.key),s=e&&1===e.length&&e[0]===r.BuiltInRoles.everyone.key?null:e.join(",");a(s),n(!i)}));this.eventManager.addEventListener("onUserRoleChange",s),o.applyBindingsToNode(e,{attr:{"data-role":a},css:{hidden:n}},null),o.utils.domNodeDisposal.addDisposeCallback(e,()=>{this.eventManager.removeEventListener("onUserRoleChange",s)}),s()}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetBindingHandler=void 0;const i=n(0);t.WidgetBindingHandler=class{constructor(){let e=0;i.bindingHandlers.widget={init(n,o,r,a,s){if(!i.utils.unwrapObservable(o()))return;let l,c;const u=()=>{const e=l&&l.dispose;if(l){const e=l.widgetBinding;e&&e.onDispose&&e.onDispose()}"function"==typeof e&&e.call(l),l=null,c=null},d=t(i.virtualElements.childNodes(n));return i.utils.domNodeDisposal.addDisposeCallback(n,u),i.computed(()=>{const t=i.utils.unwrapObservable(o());if(!t)return;const r=c=++e,a=Reflect.getMetadata("knockout-component",t.constructor);if(!a)throw new Error("Could not find component registration for view model: "+t);const p=t.widgetBinding;p&&p.onCreate&&p.onCreate();const h=a.name;i.components.get(h,e=>{if(c!==r)return;if(u(),!e)throw new Error(`Unknown component "${h}".`);const o=function(e,t){const n=e.template;if(!n)return t;const o=((e,t)=>{const n=[];for(let i=0,o=e.length;i<o;i++){const t=e[i].cloneNode(!0);n.push(t)}return n})(n);return i.virtualElements.setDomNodeChildren(t,o),t}(e,n),a=s.createChildContext(t,void 0,e=>{e.$component=t,e.$componentTemplateNodes=d});l=t,i.applyBindingsToDescendants(a,o);let p=n;if("#comment"===p.nodeName)do{p=p.nextSibling}while(null!==p&&"#comment"===p.nodeName);if(p){p.attachedViewModel=t;const e=t.widgetBinding;(null==e?void 0:e.draggable)&&i.applyBindingsToNode(p,{draggable:{}},null)}})},null,{disposeWhenNodeIsRemoved:n}),{controlsDescendantBindings:!1}}},i.virtualElements.allowedBindings.widget=!0;const t=e=>{const t=[];for(let n=0,i=e.length;n<i;n++)t.push(e[n]);return t}}}},function(module,exports,__webpack_require__){"use strict";(function(setImmediate){Object.defineProperty(exports,"__esModule",{value:!0}),exports.KnockoutRegistrationLoaders=void 0;const ko=__webpack_require__(0),injection_1=__webpack_require__(130);class KnockoutRegistrationLoaders{register(injector){const injectableComponentLoader={loadViewModel(name,config,callback){const injectable=Reflect.getMetadata(injection_1.InjectableMetadataKey,config);if(!injectable)return void callback(null);const viewModelConstructor=function(params){const resolvedInjectable=injector.resolve(injectable.name);let instance=resolvedInjectable;resolvedInjectable.factory&&(instance=resolvedInjectable.factory(injector,params)),Object.getOwnPropertyNames(instance.constructor.prototype).forEach(e=>{"function"==typeof instance[e]&&"constructor"!==e&&(instance[e]=instance[e].bind(instance))});const parameterDescriptions=Reflect.getMetadata("params",instance.constructor);if(parameterDescriptions&&params){if("string"==typeof params)try{params=eval(`(${params})`)}catch(error){}"object"==typeof params&&parameterDescriptions.forEach(e=>{const t=instance[e],n=params[e]||params[e.toLowerCase()];void 0!==n&&(ko.isObservable(t)?ko.isObservable(n)?(t(n()),n.subscribe(e=>{t(e)})):t(n):instance[e]=ko.unwrap(n))})}const eventDescriptions=Reflect.getMetadata("events",instance.constructor);eventDescriptions&&eventDescriptions.forEach(e=>{params&&params[e]?instance[e]=params[e]:console.warn(`Event "${e}" in the component "${name}" doesn't have listeners.`)});const onMountedMethodDescriptions=Reflect.getMetadata("onmounted",instance.constructor);return onMountedMethodDescriptions&&onMountedMethodDescriptions.forEach(e=>{const t=instance[e];t&&t()}),instance};ko.components.defaultLoader.loadViewModel(name,viewModelConstructor,callback)},loadTemplate(e,t,n){const i=(0,ko.utils.parseHtmlFragment)(t,document);ko.components.defaultLoader.loadTemplate(e,i,n)},loadComponent(e,t,n){ko.components.defaultLoader.loadComponent(e,t,e=>{const i={template:e.template,createViewModel:(t,n)=>{const i=n.element.attributes;if(i&&i.length>0){const e={};for(let t=0;t<i.length;t++){const n=i[t];n.name.startsWith("runtime-")&&(e[n.name.split("-")[1]]=n.value)}Object.keys(e).length>0&&(t=Object.assign(Object.assign({},e),t))}return e.createViewModel(t,n)},constructor:t.constructor,encapsulation:t.encapsulation};n(i)})}};ko.components.loaders.unshift(injectableComponentLoader),ko.bindingProvider.instance.preprocessNode=e=>(e.removeAttribute&&setImmediate(()=>e.removeAttribute("data-bind")),null)}}exports.KnockoutRegistrationLoaders=KnockoutRegistrationLoaders}).call(this,__webpack_require__(60).setImmediate)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KoModule=void 0;const i=n(0);n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(673),n(253),n(254),n(255),n(257),n(258),n(259),n(240),n(260),n(675),n(676),n(677),n(678),n(261),t.KoModule=class{register(e){i.virtualElements.allowedBindings.widget=!0,i.virtualElements.allowedBindings.layoutrow=!0,i.virtualElements.allowedBindings.component=!0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0);i.bindingHandlers.columnSizeCfg={init(e,t){let n=t(),o=n.xs;n.sm&&(o=n.sm),n.md&&(o=n.md),n.lg&&(o=n.lg),n.xl&&(o=n.xl);const r={};r["col-cfg-"+o]=!0,i.applyBindingsToNode(e,{css:r},null)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0);let o=0;i.bindingHandlers.component={init:(e,t,n,a,s)=>{let l,c;const u=()=>{if(l){const e=Reflect.getMetadata("ondestroyed",l.constructor);if(e)e.forEach(e=>{const t=l[e];t&&t()});else{const e=l&&l.dispose;"function"==typeof e&&e.call(l)}}l=null,c=null},d=r(i.virtualElements.childNodes(e));return i.utils.domNodeDisposal.addDisposeCallback(e,u),i.computed(()=>{let n;const r=i.utils.unwrapObservable(t());let a,p;if("string"==typeof r?a=r:(a=i.utils.unwrapObservable(r.name),p=i.utils.unwrapObservable(r.params),n=i.utils.unwrapObservable(r.oncreate)),!a)throw new Error("No component name specified");const h=c=++o;i.components.get(a,t=>{if(c!==h)return;if(u(),!t)throw new Error(`Unknown component "${a}"`);const o=function(e,t){const n=e.template;if(!n)return t;const o=((e,t)=>{const n=[],i=e.length;for(let o=0;o<i;o++){const t=e[o].cloneNode(!0);n.push(t)}return n})(n);if("shadowDom"===e.encapsulation){const e=t.attachShadow({mode:"open"});return i.virtualElements.setDomNodeChildren(e,o),e.firstElementChild}return i.virtualElements.setDomNodeChildren(t,o),t}(t,e),r=function(e,t,n,i){const o=e.createViewModel;return o?o.call(e,i,{element:t,templateNodes:n}):i}(t,o,d,p),f=s.createChildContext(r,void 0,e=>{e.$component=r,e.$componentTemplateNodes=d});l=r,i.applyBindingsToDescendants(f,o),n&&n(r,e)})},null,{disposeWhenNodeIsRemoved:e}),{controlsDescendantBindings:!0}}},i.virtualElements.allowedBindings.component=!0;const r=e=>{const t=[];for(let n=0,i=e.length;n<i;n++)t.push(e[n]);return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0);i.bindingHandlers.highlight={init(e,t){const n=t();e.highlightConfig=n;const o=()=>{const t=e.highlightConfig;if(!t||!t.element)return;const n=t.element.ownerDocument.defaultView.frameElement.getBoundingClientRect(),i=t.element.getBoundingClientRect();e.style.left=n.left+i.left+"px",e.style.top=n.top+i.top+"px",e.style.width=i.width+"px",e.style.height=i.height+"px",e.title=t.text||"Widget"};e.highlightUpdate=o,o(),document.addEventListener("scroll",o),i.utils.domNodeDisposal.addDisposeCallback(e,()=>{document.removeEventListener("scroll",o)})},update(e,t){const n=t();e.highlightConfig=i.unwrap(n),e.highlightUpdate()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0);i.bindingHandlers.splitter={init(e,t){const n=t();e.splitterConfig=n;const o=()=>{const t=e.splitterConfig;if(!t||!t.element)return;const n=t.element.ownerDocument.defaultView.frameElement.getBoundingClientRect(),i=t.element.getBoundingClientRect();if(e.style.left=n.left+i.left+"px",e.style.top=n.top+i.top+"px",e.style.width=i.width+"px",e.style.height=i.height+"px","outside"===t.where)switch(t.side){case"top":e.style.borderWidth="4px 0 0 0";break;case"bottom":e.style.borderWidth="0 0 4px 0";break;case"left":e.style.borderWidth="0 0 0 4px";break;case"right":e.style.borderWidth="0 4px 0 0"}else e.style.borderWidth="4px"};e.splitterUpdate=o,o(),document.addEventListener("scroll",o),i.utils.domNodeDisposal.addDisposeCallback(e,()=>{document.removeEventListener("scroll",o)})},update(e,t){const n=t();e.splitterConfig=i.unwrap(n),e.splitterUpdate()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0);i.bindingHandlers.resourcePicker={init:(e,t)=>{const n=t(),o=i.unwrap(n.resourcePicker),r=i.unwrap(n.onSelect),a=i.unwrap(n.hyperlink);let s;i.applyBindingsToNode(e,{balloon:{component:{name:o.componentName,params:{onSelect:e=>{s&&s(e)}},oncreate:e=>{a&&e.selectResource&&e.selectResource(a),s=e=>{const t=o.getHyperlinkFromResource(e);r(t)}}}}},null)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0);i.bindingHandlers.hyperlink={init(e,t){const n=t(),o=i.observable(),r=e=>{var t;if(!e)return void o({href:"#",target:"_blank"});const n=(null===(t=e.targetKey)||void 0===t?void 0:t.startsWith("uploads/"))?"":void 0;o({href:e.href,target:e.target,download:n})};i.isObservable(n)&&n.subscribe(r),r(i.unwrap(n)),i.applyBindingsToNode(e,{attr:o},null)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),o=n(19);n(133),i.bindingHandlers.surface={init(e,t){const n=t(),r=localStorage.settings;if(r){const t=JSON.parse(r)[n.component.name];t&&(Number.isInteger(t.width)&&(e.style.width=t.width+"px"),Number.isInteger(t.height)&&(e.style.height=t.height+"px",e.classList.add("resized-vertically")),Number.isInteger(t.left)&&(t.left+t.width>document.body.clientWidth&&(t.left=document.body.clientWidth-t.width),e.style.left=t.left+"px"),Number.isInteger(t.top)&&(t.top+t.height>document.body.clientHeight&&(t.top=10),e.style.top=t.top+"px"))}i.applyBindingsToNode(e,{dragsource:{sticky:!1,sourceData:"surface",inertia:!0,preventDragging:e=>null!==e.closest("a, .form, .btn, .toolbox-btn, .toolbox-dropdown .cropbox"),ondragend:()=>{if(!n||!n.component)return;const t=e.getBoundingClientRect(),i=localStorage.settings;let r={};i&&(r=JSON.parse(i)),o.setValueWithCompensation(n.component.name+"/top",r,Math.floor(t.top)),o.setValueWithCompensation(n.component.name+"/left",r,Math.floor(t.left)),localStorage.settings=JSON.stringify(r)}}},null),i.applyBindingsToNode(e,{resizable:{directions:n.resize,onresize:()=>{if(!n||!n.component)return;const t=localStorage.settings;let i={};t&&(i=JSON.parse(t)),n.resize.includes("horizontally")&&o.setValueWithCompensation(n.component.name+"/width",i,e.clientWidth),n.resize.includes("vertically")&&o.setValueWithCompensation(n.component.name+"/height",i,e.clientHeight),localStorage.settings=JSON.stringify(i)}}},null)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0);i.bindingHandlers.gridCommand={init(e,t){const n=t();if(!n)return;const o={background:{color:n.color},attr:{title:n.tooltip}};n.component&&(o.balloon={target:"#sc-"+n.component.name,position:"top"}),n.callback&&(o.click=n.callback),i.applyBindingsToNode(e,o,null)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0);i.bindingHandlers.alignment={init:(e,t)=>{const n=i.unwrap(t()),o=e.getAttribute("alignment");i.applyBindingsToNode(e,{click:()=>{n.onChange(o)},css:{active:i.pureComputed(()=>n.position()===o)}},null)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0);i.bindingHandlers.size={update:(e,t)=>{const n=t(),o=i.unwrap(n.width),r=i.unwrap(n.height);o?e.setAttribute("width",o):e.removeAttribute("width"),r?e.setAttribute("height",r):e.removeAttribute("height"),e.style.width=o?o+"px":null,e.style.height=r?r+"px":null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0);i.bindingHandlers.validationMessageToggle={init:(e,t)=>{const n=t();i.isObservable(n)&&n.isValid?i.applyBindingsToNode(e,{visible:i.pureComputed(()=>!n.isValid()),balloon:{component:{name:"tooltip",params:{text:n.error}},position:"top",isOpen:i.observable()}},null):console.warn("No validation assigned to observable for element: "+e.nodeType)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),o=n(256);i.bindingHandlers.tooltip={init:(e,t)=>{const n=t();if(!n)return;let r,a,s,l="top";if("string"==typeof n||i.isObservable(n)?r=n:(r=n.message,l=n.position||"top",a=n.delay),!r)return;const c=i.observable(),u={};let d=0;i.isObservable(r)?(u.observableText=r,d=5e3,r.subscribe(()=>{s&&s.updatePosition()})):u.text=r,i.applyBindingsToNode(e,{balloon:{component:{name:"tooltip",params:u},position:l,delay:a||700,isOpen:c,activateOn:o.BalloonActivationOptions.hoverOrFocus,closeTimeout:d,onCreated:e=>{s=e}}},null)}}},function(e,t,n){"use strict";(function(e){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BalloonBindingHandler=t.BalloonActivationOptions=void 0;const o=n(0),r=n(93);var a;!function(e){e.click="click",e.hoverOrFocus="hoverOrFocus"}(a=t.BalloonActivationOptions||(t.BalloonActivationOptions={})),t.BalloonBindingHandler=class{constructor(t){o.bindingHandlers.balloon={init:(n,s)=>{const l=o.unwrap(s()),c=l.activateOn||a.click;let u,d,p,h,f,m=!1,v=!1,g=!1;l.component&&(f=()=>{d=document.createElement("div"),d.classList.add("balloon"),o.applyBindingsToNode(d,{component:l.component},null),document.body.appendChild(d)}),l.template&&(f=()=>{d=document.createElement("div"),d.classList.add("balloon"),o.applyBindingsToNode(d,{template:l.template},null),document.body.appendChild(d)});const y=()=>{d&&(delete n.activeBalloon,o.cleanNode(d),d.remove(),d=null,p.remove(),p=null,t.removeView(u))},b=()=>{l.closeTimeout&&(clearTimeout(h),h=setTimeout(S,l.closeTimeout))},x=()=>i(this,void 0,void 0,(function*(){if(!d||!d)return;const e=l.position,t="left"===e||"right"===e?"horizontal":"vertical",i=n.getBoundingClientRect(),o=d.getBoundingClientRect(),r=i.top,a=window.innerHeight-i.bottom,s=i.left,c=window.innerWidth-i.height;let u,h,f,m,v,g,y,b,x,w,S=o.height,k=o.width;switch("vertical"===t?r>a?(g="top",b=r-10-10):(g="bottom",b=a-10-10):s>c?(v="left",y=s-10):(v="right",y=c-10),o.height>b&&(S=b),o.width>y&&(k=y),g){case"top":h=i.top,h-S<0&&(g="bottom");break;case"bottom":h=i.top+i.height,h+S>window.innerHeight&&(g="top")}switch(v){case"left":u=i.left,u-k<0&&(v="right");break;case"right":u=i.left+i.width,u+k>window.innerWidth&&(v="left")}if(p.classList.remove("balloon-top"),p.classList.remove("balloon-bottom"),p.classList.remove("balloon-left"),p.classList.remove("balloon-right"),"vertical"===t)switch(g){case"top":h=i.top-S-10,u=i.left+Math.floor(i.width/2)-Math.floor(k/2),x=i.left+Math.floor(i.width/2)-Math.floor(5),w=i.top-Math.floor(5)-10,p.classList.add("balloon-top"),m="top";break;case"bottom":h=i.top+i.height+10,u=i.left+Math.floor(i.width/2)-Math.floor(k/2),x=i.left+Math.floor(i.width/2)-Math.floor(5),w=i.bottom-Math.floor(5)+10,p.classList.add("balloon-bottom"),m="bottom"}else switch(v){case"left":h=i.top+Math.floor(i.height/2)-Math.floor(S/2),u=i.left-k-10,x=i.left-Math.floor(5)-10,w=i.top+Math.floor(i.height/2)-Math.floor(5),p.classList.add("balloon-left"),m="left";break;case"right":h=i.top+Math.floor(i.height/2)-Math.floor(S/2),u=i.right+10,x=i.right-Math.floor(5)+10,w=i.top+Math.floor(i.height/2)-Math.floor(5),p.classList.add("balloon-right"),m="right"}switch(h<10&&(h=10),f=h+S>innerHeight-10?10:innerHeight-(h+S),u<10&&(u=10),delete d.style.top,delete d.style.bottom,delete d.style.left,delete d.style.right,m){case"top":d.style.bottom=f+"px",d.style.left=u+"px";break;case"bottom":d.style.top=h+"px",d.style.left=u+"px";break;case"left":case"right":d.style.top=h+"px",d.style.height=S+"px",d.style.left=u+"px"}d.style.maxHeight=b+"px",d.style.maxWidth=y+"px",p.style.top=w+"px",p.style.left=x+"px"})),w=i=>{if(b(),g)return;const o=n.activeBalloon;if(o){if(c===a.hoverOrFocus)return;o.close()}e(()=>{const e=n.activeBalloon;if(e){if(c===a.hoverOrFocus)return;e.close()}f(),p=document.createElement("div"),p.classList.add("balloon-tip"),document.body.appendChild(p),u={close:S,element:d,returnFocusTo:i,hitTest:e=>!(!M(e,e=>e===d)&&!M(e,e=>e===n))},t.runHitTest(n),t.pushView(u),n.activeBalloon=C,d.classList.add("balloon-is-active"),requestAnimationFrame(x),g=!0,l.onOpen&&l.onOpen(),c===a.hoverOrFocus&&(d.addEventListener("mouseenter",()=>{m=!0}),d.addEventListener("mouseleave",()=>{m=!1,j()}))})},S=()=>{d&&(g=!1,l.onClose&&l.onClose(),y(),l.isOpen&&l.isOpen()&&l.isOpen(!1))},k=()=>{b(),g?l.closeTimeout||S():w(n)},C={open:w,close:S,toggle:k,updatePosition:()=>requestAnimationFrame(x),activateOn:c};l.onCreated&&l.onCreated(C);const M=(e,t)=>{do{if(t(e))return e;e=e.parentNode}while(e)},_=e=>i(this,void 0,void 0,(function*(){if(!n)return;const t=e.target;M(t,e=>e===n)&&k()})),O=()=>i(this,void 0,void 0,(function*(){w()})),P=()=>i(this,void 0,void 0,(function*(){S()})),E=e=>i(this,void 0,void 0,(function*(){v=!0,setTimeout(()=>{v&&w()},l.delay||0)})),T=e=>i(this,void 0,void 0,(function*(){v=!1,j()})),j=()=>i(this,void 0,void 0,(function*(){setTimeout(()=>{v||m||S()},50)})),R=e=>i(this,void 0,void 0,(function*(){switch(e.keyCode){case r.Keys.Enter:case r.Keys.Space:e.preventDefault(),k()}})),N=e=>{e.preventDefault()},A=e=>i(this,void 0,void 0,(function*(){d&&requestAnimationFrame(x)}));switch(l.closeOn&&l.closeOn.subscribe(()=>S()),n.addEventListener("click",N),window.addEventListener("scroll",A,!0),document.addEventListener("mousedown",_,!0),c){case a.click:n.addEventListener("keydown",R);break;case a.hoverOrFocus:n.addEventListener("mouseenter",E),n.addEventListener("mouseleave",T);break;default:throw new Error("Unknown balloon trigger event: "+c)}o.utils.domNodeDisposal.addDisposeCallback(n,()=>{switch(window.removeEventListener("mousedown",_,!0),n.removeEventListener("click",N),c){case a.click:n.removeEventListener("keydown",R);break;case a.hoverOrFocus:n.removeEventListener("mouseenter",E),n.removeEventListener("mouseleave",T),n.removeEventListener("focus",O),n.removeEventListener("blur",P);break;default:throw new Error("Unknown balloon trigger event: "+c)}y(),window.removeEventListener("scroll",A,!0)})}}}}}).call(this,n(60).setImmediate)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),o=n(19);i.bindingHandlers.collapse={init:(e,t)=>{setTimeout(()=>{const n=i.unwrap(t()),r=document.querySelector(n);if(!r)return;const a=i.observable(!0);e.setAttribute("role","button"),e.setAttribute("aria-label","Toggle section"),e.setAttribute("aria-expanded",(!0).toString()),r.setAttribute("role","region"),r.setAttribute("aria-hidden",(!1).toString());const s=()=>{const t=!a();a(t),e.setAttribute("aria-expanded",t.toString()),r&&r.setAttribute("aria-hidden",(!t).toString())},l=e=>{0===e.button&&s()},c=e=>{e.preventDefault(),e.stopImmediatePropagation()},u=e=>{e.keyCode!==o.Keys.Enter&&e.keyCode!==o.Keys.Space||s()};e.addEventListener("click",c),e.addEventListener("keydown",u),e.addEventListener("mousedown",l),i.applyBindingsToNode(r,{css:{collapsed:i.pureComputed(()=>!a())}},null),i.applyBindingsToNode(e,{css:{collapsed:i.pureComputed(()=>!a())}},null),i.utils.domNodeDisposal.addDisposeCallback(e,()=>{e.removeEventListener("click",c),e.removeEventListener("keydown",u),e.removeEventListener("mousedown",l)})},100)}},i.bindingHandlers.log={init:(e,t)=>{console.log(t())}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(0);o.bindingHandlers.stickTo={init(e,t){const n=t(),r=()=>{if(!n.target)return;const t=n.target.ownerDocument.defaultView.frameElement.getBoundingClientRect(),i=n.target.getBoundingClientRect(),o=n.placement||"border";let r,a;e.style.right=null,e.style.left=null,r=i.left+Math.floor(i.width/2)-Math.floor(e.clientWidth/2),a=i.top+Math.floor(i.height/2)-Math.floor(e.clientHeight/2),n.position.indexOf("top")>=0&&(a=i.top,"border"===o&&(a-=Math.floor(e.clientHeight/2))),n.position.indexOf("bottom")>=0&&(a=i.top+i.height-e.clientHeight,"border"===o&&(a+=Math.floor(e.clientHeight/2))),n.position.indexOf("left")>=0?e.style.left=t.left+i.left+10+"px":n.position.indexOf("right")>=0?e.style.right=t.right-i.right+10+"px":e.style.left=t.left+r+"px",e.style.top=t.top+a+"px"};r();const a=e=>i(this,void 0,void 0,(function*(){requestAnimationFrame(r)}));window.addEventListener("scroll",a,!0),o.utils.domNodeDisposal.addDisposeCallback(e,()=>{window.removeEventListener("scroll",a,!0)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),o=n(674);i.bindingHandlers.scrollable={init:(e,t)=>{const n=i.unwrap(t()),r=typeof n;let a=new o.default(e);"object"===r&&n.onEndReach&&e.addEventListener("ps-y-reach-end",()=>{n.onEndReach()}),e.querySelector(".ps__thumb-y").setAttribute("aria-label","Vertical scrollbar");const s=()=>{requestAnimationFrame(()=>{a&&(a.update(),setTimeout(s,100))})};s(),i.utils.domNodeDisposal.addDisposeCallback(e,()=>{a.destroy(),a=null})}},i.bindingHandlers.scrolledIntoView={init:(e,t)=>{const n=i.unwrap(t());let o;const r=()=>{const t=e.getBoundingClientRect(),i=e.parentElement.getBoundingClientRect();(t.top>=i.top&&t.top<=i.bottom||t.bottom>=i.top&&t.bottom<=i.bottom)&&n.onInView&&n.onInView()},a=()=>{clearTimeout(o),o=setTimeout(r,200)};e.parentElement.addEventListener("scroll",a),r(),i.utils.domNodeDisposal.addDisposeCallback(e,()=>{e.parentElement.removeEventListener("scroll",a)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0);i.bindingHandlers.slider={init:(e,t,n,o,r)=>{const a=i.unwrap(t()),s=e.parentElement.getBoundingClientRect().width,l=a.offset||0,c=r.$data;let u=i.unwrap(a.percentage)||0,d=!1,p=null;e.style.left=1*s/100*u-l+"px";const h=t=>{d=!0,p=t.pageX-e.offsetLeft},f=e=>{d=!1,a.onChange&&a.onChange(c,u),i.isObservable(a.percentage)&&a.percentage(u)},m=t=>{if(!d)return;const n=e.parentElement.getBoundingClientRect();let o=t.pageX;o<n.x&&(o=n.x),o>n.x+n.width&&(o=n.x+n.width);const r=o-p;u=Math.floor((r+l)/s*100),u<0||(e.style.left=r+"px",a.onChange&&a.onChange(c,u),i.isObservable(a.percentage)&&a.percentage(u))};e.addEventListener("mousedown",h),window.addEventListener("mouseup",f,!0),window.addEventListener("mousemove",m,!0),i.utils.domNodeDisposal.addDisposeCallback(e,()=>{e.removeEventListener("mousedown",h),window.removeEventListener("mouseup",f,!0),window.removeEventListener("mousemove",m,!0)})}}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),n(0).bindingHandlers.selectable={init:(t,n)=>{e(()=>{t.classList.contains("selected")&&t.scrollIntoView({block:"center"})})}}}).call(this,n(60).setImmediate)},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(679),t),o(n(685),t),o(n(266),t),o(n(265),t),o(n(264),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnchorUtils=void 0;class i{static findNodesRecursively(e,t,n){const i=[];return t(e)&&i.push(e),Object.keys(e).forEach(o=>{const r=e[o];if(r instanceof Object&&n(r)){const e=this.findNodesRecursively(r,t,n);i.push.apply(i,e)}}),i}static getHeadingNodes(e,t=1,n=1){if(!e)throw new Error('Parameter "pageContent" not specified.');return i.findNodesRecursively(e,e=>e.type&&e.type.startsWith("heading"),e=>{if(e instanceof Array)return!0;if(!e.type)return!1;const i=e.type;if(i.startsWith("heading")){const e=parseInt(i.slice(-1));if(e>=t&&e<=n)return!0}else if(["layout-section","layout-row","layout-column","text-block","grid","grid-cell"].includes(i))return!0;return!1}).filter(e=>{var t,n;return e.identifier||(null===(t=e.attrs)||void 0===t?void 0:t.id)||(null===(n=e.attrs)||void 0===n?void 0:n.key)})}}t.AnchorUtils=i},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.MenuViewModelBinder=void 0;const o=n(265),r=n(101),a=n(684),s=n(37);t.MenuViewModelBinder=class{constructor(e,t,n){this.eventManager=e,this.menuModelBinder=t,this.styleCompiler=n}menuItemModelToViewModel(e,t=0){t++;const n=new a.MenuItemViewModel;return n.label(e.label),n.url(e.targetUrl),n.isActive(e.isActive),n.level(t),e.nodes&&n.nodes(e.nodes.map(e=>this.menuItemModelToViewModel(e,t))),n}modelToViewModel(e,t,n){return i(this,void 0,void 0,(function*(){t||(t=new o.MenuViewModel);const r=e.items.map(e=>this.menuItemModelToViewModel(e));t.nodes(r),t.layout(e.layout),t.roles(e.roles),e.styles&&t.styles(yield this.styleCompiler.getStyleModelAsync(e.styles,null==n?void 0:n.styleManager));const a=n=>i(this,void 0,void 0,(function*(){var i;if(n.key===(null===(i=e.navigationItem)||void 0===i?void 0:i.key)){const e=n.nodes.map(e=>this.menuItemModelToViewModel(e));t.nodes(e)}})),l={name:"menu",displayName:"Menu",readonly:!!n&&n.readonly,model:e,draggable:!0,editor:"menu-editor",applyChanges:o=>i(this,void 0,void 0,(function*(){var i;const r={type:"menu",navigationItemKey:null===(i=o.navigationItem)||void 0===i?void 0:i.key,layout:o.layout,roles:o.roles,minHeading:o.minHeading,maxHeading:o.maxHeading,styles:o.styles},a=yield this.menuModelBinder.contractToModel(r,n);e.navigationItem=a.navigationItem,e.items=a.items,e.layout=a.layout,e.roles=a.roles,e.minHeading=a.minHeading,e.maxHeading=a.maxHeading,e.styles=a.styles,yield this.modelToViewModel(e,t,n),this.eventManager.dispatchEvent("onContentUpdate")})),onCreate:()=>{this.eventManager.addEventListener(s.NavigationEvents.onNavigationItemUpdate,a)},onDispose:()=>{this.eventManager.removeEventListener(s.NavigationEvents.onNavigationItemUpdate,a)}};return t.widgetBinding=l,t}))}canHandleModel(e){return e instanceof r.MenuModel}}},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.MenuViewModel=void 0;const r=n(0),a=n(681),s=n(682),l=n(683),c=n(2);let u=class{constructor(){this.nodes=r.observableArray([]),this.layout=r.observable("vertical"),this.roles=r.observableArray(),this.styles=r.observable(),this.isEmpty=r.pureComputed(()=>!1),this.css=r.pureComputed(()=>({"nav-horizontal":"horizontal"===this.layout(),"nav-vertical":"vertical"===this.layout(),"nav-full":"sitemap"===this.layout()}))}};u=i([c.Component({selector:"menu",template:a.default,childTemplates:{horizontalMenu:s.default,verticalMenu:l.default}}),o("design:paramtypes",[])],u),t.MenuViewModel=u},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.MenuEditor=void 0;const a=n(0),s=n(687),l=n(2),c=n(47),u=n(101);let d=class{constructor(e){this.styleService=e,this.showHeadings=a.observable(),this.minHeadingLevel=a.observable(),this.maxHeadingLevel=a.observable(),this.layout=a.observable(),this.appearanceStyles=a.observableArray(),this.appearanceStyle=a.observable(),this.headingLevelOptions=a.observableArray([{label:"Heading 1",value:1},{label:"Heading 2",value:2},{label:"Heading 3",value:3},{label:"Heading 4",value:4},{label:"Heading 5",value:5},{label:"Heading 6",value:6}]),this.layoutOptions=a.observableArray([{label:"Horizontal menu",value:"horizontal"},{label:"Vertical menu",value:"vertical"}]),this.navigationItemTitle=a.observable()}initialize(){var e,t;return r(this,void 0,void 0,(function*(){this.showHeadings(!!this.model.minHeading||!!this.model.maxHeading),this.minHeadingLevel(this.model.minHeading||1),this.maxHeadingLevel(this.model.maxHeading||6);const n=yield this.styleService.getComponentVariations("menu");this.appearanceStyles(n.filter(e=>"appearance"===e.category)),this.appearanceStyle(null===(e=this.model.styles)||void 0===e?void 0:e.appearance),this.navigationItemTitle((null===(t=this.model.navigationItem)||void 0===t?void 0:t.label)||"Click to select navigation item..."),this.layout(this.model.layout),this.minHeadingLevel.subscribe(this.applyChanges),this.maxHeadingLevel.subscribe(this.applyChanges),this.layout.subscribe(this.applyChanges),this.showHeadings.subscribe(this.applyChanges),this.appearanceStyle.subscribe(this.applyChanges)}))}onNavigationItemChange(e){return r(this,void 0,void 0,(function*(){this.model.navigationItem=e,this.navigationItemTitle((null==e?void 0:e.label)||"Click to select navigation item..."),this.applyChanges()}))}applyChanges(){this.showHeadings()?(this.model.minHeading=this.minHeadingLevel(),this.model.maxHeading=this.maxHeadingLevel()):(this.model.minHeading=null,this.model.maxHeading=null),this.model.layout=this.layout(),this.model.styles={appearance:this.appearanceStyle()},this.onChange(this.model)}onRoleSelect(e){this.model.roles=e,this.applyChanges()}};i([l.Param(),o("design:type",u.MenuModel)],d.prototype,"model",void 0),i([l.Event(),o("design:type",Function)],d.prototype,"onChange",void 0),i([l.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],d.prototype,"initialize",null),d=i([l.Component({selector:"menu-editor",template:s.default}),o("design:paramtypes",[c.StyleService])],d),t.MenuEditor=d},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.NavbarViewModel=void 0;const r=n(0),a=n(690),s=n(2);let l=class{constructor(){this.navigationRoot=r.observable(),this.pictureSourceUrl=r.observable(),this.pictureWidth=r.observable(),this.pictureHeight=r.observable(),this.styles=r.observable()}};l=i([s.Component({selector:"navbar",template:a.default}),o("design:paramtypes",[])],l),t.NavbarViewModel=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NavbarModel=void 0,t.NavbarModel=class{}},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.PictureViewModel=void 0;const r=n(0),a=n(697),s=n(2);let l=class{constructor(){this.sourceUrl=r.observable(),this.caption=r.observable(),this.hyperlink=r.observable(),this.width=r.observable(),this.height=r.observable(),this.styles=r.observable()}};l=i([s.Component({selector:"paperbits-picture",template:a.default}),o("design:paramtypes",[])],l),t.PictureViewModel=l},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.RowViewModel=void 0;const r=n(0),a=n(699),s=n(2);let l=class{constructor(){this.widgets=r.observableArray(),this.alignSm=r.observable(),this.alignMd=r.observable(),this.alignLg=r.observable(),this.justifySm=r.observable(),this.justifyMd=r.observable(),this.justifyLg=r.observable(),this.css=r.computed(()=>{let e="";return this.alignSm()&&(e+=" "+this.alignSm()+"-sm"),this.alignMd()&&(e+=" "+this.alignMd()+"-md"),this.alignLg()&&(e+=" "+this.alignLg()+"-lg"),this.justifySm()&&(e+=" "+this.justifySm()+"-sm"),this.justifyMd()&&(e+=" "+this.justifyMd()+"-md"),this.justifyLg()&&(e+=" "+this.justifyLg()+"-lg"),e})}};l=i([s.Component({selector:"layout-row",template:a.default}),o("design:paramtypes",[])],l),t.RowViewModel=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RowHandlers=void 0,t.RowHandlers=class{constructor(e){this.viewManager=e}getContextualEditor(e){return{color:"#29c4a9",hoverCommands:[{color:"#29c4a9",position:e.half,tooltip:"Add row",component:{name:"row-layout-selector",params:{onSelect:t=>{let n=e.parentModel.widgets.indexOf(e.model);"bottom"===e.half&&n++,e.parentModel.widgets.splice(n,0,t),e.parentBinding.applyChanges(),this.viewManager.clearContextualEditors()}}}}],selectCommands:null,deleteCommand:{tooltip:"Delete row",color:"#29c4a9",callback:()=>{e.parentModel.widgets.remove(e.model),e.parentBinding.applyChanges(),this.viewManager.clearContextualEditors()}}}}}},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.SectionViewModel=void 0;const r=n(0),a=n(703),s=n(2);let l=class{constructor(){this.widgets=r.observableArray(),this.styles=r.observable()}};l=i([s.Component({selector:"layout-section",template:a.default}),o("design:paramtypes",[])],l),t.SectionViewModel=l},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.TestimonialsModelBinder=void 0;const o=n(706);t.TestimonialsModelBinder=class{constructor(){this.contractToModel=this.contractToModel.bind(this)}canHandleContract(e){return"testimonials"===e.type}canHandleModel(e){return e instanceof o.TestimonialsModel}contractToModel(e){return i(this,void 0,void 0,(function*(){const t=new o.TestimonialsModel;return t.textContent=e.textContent,t.allStarsCount=e.allStarsCount||0,t.starsCount=e.starsCount||0,t.author=e.author,t.authorTitle=e.authorTitle,t}))}modelToContract(e){return{type:"testimonials",textContent:e.textContent,starsCount:e.starsCount,allStarsCount:e.allStarsCount,author:e.author,authorTitle:e.authorTitle}}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.TestimonialsHandlers=void 0;const o=n(103);t.TestimonialsHandlers=class{getWidgetOrder(){return i(this,void 0,void 0,(function*(){return{name:"testimonials",displayName:"Testimonials",iconClass:"paperbits-favourite-31",requires:["html","js"],createModel:()=>i(this,void 0,void 0,(function*(){const e=new o.TestimonialsModel;return e.starsCount=5,e.allStarsCount=5,e.author="John Doe",e.authorTitle="CEO at Contoso",e.textContent="Testimonials text",e}))}}))}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.TextblockViewModelBinder=void 0;const o=n(83),r=n(276);t.TextblockViewModelBinder=class{constructor(e,t){this.htmlEditorFactory=e,this.eventManager=t}modelToViewModel(e,t,n){return i(this,void 0,void 0,(function*(){t||(t=new r.TextblockViewModel(this.htmlEditorFactory.createHtmlEditor())),e.htmlEditor=t.htmlEditor,t.state(e.state);const o={displayName:"Text",readonly:!!n&&n.readonly,model:e,draggable:!0,flow:"block",editor:"html-editor",editorResize:"horizontally",applyChanges:o=>i(this,void 0,void 0,(function*(){yield this.modelToViewModel(e,t,n),this.eventManager.dispatchEvent("onContentUpdate")}))};return t.widgetBinding=o,t}))}canHandleModel(e){return e instanceof o.TextblockModel}}},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.TextblockViewModel=void 0;const r=n(0),a=n(712),s=n(2);let l=class{constructor(e){this.htmlEditor=e,this.state=r.observable(),this.readonly=r.observable(!1)}};l=i([s.Component({selector:"paperbits-text",template:a.default}),o("design:paramtypes",[Object])],l),t.TextblockViewModel=l},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.TextblockModelBinder=void 0;const o=n(83);t.TextblockModelBinder=class{constructor(e){this.modelBinderSelector=e}contractToModel(e,t){return i(this,void 0,void 0,(function*(){let n=[];if(e.nodes&&e.nodes.length>0){const o=e.nodes.map(e=>i(this,void 0,void 0,(function*(){const n=this.modelBinderSelector.getModelBinderByContract(e);return yield n.contractToModel(e,t)})));n=yield Promise.all(o)}return new o.TextblockModel(n)}))}canHandleContract(e){return"text-block"===e.type}canHandleModel(e){return e instanceof o.TextblockModel}modelToContract(e){let t;if(e.htmlEditor&&(e.state=e.htmlEditor.getState()),Array.isArray(e.state)){const n=e.state;n&&n.length>0&&(t=n.map(e=>this.modelBinderSelector.getModelBinderByModel(e).modelToContract(e)))}return{type:"text-block",nodes:t}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HtmlEditorBindingHandler=void 0;const i=n(0);t.HtmlEditorBindingHandler=class{constructor(e){i.bindingHandlers.htmlEditor={init(t,n){const o=n(),r=o.state,a=i.unwrap(o.htmlEditor),s=()=>a.detachFromElement();e.addEventListener("onEscape",s);const l=()=>a.detachFromElement();e.addEventListener("onWidgetEditorClose",l);const c=()=>{o.readonly()||a.enable()};a.attachToElement(t),a.setState(r()),r.subscribe(e=>a.setState(e)),e.addEventListener("enableHtmlEditor",c),i.utils.domNodeDisposal.addDisposeCallback(t,()=>{e.removeEventListener("onEscape",s),e.removeEventListener("onWidgetEditorClose",l),e.removeEventListener("enableHtmlEditor",c),a.detachFromElement()})}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ListModel=void 0;const i=n(104);class o extends i.BlockModel{constructor(e){super(e)}}t.ListModel=o},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.VideoPlayer=void 0;const r=n(0),a=n(722),s=n(2);let l=class{constructor(){this.sourceUrl=r.observable(),this.controls=r.observable(),this.autoplay=r.observable(),this.styles=r.observable()}};l=i([s.Component({selector:"video-player",template:a.default}),o("design:paramtypes",[])],l),t.VideoPlayer=l},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.YoutubePlayerViewModel=void 0;const r=n(0),a=n(727),s=n(2);let l=class{constructor(){this.sourceUrl=r.observable(),this.styles=r.observable()}};l=i([s.Component({selector:"youtube-player",template:a.default}),o("design:paramtypes",[])],l),t.YoutubePlayerViewModel=l},function(e,t,n){(function(n){var i,o;void 0===(o="function"==typeof(i=function(){"use strict";function t(e,t,n){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){a(i.response,t,n)},i.onerror=function(){console.error("could not download file")},i.send()}function i(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}var r="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,a=r.saveAs||("object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype?function(e,n,a){var s=r.URL||r.webkitURL,l=document.createElement("a");n=n||e.name||"download",l.download=n,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?o(l):i(l.href)?t(e,n,a):o(l,l.target="_blank")):(l.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(l.href)}),4e4),setTimeout((function(){o(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,r){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,r),n);else if(i(e))t(e,n,r);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout((function(){o(a)}))}}:function(e,n,i,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof e)return t(e,n,i);var a="application/octet-stream"===e.type,s=/constructor/i.test(r.HTMLElement)||r.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||a&&s)&&"object"==typeof FileReader){var c=new FileReader;c.onloadend=function(){var e=c.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=e:location=e,o=null},c.readAsDataURL(e)}else{var u=r.URL||r.webkitURL,d=u.createObjectURL(e);o?o.location=d:location.href=d,o=null,setTimeout((function(){u.revokeObjectURL(d)}),4e4)}});r.saveAs=a.saveAs=a,e.exports=a})?i.apply(t,[]):i)||(e.exports=o)}).call(this,n(39))},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.PictureCropper=t.CropperBindingHandler=void 0;const a=n(0),s=n(786),l=n(787),c=n(2),u=n(87);t.CropperBindingHandler=class{constructor(e){a.bindingHandlers.cropper={init:(t,n)=>{const i=n(),o=new s(t,{viewMode:1,responsive:!0,ready:()=>{this.croppable=!0}});i(o);const r=()=>{o.resize()};e.addEventListener("onEditorResize",r),a.utils.domNodeDisposal.addDisposeCallback(t,()=>{e.removeEventListener("onEditorResize",r)})}}}};let d=class{constructor(e,t){this.mediaService=e,this.viewManager=t,this.setMoveMode=this.setMoveMode.bind(this),this.setCropMode=this.setCropMode.bind(this),this.zoomIn=this.zoomIn.bind(this),this.zoomOut=this.zoomOut.bind(this),this.rotateLeft=this.rotateLeft.bind(this),this.rotateRight=this.rotateRight.bind(this),this.flipHorizontally=this.flipHorizontally.bind(this),this.flipVertically=this.flipVertically.bind(this),this.crop=this.crop.bind(this),this.clear=this.clear.bind(this),this.cropperInstance=a.observable(null)}getRoundedCanvas(e){const t=document.createElement("canvas"),n=t.getContext("2d"),i=e.width,o=e.height;return t.width=i,t.height=o,n.imageSmoothingEnabled=!0,n.drawImage(e,0,0,i,o),n.globalCompositeOperation="destination-in",n.beginPath(),n.arc(i/2,o/2,Math.min(i,o)/2,0,2*Math.PI,!0),n.fill(),t}setMoveMode(){this.cropperInstance().setDragMode("move")}setCropMode(){this.cropperInstance().setDragMode("crop")}zoomIn(){this.cropperInstance().zoom(.1)}zoomOut(){this.cropperInstance().zoom(-.1)}rotateLeft(){this.cropperInstance().rotate(-45)}rotateRight(){this.cropperInstance().rotate(45)}flipHorizontally(){this.cropperInstance().scaleX(-this.cropperInstance().imageData.scaleX)}flipVertically(){this.cropperInstance().scaleY(-this.cropperInstance().imageData.scaleY)}crop(){this.cropperInstance().getCroppedCanvas().toBlob(e=>r(this,void 0,void 0,(function*(){const t=new FileReader;t.addEventListener("loadend",()=>r(this,void 0,void 0,(function*(){const e=t.result;yield this.updateMediaContent(new Uint8Array(e))}))),t.readAsArrayBuffer(e)})))}updateMediaContent(e){return r(this,void 0,void 0,(function*(){const t=this.mediaService.updateMediaContent(this.mediaItem.toMedia(),e);t.then(e=>{this.mediaItem.downloadUrl(e.downloadUrl),this.cropperInstance().replace(e.downloadUrl)}),yield this.viewManager.notifyProgress(t,"Media library",`Updating ${this.mediaItem.fileName()}...`)}))}clear(){this.cropperInstance().clear()}};i([c.Param(),o("design:type",u.MediaItem)],d.prototype,"mediaItem",void 0),d=i([c.Component({selector:"picture-cropper",template:l.default}),o("design:paramtypes",[Object,Object])],d),t.PictureCropper=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NavigationWorkshopModule=void 0;const i=n(285),o=n(286),r=n(288),a=n(793),s=n(151),l=n(152);t.NavigationWorkshopModule=class{register(e){e.bind("navigationWorkshop",i.NavigationWorkshop),e.bind("navigationDetailsWorkshop",o.NavigationDetailsWorkshop),e.bind("navigationItemSelector",r.NavigationItemSelector),e.bindToCollection("workshopSections",a.NavigationToolButton),e.bindToCollection("modelBinders",s.NavigationModelBinder,"navigationModelBinder"),e.bindToCollection("viewModelBinders",l.NavigationViewModelBinder,"navigationViewModelBinder")}}},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.NavigationWorkshop=void 0;const a=n(0),s=n(789),l=n(37),c=n(2),u=n(151),d=n(152);let p=class{constructor(e,t,n,i,o){this.navigationService=e,this.viewManager=t,this.navigationModelBinder=n,this.navigationViewModelBinder=i,this.eventManager=o,this.onNavigationUpdate=this.onNavigationUpdate.bind(this),this.selectNavigationItem=this.selectNavigationItem.bind(this),this.selection=a.observable(),this.working=a.observable(!0),this.root=a.observable(),this.placeholderElement=document.createElement("div"),this.placeholderElement.className="placeholder",this.placeholderElement.onmousemove=this.onNullPointerMove,document.addEventListener("keydown",this.onKeyDown.bind(this),!1)}searchNavigationItems(){return r(this,void 0,void 0,(function*(){this.working(!0);const e={key:null,label:"",navigationItems:yield this.navigationService.getNavigationItems()},t=yield this.navigationModelBinder.contractToModel(e),n=yield this.navigationViewModelBinder.modelToViewModel(t);this.root(n),this.working(!1),n.onUpdate.subscribe(this.onNavigationUpdate)}))}onNavigationUpdate(){return r(this,void 0,void 0,(function*(){const e=this.navigationViewModelBinder.viewModelToModel(this.root()),t=this.navigationModelBinder.modelToContract(e);yield this.navigationService.updateNavigation(t.navigationItems),e.nodes.forEach(e=>{this.eventManager.dispatchEvent(l.NavigationEvents.onNavigationItemUpdate,e)})}))}addNavigationItem(){const e=(this.selection()||this.root()).addChild();this.selectNavigationItem(e)}selectNavigationItem(e){return r(this,void 0,void 0,(function*(){this.selection(e);const t={heading:"Navigation item",component:{name:"navigation-details-workshop",params:{navigationItem:e,onDelete:()=>{this.selection(e.parent)}}}};this.viewManager.openViewAsWorkshop(t)}))}onNullPointerMove(e){e.stopPropagation()}onNodeDragStart(e,t){const n=t.clientWidth+"px",i=t.clientHeight+"px";this.placeholderElement.style.width=n,this.placeholderElement.style.height=i,t.parentNode.insertBefore(this.placeholderElement,t.nextSibling)}onNodeDragEnd(){this.placeholderElement.parentElement.removeChild(this.placeholderElement)}onAcceptNodeBefore(e,t){t.parentNode.insertBefore(this.placeholderElement,t)}onAcceptNodeAfter(e,t){t.parentNode.insertBefore(this.placeholderElement,t.nextSibling)}onKeyDown(e){if(this.selection())switch(e.keyCode){case 37:this.selection().moveNodeLeft();break;case 39:this.selection().moveNodeRight()}}dispose(){document.removeEventListener("keydown",this.onKeyDown.bind(this),!1)}isSelected(e){const t=this.selection();return(null==t?void 0:t.key)===e.key}};i([c.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],p.prototype,"searchNavigationItems",null),i([c.OnDestroyed(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],p.prototype,"dispose",null),p=i([c.Component({selector:"navigation",template:s.default}),o("design:paramtypes",[Object,Object,u.NavigationModelBinder,d.NavigationViewModelBinder,Object])],p),t.NavigationWorkshop=p},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.NavigationDetailsWorkshop=void 0;const a=n(0),s=n(791),l=n(287),c=n(2);let u=class{constructor(e,t){this.permalinkResolver=e,this.viewManager=t,this.onMounted=this.onMounted.bind(this),this.deleteNavigationItem=this.deleteNavigationItem.bind(this),this.onHyperlinkChange=this.onHyperlinkChange.bind(this),this.hyperlink=a.observable(),this.hyperlinkTitle=a.pureComputed(()=>{const e=this.hyperlink();return e?""+e.title:"Click to select a link..."})}onMounted(){return r(this,void 0,void 0,(function*(){this.navigationItem.targetKey()&&this.init(this.navigationItem.targetKey())}))}init(e){return r(this,void 0,void 0,(function*(){const t=yield this.permalinkResolver.getHyperlinkByTargetKey(e);this.hyperlink(t)}))}onHyperlinkChange(e){this.hyperlink(e);const t=e?e.targetKey:null;this.navigationItem.targetKey(t)}deleteNavigationItem(){this.navigationItem.remove(),this.viewManager.notifySuccess("Navigation",`Navigation item "${this.navigationItem.label()}" was deleted.`),this.viewManager.closeWorkshop("navigation-details-workshop"),this.onDelete&&this.onDelete()}};i([c.Event(),o("design:type",Function)],u.prototype,"onDelete",void 0),i([c.Param(),o("design:type",l.NavigationItemViewModel)],u.prototype,"navigationItem",void 0),i([c.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],u.prototype,"onMounted",null),u=i([c.Component({selector:"navigation-details-workshop",template:s.default}),o("design:paramtypes",[Object,Object])],u),t.NavigationDetailsWorkshop=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NavigationItemViewModel=void 0;const i=n(0),o=n(19),r=n(37);class a{constructor(e){this.moveNodeLeft=this.moveNodeLeft.bind(this),this.moveNodeRight=this.moveNodeRight.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.canAccept=this.canAccept.bind(this),this.insertBefore=this.insertBefore.bind(this),this.insertAfter=this.insertAfter.bind(this),this.key=e.key,this.label=i.observable(e.label),this.label.subscribe(()=>this.notify()),this.nodes=i.observableArray([]),this.collapsed=i.observable(!1),this.dragged=i.observable(!1),this.onUpdate=new i.subscribable,this.targetKey=i.observable(e.targetKey),this.targetKey.subscribe(()=>this.notify()),this.targetUrl=i.observable(e.targetUrl)}isSiblingNode(e){return this.parent&&this.parent.nodes.indexOf(e)>=0}isChildNode(e){return this.nodes.indexOf(e)>=0}isUncleNode(e){return this.parent&&this.parent.parent&&this.parent.parent.nodes.indexOf(e)>=0&&this.parent!==e}moveNodeLeft(){if(!this.parent.parent)return;this.parent.nodes.remove(this);const e=this.parent.parent.nodes.indexOf(this.parent);this.parent.parent.nodes.splice(e+1,0,this),this.parent=this.parent.parent,this.notify()}moveNodeRight(){const e=this.parent.nodes().indexOf(this);if(0===e)return;const t=this.parent.nodes()[e-1];this.parent.nodes.remove(this),this.parent=t,t.nodes.push(this),this.notify()}canAccept(e){return this.isSiblingNode(e)||this.isChildNode(e)||this.isUncleNode(e)}insertBefore(e){if(this.parent&&this.isSiblingNode(e)||this.isUncleNode(e)||this.isChildNode(e)){e.parent.nodes.remove(e);const t=this.parent.nodes.indexOf(this);this.parent.nodes.splice(t,0,e),e.parent=this.parent,this.notify()}}insertAfter(e){if(this.parent&&this.isSiblingNode(e)||this.isUncleNode(e)){e.parent.nodes.remove(e);const t=this.parent.nodes.indexOf(this);this.parent.nodes.splice(t+1,0,e),e.parent=this.parent,this.notify()}if(this.parent&&this.isChildNode(e)){e.parent.nodes.remove(e);const t=this.parent.nodes.indexOf(this);this.parent.nodes.splice(t,0,e),e.parent=this.parent,this.notify()}}toggleCollapsed(){this.collapsed(!this.collapsed())}onKeyDown(e){switch(e.keyCode){case 37:this.moveNodeLeft();break;case 39:this.moveNodeRight()}}remove(){this.parent.nodes.remove(this),this.notify()}addChild(){const e=new r.NavigationItemModel;e.key=o.guid(),e.label="< New >";const t=new a(e);return t.parent=this,this.nodes.push(t),t}notify(){this.onUpdate.notifySubscribers(),this.parent&&this.parent.notify()}toString(){return this.label()}}t.NavigationItemViewModel=a},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.NavigationItemSelector=void 0;const a=n(0),s=n(792),l=n(2),c=n(151),u=n(152);let d=class{constructor(e,t,n){this.navigationService=e,this.navigationModelBinder=t,this.navigationViewModelBinder=n,this.selectNavigationItem=this.selectNavigationItem.bind(this),this.selectedNavigationItem=a.observable(),this.working=a.observable(!0),this.root=a.observable(),this.initialize()}initialize(){return r(this,void 0,void 0,(function*(){this.working(!0);const e=yield this.navigationService.getNavigationItems();e.push({key:"@locales",label:"Languages"});const t={key:null,label:"Root",navigationItems:e},n=yield this.navigationModelBinder.contractToModel(t),i=yield this.navigationViewModelBinder.modelToViewModel(n);this.root(i),this.working(!1)}))}selectNavigationItem(e){return r(this,void 0,void 0,(function*(){if(this.selectedNavigationItem(e),this.onSelect){const t=this.navigationViewModelBinder.viewModelToModel(e);this.onSelect(t)}}))}selectNone(){this.onSelect&&this.onSelect(null)}};i([l.Param(),o("design:type",Function)],d.prototype,"selectedNavigationItem",void 0),i([l.Event(),o("design:type",Function)],d.prototype,"onSelect",void 0),i([l.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],d.prototype,"initialize",null),d=i([l.Component({selector:"navigation-item-selector",template:s.default}),o("design:paramtypes",[Object,c.NavigationModelBinder,u.NavigationViewModelBinder])],d),t.NavigationItemSelector=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetaDataSetter=void 0;class i{static setFavIcon(e){if(!e)return;const t=document.querySelector("link[rel*='icon']");t&&(t.type=i.iconContentType,t.rel="icon",t.href=e)}static setKeywords(e){i.setMetaElement(e,"keywords")}static setDescription(e){i.setMetaElement(e,"description")}static setAuthor(e){i.setMetaElement(e,"author")}static setScriptElement(e,t){const n=i.getMetaElement("type",t)||document.createElement("script");n.setAttribute("type",t),n.text=JSON.stringify(e),document.head.appendChild(n)}static setMetaObject(e,t){Object.keys(e).forEach(n=>{i.setMetaElement(e[n],void 0,t,n)})}static setMetaElement(e,t,n,o){const r=t?i.getMetaElement("name",t):i.getMetaElement(n,o),a=r||document.createElement("meta");t&&(a.name=t),n&&o&&a.setAttribute(n,o),a.content=e,r||document.head.appendChild(a)}static getMetaElement(e,t){return e&&t&&document.head.querySelector(`[${e}=${t}]`)}}t.MetaDataSetter=i,i.iconContentType="image/x-icon"},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.TextblockHandlers=t.nodeName=void 0;const o=n(83);t.nodeName="paperbits-text",t.TextblockHandlers=class{getWidgetOrderByConfig(){return i(this,void 0,void 0,(function*(){return{name:"text-block",displayName:"Text block",iconClass:"paperbits-edit-2",requires:[],createModel:()=>i(this,void 0,void 0,(function*(){return new o.TextblockModel([{type:"heading1",content:[{type:"text",text:"Heading"}]},{type:"paragraph",content:[{type:"text",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}]}])}))}}))}getWidgetOrder(){return i(this,void 0,void 0,(function*(){return yield this.getWidgetOrderByConfig()}))}}},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.LayoutsWorkshop=void 0;const a=n(0),s=n(842),l=n(107),c=n(2),u=n(23),d=n(17);let p=class{constructor(e,t){this.layoutService=e,this.viewManager=t,this.layouts=a.observableArray(),this.selectedLayout=a.observable(),this.searchPattern=a.observable(),this.working=a.observable()}initialize(){return r(this,void 0,void 0,(function*(){yield this.searchLayouts(),this.searchPattern.extend(d.ChangeRateLimit).subscribe(this.searchLayouts)}))}searchLayouts(e=""){return r(this,void 0,void 0,(function*(){this.layouts([]);const t=u.Query.from().orderBy("title");e&&t.where("title",u.Operator.contains,e);const n=yield this.layoutService.search(t);this.currentPage=n;const i=n.value.map(e=>new l.LayoutItem(e));this.layouts.push(...i)}))}loadNextPage(){var e;return r(this,void 0,void 0,(function*(){if(!(null===(e=this.currentPage)||void 0===e?void 0:e.takeNext)||this.working())return void(this.loadNextPage=null);this.working(!0),this.currentPage=yield this.currentPage.takeNext();const t=this.currentPage.value.map(e=>new l.LayoutItem(e));this.layouts.push(...t),this.working(!1)}))}selectLayout(e){this.selectedLayout(e);const t={heading:"Layout",component:{name:"layout-details-workshop",params:{layoutItem:e,onDeleteCallback:()=>{this.searchLayouts()},onCopyCallback:e=>r(this,void 0,void 0,(function*(){yield this.searchLayouts(),this.selectLayout(e)}))}}};this.viewManager.openViewAsWorkshop(t)}addLayout(){return r(this,void 0,void 0,(function*(){this.working(!0);const e=yield this.layoutService.createLayout("New Layout","","/new-layout"),t=new l.LayoutItem(e);this.layouts.push(t),this.selectLayout(t),this.working(!1)}))}isSelected(e){const t=this.selectedLayout();return(null==t?void 0:t.key)===e.key}};i([c.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],p.prototype,"initialize",null),p=i([c.Component({selector:"layouts",template:s.default}),o("design:paramtypes",[Object,Object])],p),t.LayoutsWorkshop=p},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.LayoutDetails=void 0;const a=n(0),s=n(843),l=n(107),c=n(2);let u=class{constructor(e,t){this.layoutService=e,this.viewManager=t,this.permalinkTemplate=a.observable()}onMounted(){return r(this,void 0,void 0,(function*(){this.layoutItem.title.extend({required:!0,onlyValid:!0}).subscribe(this.updateLayout),this.permalinkTemplate(this.layoutItem.permalinkTemplate());const e=this.permalinkTemplate.extend({uniqueLayoutUri:this.layoutItem.key,required:!0,onlyValid:!0});e.subscribe(this.updateLayout),this.layoutItem.description.subscribe(this.updateLayout),this.isDefaultLayout=a.pureComputed(()=>"/"===e()),this.canDelete=a.computed(()=>!this.isDefaultLayout()),this.viewManager.setHost({name:"layout-host",params:{layoutKey:this.layoutItem.key}})}))}updateLayout(){return r(this,void 0,void 0,(function*(){this.layoutItem.permalinkTemplate(this.permalinkTemplate()),yield this.layoutService.updateLayout(this.layoutItem.toContract())}))}deleteLayout(){return r(this,void 0,void 0,(function*(){yield this.layoutService.deleteLayout(this.layoutItem.toContract()),this.viewManager.notifySuccess("Layouts",`Page "${this.layoutItem.title()}" was deleted.`),this.viewManager.closeWorkshop("layout-details-workshop"),this.onDeleteCallback&&this.onDeleteCallback(),this.viewManager.setHost({name:"page-host"})}))}copyLayout(){return r(this,void 0,void 0,(function*(){const e=this.layoutItem.permalinkTemplate()+" copy",t=yield this.layoutService.createLayout(this.layoutItem.title()+" copy",this.layoutItem.description(),e),n=this.layoutItem.toContract();n.key=t.key,n.permalinkTemplate=t.permalinkTemplate,n.title=t.title,n.contentKey=t.contentKey,yield this.layoutService.updateLayout(n);const i=yield this.layoutService.getLayoutContent(this.layoutItem.key);yield this.layoutService.updateLayoutContent(n.key,i),this.onCopyCallback&&this.onCopyCallback(new l.LayoutItem(n))}))}};i([c.Param(),o("design:type",l.LayoutItem)],u.prototype,"layoutItem",void 0),i([c.Event(),o("design:type",Function)],u.prototype,"onDeleteCallback",void 0),i([c.Event(),o("design:type",Function)],u.prototype,"onCopyCallback",void 0),i([c.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],u.prototype,"onMounted",null),u=i([c.Component({selector:"layout-details-workshop",template:s.default}),o("design:paramtypes",[Object,Object])],u),t.LayoutDetails=u},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.LayoutSelector=void 0;const a=n(0),s=n(844),l=n(23),c=n(107),u=n(2);let d=class{constructor(e){this.layoutService=e,this.layouts=a.observableArray(),this.selectedLayout=a.observable(),this.searchPattern=a.observable(),this.working=a.observable()}onMounted(){return r(this,void 0,void 0,(function*(){this.searchLayouts()}))}searchLayouts(e=""){return r(this,void 0,void 0,(function*(){this.layouts([]);const t=l.Query.from().orderBy("title");e&&t.where("title",l.Operator.contains,e);const n=yield this.layoutService.search(t);this.currentPage=n;const i=n.value.map(e=>new c.LayoutItem(e));this.layouts.push(...i)}))}loadNextPage(){var e;return r(this,void 0,void 0,(function*(){if(!(null===(e=this.currentPage)||void 0===e?void 0:e.takeNext)||this.working())return void(this.loadNextPage=null);this.working(!0),this.currentPage=yield this.currentPage.takeNext();const t=this.currentPage.value.map(e=>new c.LayoutItem(e));this.layouts.push(...t),this.working(!1)}))}selectLayout(e){return r(this,void 0,void 0,(function*(){this.selectedLayout(e),this.onSelect&&this.onSelect(e.toContract())}))}};i([u.Param(),o("design:type",Function)],d.prototype,"selectedLayout",void 0),i([u.Event(),o("design:type",Function)],d.prototype,"onSelect",void 0),i([u.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],d.prototype,"onMounted",null),d=i([u.Component({selector:"layout-selector",template:s.default}),o("design:paramtypes",[Object])],d),t.LayoutSelector=d},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(847),t),o(n(848),t),o(n(849),t),o(n(850),t),o(n(851),t),o(n(852),t)},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.DesignerUserService=void 0;const o=n(58);t.DesignerUserService=class{constructor(){this.currentViewRoles=[o.BuiltInRoles.anonymous.key]}getUserName(){return i(this,void 0,void 0,(function*(){return null}))}getUserPhotoUrl(){return i(this,void 0,void 0,(function*(){return null}))}getUserRoles(){return i(this,void 0,void 0,(function*(){return this.currentViewRoles}))}setUserRoles(e){return i(this,void 0,void 0,(function*(){this.currentViewRoles=e}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ViewStack=void 0;const i=n(6);t.ViewStack=class{constructor(e){this.eventManager=e,this.stack=[],this.eventManager.addEventListener("onPointerDown",this.onPointerDown.bind(this)),this.eventManager.addEventListener("onEscape",this.onEscape.bind(this))}onPointerDown(e){const t=e.target;this.runHitTest(t)}runHitTest(e){const t=[...this.stack];for(const n of t.reverse()){let t;if(t=n.hitTest?n.hitTest(e):!!i.closest(e,e=>e===n.element),t)break;this.stack.pop(),n.close()}}onEscape(){const e=this.stack.pop();e?(e.close(),e.returnFocusTo&&e.returnFocusTo.focus()):this.eventManager.dispatchEvent("onTopLevelEscape")}pushView(e){this.stack.push(e)}removeView(e){this.stack.remove(e)}getViews(){return[...this.stack]}clear(){this.stack.forEach(e=>e.close()),this.stack=[]}}},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.GridLayoutSelector=void 0;const a=n(0),s=n(19),l=n(869),c=n(2),u=n(870),d=n(871),p=n(234),h=n(872),f=n(67),m=n(81);let v=class{constructor(e,t,n,i,o){this.gridModelBinder=e,this.gridViewModelBinder=t,this.modelBinderSelector=n,this.blockService=i,this.settingsProvider=o,this.selectLayout=this.selectLayout.bind(this),this.snippets=a.observableArray(),this.selected=a.observable(),this.isBlocksEnabled=a.observable()}initaialize(){return r(this,void 0,void 0,(function*(){const e=[];for(const n of s.clone(d.presets)){const t=yield this.gridModelBinder.contractToModel(n),i=yield this.gridViewModelBinder.modelToViewModel(t);e.push(i)}this.snippets(e);const t=yield this.settingsProvider.getSetting("blockSnippetsUrl");this.isBlocksEnabled(!!t)}))}selectLayout(e){const t=new p.SectionModel;t.widgets=[e.widgetBinding.model];const n=t.widgets[0],i=n.styles.instance;i.size={sm:{maxWidth:540},md:{maxWidth:720},lg:{maxWidth:960},xl:{maxWidth:1140}},i.margin={xs:{top:10,left:"auto",right:"auto",bottom:10},md:{top:15,bottom:15},xl:{top:25,bottom:25}},n.widgets.forEach(e=>{e.styles.instance.padding={xs:{top:5,left:5,right:5,bottom:5},md:{top:15,left:15,right:15,bottom:15}}}),this.onSelect&&this.onSelect(t)}onBlockSelected(e){return r(this,void 0,void 0,(function*(){const t=yield this.blockService.getBlockContent(e.block.key,e.blockType),n=this.modelBinderSelector.getModelBinderByContract(t),i=yield n.contractToModel(t);this.onSelect&&this.onSelect(i)}))}};i([c.Event(),o("design:type",Function)],v.prototype,"onSelect",void 0),i([c.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],v.prototype,"initaialize",null),v=i([c.Component({selector:"grid-layout-selector",template:l.default}),o("design:paramtypes",[u.GridModelBinder,h.GridViewModelBinder,m.ModelBinderSelector,f.BlockService,Object])],v),t.GridLayoutSelector=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(0).bindingHandlers.itemTemplate={init:(e,t)=>{const n=t();e.innerHTML=n}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.StyledBindingHandler=void 0;const o=n(0),r=n(48);t.StyledBindingHandler=class{constructor(){o.bindingHandlers.styled={update:(e,t)=>i(this,void 0,void 0,(function*(){const n=o.unwrap(t());n&&(n.styleManager&&n.styleManager.setStyleSheet(n.styleSheet),o.applyBindingsToNode(e,{css:n.classNames},null),o.utils.domNodeDisposal.addDisposeCallback(e,()=>{n.styleManager&&n.styleManager.removeStyleSheet(n.key)}))}))},o.bindingHandlers.styledInPlace={update:(e,t)=>i(this,void 0,void 0,(function*(){const n=o.unwrap(t());if(!n)return;const i=o.observable();let a=e.ownerDocument.getElementById(n.key);const s=(new r.JssCompiler).compile(n.styleSheet);s?(a||(a=e.ownerDocument.createElement("style"),a.id=n.key,e.ownerDocument.head.appendChild(a)),a.innerHTML=s):a&&a.remove(),i(n.classNames),o.applyBindingsToNode(e,{css:i},null)}))}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StylesheetBindingHandler=void 0;const i=n(0),o=n(48);t.StylesheetBindingHandler=class{constructor(e){this.eventManager=e;const t=new o.JssCompiler;i.bindingHandlers.styleSheet={init:e=>{this.eventManager.addEventListener("onStyleChange",n=>{const i=t.compile(n);let o=Array.prototype.slice.call(e.childNodes).find(e=>e.key===n.key);o||(o=document.createTextNode(i),o.key=n.key,e.appendChild(o)),o.textContent=i}),this.eventManager.addEventListener("onStyleRemove",t=>{if(!t)return;const n=Array.prototype.slice.call(e.childNodes).find(e=>e.key===t);n&&e.removeChild(n)})}}}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.StylableBindingHandler=void 0;const o=n(0);t.StylableBindingHandler=class{constructor(e){this.styleService=e,o.bindingHandlers.styleable={update:(e,t)=>i(this,void 0,void 0,(function*(){const n=o.unwrap(t());let i;if(i="string"==typeof n?yield this.styleService.getStyleByKey(n):n,!i)return;const r=o.observable();let a=1;const s={style:i,toggleBackground:()=>{switch(a){case 0:r(null),a=1;break;case 1:r("transparent"),a=2;break;case 2:r("dark"),a=0}}};e.styleable=s,o.applyBindingsToNode(e,{css:r},null)}))}}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.StyleSnippetService=void 0,t.StyleSnippetService=class{constructor(e){this.httpClient=e}getThemes(){return i(this,void 0,void 0,(function*(){return this.themes||(yield this.loadStyleSnippets()),this.themes}))}loadStyleSnippets(){return i(this,void 0,void 0,(function*(){const e=yield this.httpClient.send({url:"/data/snippets-styles.json",method:"GET"});this.themes=e.toObject()}))}getThemesNames(){return i(this,void 0,void 0,(function*(){const e=yield this.getThemes();return e&&Object.keys(e)||[]}))}getSelectedThemeName(){return this.selectedThemeName}selectCurrentTheme(e){return i(this,void 0,void 0,(function*(){this.selectedThemeName=e;const t=yield this.getThemeByName(e);return this.styles=t,!!this.styles}))}getThemeByName(e){return i(this,void 0,void 0,(function*(){const t=yield this.getThemes();return t?t[e]:null}))}getStyleByKey(e){return i(this,void 0,void 0,(function*(){return this.styles?this.getObjectByPath(this.styles,e):(console.warn("current theme is not initialized"),null)}))}getObjectByPath(e,t){for(let n=0,i=t.split("/"),o=i.length;n<o;n++)e=e[i[n]];return e}}},function(e,t,n){"use strict";n.r(t),n.d(t,"autoJoin",(function(){return T})),n.d(t,"baseKeymap",(function(){return I})),n.d(t,"chainCommands",(function(){return j})),n.d(t,"createParagraphNear",(function(){return x})),n.d(t,"deleteSelection",(function(){return a})),n.d(t,"exitCode",(function(){return b})),n.d(t,"joinBackward",(function(){return s})),n.d(t,"joinDown",(function(){return m})),n.d(t,"joinForward",(function(){return d})),n.d(t,"joinUp",(function(){return f})),n.d(t,"lift",(function(){return v})),n.d(t,"liftEmptyBlock",(function(){return w})),n.d(t,"macBaseKeymap",(function(){return D})),n.d(t,"newlineInCode",(function(){return g})),n.d(t,"pcBaseKeymap",(function(){return A})),n.d(t,"selectAll",(function(){return M})),n.d(t,"selectNodeBackward",(function(){return c})),n.d(t,"selectNodeForward",(function(){return p})),n.d(t,"selectParentNode",(function(){return C})),n.d(t,"setBlockType",(function(){return P})),n.d(t,"splitBlock",(function(){return S})),n.d(t,"splitBlockKeepMarks",(function(){return k})),n.d(t,"toggleMark",(function(){return E})),n.d(t,"wrapIn",(function(){return O}));var i=n(5),o=n(1),r=n(3);function a(e,t){return!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0)}function s(e,t,n){var o=e.selection.$cursor;if(!o||(n?!n.endOfTextblock("backward",e):o.parentOffset>0))return!1;var a=u(o);if(!a){var s=o.blockRange(),c=s&&Object(i.liftTarget)(s);return null!=c&&(t&&t(e.tr.lift(s,c).scrollIntoView()),!0)}var d=a.nodeBefore;if(!d.type.spec.isolating&&_(e,a,t))return!0;if(0==o.parent.content.size&&(l(d,"end")||r.NodeSelection.isSelectable(d))){if(t){var p=e.tr.deleteRange(o.before(),o.after());p.setSelection(l(d,"end")?r.Selection.findFrom(p.doc.resolve(p.mapping.map(a.pos,-1)),-1):r.NodeSelection.create(p.doc,a.pos-d.nodeSize)),t(p.scrollIntoView())}return!0}return!(!d.isAtom||a.depth!=o.depth-1)&&(t&&t(e.tr.delete(a.pos-d.nodeSize,a.pos).scrollIntoView()),!0)}function l(e,t){for(;e;e="start"==t?e.firstChild:e.lastChild)if(e.isTextblock)return!0;return!1}function c(e,t,n){var i=e.selection,o=i.$head,a=o;if(!i.empty)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):o.parentOffset>0)return!1;a=u(o)}var s=a&&a.nodeBefore;return!(!s||!r.NodeSelection.isSelectable(s))&&(t&&t(e.tr.setSelection(r.NodeSelection.create(e.doc,a.pos-s.nodeSize)).scrollIntoView()),!0)}function u(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function d(e,t,n){var i=e.selection.$cursor;if(!i||(n?!n.endOfTextblock("forward",e):i.parentOffset<i.parent.content.size))return!1;var o=h(i);if(!o)return!1;var a=o.nodeAfter;if(_(e,o,t))return!0;if(0==i.parent.content.size&&(l(a,"start")||r.NodeSelection.isSelectable(a))){if(t){var s=e.tr.deleteRange(i.before(),i.after());s.setSelection(l(a,"start")?r.Selection.findFrom(s.doc.resolve(s.mapping.map(o.pos)),1):r.NodeSelection.create(s.doc,s.mapping.map(o.pos))),t(s.scrollIntoView())}return!0}return!(!a.isAtom||o.depth!=i.depth-1)&&(t&&t(e.tr.delete(o.pos,o.pos+a.nodeSize).scrollIntoView()),!0)}function p(e,t,n){var i=e.selection,o=i.$head,a=o;if(!i.empty)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):o.parentOffset<o.parent.content.size)return!1;a=h(o)}var s=a&&a.nodeAfter;return!(!s||!r.NodeSelection.isSelectable(s))&&(t&&t(e.tr.setSelection(r.NodeSelection.create(e.doc,a.pos)).scrollIntoView()),!0)}function h(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){var n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}function f(e,t){var n,o=e.selection,a=o instanceof r.NodeSelection;if(a){if(o.node.isTextblock||!Object(i.canJoin)(e.doc,o.from))return!1;n=o.from}else if(null==(n=Object(i.joinPoint)(e.doc,o.from,-1)))return!1;if(t){var s=e.tr.join(n);a&&s.setSelection(r.NodeSelection.create(s.doc,n-e.doc.resolve(n).nodeBefore.nodeSize)),t(s.scrollIntoView())}return!0}function m(e,t){var n,o=e.selection;if(o instanceof r.NodeSelection){if(o.node.isTextblock||!Object(i.canJoin)(e.doc,o.to))return!1;n=o.to}else if(null==(n=Object(i.joinPoint)(e.doc,o.to,1)))return!1;return t&&t(e.tr.join(n).scrollIntoView()),!0}function v(e,t){var n=e.selection,o=n.$from,r=n.$to,a=o.blockRange(r),s=a&&Object(i.liftTarget)(a);return null!=s&&(t&&t(e.tr.lift(a,s).scrollIntoView()),!0)}function g(e,t){var n=e.selection,i=n.$head,o=n.$anchor;return!(!i.parent.type.spec.code||!i.sameParent(o))&&(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)}function y(e){for(var t=0;t<e.edgeCount;t++){var n=e.edge(t).type;if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function b(e,t){var n=e.selection,i=n.$head,o=n.$anchor;if(!i.parent.type.spec.code||!i.sameParent(o))return!1;var a=i.node(-1),s=i.indexAfter(-1),l=y(a.contentMatchAt(s));if(!a.canReplaceWith(s,s,l))return!1;if(t){var c=i.after(),u=e.tr.replaceWith(c,c,l.createAndFill());u.setSelection(r.Selection.near(u.doc.resolve(c),1)),t(u.scrollIntoView())}return!0}function x(e,t){var n=e.selection,i=n.$from,o=n.$to;if(i.parent.inlineContent||o.parent.inlineContent)return!1;var a=y(i.parent.contentMatchAt(o.indexAfter()));if(!a||!a.isTextblock)return!1;if(t){var s=(!i.parentOffset&&o.index()<o.parent.childCount?i:o).pos,l=e.tr.insert(s,a.createAndFill());l.setSelection(r.TextSelection.create(l.doc,s+1)),t(l.scrollIntoView())}return!0}function w(e,t){var n=e.selection.$cursor;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){var o=n.before();if(Object(i.canSplit)(e.doc,o))return t&&t(e.tr.split(o).scrollIntoView()),!0}var r=n.blockRange(),a=r&&Object(i.liftTarget)(r);return null!=a&&(t&&t(e.tr.lift(r,a).scrollIntoView()),!0)}function S(e,t){var n=e.selection,a=n.$from,s=n.$to;if(e.selection instanceof r.NodeSelection&&e.selection.node.isBlock)return!(!a.parentOffset||!Object(i.canSplit)(e.doc,a.pos))&&(t&&t(e.tr.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;if(t){var l=s.parentOffset==s.parent.content.size,c=e.tr;e.selection instanceof r.TextSelection&&c.deleteSelection();var u=0==a.depth?null:y(a.node(-1).contentMatchAt(a.indexAfter(-1))),d=l&&u?[{type:u}]:null,p=Object(i.canSplit)(c.doc,c.mapping.map(a.pos),1,d);d||p||!Object(i.canSplit)(c.doc,c.mapping.map(a.pos),1,u&&[{type:u}])||(d=[{type:u}],p=!0),p&&(c.split(c.mapping.map(a.pos),1,d),l||a.parentOffset||a.parent.type==u||!a.node(-1).canReplace(a.index(-1),a.indexAfter(-1),o.Fragment.from(u.create(),a.parent))||c.setNodeMarkup(c.mapping.map(a.before()),u)),t(c.scrollIntoView())}return!0}function k(e,t){return S(e,t&&function(n){var i=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();i&&n.ensureMarks(i),t(n)})}function C(e,t){var n,i=e.selection,o=i.$from,a=i.to,s=o.sharedDepth(a);return 0!=s&&(n=o.before(s),t&&t(e.tr.setSelection(r.NodeSelection.create(e.doc,n))),!0)}function M(e,t){return t&&t(e.tr.setSelection(new r.AllSelection(e.doc))),!0}function _(e,t,n){var a,s,l=t.nodeBefore,c=t.nodeAfter;if(l.type.spec.isolating||c.type.spec.isolating)return!1;if(function(e,t,n){var o=t.nodeBefore,r=t.nodeAfter,a=t.index();return!(!(o&&r&&o.type.compatibleContent(r.type))||(!o.content.size&&t.parent.canReplace(a-1,a)?(n&&n(e.tr.delete(t.pos-o.nodeSize,t.pos).scrollIntoView()),0):!t.parent.canReplace(a,a+1)||!r.isTextblock&&!Object(i.canJoin)(e.doc,t.pos)||(n&&n(e.tr.clearIncompatible(t.pos,o.type,o.contentMatchAt(o.childCount)).join(t.pos).scrollIntoView()),0)))}(e,t,n))return!0;if(t.parent.canReplace(t.index(),t.index()+1)&&(a=(s=l.contentMatchAt(l.childCount)).findWrapping(c.type))&&s.matchType(a[0]||c.type).validEnd){if(n){for(var u=t.pos+c.nodeSize,d=o.Fragment.empty,p=a.length-1;p>=0;p--)d=o.Fragment.from(a[p].create(null,d));d=o.Fragment.from(l.copy(d));var h=e.tr.step(new i.ReplaceAroundStep(t.pos-1,u,t.pos,u,new o.Slice(d,1,0),a.length,!0)),f=u+2*a.length;Object(i.canJoin)(h.doc,f)&&h.join(f),n(h.scrollIntoView())}return!0}var m=r.Selection.findFrom(t,1),v=m&&m.$from.blockRange(m.$to),g=v&&Object(i.liftTarget)(v);return null!=g&&g>=t.depth&&(n&&n(e.tr.lift(v,g).scrollIntoView()),!0)}function O(e,t){return function(n,o){var r=n.selection,a=r.$from,s=r.$to,l=a.blockRange(s),c=l&&Object(i.findWrapping)(l,e,t);return!!c&&(o&&o(n.tr.wrap(l,c).scrollIntoView()),!0)}}function P(e,t){return function(n,i){var o=n.selection,r=o.from,a=o.to,s=!1;return n.doc.nodesBetween(r,a,(function(i,o){if(s)return!1;if(i.isTextblock&&!i.hasMarkup(e,t))if(i.type==e)s=!0;else{var r=n.doc.resolve(o),a=r.index();s=r.parent.canReplaceWith(a,a+1,e)}})),!!s&&(i&&i(n.tr.setBlockType(r,a,e,t).scrollIntoView()),!0)}}function E(e,t){return function(n,i){var o=n.selection,r=o.empty,a=o.$cursor,s=o.ranges;if(r&&!a||!function(e,t,n){for(var i=function(i){var o=t[i],r=o.$from,a=o.$to,s=0==r.depth&&e.type.allowsMarkType(n);if(e.nodesBetween(r.pos,a.pos,(function(e){if(s)return!1;s=e.inlineContent&&e.type.allowsMarkType(n)})),s)return{v:!0}},o=0;o<t.length;o++){var r=i(o);if(r)return r.v}return!1}(n.doc,s,e))return!1;if(i)if(a)e.isInSet(n.storedMarks||a.marks())?i(n.tr.removeStoredMark(e)):i(n.tr.addStoredMark(e.create(t)));else{for(var l=!1,c=n.tr,u=0;!l&&u<s.length;u++){var d=s[u],p=d.$from,h=d.$to;l=n.doc.rangeHasMark(p.pos,h.pos,e)}for(var f=0;f<s.length;f++){var m=s[f],v=m.$from,g=m.$to;l?c.removeMark(v.pos,g.pos,e):c.addMark(v.pos,g.pos,e.create(t))}i(c.scrollIntoView())}return!0}}function T(e,t){if(Array.isArray(t)){var n=t;t=function(e){return n.indexOf(e.type.name)>-1}}return function(n,o){return e(n,o&&function(e,t){return function(n){if(!n.isGeneric)return e(n);for(var o=[],r=0;r<n.mapping.maps.length;r++){for(var a=n.mapping.maps[r],s=0;s<o.length;s++)o[s]=a.map(o[s]);a.forEach((function(e,t,n,i){return o.push(n,i)}))}for(var l=[],c=0;c<o.length;c+=2)for(var u=o[c],d=o[c+1],p=n.doc.resolve(u),h=p.sharedDepth(d),f=p.node(h),m=p.indexAfter(h),v=p.after(h+1);v<=d;++m){var g=f.maybeChild(m);if(!g)break;if(m&&-1==l.indexOf(v)){var y=f.child(m-1);y.type==g.type&&t(y,g)&&l.push(v)}v+=g.nodeSize}l.sort((function(e,t){return e-t}));for(var b=l.length-1;b>=0;b--)Object(i.canJoin)(n.doc,l[b])&&n.join(l[b]);e(n)}}(o,t))}}function j(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return function(t,n,i){for(var o=0;o<e.length;o++)if(e[o](t,n,i))return!0;return!1}}var R=j(a,s,c),N=j(a,d,p),A={Enter:j(g,x,w,S),"Mod-Enter":b,Backspace:R,"Mod-Backspace":R,Delete:N,"Mod-Delete":N,"Mod-a":M},D={"Ctrl-h":A.Backspace,"Alt-Backspace":A["Mod-Backspace"],"Ctrl-d":A.Delete,"Ctrl-Alt-Backspace":A["Mod-Delete"],"Alt-Delete":A["Mod-Delete"],"Alt-d":A["Mod-Delete"]};for(var B in A)D[B]=A[B];var I=("undefined"!=typeof navigator?/Mac/.test(navigator.platform):"undefined"!=typeof os&&"darwin"==os.platform())?D:A},function(e,t,n){"use strict";n.r(t),n.d(t,"addListNodes",(function(){return p})),n.d(t,"bulletList",(function(){return c})),n.d(t,"liftListItem",(function(){return m})),n.d(t,"listItem",(function(){return u})),n.d(t,"orderedList",(function(){return l})),n.d(t,"sinkListItem",(function(){return v})),n.d(t,"splitListItem",(function(){return f})),n.d(t,"wrapInList",(function(){return h}));var i=n(5),o=n(1),r=["ol",0],a=["ul",0],s=["li",0],l={attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs:function(e){return{order:e.hasAttribute("start")?+e.getAttribute("start"):1}}}],toDOM:function(e){return 1==e.attrs.order?r:["ol",{start:e.attrs.order},0]}},c={parseDOM:[{tag:"ul"}],toDOM:function(){return a}},u={parseDOM:[{tag:"li"}],toDOM:function(){return s},defining:!0};function d(e,t){var n={};for(var i in e)n[i]=e[i];for(var o in t)n[o]=t[o];return n}function p(e,t,n){return e.append({ordered_list:d(l,{content:"list_item+",group:n}),bullet_list:d(c,{content:"list_item+",group:n}),list_item:d(u,{content:t})})}function h(e,t){return function(n,r){var a=n.selection,s=a.$from,l=a.$to,c=s.blockRange(l),u=!1,d=c;if(!c)return!1;if(c.depth>=2&&s.node(c.depth-1).type.compatibleContent(e)&&0==c.startIndex){if(0==s.index(c.depth-1))return!1;var p=n.doc.resolve(c.start-2);d=new o.NodeRange(p,p,c.depth),c.endIndex<c.parent.childCount&&(c=new o.NodeRange(s,n.doc.resolve(l.end(c.depth)),c.depth)),u=!0}var h=Object(i.findWrapping)(d,e,t,c);return!!h&&(r&&r(function(e,t,n,r,a){for(var s=o.Fragment.empty,l=n.length-1;l>=0;l--)s=o.Fragment.from(n[l].type.create(n[l].attrs,s));e.step(new i.ReplaceAroundStep(t.start-(r?2:0),t.end,t.start,t.end,new o.Slice(s,0,0),n.length,!0));for(var c=0,u=0;u<n.length;u++)n[u].type==a&&(c=u+1);for(var d=n.length-c,p=t.start+n.length-(r?2:0),h=t.parent,f=t.startIndex,m=t.endIndex,v=!0;f<m;f++,v=!1)!v&&Object(i.canSplit)(e.doc,p,d)&&(e.split(p,d),p+=2*d),p+=h.child(f).nodeSize;return e}(n.tr,c,h,u,e).scrollIntoView()),!0)}}function f(e){return function(t,n){var r=t.selection,a=r.$from,s=r.$to,l=r.node;if(l&&l.isBlock||a.depth<2||!a.sameParent(s))return!1;var c=a.node(-1);if(c.type!=e)return!1;if(0==a.parent.content.size&&a.node(-1).childCount==a.indexAfter(-1)){if(2==a.depth||a.node(-3).type!=e||a.index(-2)!=a.node(-2).childCount-1)return!1;if(n){for(var u=o.Fragment.empty,d=a.index(-1)>0,p=a.depth-(d?1:2);p>=a.depth-3;p--)u=o.Fragment.from(a.node(p).copy(u));u=u.append(o.Fragment.from(e.createAndFill()));var h=t.tr.replace(a.before(d?null:-1),a.after(-3),new o.Slice(u,d?3:2,2));h.setSelection(t.selection.constructor.near(h.doc.resolve(a.pos+(d?3:2)))),n(h.scrollIntoView())}return!0}var f=s.pos==a.end()?c.contentMatchAt(0).defaultType:null,m=t.tr.delete(a.pos,s.pos),v=f&&[null,{type:f}];return!!Object(i.canSplit)(m.doc,a.pos,2,v)&&(n&&n(m.split(a.pos,2,v).scrollIntoView()),!0)}}function m(e){return function(t,n){var r=t.selection,a=r.$from,s=r.$to,l=a.blockRange(s,(function(t){return t.childCount&&t.firstChild.type==e}));return!!l&&(!n||(a.node(l.depth-1).type==e?function(e,t,n,r){var a=e.tr,s=r.end,l=r.$to.end(r.depth);return s<l&&(a.step(new i.ReplaceAroundStep(s-1,l,s,l,new o.Slice(o.Fragment.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new o.NodeRange(a.doc.resolve(r.$from.pos),a.doc.resolve(l),r.depth)),t(a.lift(r,Object(i.liftTarget)(r)).scrollIntoView()),!0}(t,n,e,l):function(e,t,n){for(var r=e.tr,a=n.parent,s=n.end,l=n.endIndex-1,c=n.startIndex;l>c;l--)s-=a.child(l).nodeSize,r.delete(s-1,s+1);var u=r.doc.resolve(n.start),d=u.nodeAfter,p=0==n.startIndex,h=n.endIndex==a.childCount,f=u.node(-1),m=u.index(-1);if(!f.canReplace(m+(p?0:1),m+1,d.content.append(h?o.Fragment.empty:o.Fragment.from(a))))return!1;var v=u.pos,g=v+d.nodeSize;return r.step(new i.ReplaceAroundStep(v-(p?1:0),g+(h?1:0),v+1,g-1,new o.Slice((p?o.Fragment.empty:o.Fragment.from(a.copy(o.Fragment.empty))).append(h?o.Fragment.empty:o.Fragment.from(a.copy(o.Fragment.empty))),p?0:1,h?0:1),p?0:1)),t(r.scrollIntoView()),!0}(t,n,l)))}}function v(e){return function(t,n){var r=t.selection,a=r.$from,s=r.$to,l=a.blockRange(s,(function(t){return t.childCount&&t.firstChild.type==e}));if(!l)return!1;var c=l.startIndex;if(0==c)return!1;var u=l.parent,d=u.child(c-1);if(d.type!=e)return!1;if(n){var p=d.lastChild&&d.lastChild.type==u.type,h=o.Fragment.from(p?e.create():null),f=new o.Slice(o.Fragment.from(e.create(null,o.Fragment.from(u.type.create(null,h)))),p?3:1,0),m=l.start,v=l.end;n(t.tr.step(new i.ReplaceAroundStep(m-(p?3:1),v,m,v,f,1,!0)).scrollIntoView())}return!0}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SearchHandlers=void 0;const o=n(108);t.SearchHandlers=class{getWidgetOrder(){return i(this,void 0,void 0,(function*(){return{name:"search",displayName:"Search website",iconClass:"paperbits-cheque-3",requires:["html","js"],createModel:()=>i(this,void 0,void 0,(function*(){return new o.SearchModel}))}}))}}},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.SearchViewModel=void 0;const o=n(999),r=n(2);let a=class{};a=i([r.Component({selector:"search",template:o.default})],a),t.SearchViewModel=a},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.ClickCounterViewModel=void 0;const o=n(1009),r=n(2);let a=class{};a=i([r.Component({selector:"click-counter",template:o.default})],a),t.ClickCounterViewModel=a},function(e,t,n){"use strict";n.r(t),n.d(t,"HistoryState",(function(){return d})),n.d(t,"closeHistory",(function(){return b})),n.d(t,"history",(function(){return S})),n.d(t,"redo",(function(){return C})),n.d(t,"redoDepth",(function(){return _})),n.d(t,"undo",(function(){return k})),n.d(t,"undoDepth",(function(){return M}));var i=function(){};i.prototype.append=function(e){return e.length?(e=i.from(e),!this.length&&e||e.length<200&&this.leafAppend(e)||this.length<200&&e.leafPrepend(this)||this.appendInner(e)):this},i.prototype.prepend=function(e){return e.length?i.from(e).append(this):this},i.prototype.appendInner=function(e){return new r(this,e)},i.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?i.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},i.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},i.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},i.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var i=[];return this.forEach((function(t,n){return i.push(e(t,n))}),t,n),i},i.from=function(e){return e instanceof i?e:e&&e.length?new o(e):i.empty};var o=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,i){for(var o=t;o<n;o++)if(!1===e(this.values[o],i+o))return!1},t.prototype.forEachInvertedInner=function(e,t,n,i){for(var o=t-1;o>=n;o--)if(!1===e(this.values[o],i+o))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=200)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=200)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(i);i.empty=new o([]);var r=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,i){var o=this.left.length;return!(t<o&&!1===this.left.forEachInner(e,t,Math.min(n,o),i))&&!(n>o&&!1===this.right.forEachInner(e,Math.max(t-o,0),Math.min(this.length,n)-o,i+o))&&void 0},t.prototype.forEachInvertedInner=function(e,t,n,i){var o=this.left.length;return!(t>o&&!1===this.right.forEachInvertedInner(e,t-o,Math.max(n,o)-o,i+o))&&!(n<o&&!1===this.left.forEachInvertedInner(e,Math.min(t,o),n,i))&&void 0},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(i),a=i,s=n(5),l=n(3),c=function(e,t){this.items=e,this.eventCount=t};c.prototype.popEvent=function(e,t){var n=this;if(0==this.eventCount)return null;for(var i,o,r=this.items.length;;r--)if(this.items.get(r-1).selection){--r;break}t&&(i=this.remapping(r,this.items.length),o=i.maps.length);var a,s,l=e.tr,d=[],p=[];return this.items.forEach((function(e,t){if(!e.step)return i||(i=n.remapping(r,t+1),o=i.maps.length),o--,void p.push(e);if(i){p.push(new u(e.map));var h,f=e.step.map(i.slice(o));f&&l.maybeStep(f).doc&&(h=l.mapping.maps[l.mapping.maps.length-1],d.push(new u(h,null,null,d.length+p.length))),o--,h&&i.appendMap(h,o)}else l.maybeStep(e.step);return e.selection?(a=i?e.selection.map(i.slice(o)):e.selection,s=new c(n.items.slice(0,r).append(p.reverse().concat(d)),n.eventCount-1),!1):void 0}),this.items.length,0),{remaining:s,transform:l,selection:a}},c.prototype.addTransform=function(e,t,n,i){for(var o=[],r=this.eventCount,a=this.items,s=!i&&a.length?a.get(a.length-1):null,l=0;l<e.steps.length;l++){var d,h=e.steps[l].invert(e.docs[l]),f=new u(e.mapping.maps[l],h,t);(d=s&&s.merge(f))&&(f=d,l?o.pop():a=a.slice(0,a.length-1)),o.push(f),t&&(r++,t=null),i||(s=f)}var m,v,g,y=r-n.depth;return y>p&&(v=y,(m=a).forEach((function(e,t){if(e.selection&&0==v--)return g=t,!1})),a=m.slice(g),r-=y),new c(a.append(o),r)},c.prototype.remapping=function(e,t){var n=new s.Mapping;return this.items.forEach((function(t,i){var o=null!=t.mirrorOffset&&i-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:null;n.appendMap(t.map,o)}),e,t),n},c.prototype.addMaps=function(e){return 0==this.eventCount?this:new c(this.items.append(e.map((function(e){return new u(e)}))),this.eventCount)},c.prototype.rebased=function(e,t){if(!this.eventCount)return this;var n=[],i=Math.max(0,this.items.length-t),o=e.mapping,r=e.steps.length,a=this.eventCount;this.items.forEach((function(e){e.selection&&a--}),i);var s=t;this.items.forEach((function(t){var i=o.getMirror(--s);if(null!=i){r=Math.min(r,i);var l=o.maps[i];if(t.step){var c=e.steps[i].invert(e.docs[i]),d=t.selection&&t.selection.map(o.slice(s+1,i));d&&a++,n.push(new u(l,c,d))}else n.push(new u(l))}}),i);for(var l=[],d=t;d<r;d++)l.push(new u(o.maps[d]));var p=this.items.slice(0,i).append(l).append(n),h=new c(p,a);return h.emptyItemCount()>500&&(h=h.compress(this.items.length-n.length)),h},c.prototype.emptyItemCount=function(){var e=0;return this.items.forEach((function(t){t.step||e++})),e},c.prototype.compress=function(e){void 0===e&&(e=this.items.length);var t=this.remapping(0,e),n=t.maps.length,i=[],o=0;return this.items.forEach((function(r,a){if(a>=e)i.push(r),r.selection&&o++;else if(r.step){var s=r.step.map(t.slice(n)),l=s&&s.getMap();if(n--,l&&t.appendMap(l,n),s){var c=r.selection&&r.selection.map(t.slice(n));c&&o++;var d,p=new u(l.invert(),s,c),h=i.length-1;(d=i.length&&i[h].merge(p))?i[h]=d:i.push(p)}}else r.map&&n--}),this.items.length,0),new c(a.from(i.reverse()),o)},c.empty=new c(a.empty,0);var u=function(e,t,n,i){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=i};u.prototype.merge=function(e){if(this.step&&e.step&&!e.selection){var t=e.step.merge(this.step);if(t)return new u(t.getMap().invert(),t,this.selection)}};var d=function(e,t,n,i){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=i},p=20;function h(e){var t=[];return e.forEach((function(e,n,i,o){return t.push(i,o)})),t}function f(e,t){if(!e)return null;for(var n=[],i=0;i<e.length;i+=2){var o=t.map(e[i],1),r=t.map(e[i+1],-1);o<=r&&n.push(o,r)}return n}function m(e,t,n,i){var o=y(t),r=x.get(t).spec.config,a=(i?e.undone:e.done).popEvent(t,o);if(a){var s=a.selection.resolve(a.transform.doc),l=(i?e.done:e.undone).addTransform(a.transform,t.selection.getBookmark(),r,o),c=new d(i?l:a.remaining,i?a.remaining:l,null,0);n(a.transform.setSelection(s).setMeta(x,{redo:i,historyState:c}).scrollIntoView())}}var v=!1,g=null;function y(e){var t=e.plugins;if(g!=t){v=!1,g=t;for(var n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){v=!0;break}}return v}function b(e){return e.setMeta(w,!0)}var x=new l.PluginKey("history"),w=new l.PluginKey("closeHistory");function S(e){return e={depth:e&&e.depth||100,newGroupDelay:e&&e.newGroupDelay||500},new l.Plugin({key:x,state:{init:function(){return new d(c.empty,c.empty,null,0)},apply:function(t,n,i){return function(e,t,n,i){var o,r=n.getMeta(x);if(r)return r.historyState;n.getMeta(w)&&(e=new d(e.done,e.undone,null,0));var a=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(a&&a.getMeta(x))return a.getMeta(x).redo?new d(e.done.addTransform(n,null,i,y(t)),e.undone,h(n.mapping.maps[n.steps.length-1]),e.prevTime):new d(e.done,e.undone.addTransform(n,null,i,y(t)),null,e.prevTime);if(!1===n.getMeta("addToHistory")||a&&!1===a.getMeta("addToHistory"))return(o=n.getMeta("rebased"))?new d(e.done.rebased(n,o),e.undone.rebased(n,o),f(e.prevRanges,n.mapping),e.prevTime):new d(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),f(e.prevRanges,n.mapping),e.prevTime);var s=0==e.prevTime||!a&&(e.prevTime<(n.time||0)-i.newGroupDelay||!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;var n=!1;return e.mapping.maps[0].forEach((function(e,i){for(var o=0;o<t.length;o+=2)e<=t[o+1]&&i>=t[o]&&(n=!0)})),n}(n,e.prevRanges)),l=a?f(e.prevRanges,n.mapping):h(n.mapping.maps[n.steps.length-1]);return new d(e.done.addTransform(n,s?t.selection.getBookmark():null,i,y(t)),c.empty,l,n.time)}(n,i,t,e)}},config:e})}function k(e,t){var n=x.getState(e);return!(!n||0==n.done.eventCount)&&(t&&m(n,e,t,!1),!0)}function C(e,t){var n=x.getState(e);return!(!n||0==n.undone.eventCount)&&(t&&m(n,e,t,!0),!0)}function M(e){var t=x.getState(e);return t?t.done.eventCount:0}function _(e){var t=x.getState(e);return t?t.undone.eventCount:0}},function(e,t,n){"use strict";function i(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return i}))},function(e,t,n){e.exports=n(311)},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),n(313);const i=n(419),o=n(129),r=n(424),a=n(130),s=n(456),l=n(899),c=n(980),u=n(987),d=n(991),p=new a.InversifyInjector;p.bindModule(new s.CoreDesignModule),p.bindModule(new l.StylesDesignModule),p.bindModule(new c.ProseMirrorModule),p.bindModule(new d.DemoDesignModule),p.bindModule(new u.OfflineModule({autosave:!1})),p.resolve("autostart"),document.addEventListener("DOMContentLoaded",()=>{e(()=>{const e=o.createElement(r.Designer);i.render(e,document.body)})})}).call(this,n(60).setImmediate)},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var i,o,r,a,s,l=1,c={},u=!1,d=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,"[object process]"==={}.toString.call(e.process)?i=function(e){t.nextTick((function(){f(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&f(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),i=function(t){e.postMessage(a+t,"*")}):e.MessageChannel?((r=new MessageChannel).port1.onmessage=function(e){f(e.data)},i=function(e){r.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(o=d.documentElement,i=function(e){var t=d.createElement("script");t.onreadystatechange=function(){f(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):i=function(e){setTimeout(f,0,e)},p.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return c[l]=o,i(l),l++},p.clearImmediate=h}function h(e){delete c[e]}function f(e){if(u)setTimeout(f,0,e);else{var t=c[e];if(t){u=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{h(e),u=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(39),n(88))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(314),n(315),n(351),n(379),n(389),n(404)},function(e,t){(function(){"use strict";var e=window.Document.prototype.createElement,t=window.Document.prototype.createElementNS,n=window.Document.prototype.importNode,i=window.Document.prototype.prepend,o=window.Document.prototype.append,r=window.DocumentFragment.prototype.prepend,a=window.DocumentFragment.prototype.append,s=window.Node.prototype.cloneNode,l=window.Node.prototype.appendChild,c=window.Node.prototype.insertBefore,u=window.Node.prototype.removeChild,d=window.Node.prototype.replaceChild,p=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),h=window.Element.prototype.attachShadow,f=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),m=window.Element.prototype.getAttribute,v=window.Element.prototype.setAttribute,g=window.Element.prototype.removeAttribute,y=window.Element.prototype.getAttributeNS,b=window.Element.prototype.setAttributeNS,x=window.Element.prototype.removeAttributeNS,w=window.Element.prototype.insertAdjacentElement,S=window.Element.prototype.insertAdjacentHTML,k=window.Element.prototype.prepend,C=window.Element.prototype.append,M=window.Element.prototype.before,_=window.Element.prototype.after,O=window.Element.prototype.replaceWith,P=window.Element.prototype.remove,E=window.HTMLElement,T=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),j=window.HTMLElement.prototype.insertAdjacentElement,R=window.HTMLElement.prototype.insertAdjacentHTML,N=new Set;function A(e){var t=N.has(e);return e=/^[a-z][.0-9_a-z]*-[-.0-9_a-z]*$/.test(e),!t&&e}"annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" ").forEach((function(e){return N.add(e)}));var D=document.contains?document.contains.bind(document):document.documentElement.contains.bind(document.documentElement);function B(e){var t=e.isConnected;if(void 0!==t)return t;if(D(e))return!0;for(;e&&!(e.__CE_isImportDocument||e instanceof Document);)e=e.parentNode||(window.ShadowRoot&&e instanceof ShadowRoot?e.host:void 0);return!(!e||!(e.__CE_isImportDocument||e instanceof Document))}function I(e){var t=e.children;if(t)return Array.prototype.slice.call(t);for(t=[],e=e.firstChild;e;e=e.nextSibling)e.nodeType===Node.ELEMENT_NODE&&t.push(e);return t}function L(e,t){for(;t&&t!==e&&!t.nextSibling;)t=t.parentNode;return t&&t!==e?t.nextSibling:null}function U(){var e=!(null==re||!re.noDocumentConstructionObserver),t=!(null==re||!re.shadyDomFastWalk);this.h=[],this.a=[],this.f=!1,this.shadyDomFastWalk=t,this.C=!e}function F(e,t,n,i){var o=window.ShadyDom;if(e.shadyDomFastWalk&&o&&o.inUse){if(t.nodeType===Node.ELEMENT_NODE&&n(t),t.querySelectorAll)for(e=o.nativeMethods.querySelectorAll.call(t,"*"),t=0;t<e.length;t++)n(e[t])}else!function e(t,n,i){for(var o=t;o;){if(o.nodeType===Node.ELEMENT_NODE){var r=o;n(r);var a=r.localName;if("link"===a&&"import"===r.getAttribute("rel")){if(o=r.import,void 0===i&&(i=new Set),o instanceof Node&&!i.has(o))for(i.add(o),o=o.firstChild;o;o=o.nextSibling)e(o,n,i);o=L(t,r);continue}if("template"===a){o=L(t,r);continue}if(r=r.__CE_shadowRoot)for(r=r.firstChild;r;r=r.nextSibling)e(r,n,i)}o=o.firstChild?o.firstChild:L(t,o)}}(t,n,i)}function z(e,t){e.f&&F(e,t,(function(t){return H(e,t)}))}function H(e,t){if(e.f&&!t.__CE_patched){t.__CE_patched=!0;for(var n=0;n<e.h.length;n++)e.h[n](t);for(n=0;n<e.a.length;n++)e.a[n](t)}}function V(e,t){var n=[];for(F(e,t,(function(e){return n.push(e)})),t=0;t<n.length;t++){var i=n[t];1===i.__CE_state?e.connectedCallback(i):K(e,i)}}function W(e,t){var n=[];for(F(e,t,(function(e){return n.push(e)})),t=0;t<n.length;t++){var i=n[t];1===i.__CE_state&&e.disconnectedCallback(i)}}function $(e,t,n){var i=(n=void 0===n?{}:n).D,o=n.upgrade||function(t){return K(e,t)},r=[];for(F(e,t,(function(t){if(e.f&&H(e,t),"link"===t.localName&&"import"===t.getAttribute("rel")){var n=t.import;n instanceof Node&&(n.__CE_isImportDocument=!0,n.__CE_registry=document.__CE_registry),n&&"complete"===n.readyState?n.__CE_documentLoadHandled=!0:t.addEventListener("load",(function(){var n=t.import;if(!n.__CE_documentLoadHandled){n.__CE_documentLoadHandled=!0;var r=new Set;i&&(i.forEach((function(e){return r.add(e)})),r.delete(n)),$(e,n,{D:r,upgrade:o})}}))}else r.push(t)}),i),t=0;t<r.length;t++)o(r[t])}function K(e,t){try{var n=t.ownerDocument,i=n.__CE_registry,o=i&&(n.defaultView||n.__CE_isImportDocument)?ne(i,t.localName):void 0;if(o&&void 0===t.__CE_state){o.constructionStack.push(t);try{try{if(new o.constructorFunction!==t)throw Error("The custom element constructor did not produce the element being upgraded.")}finally{o.constructionStack.pop()}}catch(l){throw t.__CE_state=2,l}if(t.__CE_state=1,t.__CE_definition=o,o.attributeChangedCallback&&t.hasAttributes()){var r=o.observedAttributes;for(o=0;o<r.length;o++){var a=r[o],s=t.getAttribute(a);null!==s&&e.attributeChangedCallback(t,a,null,s,null)}}B(t)&&e.connectedCallback(t)}}catch(l){q(l)}}function G(n,i,o,r){var a=i.__CE_registry;if(a&&(null===r||"http://www.w3.org/1999/xhtml"===r)&&(a=ne(a,o)))try{var s=new a.constructorFunction;if(void 0===s.__CE_state||void 0===s.__CE_definition)throw Error("Failed to construct '"+o+"': The returned value was not constructed with the HTMLElement constructor.");if("http://www.w3.org/1999/xhtml"!==s.namespaceURI)throw Error("Failed to construct '"+o+"': The constructed element's namespace must be the HTML namespace.");if(s.hasAttributes())throw Error("Failed to construct '"+o+"': The constructed element must not have any attributes.");if(null!==s.firstChild)throw Error("Failed to construct '"+o+"': The constructed element must not have any children.");if(null!==s.parentNode)throw Error("Failed to construct '"+o+"': The constructed element must not have a parent node.");if(s.ownerDocument!==i)throw Error("Failed to construct '"+o+"': The constructed element's owner document is incorrect.");if(s.localName!==o)throw Error("Failed to construct '"+o+"': The constructed element's local name is incorrect.");return s}catch(l){return q(l),i=null===r?e.call(i,o):t.call(i,r,o),Object.setPrototypeOf(i,HTMLUnknownElement.prototype),i.__CE_state=2,i.__CE_definition=void 0,H(n,i),i}return H(n,i=null===r?e.call(i,o):t.call(i,r,o)),i}function q(e){var t=e.message,n=e.sourceURL||e.fileName||"",i=e.line||e.lineNumber||0,o=e.column||e.columnNumber||0,r=void 0;void 0===ErrorEvent.prototype.initErrorEvent?r=new ErrorEvent("error",{cancelable:!0,message:t,filename:n,lineno:i,colno:o,error:e}):((r=document.createEvent("ErrorEvent")).initErrorEvent("error",!1,!0,t,n,i),r.preventDefault=function(){Object.defineProperty(this,"defaultPrevented",{configurable:!0,get:function(){return!0}})}),void 0===r.error&&Object.defineProperty(r,"error",{configurable:!0,enumerable:!0,get:function(){return e}}),window.dispatchEvent(r),r.defaultPrevented||console.error(e)}function Y(){var e=this;this.a=void 0,this.w=new Promise((function(t){e.g=t}))}function X(e){var t=document;this.g=void 0,this.b=e,this.a=t,$(this.b,this.a),"loading"===this.a.readyState&&(this.g=new MutationObserver(this.A.bind(this)),this.g.observe(this.a,{childList:!0,subtree:!0}))}function J(e){e.g&&e.g.disconnect()}function Q(e){this.j=new Map,this.l=new Map,this.u=new Map,this.o=!1,this.s=new Map,this.i=function(e){return e()},this.c=!1,this.m=[],this.b=e,this.v=e.C?new X(e):void 0}function Z(e,t){if(!A(t))throw new SyntaxError("The element name '"+t+"' is not valid.");if(ne(e,t))throw Error("A custom element with name '"+t+"' has already been defined.");if(e.o)throw Error("A custom element is already being defined.")}function ee(e,t,n){var i;e.o=!0;try{var o=n.prototype;if(!(o instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");var r=function(e){var t=o[e];if(void 0!==t&&!(t instanceof Function))throw Error("The '"+e+"' callback must be a function.");return t},a=r("connectedCallback"),s=r("disconnectedCallback"),l=r("adoptedCallback"),c=(i=r("attributeChangedCallback"))&&n.observedAttributes||[]}catch(u){throw u}finally{e.o=!1}return n={localName:t,constructorFunction:n,connectedCallback:a,disconnectedCallback:s,adoptedCallback:l,attributeChangedCallback:i,observedAttributes:c,constructionStack:[]},e.l.set(t,n),e.u.set(n.constructorFunction,n),n}function te(e){if(!1!==e.c){e.c=!1;for(var t=[],n=e.m,i=new Map,o=0;o<n.length;o++)i.set(n[o],[]);for($(e.b,document,{upgrade:function(n){if(void 0===n.__CE_state){var o=n.localName,r=i.get(o);r?r.push(n):e.l.has(o)&&t.push(n)}}}),o=0;o<t.length;o++)K(e.b,t[o]);for(o=0;o<n.length;o++){for(var r=n[o],a=i.get(r),s=0;s<a.length;s++)K(e.b,a[s]);(r=e.s.get(r))&&r.resolve(void 0)}n.length=0}}function ne(e,t){var n=e.l.get(t);if(n)return n;if(n=e.j.get(t)){e.j.delete(t);try{return ee(e,t,n())}catch(i){q(i)}}}function ie(e,t,n){function i(t){return function(n){for(var i=[],o=0;o<arguments.length;++o)i[o]=arguments[o];o=[];for(var r=[],a=0;a<i.length;a++){var s=i[a];if(s instanceof Element&&B(s)&&r.push(s),s instanceof DocumentFragment)for(s=s.firstChild;s;s=s.nextSibling)o.push(s);else o.push(s)}for(t.apply(this,i),i=0;i<r.length;i++)W(e,r[i]);if(B(this))for(i=0;i<o.length;i++)(r=o[i])instanceof Element&&V(e,r)}}void 0!==n.prepend&&(t.prepend=i(n.prepend)),void 0!==n.append&&(t.append=i(n.append))}U.prototype.connectedCallback=function(e){var t=e.__CE_definition;if(t.connectedCallback)try{t.connectedCallback.call(e)}catch(n){q(n)}},U.prototype.disconnectedCallback=function(e){var t=e.__CE_definition;if(t.disconnectedCallback)try{t.disconnectedCallback.call(e)}catch(n){q(n)}},U.prototype.attributeChangedCallback=function(e,t,n,i,o){var r=e.__CE_definition;if(r.attributeChangedCallback&&-1<r.observedAttributes.indexOf(t))try{r.attributeChangedCallback.call(e,t,n,i,o)}catch(a){q(a)}},Y.prototype.resolve=function(e){if(this.a)throw Error("Already resolved.");this.a=e,this.g(e)},X.prototype.A=function(e){var t=this.a.readyState;for("interactive"!==t&&"complete"!==t||J(this),t=0;t<e.length;t++)for(var n=e[t].addedNodes,i=0;i<n.length;i++)$(this.b,n[i])},Q.prototype.B=function(e,t){var n=this;if(!(t instanceof Function))throw new TypeError("Custom element constructor getters must be functions.");Z(this,e),this.j.set(e,t),this.m.push(e),this.c||(this.c=!0,this.i((function(){return te(n)})))},Q.prototype.define=function(e,t){var n=this;if(!(t instanceof Function))throw new TypeError("Custom element constructors must be functions.");Z(this,e),ee(this,e,t),this.m.push(e),this.c||(this.c=!0,this.i((function(){return te(n)})))},Q.prototype.upgrade=function(e){$(this.b,e)},Q.prototype.get=function(e){if(e=ne(this,e))return e.constructorFunction},Q.prototype.whenDefined=function(e){if(!A(e))return Promise.reject(new SyntaxError("'"+e+"' is not a valid custom element name."));var t=this.s.get(e);if(t)return t.w;t=new Y,this.s.set(e,t);var n=this.l.has(e)||this.j.has(e);return e=-1===this.m.indexOf(e),n&&e&&t.resolve(void 0),t.w},Q.prototype.polyfillWrapFlushCallback=function(e){this.v&&J(this.v);var t=this.i;this.i=function(n){return e((function(){return t(n)}))}},window.CustomElementRegistry=Q,Q.prototype.define=Q.prototype.define,Q.prototype.upgrade=Q.prototype.upgrade,Q.prototype.get=Q.prototype.get,Q.prototype.whenDefined=Q.prototype.whenDefined,Q.prototype.polyfillDefineLazy=Q.prototype.B,Q.prototype.polyfillWrapFlushCallback=Q.prototype.polyfillWrapFlushCallback;var oe={},re=window.customElements;function ae(){var N=new U;!function(t){function n(){var n=this.constructor,i=document.__CE_registry.u.get(n);if(!i)throw Error("Failed to construct a custom element: The constructor was not registered with `customElements`.");var o=i.constructionStack;if(0===o.length)return o=e.call(document,i.localName),Object.setPrototypeOf(o,n.prototype),o.__CE_state=1,o.__CE_definition=i,H(t,o),o;var r=o.length-1,a=o[r];if(a===oe)throw Error("Failed to construct '"+i.localName+"': This element was already constructed.");return o[r]=oe,Object.setPrototypeOf(a,n.prototype),H(t,a),a}n.prototype=E.prototype,Object.defineProperty(HTMLElement.prototype,"constructor",{writable:!0,configurable:!0,enumerable:!1,value:n}),window.HTMLElement=n}(N),function(e){Document.prototype.createElement=function(t){return G(e,this,t,null)},Document.prototype.importNode=function(t,i){return t=n.call(this,t,!!i),this.__CE_registry?$(e,t):z(e,t),t},Document.prototype.createElementNS=function(t,n){return G(e,this,n,t)},ie(e,Document.prototype,{prepend:i,append:o})}(N),ie(N,DocumentFragment.prototype,{prepend:r,append:a}),function(e){function t(t,n){Object.defineProperty(t,"textContent",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(t){if(this.nodeType===Node.TEXT_NODE)n.set.call(this,t);else{var i=void 0;if(this.firstChild){var o=this.childNodes,r=o.length;if(0<r&&B(this)){i=Array(r);for(var a=0;a<r;a++)i[a]=o[a]}}if(n.set.call(this,t),i)for(t=0;t<i.length;t++)W(e,i[t])}}})}Node.prototype.insertBefore=function(t,n){if(t instanceof DocumentFragment){var i=I(t);if(t=c.call(this,t,n),B(this))for(n=0;n<i.length;n++)V(e,i[n]);return t}return i=t instanceof Element&&B(t),n=c.call(this,t,n),i&&W(e,t),B(this)&&V(e,t),n},Node.prototype.appendChild=function(t){if(t instanceof DocumentFragment){var n=I(t);if(t=l.call(this,t),B(this))for(var i=0;i<n.length;i++)V(e,n[i]);return t}return n=t instanceof Element&&B(t),i=l.call(this,t),n&&W(e,t),B(this)&&V(e,t),i},Node.prototype.cloneNode=function(t){return t=s.call(this,!!t),this.ownerDocument.__CE_registry?$(e,t):z(e,t),t},Node.prototype.removeChild=function(t){var n=t instanceof Element&&B(t),i=u.call(this,t);return n&&W(e,t),i},Node.prototype.replaceChild=function(t,n){if(t instanceof DocumentFragment){var i=I(t);if(t=d.call(this,t,n),B(this))for(W(e,n),n=0;n<i.length;n++)V(e,i[n]);return t}i=t instanceof Element&&B(t);var o=d.call(this,t,n),r=B(this);return r&&W(e,n),i&&W(e,t),r&&V(e,t),o},p&&p.get?t(Node.prototype,p):function(e,t){e.f=!0,e.h.push(t)}(e,(function(e){t(e,{enumerable:!0,configurable:!0,get:function(){for(var e=[],t=this.firstChild;t;t=t.nextSibling)t.nodeType!==Node.COMMENT_NODE&&e.push(t.textContent);return e.join("")},set:function(e){for(;this.firstChild;)u.call(this,this.firstChild);null!=e&&""!==e&&l.call(this,document.createTextNode(e))}})}))}(N),function(e){function n(t,n){Object.defineProperty(t,"innerHTML",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(t){var i=this,o=void 0;if(B(this)&&(o=[],F(e,this,(function(e){e!==i&&o.push(e)}))),n.set.call(this,t),o)for(var r=0;r<o.length;r++){var a=o[r];1===a.__CE_state&&e.disconnectedCallback(a)}return this.ownerDocument.__CE_registry?$(e,this):z(e,this),t}})}function i(t,n){t.insertAdjacentElement=function(t,i){var o=B(i);return t=n.call(this,t,i),o&&W(e,i),B(t)&&V(e,i),t}}function o(t,n){function i(t,n){for(var i=[];t!==n;t=t.nextSibling)i.push(t);for(n=0;n<i.length;n++)$(e,i[n])}t.insertAdjacentHTML=function(e,t){if("beforebegin"===(e=e.toLowerCase())){var o=this.previousSibling;n.call(this,e,t),i(o||this.parentNode.firstChild,this)}else if("afterbegin"===e)o=this.firstChild,n.call(this,e,t),i(this.firstChild,o);else if("beforeend"===e)o=this.lastChild,n.call(this,e,t),i(o||this.firstChild,null);else{if("afterend"!==e)throw new SyntaxError("The value provided ("+String(e)+") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'.");o=this.nextSibling,n.call(this,e,t),i(this.nextSibling,o)}}}h&&(Element.prototype.attachShadow=function(t){if(t=h.call(this,t),e.f&&!t.__CE_patched){t.__CE_patched=!0;for(var n=0;n<e.h.length;n++)e.h[n](t)}return this.__CE_shadowRoot=t}),f&&f.get?n(Element.prototype,f):T&&T.get?n(HTMLElement.prototype,T):function(e,t){e.f=!0,e.a.push(t)}(e,(function(e){n(e,{enumerable:!0,configurable:!0,get:function(){return s.call(this,!0).innerHTML},set:function(e){var n="template"===this.localName,i=n?this.content:this,o=t.call(document,this.namespaceURI,this.localName);for(o.innerHTML=e;0<i.childNodes.length;)u.call(i,i.childNodes[0]);for(e=n?o.content:o;0<e.childNodes.length;)l.call(i,e.childNodes[0])}})})),Element.prototype.setAttribute=function(t,n){if(1!==this.__CE_state)return v.call(this,t,n);var i=m.call(this,t);v.call(this,t,n),n=m.call(this,t),e.attributeChangedCallback(this,t,i,n,null)},Element.prototype.setAttributeNS=function(t,n,i){if(1!==this.__CE_state)return b.call(this,t,n,i);var o=y.call(this,t,n);b.call(this,t,n,i),i=y.call(this,t,n),e.attributeChangedCallback(this,n,o,i,t)},Element.prototype.removeAttribute=function(t){if(1!==this.__CE_state)return g.call(this,t);var n=m.call(this,t);g.call(this,t),null!==n&&e.attributeChangedCallback(this,t,n,null,null)},Element.prototype.removeAttributeNS=function(t,n){if(1!==this.__CE_state)return x.call(this,t,n);var i=y.call(this,t,n);x.call(this,t,n);var o=y.call(this,t,n);i!==o&&e.attributeChangedCallback(this,n,i,o,t)},j?i(HTMLElement.prototype,j):w&&i(Element.prototype,w),R?o(HTMLElement.prototype,R):S&&o(Element.prototype,S),ie(e,Element.prototype,{prepend:k,append:C}),function(e){function t(t){return function(n){for(var i=[],o=0;o<arguments.length;++o)i[o]=arguments[o];o=[];for(var r=[],a=0;a<i.length;a++){var s=i[a];if(s instanceof Element&&B(s)&&r.push(s),s instanceof DocumentFragment)for(s=s.firstChild;s;s=s.nextSibling)o.push(s);else o.push(s)}for(t.apply(this,i),i=0;i<r.length;i++)W(e,r[i]);if(B(this))for(i=0;i<o.length;i++)(r=o[i])instanceof Element&&V(e,r)}}var n=Element.prototype;void 0!==M&&(n.before=t(M)),void 0!==_&&(n.after=t(_)),void 0!==O&&(n.replaceWith=function(t){for(var n=[],i=0;i<arguments.length;++i)n[i]=arguments[i];i=[];for(var o=[],r=0;r<n.length;r++){var a=n[r];if(a instanceof Element&&B(a)&&o.push(a),a instanceof DocumentFragment)for(a=a.firstChild;a;a=a.nextSibling)i.push(a);else i.push(a)}for(r=B(this),O.apply(this,n),n=0;n<o.length;n++)W(e,o[n]);if(r)for(W(e,this),n=0;n<i.length;n++)(o=i[n])instanceof Element&&V(e,o)}),void 0!==P&&(n.remove=function(){var t=B(this);P.call(this),t&&W(e,this)})}(e)}(N),N=new Q(N),document.__CE_registry=N,Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:N})}re&&!re.forcePolyfill&&"function"==typeof re.define&&"function"==typeof re.get||ae(),window.__CE_installPolyfill=ae}).call(self)},function(e,t,n){n(156),n(319),n(321),n(322),n(173),n(323),n(325),n(326),n(328),n(329),n(330),n(331),n(332),n(333),n(335),n(336),n(176),n(337),n(338),n(340),n(341),n(342),n(343),n(344),n(345),n(346),n(347),n(348),n(349),n(350);var i=n(53);e.exports=i.Array},function(e,t,n){var i=n(61),o=n(110),r=function(e){return function(t,n){var r,a,s=String(o(t)),l=i(n),c=s.length;return l<0||l>=c?e?"":void 0:(r=s.charCodeAt(l))<55296||r>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):r:e?s.slice(l,l+2):a-56320+(r-55296<<10)+65536}};e.exports={codeAt:r(!1),charAt:r(!0)}},function(e,t,n){var i=n(12),o=n(111),r=i.WeakMap;e.exports="function"==typeof r&&/native code/.test(o(r))},function(e,t,n){"use strict";var i=n(163).IteratorPrototype,o=n(72),r=n(62),a=n(64),s=n(74),l=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=o(i,{next:r(1,n)}),a(e,c,!1,!0),s[c]=l,e}},function(e,t,n){var i=n(4),o=n(320);i({target:"Array",stat:!0,forced:!n(172)((function(e){Array.from(e)}))},{from:o})},function(e,t,n){"use strict";var i=n(75),o=n(14),r=n(168),a=n(169),s=n(24),l=n(54),c=n(170);e.exports=function(e){var t,n,u,d,p,h,f=o(e),m="function"==typeof this?this:Array,v=arguments.length,g=v>1?arguments[1]:void 0,y=void 0!==g,b=c(f),x=0;if(y&&(g=i(g,v>2?arguments[2]:void 0,2)),null==b||m==Array&&a(b))for(n=new m(t=s(f.length));t>x;x++)h=y?g(f[x],x):f[x],l(n,x,h);else for(p=(d=b.call(f)).next,n=new m;!(u=p.call(d)).done;x++)h=y?r(d,g,[u.value,x],!0):u.value,l(n,x,h);return n.length=x,n}},function(e,t,n){n(4)({target:"Array",stat:!0},{isArray:n(55)})},function(e,t,n){"use strict";var i=n(4),o=n(7),r=n(54);i({target:"Array",stat:!0,forced:o((function(){function e(){}return!(Array.of.call(e)instanceof e)}))},{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)r(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){var i=n(4),o=n(324),r=n(42);i({target:"Array",proto:!0},{copyWithin:o}),r("copyWithin")},function(e,t,n){"use strict";var i=n(14),o=n(71),r=n(24),a=Math.min;e.exports=[].copyWithin||function(e,t){var n=i(this),s=r(n.length),l=o(e,s),c=o(t,s),u=arguments.length>2?arguments[2]:void 0,d=a((void 0===u?s:o(u,s))-c,s-l),p=1;for(c<l&&l<c+d&&(p=-1,c+=d-1,l+=d-1);d-- >0;)c in n?n[l]=n[c]:delete n[l],l+=p,c+=p;return n}},function(e,t,n){"use strict";var i=n(4),o=n(43).every,r=n(35),a=n(25),s=r("every"),l=a("every");i({target:"Array",proto:!0,forced:!s||!l},{every:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var i=n(4),o=n(327),r=n(42);i({target:"Array",proto:!0},{fill:o}),r("fill")},function(e,t,n){"use strict";var i=n(14),o=n(71),r=n(24);e.exports=function(e){for(var t=i(this),n=r(t.length),a=arguments.length,s=o(a>1?arguments[1]:void 0,n),l=a>2?arguments[2]:void 0,c=void 0===l?n:o(l,n);c>s;)t[s++]=e;return t}},function(e,t,n){"use strict";var i=n(4),o=n(43).filter,r=n(77),a=n(25),s=r("filter"),l=a("filter");i({target:"Array",proto:!0,forced:!s||!l},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var i=n(4),o=n(43).find,r=n(42),a=n(25),s=!0,l=a("find");"find"in[]&&Array(1).find((function(){s=!1})),i({target:"Array",proto:!0,forced:s||!l},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),r("find")},function(e,t,n){"use strict";var i=n(4),o=n(43).findIndex,r=n(42),a=n(25),s=!0,l=a("findIndex");"findIndex"in[]&&Array(1).findIndex((function(){s=!1})),i({target:"Array",proto:!0,forced:s||!l},{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),r("findIndex")},function(e,t,n){"use strict";var i=n(4),o=n(175),r=n(14),a=n(24),s=n(61),l=n(76);i({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=r(this),n=a(t.length),i=l(t,0);return i.length=o(i,t,t,n,0,void 0===e?1:s(e)),i}})},function(e,t,n){"use strict";var i=n(4),o=n(175),r=n(14),a=n(24),s=n(28),l=n(76);i({target:"Array",proto:!0},{flatMap:function(e){var t,n=r(this),i=a(n.length);return s(e),(t=l(n,0)).length=o(t,n,n,i,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},function(e,t,n){"use strict";var i=n(4),o=n(334);i({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},function(e,t,n){"use strict";var i=n(43).forEach,o=n(35),r=n(25),a=o("forEach"),s=r("forEach");e.exports=a&&s?[].forEach:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}},function(e,t,n){"use strict";var i=n(4),o=n(117).includes,r=n(42);i({target:"Array",proto:!0,forced:!n(25)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),r("includes")},function(e,t,n){"use strict";var i=n(4),o=n(117).indexOf,r=n(35),a=n(25),s=[].indexOf,l=!!s&&1/[1].indexOf(1,-0)<0,c=r("indexOf"),u=a("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:l||!c||!u},{indexOf:function(e){return l?s.apply(this,arguments)||0:o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var i=n(4),o=n(70),r=n(32),a=n(35),s=[].join,l=o!=Object,c=a("join",",");i({target:"Array",proto:!0,forced:l||!c},{join:function(e){return s.call(r(this),void 0===e?",":e)}})},function(e,t,n){var i=n(4),o=n(339);i({target:"Array",proto:!0,forced:o!==[].lastIndexOf},{lastIndexOf:o})},function(e,t,n){"use strict";var i=n(32),o=n(61),r=n(24),a=n(35),s=n(25),l=Math.min,c=[].lastIndexOf,u=!!c&&1/[1].lastIndexOf(1,-0)<0,d=a("lastIndexOf"),p=s("indexOf",{ACCESSORS:!0,1:0}),h=u||!d||!p;e.exports=h?function(e){if(u)return c.apply(this,arguments)||0;var t=i(this),n=r(t.length),a=n-1;for(arguments.length>1&&(a=l(a,o(arguments[1]))),a<0&&(a=n+a);a>=0;a--)if(a in t&&t[a]===e)return a||0;return-1}:c},function(e,t,n){"use strict";var i=n(4),o=n(43).map,r=n(77),a=n(25),s=r("map"),l=a("map");i({target:"Array",proto:!0,forced:!s||!l},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var i=n(4),o=n(177).left,r=n(35),a=n(25),s=r("reduce"),l=a("reduce",{1:0});i({target:"Array",proto:!0,forced:!s||!l},{reduce:function(e){return o(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var i=n(4),o=n(177).right,r=n(35),a=n(25),s=r("reduceRight"),l=a("reduce",{1:0});i({target:"Array",proto:!0,forced:!s||!l},{reduceRight:function(e){return o(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var i=n(4),o=n(55),r=[].reverse,a=[1,2];i({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return o(this)&&(this.length=this.length),r.call(this)}})},function(e,t,n){"use strict";var i=n(4),o=n(9),r=n(55),a=n(71),s=n(24),l=n(32),c=n(54),u=n(15),d=n(77),p=n(25),h=d("slice"),f=p("slice",{ACCESSORS:!0,0:0,1:2}),m=u("species"),v=[].slice,g=Math.max;i({target:"Array",proto:!0,forced:!h||!f},{slice:function(e,t){var n,i,u,d=l(this),p=s(d.length),h=a(e,p),f=a(void 0===t?p:t,p);if(r(d)&&("function"!=typeof(n=d.constructor)||n!==Array&&!r(n.prototype)?o(n)&&null===(n=n[m])&&(n=void 0):n=void 0,n===Array||void 0===n))return v.call(d,h,f);for(i=new(void 0===n?Array:n)(g(f-h,0)),u=0;h<f;h++,u++)h in d&&c(i,u,d[h]);return i.length=u,i}})},function(e,t,n){"use strict";var i=n(4),o=n(43).some,r=n(35),a=n(25),s=r("some"),l=a("some");i({target:"Array",proto:!0,forced:!s||!l},{some:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var i=n(4),o=n(28),r=n(14),a=n(7),s=n(35),l=[],c=l.sort,u=a((function(){l.sort(void 0)})),d=a((function(){l.sort(null)})),p=s("sort");i({target:"Array",proto:!0,forced:u||!d||!p},{sort:function(e){return void 0===e?c.call(r(this)):c.call(r(this),o(e))}})},function(e,t,n){n(178)("Array")},function(e,t,n){"use strict";var i=n(4),o=n(71),r=n(61),a=n(24),s=n(14),l=n(76),c=n(54),u=n(77),d=n(25),p=u("splice"),h=d("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,m=Math.min;i({target:"Array",proto:!0,forced:!p||!h},{splice:function(e,t){var n,i,u,d,p,h,v=s(this),g=a(v.length),y=o(e,g),b=arguments.length;if(0===b?n=i=0:1===b?(n=0,i=g-y):(n=b-2,i=m(f(r(t),0),g-y)),g+n-i>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(u=l(v,i),d=0;d<i;d++)(p=y+d)in v&&c(u,d,v[p]);if(u.length=i,n<i){for(d=y;d<g-i;d++)h=d+n,(p=d+i)in v?v[h]=v[p]:delete v[h];for(d=g;d>g-i+n;d--)delete v[d-1]}else if(n>i)for(d=g-i;d>y;d--)h=d+n-1,(p=d+i-1)in v?v[h]=v[p]:delete v[h];for(d=0;d<n;d++)v[d+y]=arguments[d+2];return v.length=g-i+n,u}})},function(e,t,n){n(42)("flat")},function(e,t,n){n(42)("flatMap")},function(e,t,n){n(179),n(352),n(354),n(355),n(356),n(357),n(358),n(359),n(360),n(361),n(362),n(363),n(364),n(366),n(367),n(368),n(369),n(370),n(371),n(372),n(373),n(127),n(375),n(376),n(377),n(378),n(183),n(184);var i=n(53);e.exports=i.Object},function(e,t,n){var i=n(4),o=n(353);i({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},function(e,t,n){"use strict";var i=n(10),o=n(7),r=n(73),a=n(119),s=n(91),l=n(14),c=n(70),u=Object.assign,d=Object.defineProperty;e.exports=!u||o((function(){if(i&&1!==u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=u({},e)[n]||"abcdefghijklmnopqrst"!=r(u({},t)).join("")}))?function(e,t){for(var n=l(e),o=arguments.length,u=1,d=a.f,p=s.f;o>u;)for(var h,f=c(arguments[u++]),m=d?r(f).concat(d(f)):r(f),v=m.length,g=0;v>g;)h=m[g++],i&&!p.call(f,h)||(n[h]=f[h]);return n}:u},function(e,t,n){n(4)({target:"Object",stat:!0,sham:!n(10)},{create:n(72)})},function(e,t,n){var i=n(4),o=n(10);i({target:"Object",stat:!0,forced:!o,sham:!o},{defineProperty:n(21).f})},function(e,t,n){var i=n(4),o=n(10);i({target:"Object",stat:!0,forced:!o,sham:!o},{defineProperties:n(165)})},function(e,t,n){var i=n(4),o=n(182).entries;i({target:"Object",stat:!0},{entries:function(e){return o(e)}})},function(e,t,n){var i=n(4),o=n(78),r=n(7),a=n(9),s=n(125).onFreeze,l=Object.freeze;i({target:"Object",stat:!0,forced:r((function(){l(1)})),sham:!o},{freeze:function(e){return l&&a(e)?l(s(e)):e}})},function(e,t,n){var i=n(4),o=n(126),r=n(54);i({target:"Object",stat:!0},{fromEntries:function(e){var t={};return o(e,(function(e,n){r(t,e,n)}),void 0,!0),t}})},function(e,t,n){var i=n(4),o=n(7),r=n(32),a=n(31).f,s=n(10),l=o((function(){a(1)}));i({target:"Object",stat:!0,forced:!s||l,sham:!s},{getOwnPropertyDescriptor:function(e,t){return a(r(e),t)}})},function(e,t,n){var i=n(4),o=n(10),r=n(115),a=n(32),s=n(31),l=n(54);i({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(e){for(var t,n,i=a(e),o=s.f,c=r(i),u={},d=0;c.length>d;)void 0!==(n=o(i,t=c[d++]))&&l(u,t,n);return u}})},function(e,t,n){var i=n(4),o=n(7),r=n(180).f;i({target:"Object",stat:!0,forced:o((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:r})},function(e,t,n){var i=n(4),o=n(7),r=n(14),a=n(41),s=n(120);i({target:"Object",stat:!0,forced:o((function(){a(1)})),sham:!s},{getPrototypeOf:function(e){return a(r(e))}})},function(e,t,n){n(4)({target:"Object",stat:!0},{is:n(365)})},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){var i=n(4),o=n(7),r=n(9),a=Object.isExtensible;i({target:"Object",stat:!0,forced:o((function(){a(1)}))},{isExtensible:function(e){return!!r(e)&&(!a||a(e))}})},function(e,t,n){var i=n(4),o=n(7),r=n(9),a=Object.isFrozen;i({target:"Object",stat:!0,forced:o((function(){a(1)}))},{isFrozen:function(e){return!r(e)||!!a&&a(e)}})},function(e,t,n){var i=n(4),o=n(7),r=n(9),a=Object.isSealed;i({target:"Object",stat:!0,forced:o((function(){a(1)}))},{isSealed:function(e){return!r(e)||!!a&&a(e)}})},function(e,t,n){var i=n(4),o=n(14),r=n(73);i({target:"Object",stat:!0,forced:n(7)((function(){r(1)}))},{keys:function(e){return r(o(e))}})},function(e,t,n){var i=n(4),o=n(9),r=n(125).onFreeze,a=n(78),s=n(7),l=Object.preventExtensions;i({target:"Object",stat:!0,forced:s((function(){l(1)})),sham:!a},{preventExtensions:function(e){return l&&o(e)?l(r(e)):e}})},function(e,t,n){var i=n(4),o=n(9),r=n(125).onFreeze,a=n(78),s=n(7),l=Object.seal;i({target:"Object",stat:!0,forced:s((function(){l(1)})),sham:!a},{seal:function(e){return l&&o(e)?l(r(e)):e}})},function(e,t,n){n(4)({target:"Object",stat:!0},{setPrototypeOf:n(122)})},function(e,t,n){var i=n(4),o=n(182).values;i({target:"Object",stat:!0},{values:function(e){return o(e)}})},function(e,t,n){"use strict";var i=n(123),o=n(171);e.exports=i?{}.toString:function(){return"[object "+o(this)+"]"}},function(e,t,n){"use strict";var i=n(4),o=n(10),r=n(92),a=n(14),s=n(28),l=n(21);o&&i({target:"Object",proto:!0,forced:r},{__defineGetter__:function(e,t){l.f(a(this),e,{get:s(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var i=n(4),o=n(10),r=n(92),a=n(14),s=n(28),l=n(21);o&&i({target:"Object",proto:!0,forced:r},{__defineSetter__:function(e,t){l.f(a(this),e,{set:s(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var i=n(4),o=n(10),r=n(92),a=n(14),s=n(50),l=n(41),c=n(31).f;o&&i({target:"Object",proto:!0,forced:r},{__lookupGetter__:function(e){var t,n=a(this),i=s(e,!0);do{if(t=c(n,i))return t.get}while(n=l(n))}})},function(e,t,n){"use strict";var i=n(4),o=n(10),r=n(92),a=n(14),s=n(50),l=n(41),c=n(31).f;o&&i({target:"Object",proto:!0,forced:r},{__lookupSetter__:function(e){var t,n=a(this),i=s(e,!0);do{if(t=c(n,i))return t.set}while(n=l(n))}})},function(e,t,n){n(127),n(156),n(380),n(382),n(387),n(388);var i=n(53);e.exports=i.Promise},function(e,t,n){var i=n(12),o=n(381),r=n(176),a=n(40),s=n(15),l=s("iterator"),c=s("toStringTag"),u=r.values;for(var d in o){var p=i[d],h=p&&p.prototype;if(h){if(h[l]!==u)try{a(h,l,u)}catch(m){h[l]=u}if(h[c]||a(h,c,d),o[d])for(var f in r)if(h[f]!==r[f])try{a(h,f,r[f])}catch(m){h[f]=r[f]}}}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){"use strict";var i,o,r,a,s=n(4),l=n(51),c=n(12),u=n(34),d=n(185),p=n(52),h=n(383),f=n(64),m=n(178),v=n(9),g=n(28),y=n(384),b=n(63),x=n(111),w=n(126),S=n(172),k=n(186),C=n(187).set,M=n(385),_=n(189),O=n(386),P=n(128),E=n(190),T=n(68),j=n(162),R=n(15),N=n(124),A=R("species"),D="Promise",B=T.get,I=T.set,L=T.getterFor(D),U=d,F=c.TypeError,z=c.document,H=c.process,V=u("fetch"),W=P.f,$=W,K="process"==b(H),G=!!(z&&z.createEvent&&c.dispatchEvent),q=j(D,(function(){if(x(U)===String(U)){if(66===N)return!0;if(!K&&"function"!=typeof PromiseRejectionEvent)return!0}if(l&&!U.prototype.finally)return!0;if(N>=51&&/native code/.test(U))return!1;var e=U.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[A]=t,!(e.then((function(){}))instanceof t)})),Y=q||!S((function(e){U.all(e).catch((function(){}))})),X=function(e){var t;return!(!v(e)||"function"!=typeof(t=e.then))&&t},J=function(e,t,n){if(!t.notified){t.notified=!0;var i=t.reactions;M((function(){for(var o=t.value,r=1==t.state,a=0;i.length>a;){var s,l,c,u=i[a++],d=r?u.ok:u.fail,p=u.resolve,h=u.reject,f=u.domain;try{d?(r||(2===t.rejection&&te(e,t),t.rejection=1),!0===d?s=o:(f&&f.enter(),s=d(o),f&&(f.exit(),c=!0)),s===u.promise?h(F("Promise-chain cycle")):(l=X(s))?l.call(s,p,h):p(s)):h(o)}catch(m){f&&!c&&f.exit(),h(m)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&Z(e,t)}))}},Q=function(e,t,n){var i,o;G?((i=z.createEvent("Event")).promise=t,i.reason=n,i.initEvent(e,!1,!0),c.dispatchEvent(i)):i={promise:t,reason:n},(o=c["on"+e])?o(i):"unhandledrejection"===e&&O("Unhandled promise rejection",n)},Z=function(e,t){C.call(c,(function(){var n,i=t.value;if(ee(t)&&(n=E((function(){K?H.emit("unhandledRejection",i,e):Q("unhandledrejection",e,i)})),t.rejection=K||ee(t)?2:1,n.error))throw n.value}))},ee=function(e){return 1!==e.rejection&&!e.parent},te=function(e,t){C.call(c,(function(){K?H.emit("rejectionHandled",e):Q("rejectionhandled",e,t.value)}))},ne=function(e,t,n,i){return function(o){e(t,n,o,i)}},ie=function(e,t,n,i){t.done||(t.done=!0,i&&(t=i),t.value=n,t.state=2,J(e,t,!0))},oe=function(e,t,n,i){if(!t.done){t.done=!0,i&&(t=i);try{if(e===n)throw F("Promise can't be resolved itself");var o=X(n);o?M((function(){var i={done:!1};try{o.call(n,ne(oe,e,i,t),ne(ie,e,i,t))}catch(r){ie(e,i,r,t)}})):(t.value=n,t.state=1,J(e,t,!1))}catch(r){ie(e,{done:!1},r,t)}}};q&&(U=function(e){y(this,U,D),g(e),i.call(this);var t=B(this);try{e(ne(oe,this,t),ne(ie,this,t))}catch(n){ie(this,t,n)}},(i=function(e){I(this,{type:D,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=h(U.prototype,{then:function(e,t){var n=L(this),i=W(k(this,U));return i.ok="function"!=typeof e||e,i.fail="function"==typeof t&&t,i.domain=K?H.domain:void 0,n.parent=!0,n.reactions.push(i),0!=n.state&&J(this,n,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new i,t=B(e);this.promise=e,this.resolve=ne(oe,e,t),this.reject=ne(ie,e,t)},P.f=W=function(e){return e===U||e===r?new o(e):$(e)},l||"function"!=typeof d||(a=d.prototype.then,p(d.prototype,"then",(function(e,t){var n=this;return new U((function(e,t){a.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof V&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return _(U,V.apply(c,arguments))}}))),s({global:!0,wrap:!0,forced:q},{Promise:U}),f(U,D,!1,!0),m(D),r=u(D),s({target:D,stat:!0,forced:q},{reject:function(e){var t=W(this);return t.reject.call(void 0,e),t.promise}}),s({target:D,stat:!0,forced:l||q},{resolve:function(e){return _(l&&this===r?U:this,e)}}),s({target:D,stat:!0,forced:Y},{all:function(e){var t=this,n=W(t),i=n.resolve,o=n.reject,r=E((function(){var n=g(t.resolve),r=[],a=0,s=1;w(e,(function(e){var l=a++,c=!1;r.push(void 0),s++,n.call(t,e).then((function(e){c||(c=!0,r[l]=e,--s||i(r))}),o)})),--s||i(r)}));return r.error&&o(r.value),n.promise},race:function(e){var t=this,n=W(t),i=n.reject,o=E((function(){var o=g(t.resolve);w(e,(function(e){o.call(t,e).then(n.resolve,i)}))}));return o.error&&i(o.value),n.promise}})},function(e,t,n){var i=n(52);e.exports=function(e,t,n){for(var o in t)i(e,o,t[o],n);return e}},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},function(e,t,n){var i,o,r,a,s,l,c,u,d=n(12),p=n(31).f,h=n(63),f=n(187).set,m=n(188),v=d.MutationObserver||d.WebKitMutationObserver,g=d.process,y=d.Promise,b="process"==h(g),x=p(d,"queueMicrotask"),w=x&&x.value;w||(i=function(){var e,t;for(b&&(e=g.domain)&&e.exit();o;){t=o.fn,o=o.next;try{t()}catch(n){throw o?a():r=void 0,n}}r=void 0,e&&e.enter()},b?a=function(){g.nextTick(i)}:v&&!m?(s=!0,l=document.createTextNode(""),new v(i).observe(l,{characterData:!0}),a=function(){l.data=s=!s}):y&&y.resolve?(c=y.resolve(void 0),u=c.then,a=function(){u.call(c,i)}):a=function(){f.call(d,i)}),e.exports=w||function(e){var t={fn:e,next:void 0};r&&(r.next=t),o||(o=t,a()),r=t}},function(e,t,n){var i=n(12);e.exports=function(e,t){var n=i.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},function(e,t,n){"use strict";var i=n(4),o=n(28),r=n(128),a=n(190),s=n(126);i({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=r.f(t),i=n.resolve,l=n.reject,c=a((function(){var n=o(t.resolve),r=[],a=0,l=1;s(e,(function(e){var o=a++,s=!1;r.push(void 0),l++,n.call(t,e).then((function(e){s||(s=!0,r[o]={status:"fulfilled",value:e},--l||i(r))}),(function(e){s||(s=!0,r[o]={status:"rejected",reason:e},--l||i(r))}))})),--l||i(r)}));return c.error&&l(c.value),n.promise}})},function(e,t,n){"use strict";var i=n(4),o=n(51),r=n(185),a=n(7),s=n(34),l=n(186),c=n(189),u=n(52);i({target:"Promise",proto:!0,real:!0,forced:!!r&&a((function(){r.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=l(this,s("Promise")),n="function"==typeof e;return this.then(n?function(n){return c(t,e()).then((function(){return n}))}:e,n?function(n){return c(t,e()).then((function(){throw n}))}:e)}}),o||"function"!=typeof r||r.prototype.finally||u(r.prototype,"finally",s("Promise").prototype.finally)},function(e,t,n){n(390),n(391),n(393),n(394),n(395),n(396),n(397),n(398),n(399),n(400),n(401),n(402),n(403);var i=n(53);e.exports=i.Reflect},function(e,t,n){var i=n(4),o=n(34),r=n(28),a=n(13),s=n(7),l=o("Reflect","apply"),c=Function.apply;i({target:"Reflect",stat:!0,forced:!s((function(){l((function(){}))}))},{apply:function(e,t,n){return r(e),a(n),l?l(e,t,n):c.call(e,t,n)}})},function(e,t,n){var i=n(4),o=n(34),r=n(28),a=n(13),s=n(9),l=n(72),c=n(392),u=n(7),d=o("Reflect","construct"),p=u((function(){function e(){}return!(d((function(){}),[],e)instanceof e)})),h=!u((function(){d((function(){}))})),f=p||h;i({target:"Reflect",stat:!0,forced:f,sham:f},{construct:function(e,t){r(e),a(t);var n=arguments.length<3?e:r(arguments[2]);if(h&&!p)return d(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var i=[null];return i.push.apply(i,t),new(c.apply(e,i))}var o=n.prototype,u=l(s(o)?o:Object.prototype),f=Function.apply.call(e,u,t);return s(f)?f:u}})},function(e,t,n){"use strict";var i=n(28),o=n(9),r=[].slice,a={},s=function(e,t,n){if(!(t in a)){for(var i=[],o=0;o<t;o++)i[o]="a["+o+"]";a[t]=Function("C,a","return new C("+i.join(",")+")")}return a[t](e,n)};e.exports=Function.bind||function(e){var t=i(this),n=r.call(arguments,1),a=function(){var i=n.concat(r.call(arguments));return this instanceof a?s(t,i.length,i):t.apply(e,i)};return o(t.prototype)&&(a.prototype=t.prototype),a}},function(e,t,n){var i=n(4),o=n(10),r=n(13),a=n(50),s=n(21);i({target:"Reflect",stat:!0,forced:n(7)((function(){Reflect.defineProperty(s.f({},1,{value:1}),1,{value:2})})),sham:!o},{defineProperty:function(e,t,n){r(e);var i=a(t,!0);r(n);try{return s.f(e,i,n),!0}catch(o){return!1}}})},function(e,t,n){var i=n(4),o=n(13),r=n(31).f;i({target:"Reflect",stat:!0},{deleteProperty:function(e,t){var n=r(o(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){var i=n(4),o=n(9),r=n(13),a=n(22),s=n(31),l=n(41);i({target:"Reflect",stat:!0},{get:function e(t,n){var i,c,u=arguments.length<3?t:arguments[2];return r(t)===u?t[n]:(i=s.f(t,n))?a(i,"value")?i.value:void 0===i.get?void 0:i.get.call(u):o(c=l(t))?e(c,n,u):void 0}})},function(e,t,n){var i=n(4),o=n(10),r=n(13),a=n(31);i({target:"Reflect",stat:!0,sham:!o},{getOwnPropertyDescriptor:function(e,t){return a.f(r(e),t)}})},function(e,t,n){var i=n(4),o=n(13),r=n(41);i({target:"Reflect",stat:!0,sham:!n(120)},{getPrototypeOf:function(e){return r(o(e))}})},function(e,t,n){n(4)({target:"Reflect",stat:!0},{has:function(e,t){return t in e}})},function(e,t,n){var i=n(4),o=n(13),r=Object.isExtensible;i({target:"Reflect",stat:!0},{isExtensible:function(e){return o(e),!r||r(e)}})},function(e,t,n){n(4)({target:"Reflect",stat:!0},{ownKeys:n(115)})},function(e,t,n){var i=n(4),o=n(34),r=n(13);i({target:"Reflect",stat:!0,sham:!n(78)},{preventExtensions:function(e){r(e);try{var t=o("Object","preventExtensions");return t&&t(e),!0}catch(n){return!1}}})},function(e,t,n){var i=n(4),o=n(13),r=n(9),a=n(22),s=n(7),l=n(21),c=n(31),u=n(41),d=n(62);i({target:"Reflect",stat:!0,forced:s((function(){var e=l.f({},"a",{configurable:!0});return!1!==Reflect.set(u(e),"a",1,e)}))},{set:function e(t,n,i){var s,p,h=arguments.length<4?t:arguments[3],f=c.f(o(t),n);if(!f){if(r(p=u(t)))return e(p,n,i,h);f=d(0)}if(a(f,"value")){if(!1===f.writable||!r(h))return!1;if(s=c.f(h,n)){if(s.get||s.set||!1===s.writable)return!1;s.value=i,l.f(h,n,s)}else l.f(h,n,d(0,i));return!0}return void 0!==f.set&&(f.set.call(h,i),!0)}})},function(e,t,n){var i=n(4),o=n(13),r=n(167),a=n(122);a&&i({target:"Reflect",stat:!0},{setPrototypeOf:function(e,t){o(e),r(t);try{return a(e,t),!0}catch(n){return!1}}})},function(e,t,n){n(173),n(127),n(179),n(405),n(406),n(407),n(408),n(409),n(410),n(411),n(412),n(413),n(414),n(415),n(416),n(417),n(418),n(183),n(184);var i=n(53);e.exports=i.Symbol},function(e,t,n){n(26)("asyncIterator")},function(e,t,n){"use strict";var i=n(4),o=n(10),r=n(12),a=n(22),s=n(9),l=n(21).f,c=n(160),u=r.Symbol;if(o&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},p=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof p?new u(e):void 0===e?u():u(e);return""===e&&(d[t]=!0),t};c(p,u);var h=p.prototype=u.prototype;h.constructor=p;var f=h.toString,m="Symbol(test)"==String(u("test")),v=/^Symbol\((.*)\)[^)]+$/;l(h,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=f.call(e);if(a(d,e))return"";var n=m?t.slice(7,-1):t.replace(v,"$1");return""===n?void 0:n}}),i({global:!0,forced:!0},{Symbol:p})}},function(e,t,n){n(26)("hasInstance")},function(e,t,n){n(26)("isConcatSpreadable")},function(e,t,n){n(26)("iterator")},function(e,t,n){n(26)("match")},function(e,t,n){n(26)("matchAll")},function(e,t,n){n(26)("replace")},function(e,t,n){n(26)("search")},function(e,t,n){n(26)("species")},function(e,t,n){n(26)("split")},function(e,t,n){n(26)("toPrimitive")},function(e,t,n){n(26)("toStringTag")},function(e,t,n){n(26)("unscopables")},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(420)},function(e,t,n){"use strict";var i=n(129),o=n(191),r=n(422);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!i)throw Error(a(227));function s(e,t,n,i,o,r,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var l=!1,c=null,u=!1,d=null,p={onError:function(e){l=!0,c=e}};function h(e,t,n,i,o,r,a,u,d){l=!1,c=null,s.apply(p,arguments)}var f=null,m=null,v=null;function g(e,t,n){var i=e.type||"unknown-event";e.currentTarget=v(n),function(e,t,n,i,o,r,s,p,f){if(h.apply(this,arguments),l){if(!l)throw Error(a(198));var m=c;l=!1,c=null,u||(u=!0,d=m)}}(i,t,void 0,e),e.currentTarget=null}var y=null,b={};function x(){if(y)for(var e in b){var t=b[e],n=y.indexOf(e);if(!(-1<n))throw Error(a(96,e));if(!S[n]){if(!t.extractEvents)throw Error(a(97,e));for(var i in S[n]=t,n=t.eventTypes){var o=void 0,r=n[i],s=t,l=i;if(k.hasOwnProperty(l))throw Error(a(99,l));k[l]=r;var c=r.phasedRegistrationNames;if(c){for(o in c)c.hasOwnProperty(o)&&w(c[o],s,l);o=!0}else r.registrationName?(w(r.registrationName,s,l),o=!0):o=!1;if(!o)throw Error(a(98,i,e))}}}}function w(e,t,n){if(C[e])throw Error(a(100,e));C[e]=t,M[e]=t.eventTypes[n].dependencies}var S=[],k={},C={},M={};function _(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var i=e[t];if(!b.hasOwnProperty(t)||b[t]!==i){if(b[t])throw Error(a(102,t));b[t]=i,n=!0}}n&&x()}var O=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),P=null,E=null,T=null;function j(e){if(e=m(e)){if("function"!=typeof P)throw Error(a(280));var t=e.stateNode;t&&(t=f(t),P(e.stateNode,e.type,t))}}function R(e){E?T?T.push(e):T=[e]:E=e}function N(){if(E){var e=E,t=T;if(T=E=null,j(e),t)for(e=0;e<t.length;e++)j(t[e])}}function A(e,t){return e(t)}function D(e,t,n,i,o){return e(t,n,i,o)}function B(){}var I=A,L=!1,U=!1;function F(){null===E&&null===T||(B(),N())}function z(e,t,n){if(U)return e(t,n);U=!0;try{return I(e,t,n)}finally{U=!1,F()}}var H=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,V=Object.prototype.hasOwnProperty,W={},$={};function K(e,t,n,i,o,r){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=r}var G={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){G[e]=new K(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];G[t]=new K(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){G[e]=new K(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){G[e]=new K(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){G[e]=new K(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){G[e]=new K(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){G[e]=new K(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){G[e]=new K(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){G[e]=new K(e,5,!1,e.toLowerCase(),null,!1)}));var q=/[\-:]([a-z])/g;function Y(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(q,Y);G[t]=new K(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(q,Y);G[t]=new K(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(q,Y);G[t]=new K(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){G[e]=new K(e,1,!1,e.toLowerCase(),null,!1)})),G.xlinkHref=new K("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){G[e]=new K(e,1,!1,e.toLowerCase(),null,!0)}));var X=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function J(e,t,n,i){var o=G.hasOwnProperty(t)?G[t]:null;(null!==o?0===o.type:!i&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,i){if(null==t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,i)&&(n=null),i||null===o?function(e){return!!V.call($,e)||!V.call(W,e)&&(H.test(e)?$[e]=!0:(W[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,i=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}X.hasOwnProperty("ReactCurrentDispatcher")||(X.ReactCurrentDispatcher={current:null}),X.hasOwnProperty("ReactCurrentBatchConfig")||(X.ReactCurrentBatchConfig={suspense:null});var Q=/^(.*)[\\\/]/,Z="function"==typeof Symbol&&Symbol.for,ee=Z?Symbol.for("react.element"):60103,te=Z?Symbol.for("react.portal"):60106,ne=Z?Symbol.for("react.fragment"):60107,ie=Z?Symbol.for("react.strict_mode"):60108,oe=Z?Symbol.for("react.profiler"):60114,re=Z?Symbol.for("react.provider"):60109,ae=Z?Symbol.for("react.context"):60110,se=Z?Symbol.for("react.concurrent_mode"):60111,le=Z?Symbol.for("react.forward_ref"):60112,ce=Z?Symbol.for("react.suspense"):60113,ue=Z?Symbol.for("react.suspense_list"):60120,de=Z?Symbol.for("react.memo"):60115,pe=Z?Symbol.for("react.lazy"):60116,he=Z?Symbol.for("react.block"):60121,fe="function"==typeof Symbol&&Symbol.iterator;function me(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=fe&&e[fe]||e["@@iterator"])?e:null}function ve(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case oe:return"Profiler";case ie:return"StrictMode";case ce:return"Suspense";case ue:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case ae:return"Context.Consumer";case re:return"Context.Provider";case le:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case de:return ve(e.type);case he:return ve(e.render);case pe:if(e=1===e._status?e._result:null)return ve(e)}return null}function ge(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var i=e._debugOwner,o=e._debugSource,r=ve(e.type);n=null,i&&(n=ve(i.type)),i=r,r="",o?r=" (at "+o.fileName.replace(Q,"")+":"+o.lineNumber+")":n&&(r=" (created by "+n+")"),n="\n    in "+(i||"Unknown")+r}t+=n,e=e.return}while(e);return t}function ye(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function xe(e){e._valueTracker||(e._valueTracker=function(e){var t=be(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){i=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function we(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=be(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function Se(e,t){var n=t.checked;return o({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ke(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=ye(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Ce(e,t){null!=(t=t.checked)&&J(e,"checked",t,!1)}function Me(e,t){Ce(e,t);var n=ye(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?Oe(e,t.type,n):t.hasOwnProperty("defaultValue")&&Oe(e,t.type,ye(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function _e(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Oe(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Pe(e,t){return e=o({children:void 0},t),(t=function(e){var t="";return i.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ee(e,t,n,i){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&i&&(e[n].defaultSelected=!0)}else{for(n=""+ye(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(i&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function Te(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return o({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function je(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ye(n)}}function Re(e,t){var n=ye(t.value),i=ye(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function Ne(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function Ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function De(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Be,Ie,Le=(Ie=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((Be=Be||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Be.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction((function(){return Ie(e,t)}))}:Ie);function Ue(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Fe(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ze={animationend:Fe("Animation","AnimationEnd"),animationiteration:Fe("Animation","AnimationIteration"),animationstart:Fe("Animation","AnimationStart"),transitionend:Fe("Transition","TransitionEnd")},He={},Ve={};function We(e){if(He[e])return He[e];if(!ze[e])return e;var t,n=ze[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ve)return He[e]=n[t];return e}O&&(Ve=document.createElement("div").style,"AnimationEvent"in window||(delete ze.animationend.animation,delete ze.animationiteration.animation,delete ze.animationstart.animation),"TransitionEvent"in window||delete ze.transitionend.transition);var $e=We("animationend"),Ke=We("animationiteration"),Ge=We("animationstart"),qe=We("transitionend"),Ye="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xe=new("function"==typeof WeakMap?WeakMap:Map);function Je(e){var t=Xe.get(e);return void 0===t&&(t=new Map,Xe.set(e,t)),t}function Qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function et(e){if(Qe(e)!==e)throw Error(a(188))}function tt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(null===o)break;var r=o.alternate;if(null===r){if(null!==(i=o.return)){n=i;continue}break}if(o.child===r.child){for(r=o.child;r;){if(r===n)return et(o),e;if(r===i)return et(o),t;r=r.sibling}throw Error(a(188))}if(n.return!==i.return)n=o,i=r;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,i=r;break}if(l===i){s=!0,i=o,n=r;break}l=l.sibling}if(!s){for(l=r.child;l;){if(l===n){s=!0,n=r,i=o;break}if(l===i){s=!0,i=r,n=o;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==i)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function nt(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function it(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var ot=null;function rt(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var i=0;i<t.length&&!e.isPropagationStopped();i++)g(e,t[i],n[i]);else t&&g(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function at(e){if(null!==e&&(ot=nt(ot,e)),e=ot,ot=null,e){if(it(e,rt),ot)throw Error(a(95));if(u)throw e=d,u=!1,d=null,e}}function st(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function lt(e){if(!O)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var ct=[];function ut(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ct.length&&ct.push(e)}function dt(e,t,n,i){if(ct.length){var o=ct.pop();return o.topLevelType=e,o.eventSystemFlags=i,o.nativeEvent=t,o.targetInst=n,o}return{topLevelType:e,eventSystemFlags:i,nativeEvent:t,targetInst:n,ancestors:[]}}function pt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var i=n;if(3===i.tag)i=i.stateNode.containerInfo;else{for(;i.return;)i=i.return;i=3!==i.tag?null:i.stateNode.containerInfo}if(!i)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=_n(i)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var o=st(e.nativeEvent);i=e.topLevelType;var r=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var s=null,l=0;l<S.length;l++){var c=S[l];c&&(c=c.extractEvents(i,t,r,o,a))&&(s=nt(s,c))}at(s)}}function ht(e,t,n){if(!n.has(e)){switch(e){case"scroll":Gt(t,"scroll",!0);break;case"focus":case"blur":Gt(t,"focus",!0),Gt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":lt(e)&&Gt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ye.indexOf(e)&&Kt(e,t)}n.set(e,null)}}var ft,mt,vt,gt=!1,yt=[],bt=null,xt=null,wt=null,St=new Map,kt=new Map,Ct=[],Mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),_t="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Ot(e,t,n,i,o){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:o,container:i}}function Pt(e,t){switch(e){case"focus":case"blur":bt=null;break;case"dragenter":case"dragleave":xt=null;break;case"mouseover":case"mouseout":wt=null;break;case"pointerover":case"pointerout":St.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":kt.delete(t.pointerId)}}function Et(e,t,n,i,o,r){return null===e||e.nativeEvent!==r?(e=Ot(t,n,i,o,r),null!==t&&null!==(t=On(t))&&mt(t),e):(e.eventSystemFlags|=i,e)}function Tt(e){var t=_n(e.target);if(null!==t){var n=Qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ze(n)))return e.blockedOn=t,void r.unstable_runWithPriority(e.priority,(function(){vt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=On(t);return null!==n&&mt(n),e.blockedOn=t,!1}return!0}function Rt(e,t,n){jt(e)&&n.delete(t)}function Nt(){for(gt=!1;0<yt.length;){var e=yt[0];if(null!==e.blockedOn){null!==(e=On(e.blockedOn))&&ft(e);break}var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:yt.shift()}null!==bt&&jt(bt)&&(bt=null),null!==xt&&jt(xt)&&(xt=null),null!==wt&&jt(wt)&&(wt=null),St.forEach(Rt),kt.forEach(Rt)}function At(e,t){e.blockedOn===t&&(e.blockedOn=null,gt||(gt=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Nt)))}function Dt(e){function t(t){return At(t,e)}if(0<yt.length){At(yt[0],e);for(var n=1;n<yt.length;n++){var i=yt[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==bt&&At(bt,e),null!==xt&&At(xt,e),null!==wt&&At(wt,e),St.forEach(t),kt.forEach(t),n=0;n<Ct.length;n++)(i=Ct[n]).blockedOn===e&&(i.blockedOn=null);for(;0<Ct.length&&null===(n=Ct[0]).blockedOn;)Tt(n),null===n.blockedOn&&Ct.shift()}var Bt={},It=new Map,Lt=new Map,Ut=["abort","abort",$e,"animationEnd",Ke,"animationIteration",Ge,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",qe,"transitionEnd","waiting","waiting"];function Ft(e,t){for(var n=0;n<e.length;n+=2){var i=e[n],o=e[n+1],r="on"+(o[0].toUpperCase()+o.slice(1));r={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[i],eventPriority:t},Lt.set(i,t),It.set(i,r),Bt[o]=r}}Ft("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ft("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ft(Ut,2);for(var zt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ht=0;Ht<zt.length;Ht++)Lt.set(zt[Ht],0);var Vt=r.unstable_UserBlockingPriority,Wt=r.unstable_runWithPriority,$t=!0;function Kt(e,t){Gt(t,e,!1)}function Gt(e,t,n){var i=Lt.get(t);switch(void 0===i?2:i){case 0:i=qt.bind(null,t,1,e);break;case 1:i=Yt.bind(null,t,1,e);break;default:i=Xt.bind(null,t,1,e)}n?e.addEventListener(t,i,!0):e.addEventListener(t,i,!1)}function qt(e,t,n,i){L||B();var o=Xt,r=L;L=!0;try{D(o,e,t,n,i)}finally{(L=r)||F()}}function Yt(e,t,n,i){Wt(Vt,Xt.bind(null,e,t,n,i))}function Xt(e,t,n,i){if($t)if(0<yt.length&&-1<Mt.indexOf(e))e=Ot(null,e,t,n,i),yt.push(e);else{var o=Jt(e,t,n,i);if(null===o)Pt(e,i);else if(-1<Mt.indexOf(e))e=Ot(o,e,t,n,i),yt.push(e);else if(!function(e,t,n,i,o){switch(t){case"focus":return bt=Et(bt,e,t,n,i,o),!0;case"dragenter":return xt=Et(xt,e,t,n,i,o),!0;case"mouseover":return wt=Et(wt,e,t,n,i,o),!0;case"pointerover":var r=o.pointerId;return St.set(r,Et(St.get(r)||null,e,t,n,i,o)),!0;case"gotpointercapture":return r=o.pointerId,kt.set(r,Et(kt.get(r)||null,e,t,n,i,o)),!0}return!1}(o,e,t,n,i)){Pt(e,i),e=dt(e,i,null,t);try{z(pt,e)}finally{ut(e)}}}}function Jt(e,t,n,i){if(null!==(n=_n(n=st(i)))){var o=Qe(n);if(null===o)n=null;else{var r=o.tag;if(13===r){if(null!==(n=Ze(o)))return n;n=null}else if(3===r){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null)}}e=dt(e,i,n,t);try{z(pt,e)}finally{ut(e)}return null}var Qt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zt=["Webkit","ms","Moz","O"];function en(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Qt.hasOwnProperty(e)&&Qt[e]?(""+t).trim():t+"px"}function tn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),o=en(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,o):e[n]=o}}Object.keys(Qt).forEach((function(e){Zt.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qt[t]=Qt[e]}))}));var nn=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(e,t){if(t){if(nn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62,""))}}function rn(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var an="http://www.w3.org/1999/xhtml";function sn(e,t){var n=Je(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=M[t];for(var i=0;i<t.length;i++)ht(t[i],e,n)}function ln(){}function cn(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function un(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var n,i=un(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=un(i)}}function pn(){for(var e=window,t=cn();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=cn((e=t.contentWindow).document)}return t}function hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var fn=null,mn=null;function vn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function gn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var yn="function"==typeof setTimeout?setTimeout:void 0,bn="function"==typeof clearTimeout?clearTimeout:void 0;function xn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function wn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Sn=Math.random().toString(36).slice(2),kn="__reactInternalInstance$"+Sn,Cn="__reactEventHandlers$"+Sn,Mn="__reactContainere$"+Sn;function _n(e){var t=e[kn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Mn]||n[kn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=wn(e);null!==e;){if(n=e[kn])return n;e=wn(e)}return t}n=(e=n).parentNode}return null}function On(e){return!(e=e[kn]||e[Mn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Pn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function En(e){return e[Cn]||null}function Tn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function jn(e,t){var n=e.stateNode;if(!n)return null;var i=f(n);if(!i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}function Rn(e,t,n){(t=jn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=nt(n._dispatchListeners,t),n._dispatchInstances=nt(n._dispatchInstances,e))}function Nn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Tn(t);for(t=n.length;0<t--;)Rn(n[t],"captured",e);for(t=0;t<n.length;t++)Rn(n[t],"bubbled",e)}}function An(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=jn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=nt(n._dispatchListeners,t),n._dispatchInstances=nt(n._dispatchInstances,e))}function Dn(e){e&&e.dispatchConfig.registrationName&&An(e._targetInst,null,e)}function Bn(e){it(e,Nn)}var In=null,Ln=null,Un=null;function Fn(){if(Un)return Un;var e,t,n=Ln,i=n.length,o="value"in In?In.value:In.textContent,r=o.length;for(e=0;e<i&&n[e]===o[e];e++);var a=i-e;for(t=1;t<=a&&n[i-t]===o[r-t];t++);return Un=o.slice(e,1<t?1-t:void 0)}function zn(){return!0}function Hn(){return!1}function Vn(e,t,n,i){for(var o in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(o)&&((t=e[o])?this[o]=t(n):"target"===o?this.target=i:this[o]=n[o]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?zn:Hn,this.isPropagationStopped=Hn,this}function Wn(e,t,n,i){if(this.eventPool.length){var o=this.eventPool.pop();return this.call(o,e,t,n,i),o}return new this(e,t,n,i)}function $n(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Kn(e){e.eventPool=[],e.getPooled=Wn,e.release=$n}o(Vn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=zn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=zn)},persist:function(){this.isPersistent=zn},isPersistent:Hn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Hn,this._dispatchInstances=this._dispatchListeners=null}}),Vn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Vn.extend=function(e){function t(){}function n(){return i.apply(this,arguments)}var i=this;t.prototype=i.prototype;var r=new t;return o(r,n.prototype),n.prototype=r,n.prototype.constructor=n,n.Interface=o({},i.Interface,e),n.extend=i.extend,Kn(n),n},Kn(Vn);var Gn=Vn.extend({data:null}),qn=Vn.extend({data:null}),Yn=[9,13,27,32],Xn=O&&"CompositionEvent"in window,Jn=null;O&&"documentMode"in document&&(Jn=document.documentMode);var Qn=O&&"TextEvent"in window&&!Jn,Zn=O&&(!Xn||Jn&&8<Jn&&11>=Jn),ei=String.fromCharCode(32),ti={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},ni=!1;function ii(e,t){switch(e){case"keyup":return-1!==Yn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function oi(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var ri=!1,ai={eventTypes:ti,extractEvents:function(e,t,n,i){var o;if(Xn)e:{switch(e){case"compositionstart":var r=ti.compositionStart;break e;case"compositionend":r=ti.compositionEnd;break e;case"compositionupdate":r=ti.compositionUpdate;break e}r=void 0}else ri?ii(e,n)&&(r=ti.compositionEnd):"keydown"===e&&229===n.keyCode&&(r=ti.compositionStart);return r?(Zn&&"ko"!==n.locale&&(ri||r!==ti.compositionStart?r===ti.compositionEnd&&ri&&(o=Fn()):(Ln="value"in(In=i)?In.value:In.textContent,ri=!0)),r=Gn.getPooled(r,t,n,i),(o||null!==(o=oi(n)))&&(r.data=o),Bn(r),o=r):o=null,(e=Qn?function(e,t){switch(e){case"compositionend":return oi(t);case"keypress":return 32!==t.which?null:(ni=!0,ei);case"textInput":return(e=t.data)===ei&&ni?null:e;default:return null}}(e,n):function(e,t){if(ri)return"compositionend"===e||!Xn&&ii(e,t)?(e=Fn(),Un=Ln=In=null,ri=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Zn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=qn.getPooled(ti.beforeInput,t,n,i)).data=e,Bn(t)):t=null,null===o?t:null===t?o:[o,t]}},si={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function li(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!si[e.type]:"textarea"===t}var ci={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function ui(e,t,n){return(e=Vn.getPooled(ci.change,e,t,n)).type="change",R(n),Bn(e),e}var di=null,pi=null;function hi(e){at(e)}function fi(e){if(we(Pn(e)))return e}function mi(e,t){if("change"===e)return t}var vi=!1;function gi(){di&&(di.detachEvent("onpropertychange",yi),pi=di=null)}function yi(e){if("value"===e.propertyName&&fi(pi))if(e=ui(pi,e,st(e)),L)at(e);else{L=!0;try{A(hi,e)}finally{L=!1,F()}}}function bi(e,t,n){"focus"===e?(gi(),pi=n,(di=t).attachEvent("onpropertychange",yi)):"blur"===e&&gi()}function xi(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return fi(pi)}function wi(e,t){if("click"===e)return fi(t)}function Si(e,t){if("input"===e||"change"===e)return fi(t)}O&&(vi=lt("input")&&(!document.documentMode||9<document.documentMode));var ki={eventTypes:ci,_isInputEventSupported:vi,extractEvents:function(e,t,n,i){var o=t?Pn(t):window,r=o.nodeName&&o.nodeName.toLowerCase();if("select"===r||"input"===r&&"file"===o.type)var a=mi;else if(li(o))if(vi)a=Si;else{a=xi;var s=bi}else(r=o.nodeName)&&"input"===r.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(a=wi);if(a&&(a=a(e,t)))return ui(a,n,i);s&&s(e,o,t),"blur"===e&&(e=o._wrapperState)&&e.controlled&&"number"===o.type&&Oe(o,"number",o.value)}},Ci=Vn.extend({view:null,detail:null}),Mi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _i(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Mi[e])&&!!t[e]}function Oi(){return _i}var Pi=0,Ei=0,Ti=!1,ji=!1,Ri=Ci.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Oi,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Pi;return Pi=e.screenX,Ti?"mousemove"===e.type?e.screenX-t:0:(Ti=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Ei;return Ei=e.screenY,ji?"mousemove"===e.type?e.screenY-t:0:(ji=!0,0)}}),Ni=Ri.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Ai={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Di={eventTypes:Ai,extractEvents:function(e,t,n,i,o){var r="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(r&&0==(32&o)&&(n.relatedTarget||n.fromElement)||!a&&!r)return null;if(r=i.window===i?i:(r=i.ownerDocument)?r.defaultView||r.parentWindow:window,a?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?_n(t):null)&&(t!==Qe(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null,a===t)return null;if("mouseout"===e||"mouseover"===e)var s=Ri,l=Ai.mouseLeave,c=Ai.mouseEnter,u="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Ni,l=Ai.pointerLeave,c=Ai.pointerEnter,u="pointer");if(e=null==a?r:Pn(a),r=null==t?r:Pn(t),(l=s.getPooled(l,a,n,i)).type=u+"leave",l.target=e,l.relatedTarget=r,(n=s.getPooled(c,t,n,i)).type=u+"enter",n.target=r,n.relatedTarget=e,u=t,(i=a)&&u)e:{for(c=u,a=0,e=s=i;e;e=Tn(e))a++;for(e=0,t=c;t;t=Tn(t))e++;for(;0<a-e;)s=Tn(s),a--;for(;0<e-a;)c=Tn(c),e--;for(;a--;){if(s===c||s===c.alternate)break e;s=Tn(s),c=Tn(c)}s=null}else s=null;for(c=s,s=[];i&&i!==c&&(null===(a=i.alternate)||a!==c);)s.push(i),i=Tn(i);for(i=[];u&&u!==c&&(null===(a=u.alternate)||a!==c);)i.push(u),u=Tn(u);for(u=0;u<s.length;u++)An(s[u],"bubbled",l);for(u=i.length;0<u--;)An(i[u],"captured",n);return 0==(64&o)?[l]:[l,n]}},Bi="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Ii=Object.prototype.hasOwnProperty;function Li(e,t){if(Bi(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!Ii.call(t,n[i])||!Bi(e[n[i]],t[n[i]]))return!1;return!0}var Ui=O&&"documentMode"in document&&11>=document.documentMode,Fi={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},zi=null,Hi=null,Vi=null,Wi=!1;function $i(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Wi||null==zi||zi!==cn(n)?null:(n="selectionStart"in(n=zi)&&hn(n)?{start:n.selectionStart,end:n.selectionEnd}:{anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Vi&&Li(Vi,n)?null:(Vi=n,(e=Vn.getPooled(Fi.select,Hi,e,t)).type="select",e.target=zi,Bn(e),e))}var Ki={eventTypes:Fi,extractEvents:function(e,t,n,i,o,r){if(!(r=!(o=r||(i.window===i?i.document:9===i.nodeType?i:i.ownerDocument)))){e:{o=Je(o),r=M.onSelect;for(var a=0;a<r.length;a++)if(!o.has(r[a])){o=!1;break e}o=!0}r=!o}if(r)return null;switch(o=t?Pn(t):window,e){case"focus":(li(o)||"true"===o.contentEditable)&&(zi=o,Hi=t,Vi=null);break;case"blur":Vi=Hi=zi=null;break;case"mousedown":Wi=!0;break;case"contextmenu":case"mouseup":case"dragend":return Wi=!1,$i(n,i);case"selectionchange":if(Ui)break;case"keydown":case"keyup":return $i(n,i)}return null}},Gi=Vn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),qi=Vn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yi=Ci.extend({relatedTarget:null});function Xi(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Ji={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zi=Ci.extend({key:function(e){if(e.key){var t=Ji[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Xi(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Qi[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Oi,charCode:function(e){return"keypress"===e.type?Xi(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Xi(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),eo=Ri.extend({dataTransfer:null}),to=Ci.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Oi}),no=Vn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),io=Ri.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),oo={eventTypes:Bt,extractEvents:function(e,t,n,i){var o=It.get(e);if(!o)return null;switch(e){case"keypress":if(0===Xi(n))return null;case"keydown":case"keyup":e=Zi;break;case"blur":case"focus":e=Yi;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Ri;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=eo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=to;break;case $e:case Ke:case Ge:e=Gi;break;case qe:e=no;break;case"scroll":e=Ci;break;case"wheel":e=io;break;case"copy":case"cut":case"paste":e=qi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Ni;break;default:e=Vn}return Bn(t=e.getPooled(o,t,n,i)),t}};if(y)throw Error(a(101));y=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),x(),f=En,m=On,v=Pn,_({SimpleEventPlugin:oo,EnterLeaveEventPlugin:Di,ChangeEventPlugin:ki,SelectEventPlugin:Ki,BeforeInputEventPlugin:ai});var ro=[],ao=-1;function so(e){0>ao||(e.current=ro[ao],ro[ao]=null,ao--)}function lo(e,t){ao++,ro[ao]=e.current,e.current=t}var co={},uo={current:co},po={current:!1},ho=co;function fo(e,t){var n=e.type.contextTypes;if(!n)return co;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var o,r={};for(o in n)r[o]=t[o];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function mo(e){return null!=e.childContextTypes}function vo(){so(po),so(uo)}function go(e,t,n){if(uo.current!==co)throw Error(a(168));lo(uo,t),lo(po,n)}function yo(e,t,n){var i=e.stateNode;if(e=t.childContextTypes,"function"!=typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in e))throw Error(a(108,ve(t)||"Unknown",r));return o({},n,{},i)}function bo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||co,ho=uo.current,lo(uo,e),lo(po,po.current),!0}function xo(e,t,n){var i=e.stateNode;if(!i)throw Error(a(169));n?(e=yo(e,t,ho),i.__reactInternalMemoizedMergedChildContext=e,so(po),so(uo),lo(uo,e)):so(po),lo(po,n)}var wo=r.unstable_runWithPriority,So=r.unstable_scheduleCallback,ko=r.unstable_cancelCallback,Co=r.unstable_requestPaint,Mo=r.unstable_now,_o=r.unstable_getCurrentPriorityLevel,Oo=r.unstable_ImmediatePriority,Po=r.unstable_UserBlockingPriority,Eo=r.unstable_NormalPriority,To=r.unstable_LowPriority,jo=r.unstable_IdlePriority,Ro={},No=r.unstable_shouldYield,Ao=void 0!==Co?Co:function(){},Do=null,Bo=null,Io=!1,Lo=Mo(),Uo=1e4>Lo?Mo:function(){return Mo()-Lo};function Fo(){switch(_o()){case Oo:return 99;case Po:return 98;case Eo:return 97;case To:return 96;case jo:return 95;default:throw Error(a(332))}}function zo(e){switch(e){case 99:return Oo;case 98:return Po;case 97:return Eo;case 96:return To;case 95:return jo;default:throw Error(a(332))}}function Ho(e,t){return e=zo(e),wo(e,t)}function Vo(e,t,n){return e=zo(e),So(e,t,n)}function Wo(e){return null===Do?(Do=[e],Bo=So(Oo,Ko)):Do.push(e),Ro}function $o(){if(null!==Bo){var e=Bo;Bo=null,ko(e)}Ko()}function Ko(){if(!Io&&null!==Do){Io=!0;var e=0;try{var t=Do;Ho(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Do=null}catch(n){throw null!==Do&&(Do=Do.slice(e+1)),So(Oo,$o),n}finally{Io=!1}}}function Go(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function qo(e,t){if(e&&e.defaultProps)for(var n in t=o({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Yo={current:null},Xo=null,Jo=null,Qo=null;function Zo(){Qo=Jo=Xo=null}function er(e){var t=Yo.current;so(Yo),e.type._context._currentValue=t}function tr(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function nr(e,t){Xo=e,Qo=Jo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Ea=!0),e.firstContext=null)}function ir(e,t){if(Qo!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Qo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Jo){if(null===Xo)throw Error(a(308));Jo=t,Xo.dependencies={expirationTime:0,firstContext:t,responders:null}}else Jo=Jo.next=t;return e._currentValue}var or=!1;function rr(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ar(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function sr(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function lr(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function cr(e,t){var n=e.alternate;null!==n&&ar(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function ur(e,t,n,i){var r=e.updateQueue;or=!1;var a=r.baseQueue,s=r.shared.pending;if(null!==s){if(null!==a){var l=a.next;a.next=s.next,s.next=l}a=s,r.shared.pending=null,null!==(l=e.alternate)&&null!==(l=l.updateQueue)&&(l.baseQueue=s)}if(null!==a){l=a.next;var c=r.baseState,u=0,d=null,p=null,h=null;if(null!==l)for(var f=l;;){if((s=f.expirationTime)<i){var m={expirationTime:f.expirationTime,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null};null===h?(p=h=m,d=c):h=h.next=m,s>u&&(u=s)}else{null!==h&&(h=h.next={expirationTime:1073741823,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null}),ol(s,f.suspenseConfig);e:{var v=e,g=f;switch(s=t,m=n,g.tag){case 1:if("function"==typeof(v=g.payload)){c=v.call(m,c,s);break e}c=v;break e;case 3:v.effectTag=-4097&v.effectTag|64;case 0:if(null==(s="function"==typeof(v=g.payload)?v.call(m,c,s):v))break e;c=o({},c,s);break e;case 2:or=!0}}null!==f.callback&&(e.effectTag|=32,null===(s=r.effects)?r.effects=[f]:s.push(f))}if(null===(f=f.next)||f===l){if(null===(s=r.shared.pending))break;f=a.next=s.next,s.next=l,r.baseQueue=a=s,r.shared.pending=null}}null===h?d=c:h.next=p,r.baseState=d,r.baseQueue=h,rl(u),e.expirationTime=u,e.memoizedState=c}}function dr(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],o=i.callback;if(null!==o){if(i.callback=null,i=o,o=n,"function"!=typeof i)throw Error(a(191,i));i.call(o)}}}var pr=X.ReactCurrentBatchConfig,hr=(new i.Component).refs;function fr(e,t,n,i){n=null==(n=n(i,t=e.memoizedState))?t:o({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var mr={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var i=$s(),o=pr.suspense;(o=sr(i=Ks(i,e,o),o)).payload=t,null!=n&&(o.callback=n),lr(e,o),Gs(e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var i=$s(),o=pr.suspense;(o=sr(i=Ks(i,e,o),o)).tag=1,o.payload=t,null!=n&&(o.callback=n),lr(e,o),Gs(e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=$s(),i=pr.suspense;(i=sr(n=Ks(n,e,i),i)).tag=2,null!=t&&(i.callback=t),lr(e,i),Gs(e,n)}};function vr(e,t,n,i,o,r,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,r,a):!t.prototype||!t.prototype.isPureReactComponent||!Li(n,i)||!Li(o,r)}function gr(e,t,n){var i=!1,o=co,r=t.contextType;return"object"==typeof r&&null!==r?r=ir(r):(o=mo(t)?ho:uo.current,r=(i=null!=(i=t.contextTypes))?fo(e,o):co),t=new t(n,r),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=mr,e.stateNode=t,t._reactInternalFiber=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=r),t}function yr(e,t,n,i){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&mr.enqueueReplaceState(t,t.state,null)}function br(e,t,n,i){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=hr,rr(e);var r=t.contextType;"object"==typeof r&&null!==r?o.context=ir(r):(r=mo(t)?ho:uo.current,o.context=fo(e,r)),ur(e,n,o,i),o.state=e.memoizedState,"function"==typeof(r=t.getDerivedStateFromProps)&&(fr(e,t,r,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&mr.enqueueReplaceState(o,o.state,null),ur(e,n,o,i),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.effectTag|=4)}var xr=Array.isArray;function wr(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var i=n.stateNode}if(!i)throw Error(a(147,e));var o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=i.refs;t===hr&&(t=i.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Sr(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function kr(e){function t(t,n){if(e){var i=t.lastEffect;null!==i?(i.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Ml(e,t)).index=0,e.sibling=null,e}function r(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.effectTag=2,n):i:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Pl(n,e.mode,i)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,i){return null!==t&&t.elementType===n.type?((i=o(t,n.props)).ref=wr(e,t,n),i.return=e,i):((i=_l(n.type,n.key,n.props,null,e.mode,i)).ref=wr(e,t,n),i.return=e,i)}function u(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=El(n,e.mode,i)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,i,r){return null===t||7!==t.tag?((t=Ol(n,e.mode,i,r)).return=e,t):((t=o(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Pl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=_l(t.type,t.key,t.props,null,e.mode,n)).ref=wr(e,null,t),n.return=e,n;case te:return(t=El(t,e.mode,n)).return=e,t}if(xr(t)||me(t))return(t=Ol(t,e.mode,n,null)).return=e,t;Sr(e,t)}return null}function h(e,t,n,i){var o=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==o?null:l(e,t,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===o?n.type===ne?d(e,t,n.props.children,i,o):c(e,t,n,i):null;case te:return n.key===o?u(e,t,n,i):null}if(xr(n)||me(n))return null!==o?null:d(e,t,n,i,null);Sr(e,n)}return null}function f(e,t,n,i,o){if("string"==typeof i||"number"==typeof i)return l(t,e=e.get(n)||null,""+i,o);if("object"==typeof i&&null!==i){switch(i.$$typeof){case ee:return e=e.get(null===i.key?n:i.key)||null,i.type===ne?d(t,e,i.props.children,o,i.key):c(t,e,i,o);case te:return u(t,e=e.get(null===i.key?n:i.key)||null,i,o)}if(xr(i)||me(i))return d(t,e=e.get(n)||null,i,o,null);Sr(t,i)}return null}function m(o,a,s,l){for(var c=null,u=null,d=a,m=a=0,v=null;null!==d&&m<s.length;m++){d.index>m?(v=d,d=null):v=d.sibling;var g=h(o,d,s[m],l);if(null===g){null===d&&(d=v);break}e&&d&&null===g.alternate&&t(o,d),a=r(g,a,m),null===u?c=g:u.sibling=g,u=g,d=v}if(m===s.length)return n(o,d),c;if(null===d){for(;m<s.length;m++)null!==(d=p(o,s[m],l))&&(a=r(d,a,m),null===u?c=d:u.sibling=d,u=d);return c}for(d=i(o,d);m<s.length;m++)null!==(v=f(d,o,m,s[m],l))&&(e&&null!==v.alternate&&d.delete(null===v.key?m:v.key),a=r(v,a,m),null===u?c=v:u.sibling=v,u=v);return e&&d.forEach((function(e){return t(o,e)})),c}function v(o,s,l,c){var u=me(l);if("function"!=typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,m=s,v=s=0,g=null,y=l.next();null!==m&&!y.done;v++,y=l.next()){m.index>v?(g=m,m=null):g=m.sibling;var b=h(o,m,y.value,c);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(o,m),s=r(b,s,v),null===d?u=b:d.sibling=b,d=b,m=g}if(y.done)return n(o,m),u;if(null===m){for(;!y.done;v++,y=l.next())null!==(y=p(o,y.value,c))&&(s=r(y,s,v),null===d?u=y:d.sibling=y,d=y);return u}for(m=i(o,m);!y.done;v++,y=l.next())null!==(y=f(m,o,v,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=r(y,s,v),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(o,e)})),u}return function(e,i,r,l){var c="object"==typeof r&&null!==r&&r.type===ne&&null===r.key;c&&(r=r.props.children);var u="object"==typeof r&&null!==r;if(u)switch(r.$$typeof){case ee:e:{for(u=r.key,c=i;null!==c;){if(c.key===u){switch(c.tag){case 7:if(r.type===ne){n(e,c.sibling),(i=o(c,r.props.children)).return=e,e=i;break e}break;default:if(c.elementType===r.type){n(e,c.sibling),(i=o(c,r.props)).ref=wr(e,c,r),i.return=e,e=i;break e}}n(e,c);break}t(e,c),c=c.sibling}r.type===ne?((i=Ol(r.props.children,e.mode,l,r.key)).return=e,e=i):((l=_l(r.type,r.key,r.props,null,e.mode,l)).ref=wr(e,i,r),l.return=e,e=l)}return s(e);case te:e:{for(c=r.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===r.containerInfo&&i.stateNode.implementation===r.implementation){n(e,i.sibling),(i=o(i,r.children||[])).return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}(i=El(r,e.mode,l)).return=e,e=i}return s(e)}if("string"==typeof r||"number"==typeof r)return r=""+r,null!==i&&6===i.tag?(n(e,i.sibling),(i=o(i,r)).return=e,e=i):(n(e,i),(i=Pl(r,e.mode,l)).return=e,e=i),s(e);if(xr(r))return m(e,i,r,l);if(me(r))return v(e,i,r,l);if(u&&Sr(e,r),void 0===r&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return n(e,i)}}var Cr=kr(!0),Mr=kr(!1),_r={},Or={current:_r},Pr={current:_r},Er={current:_r};function Tr(e){if(e===_r)throw Error(a(174));return e}function jr(e,t){switch(lo(Er,t),lo(Pr,e),lo(Or,_r),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:De(null,"");break;default:t=De(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}so(Or),lo(Or,t)}function Rr(){so(Or),so(Pr),so(Er)}function Nr(e){Tr(Er.current);var t=Tr(Or.current),n=De(t,e.type);t!==n&&(lo(Pr,e),lo(Or,n))}function Ar(e){Pr.current===e&&(so(Or),so(Pr))}var Dr={current:0};function Br(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Ir(e,t){return{responder:e,props:t}}var Lr=X.ReactCurrentDispatcher,Ur=X.ReactCurrentBatchConfig,Fr=0,zr=null,Hr=null,Vr=null,Wr=!1;function $r(){throw Error(a(321))}function Kr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Bi(e[n],t[n]))return!1;return!0}function Gr(e,t,n,i,o,r){if(Fr=r,zr=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Lr.current=null===e||null===e.memoizedState?va:ga,e=n(i,o),t.expirationTime===Fr){r=0;do{if(t.expirationTime=0,!(25>r))throw Error(a(301));r+=1,Vr=Hr=null,t.updateQueue=null,Lr.current=ya,e=n(i,o)}while(t.expirationTime===Fr)}if(Lr.current=ma,t=null!==Hr&&null!==Hr.next,Fr=0,Vr=Hr=zr=null,Wr=!1,t)throw Error(a(300));return e}function qr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Vr?zr.memoizedState=Vr=e:Vr=Vr.next=e,Vr}function Yr(){if(null===Hr){var e=zr.alternate;e=null!==e?e.memoizedState:null}else e=Hr.next;var t=null===Vr?zr.memoizedState:Vr.next;if(null!==t)Vr=t,Hr=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Hr=e).memoizedState,baseState:Hr.baseState,baseQueue:Hr.baseQueue,queue:Hr.queue,next:null},null===Vr?zr.memoizedState=Vr=e:Vr=Vr.next=e}return Vr}function Xr(e,t){return"function"==typeof t?t(e):t}function Jr(e){var t=Yr(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=Hr,o=i.baseQueue,r=n.pending;if(null!==r){if(null!==o){var s=o.next;o.next=r.next,r.next=s}i.baseQueue=o=r,n.pending=null}if(null!==o){o=o.next,i=i.baseState;var l=s=r=null,c=o;do{var u=c.expirationTime;if(u<Fr){var d={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(s=l=d,r=i):l=l.next=d,u>zr.expirationTime&&(zr.expirationTime=u,rl(u))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),ol(u,c.suspenseConfig),i=c.eagerReducer===e?c.eagerState:e(i,c.action);c=c.next}while(null!==c&&c!==o);null===l?r=i:l.next=s,Bi(i,t.memoizedState)||(Ea=!0),t.memoizedState=i,t.baseState=r,t.baseQueue=l,n.lastRenderedState=i}return[t.memoizedState,n.dispatch]}function Qr(e){var t=Yr(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,r=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{r=e(r,s.action),s=s.next}while(s!==o);Bi(r,t.memoizedState)||(Ea=!0),t.memoizedState=r,null===t.baseQueue&&(t.baseState=r),n.lastRenderedState=r}return[r,i]}function Zr(e){var t=qr();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:e}).dispatch=fa.bind(null,zr,e),[t.memoizedState,e]}function ea(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=zr.updateQueue)?(t={lastEffect:null},zr.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function ta(){return Yr().memoizedState}function na(e,t,n,i){var o=qr();zr.effectTag|=e,o.memoizedState=ea(1|t,n,void 0,void 0===i?null:i)}function ia(e,t,n,i){var o=Yr();i=void 0===i?null:i;var r=void 0;if(null!==Hr){var a=Hr.memoizedState;if(r=a.destroy,null!==i&&Kr(i,a.deps))return void ea(t,n,r,i)}zr.effectTag|=e,o.memoizedState=ea(1|t,n,r,i)}function oa(e,t){return na(516,4,e,t)}function ra(e,t){return ia(516,4,e,t)}function aa(e,t){return ia(4,2,e,t)}function sa(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function la(e,t,n){return n=null!=n?n.concat([e]):null,ia(4,2,sa.bind(null,t,e),n)}function ca(){}function ua(e,t){return qr().memoizedState=[e,void 0===t?null:t],e}function da(e,t){var n=Yr();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&Kr(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function pa(e,t){var n=Yr();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&Kr(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function ha(e,t,n){var i=Fo();Ho(98>i?98:i,(function(){e(!0)})),Ho(97<i?97:i,(function(){var i=Ur.suspense;Ur.suspense=void 0===t?null:t;try{e(!1),n()}finally{Ur.suspense=i}}))}function fa(e,t,n){var i=$s(),o=pr.suspense;o={expirationTime:i=Ks(i,e,o),suspenseConfig:o,action:n,eagerReducer:null,eagerState:null,next:null};var r=t.pending;if(null===r?o.next=o:(o.next=r.next,r.next=o),t.pending=o,r=e.alternate,e===zr||null!==r&&r===zr)Wr=!0,o.expirationTime=Fr,zr.expirationTime=Fr;else{if(0===e.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=r(a,n);if(o.eagerReducer=r,o.eagerState=s,Bi(s,a))return}catch(l){}Gs(e,i)}}var ma={readContext:ir,useCallback:$r,useContext:$r,useEffect:$r,useImperativeHandle:$r,useLayoutEffect:$r,useMemo:$r,useReducer:$r,useRef:$r,useState:$r,useDebugValue:$r,useResponder:$r,useDeferredValue:$r,useTransition:$r},va={readContext:ir,useCallback:ua,useContext:ir,useEffect:oa,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,na(4,2,sa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return na(4,2,e,t)},useMemo:function(e,t){var n=qr();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=qr();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e=(e=i.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=fa.bind(null,zr,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},qr().memoizedState=e},useState:Zr,useDebugValue:ca,useResponder:Ir,useDeferredValue:function(e,t){var n=Zr(e),i=n[0],o=n[1];return oa((function(){var n=Ur.suspense;Ur.suspense=void 0===t?null:t;try{o(e)}finally{Ur.suspense=n}}),[e,t]),i},useTransition:function(e){var t=Zr(!1),n=t[0];return t=t[1],[ua(ha.bind(null,t,e),[t,e]),n]}},ga={readContext:ir,useCallback:da,useContext:ir,useEffect:ra,useImperativeHandle:la,useLayoutEffect:aa,useMemo:pa,useReducer:Jr,useRef:ta,useState:function(){return Jr(Xr)},useDebugValue:ca,useResponder:Ir,useDeferredValue:function(e,t){var n=Jr(Xr),i=n[0],o=n[1];return ra((function(){var n=Ur.suspense;Ur.suspense=void 0===t?null:t;try{o(e)}finally{Ur.suspense=n}}),[e,t]),i},useTransition:function(e){var t=Jr(Xr),n=t[0];return t=t[1],[da(ha.bind(null,t,e),[t,e]),n]}},ya={readContext:ir,useCallback:da,useContext:ir,useEffect:ra,useImperativeHandle:la,useLayoutEffect:aa,useMemo:pa,useReducer:Qr,useRef:ta,useState:function(){return Qr(Xr)},useDebugValue:ca,useResponder:Ir,useDeferredValue:function(e,t){var n=Qr(Xr),i=n[0],o=n[1];return ra((function(){var n=Ur.suspense;Ur.suspense=void 0===t?null:t;try{o(e)}finally{Ur.suspense=n}}),[e,t]),i},useTransition:function(e){var t=Qr(Xr),n=t[0];return t=t[1],[da(ha.bind(null,t,e),[t,e]),n]}},ba=null,xa=null,wa=!1;function Sa(e,t){var n=kl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function ka(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Ca(e){if(wa){var t=xa;if(t){var n=t;if(!ka(e,t)){if(!(t=xn(n.nextSibling))||!ka(e,t))return e.effectTag=-1025&e.effectTag|2,wa=!1,void(ba=e);Sa(ba,n)}ba=e,xa=xn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,wa=!1,ba=e}}function Ma(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ba=e}function _a(e){if(e!==ba)return!1;if(!wa)return Ma(e),wa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!gn(t,e.memoizedProps))for(t=xa;t;)Sa(e,t),t=xn(t.nextSibling);if(Ma(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){xa=xn(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}xa=null}}else xa=ba?xn(e.stateNode.nextSibling):null;return!0}function Oa(){xa=ba=null,wa=!1}var Pa=X.ReactCurrentOwner,Ea=!1;function Ta(e,t,n,i){t.child=null===e?Mr(t,null,n,i):Cr(t,e.child,n,i)}function ja(e,t,n,i,o){n=n.render;var r=t.ref;return nr(t,o),i=Gr(e,t,n,i,r,o),null===e||Ea?(t.effectTag|=1,Ta(e,t,i,o),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=o&&(e.expirationTime=0),Ga(e,t,o))}function Ra(e,t,n,i,o,r){if(null===e){var a=n.type;return"function"!=typeof a||Cl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=_l(n.type,null,i,null,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Na(e,t,a,i,o,r))}return a=e.child,o<r&&(o=a.memoizedProps,(n=null!==(n=n.compare)?n:Li)(o,i)&&e.ref===t.ref)?Ga(e,t,r):(t.effectTag|=1,(e=Ml(a,i)).ref=t.ref,e.return=t,t.child=e)}function Na(e,t,n,i,o,r){return null!==e&&Li(e.memoizedProps,i)&&e.ref===t.ref&&(Ea=!1,o<r)?(t.expirationTime=e.expirationTime,Ga(e,t,r)):Da(e,t,n,i,r)}function Aa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Da(e,t,n,i,o){var r=mo(n)?ho:uo.current;return r=fo(t,r),nr(t,o),n=Gr(e,t,n,i,r,o),null===e||Ea?(t.effectTag|=1,Ta(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=o&&(e.expirationTime=0),Ga(e,t,o))}function Ba(e,t,n,i,o){if(mo(n)){var r=!0;bo(t)}else r=!1;if(nr(t,o),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),gr(t,n,i),br(t,n,i,o),i=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;c="object"==typeof c&&null!==c?ir(c):fo(t,c=mo(n)?ho:uo.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==i||l!==c)&&yr(t,a,i,c),or=!1;var p=t.memoizedState;a.state=p,ur(t,i,a,o),l=t.memoizedState,s!==i||p!==l||po.current||or?("function"==typeof u&&(fr(t,n,u,i),l=t.memoizedState),(s=or||vr(t,n,s,i,p,l,c))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=i,t.memoizedState=l),a.props=i,a.state=l,a.context=c,i=s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),i=!1)}else a=t.stateNode,ar(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:qo(t.type,s),l=a.context,c="object"==typeof(c=n.contextType)&&null!==c?ir(c):fo(t,c=mo(n)?ho:uo.current),(d="function"==typeof(u=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==i||l!==c)&&yr(t,a,i,c),or=!1,l=t.memoizedState,a.state=l,ur(t,i,a,o),p=t.memoizedState,s!==i||l!==p||po.current||or?("function"==typeof u&&(fr(t,n,u,i),p=t.memoizedState),(u=or||vr(t,n,s,i,l,p,c))?(d||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(i,p,c),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,p,c)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=i,t.memoizedState=p),a.props=i,a.state=p,a.context=c,i=u):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),i=!1);return Ia(e,t,n,i,r,o)}function Ia(e,t,n,i,o,r){Aa(e,t);var a=0!=(64&t.effectTag);if(!i&&!a)return o&&xo(t,n,!1),Ga(e,t,r);i=t.stateNode,Pa.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:i.render();return t.effectTag|=1,null!==e&&a?(t.child=Cr(t,e.child,null,r),t.child=Cr(t,null,s,r)):Ta(e,t,s,r),t.memoizedState=i.state,o&&xo(t,n,!0),t.child}function La(e){var t=e.stateNode;t.pendingContext?go(0,t.pendingContext,t.pendingContext!==t.context):t.context&&go(0,t.context,!1),jr(e,t.containerInfo)}var Ua,Fa,za,Ha={dehydrated:null,retryTime:0};function Va(e,t,n){var i,o=t.mode,r=t.pendingProps,a=Dr.current,s=!1;if((i=0!=(64&t.effectTag))||(i=0!=(2&a)&&(null===e||null!==e.memoizedState)),i?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===r.fallback||!0===r.unstable_avoidThisFallback||(a|=1),lo(Dr,1&a),null===e){if(void 0!==r.fallback&&Ca(t),s){if(s=r.fallback,(r=Ol(null,o,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,r.child=e;null!==e;)e.return=r,e=e.sibling;return(n=Ol(s,o,n,null)).return=t,r.sibling=n,t.memoizedState=Ha,t.child=r,n}return o=r.children,t.memoizedState=null,t.child=Mr(t,null,o,n)}if(null!==e.memoizedState){if(o=(e=e.child).sibling,s){if(r=r.fallback,(n=Ml(e,e.pendingProps)).return=t,0==(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(o=Ml(o,r)).return=t,n.sibling=o,n.childExpirationTime=0,t.memoizedState=Ha,t.child=n,o}return n=Cr(t,e.child,r.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=r.fallback,(r=Ol(null,o,0,null)).return=t,r.child=e,null!==e&&(e.return=r),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,r.child=e;null!==e;)e.return=r,e=e.sibling;return(n=Ol(s,o,n,null)).return=t,r.sibling=n,n.effectTag|=2,r.childExpirationTime=0,t.memoizedState=Ha,t.child=r,n}return t.memoizedState=null,t.child=Cr(t,e,r.children,n)}function Wa(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),tr(e.return,t)}function $a(e,t,n,i,o,r){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailExpiration:0,tailMode:o,lastEffect:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailExpiration=0,a.tailMode=o,a.lastEffect=r)}function Ka(e,t,n){var i=t.pendingProps,o=i.revealOrder,r=i.tail;if(Ta(e,t,i.children,n),0!=(2&(i=Dr.current)))i=1&i|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wa(e,n);else if(19===e.tag)Wa(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(lo(Dr,i),0==(2&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===Br(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),$a(t,!1,o,n,r,t.lastEffect);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===Br(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}$a(t,!0,n,null,r,t.lastEffect);break;case"together":$a(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Ga(e,t,n){null!==e&&(t.dependencies=e.dependencies);var i=t.expirationTime;if(0!==i&&rl(i),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ml(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ml(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qa(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ya(e,t,n){var i=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return mo(t.type)&&vo(),null;case 3:return Rr(),so(po),so(uo),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!_a(t)||(t.effectTag|=4),null;case 5:Ar(t),n=Tr(Er.current);var r=t.type;if(null!==e&&null!=t.stateNode)Fa(e,t,r,i,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!i){if(null===t.stateNode)throw Error(a(166));return null}if(e=Tr(Or.current),_a(t)){i=t.stateNode,r=t.type;var s=t.memoizedProps;switch(i[kn]=t,i[Cn]=s,r){case"iframe":case"object":case"embed":Kt("load",i);break;case"video":case"audio":for(e=0;e<Ye.length;e++)Kt(Ye[e],i);break;case"source":Kt("error",i);break;case"img":case"image":case"link":Kt("error",i),Kt("load",i);break;case"form":Kt("reset",i),Kt("submit",i);break;case"details":Kt("toggle",i);break;case"input":ke(i,s),Kt("invalid",i),sn(n,"onChange");break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Kt("invalid",i),sn(n,"onChange");break;case"textarea":je(i,s),Kt("invalid",i),sn(n,"onChange")}for(var l in on(r,s),e=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"==typeof c?i.textContent!==c&&(e=["children",c]):"number"==typeof c&&i.textContent!==""+c&&(e=["children",""+c]):C.hasOwnProperty(l)&&null!=c&&sn(n,l)}switch(r){case"input":xe(i),_e(i,s,!0);break;case"textarea":xe(i),Ne(i);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(i.onclick=ln)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(l=9===n.nodeType?n:n.ownerDocument,e===an&&(e=Ae(r)),e===an?"script"===r?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof i.is?e=l.createElement(r,{is:i.is}):(e=l.createElement(r),"select"===r&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,r),e[kn]=t,e[Cn]=i,Ua(e,t),t.stateNode=e,l=rn(r,i),r){case"iframe":case"object":case"embed":Kt("load",e),c=i;break;case"video":case"audio":for(c=0;c<Ye.length;c++)Kt(Ye[c],e);c=i;break;case"source":Kt("error",e),c=i;break;case"img":case"image":case"link":Kt("error",e),Kt("load",e),c=i;break;case"form":Kt("reset",e),Kt("submit",e),c=i;break;case"details":Kt("toggle",e),c=i;break;case"input":ke(e,i),c=Se(e,i),Kt("invalid",e),sn(n,"onChange");break;case"option":c=Pe(e,i);break;case"select":e._wrapperState={wasMultiple:!!i.multiple},c=o({},i,{value:void 0}),Kt("invalid",e),sn(n,"onChange");break;case"textarea":je(e,i),c=Te(e,i),Kt("invalid",e),sn(n,"onChange");break;default:c=i}on(r,c);var u=c;for(s in u)if(u.hasOwnProperty(s)){var d=u[s];"style"===s?tn(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&Le(e,d):"children"===s?"string"==typeof d?("textarea"!==r||""!==d)&&Ue(e,d):"number"==typeof d&&Ue(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(C.hasOwnProperty(s)?null!=d&&sn(n,s):null!=d&&J(e,s,d,l))}switch(r){case"input":xe(e),_e(e,i,!1);break;case"textarea":xe(e),Ne(e);break;case"option":null!=i.value&&e.setAttribute("value",""+ye(i.value));break;case"select":e.multiple=!!i.multiple,null!=(n=i.value)?Ee(e,!!i.multiple,n,!1):null!=i.defaultValue&&Ee(e,!!i.multiple,i.defaultValue,!0);break;default:"function"==typeof c.onClick&&(e.onclick=ln)}vn(r,i)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)za(0,t,e.memoizedProps,i);else{if("string"!=typeof i&&null===t.stateNode)throw Error(a(166));n=Tr(Er.current),Tr(Or.current),_a(t)?(n=t.stateNode,i=t.memoizedProps,n[kn]=t,n.nodeValue!==i&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[kn]=t,t.stateNode=n)}return null;case 13:return so(Dr),i=t.memoizedState,0!=(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==i,i=!1,null===e?void 0!==t.memoizedProps.fallback&&_a(t):(i=null!==(r=e.memoizedState),n||null===r||null!==(r=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=r,r.nextEffect=s):(t.firstEffect=t.lastEffect=r,r.nextEffect=null),r.effectTag=8)),n&&!i&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Dr.current)?_s===bs&&(_s=xs):(_s!==bs&&_s!==xs||(_s=ws),0!==js&&null!==ks&&(Rl(ks,Ms),Nl(ks,js)))),(n||i)&&(t.effectTag|=4),null);case 4:return Rr(),null;case 10:return er(t),null;case 17:return mo(t.type)&&vo(),null;case 19:if(so(Dr),null===(i=t.memoizedState))return null;if(r=0!=(64&t.effectTag),null===(s=i.rendering)){if(r)qa(i,!1);else if(_s!==bs||null!==e&&0!=(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=Br(s))){for(t.effectTag|=64,qa(i,!1),null!==(r=e.updateQueue)&&(t.updateQueue=r,t.effectTag|=4),null===i.lastEffect&&(t.firstEffect=null),t.lastEffect=i.lastEffect,i=t.child;null!==i;)s=n,(r=i).effectTag&=2,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null,null===(e=r.alternate)?(r.childExpirationTime=0,r.expirationTime=s,r.child=null,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null):(r.childExpirationTime=e.childExpirationTime,r.expirationTime=e.expirationTime,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,s=e.dependencies,r.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),i=i.sibling;return lo(Dr,1&Dr.current|2),t.child}s=s.sibling}}else{if(!r)if(null!==(e=Br(s))){if(t.effectTag|=64,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),qa(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate)return null!==(t=t.lastEffect=i.lastEffect)&&(t.nextEffect=null),null}else 2*Uo()-i.renderingStartTime>i.tailExpiration&&1<n&&(t.effectTag|=64,r=!0,qa(i,!1),t.expirationTime=t.childExpirationTime=n-1);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=i.last)?n.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(0===i.tailExpiration&&(i.tailExpiration=Uo()+500),n=i.tail,i.rendering=n,i.tail=n.sibling,i.lastEffect=t.lastEffect,i.renderingStartTime=Uo(),n.sibling=null,t=Dr.current,lo(Dr,r?1&t|2:1&t),n):null}throw Error(a(156,t.tag))}function Xa(e){switch(e.tag){case 1:mo(e.type)&&vo();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Rr(),so(po),so(uo),0!=(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return Ar(e),null;case 13:return so(Dr),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return so(Dr),null;case 4:return Rr(),null;case 10:return er(e),null;default:return null}}function Ja(e,t){return{value:e,source:t,stack:ge(t)}}Ua=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Fa=function(e,t,n,i,r){var a=e.memoizedProps;if(a!==i){var s,l,c=t.stateNode;switch(Tr(Or.current),e=null,n){case"input":a=Se(c,a),i=Se(c,i),e=[];break;case"option":a=Pe(c,a),i=Pe(c,i),e=[];break;case"select":a=o({},a,{value:void 0}),i=o({},i,{value:void 0}),e=[];break;case"textarea":a=Te(c,a),i=Te(c,i),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof i.onClick&&(c.onclick=ln)}for(s in on(n,i),n=null,a)if(!i.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(l in c=a[s])c.hasOwnProperty(l)&&(n||(n={}),n[l]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(C.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in i){var u=i[s];if(c=null!=a?a[s]:void 0,i.hasOwnProperty(s)&&u!==c&&(null!=u||null!=c))if("style"===s)if(c){for(l in c)!c.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in u)u.hasOwnProperty(l)&&c[l]!==u[l]&&(n||(n={}),n[l]=u[l])}else n||(e||(e=[]),e.push(s,n)),n=u;else"dangerouslySetInnerHTML"===s?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(e=e||[]).push(s,u)):"children"===s?c===u||"string"!=typeof u&&"number"!=typeof u||(e=e||[]).push(s,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(C.hasOwnProperty(s)?(null!=u&&sn(r,s),e||c===u||(e=[])):(e=e||[]).push(s,u))}n&&(e=e||[]).push("style",n),r=e,(t.updateQueue=r)&&(t.effectTag|=4)}},za=function(e,t,n,i){n!==i&&(t.effectTag|=4)};var Qa="function"==typeof WeakSet?WeakSet:Set;function Za(e,t){var n=t.source,i=t.stack;null===i&&null!==n&&(i=ge(n)),null!==n&&ve(n.type),t=t.value,null!==e&&1===e.tag&&ve(e.type);try{console.error(t)}catch(o){setTimeout((function(){throw o}))}}function es(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(n){gl(e,n)}else t.current=null}function ts(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,i=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:qo(t.type,n),i),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function ns(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.destroy;n.destroy=void 0,void 0!==i&&i()}n=n.next}while(n!==t)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function os(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void is(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var i=n.elementType===n.type?t.memoizedProps:qo(n.type,t.memoizedProps);e.componentDidUpdate(i,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&dr(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}dr(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&vn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Dt(n)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function rs(e,t,n){switch("function"==typeof wl&&wl(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var i=e.next;Ho(97<n?97:n,(function(){var e=i;do{var n=e.destroy;if(void 0!==n){var o=t;try{n()}catch(r){gl(o,r)}}e=e.next}while(e!==i)}))}break;case 1:es(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){gl(e,n)}}(t,n);break;case 5:es(t);break;case 4:cs(e,t,n)}}function as(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&as(t)}function ss(e){return 5===e.tag||3===e.tag||4===e.tag}function ls(e){e:{for(var t=e.return;null!==t;){if(ss(t)){var n=t;break e}t=t.return}throw Error(a(160))}switch(t=n.stateNode,n.tag){case 5:var i=!1;break;case 3:case 4:t=t.containerInfo,i=!0;break;default:throw Error(a(161))}16&n.effectTag&&(Ue(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ss(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}i?function e(t,n,i){var o=t.tag,r=5===o||6===o;if(r)t=r?t.stateNode:t.stateNode.instance,n?8===i.nodeType?i.parentNode.insertBefore(t,n):i.insertBefore(t,n):(8===i.nodeType?(n=i.parentNode).insertBefore(t,i):(n=i).appendChild(t),null!==(i=i._reactRootContainer)&&void 0!==i||null!==n.onclick||(n.onclick=ln));else if(4!==o&&null!==(t=t.child))for(e(t,n,i),t=t.sibling;null!==t;)e(t,n,i),t=t.sibling}(e,n,t):function e(t,n,i){var o=t.tag,r=5===o||6===o;if(r)t=r?t.stateNode:t.stateNode.instance,n?i.insertBefore(t,n):i.appendChild(t);else if(4!==o&&null!==(t=t.child))for(e(t,n,i),t=t.sibling;null!==t;)e(t,n,i),t=t.sibling}(e,n,t)}function cs(e,t,n){for(var i,o,r=t,s=!1;;){if(!s){s=r.return;e:for(;;){if(null===s)throw Error(a(160));switch(i=s.stateNode,s.tag){case 5:o=!1;break e;case 3:case 4:i=i.containerInfo,o=!0;break e}s=s.return}s=!0}if(5===r.tag||6===r.tag){e:for(var l=e,c=r,u=n,d=c;;)if(rs(l,d,u),null!==d.child&&4!==d.tag)d.child.return=d,d=d.child;else{if(d===c)break e;for(;null===d.sibling;){if(null===d.return||d.return===c)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}o?(l=i,c=r.stateNode,8===l.nodeType?l.parentNode.removeChild(c):l.removeChild(c)):i.removeChild(r.stateNode)}else if(4===r.tag){if(null!==r.child){i=r.stateNode.containerInfo,o=!0,r.child.return=r,r=r.child;continue}}else if(rs(e,r,n),null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;4===(r=r.return).tag&&(s=!1)}r.sibling.return=r.return,r=r.sibling}}function us(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void ns(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var i=t.memoizedProps,o=null!==e?e.memoizedProps:i;e=t.type;var r=t.updateQueue;if(t.updateQueue=null,null!==r){for(n[Cn]=i,"input"===e&&"radio"===i.type&&null!=i.name&&Ce(n,i),rn(e,o),t=rn(e,i),o=0;o<r.length;o+=2){var s=r[o],l=r[o+1];"style"===s?tn(n,l):"dangerouslySetInnerHTML"===s?Le(n,l):"children"===s?Ue(n,l):J(n,s,l,t)}switch(e){case"input":Me(n,i);break;case"textarea":Re(n,i);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,null!=(e=i.value)?Ee(n,!!i.multiple,e,!1):t!==!!i.multiple&&(null!=i.defaultValue?Ee(n,!!i.multiple,i.defaultValue,!0):Ee(n,!!i.multiple,i.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Dt(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?i=!1:(i=!0,n=t.child,Ns=Uo()),null!==n)e:for(e=n;;){if(5===e.tag)r=e.stateNode,i?"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none":(r=e.stateNode,o=null!=(o=e.memoizedProps.style)&&o.hasOwnProperty("display")?o.display:null,r.style.display=en("display",o));else if(6===e.tag)e.stateNode.nodeValue=i?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(r=e.child.sibling).return=e,e=r;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void ds(t);case 19:return void ds(t);case 17:return}throw Error(a(163))}function ds(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qa),t.forEach((function(t){var i=bl.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}var ps="function"==typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=sr(n,null)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Ds||(Ds=!0,Bs=i),Za(e,t)},n}function fs(e,t,n){(n=sr(n,null)).tag=3;var i=e.type.getDerivedStateFromError;if("function"==typeof i){var o=t.value;n.payload=function(){return Za(e,t),i(o)}}var r=e.stateNode;return null!==r&&"function"==typeof r.componentDidCatch&&(n.callback=function(){"function"!=typeof i&&(null===Is?Is=new Set([this]):Is.add(this),Za(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var ms,vs=Math.ceil,gs=X.ReactCurrentDispatcher,ys=X.ReactCurrentOwner,bs=0,xs=3,ws=4,Ss=0,ks=null,Cs=null,Ms=0,_s=bs,Os=null,Ps=1073741823,Es=1073741823,Ts=null,js=0,Rs=!1,Ns=0,As=null,Ds=!1,Bs=null,Is=null,Ls=!1,Us=null,Fs=90,zs=null,Hs=0,Vs=null,Ws=0;function $s(){return 0!=(48&Ss)?1073741821-(Uo()/10|0):0!==Ws?Ws:Ws=1073741821-(Uo()/10|0)}function Ks(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var i=Fo();if(0==(4&t))return 99===i?1073741823:1073741822;if(0!=(16&Ss))return Ms;if(null!==n)e=Go(e,0|n.timeoutMs||5e3,250);else switch(i){case 99:e=1073741823;break;case 98:e=Go(e,150,100);break;case 97:case 96:e=Go(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==ks&&e===Ms&&--e,e}function Gs(e,t){if(50<Hs)throw Hs=0,Vs=null,Error(a(185));if(null!==(e=qs(e,t))){var n=Fo();1073741823===t?0!=(8&Ss)&&0==(48&Ss)?Qs(e):(Xs(e),0===Ss&&$o()):Xs(e),0==(4&Ss)||98!==n&&99!==n||(null===zs?zs=new Map([[e,t]]):(void 0===(n=zs.get(e))||n>t)&&zs.set(e,t))}}function qs(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var i=e.return,o=null;if(null===i&&3===e.tag)o=e.stateNode;else for(;null!==i;){if(n=i.alternate,i.childExpirationTime<t&&(i.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===i.return&&3===i.tag){o=i.stateNode;break}i=i.return}return null!==o&&(ks===o&&(rl(t),_s===ws&&Rl(o,Ms)),Nl(o,t)),o}function Ys(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!jl(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function Xs(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Wo(Qs.bind(null,e));else{var t=Ys(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var i=$s();if(i=1073741823===t?99:1===t||2===t?95:0>=(i=10*(1073741821-t)-10*(1073741821-i))?99:250>=i?98:5250>=i?97:95,null!==n){var o=e.callbackPriority;if(e.callbackExpirationTime===t&&o>=i)return;n!==Ro&&ko(n)}e.callbackExpirationTime=t,e.callbackPriority=i,t=1073741823===t?Wo(Qs.bind(null,e)):Vo(i,Js.bind(null,e),{timeout:10*(1073741821-t)-Uo()}),e.callbackNode=t}}}function Js(e,t){if(Ws=0,t)return Al(e,t=$s()),Xs(e),null;var n=Ys(e);if(0!==n){if(t=e.callbackNode,0!=(48&Ss))throw Error(a(327));if(fl(),e===ks&&n===Ms||tl(e,n),null!==Cs){var i=Ss;Ss|=16;for(var o=il();;)try{sl();break}catch(l){nl(e,l)}if(Zo(),Ss=i,gs.current=o,1===_s)throw t=Os,tl(e,n),Rl(e,n),Xs(e),t;if(null===Cs)switch(o=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,i=_s,ks=null,i){case bs:case 1:throw Error(a(345));case 2:Al(e,2<n?2:n);break;case xs:if(Rl(e,n),n===(i=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=ul(o)),1073741823===Ps&&10<(o=Ns+500-Uo())){if(Rs){var r=e.lastPingedTime;if(0===r||r>=n){e.lastPingedTime=n,tl(e,n);break}}if(0!==(r=Ys(e))&&r!==n)break;if(0!==i&&i!==n){e.lastPingedTime=i;break}e.timeoutHandle=yn(dl.bind(null,e),o);break}dl(e);break;case ws:if(Rl(e,n),n===(i=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=ul(o)),Rs&&(0===(o=e.lastPingedTime)||o>=n)){e.lastPingedTime=n,tl(e,n);break}if(0!==(o=Ys(e))&&o!==n)break;if(0!==i&&i!==n){e.lastPingedTime=i;break}if(1073741823!==Es?i=10*(1073741821-Es)-Uo():1073741823===Ps?i=0:(i=10*(1073741821-Ps)-5e3,0>(i=(o=Uo())-i)&&(i=0),(n=10*(1073741821-n)-o)<(i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*vs(i/1960))-i)&&(i=n)),10<i){e.timeoutHandle=yn(dl.bind(null,e),i);break}dl(e);break;case 5:if(1073741823!==Ps&&null!==Ts){r=Ps;var s=Ts;if(0>=(i=0|s.busyMinDurationMs)?i=0:(o=0|s.busyDelayMs,i=(r=Uo()-(10*(1073741821-r)-(0|s.timeoutMs||5e3)))<=o?0:o+i-r),10<i){Rl(e,n),e.timeoutHandle=yn(dl.bind(null,e),i);break}}dl(e);break;default:throw Error(a(329))}if(Xs(e),e.callbackNode===t)return Js.bind(null,e)}}return null}function Qs(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!=(48&Ss))throw Error(a(327));if(fl(),e===ks&&t===Ms||tl(e,t),null!==Cs){var n=Ss;Ss|=16;for(var i=il();;)try{al();break}catch(o){nl(e,o)}if(Zo(),Ss=n,gs.current=i,1===_s)throw n=Os,tl(e,t),Rl(e,t),Xs(e),n;if(null!==Cs)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,ks=null,dl(e),Xs(e)}return null}function Zs(e,t){var n=Ss;Ss|=1;try{return e(t)}finally{0===(Ss=n)&&$o()}}function el(e,t){var n=Ss;Ss&=-2,Ss|=8;try{return e(t)}finally{0===(Ss=n)&&$o()}}function tl(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,bn(n)),null!==Cs)for(n=Cs.return;null!==n;){var i=n;switch(i.tag){case 1:null!=(i=i.type.childContextTypes)&&vo();break;case 3:Rr(),so(po),so(uo);break;case 5:Ar(i);break;case 4:Rr();break;case 13:case 19:so(Dr);break;case 10:er(i)}n=n.return}ks=e,Cs=Ml(e.current,null),Ms=t,_s=bs,Os=null,Es=Ps=1073741823,Ts=null,js=0,Rs=!1}function nl(e,t){for(;;){try{if(Zo(),Lr.current=ma,Wr)for(var n=zr.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}if(Fr=0,Vr=Hr=zr=null,Wr=!1,null===Cs||null===Cs.return)return _s=1,Os=t,Cs=null;e:{var o=e,r=Cs.return,a=Cs,s=t;if(t=Ms,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"==typeof s&&"function"==typeof s.then){var l=s;if(0==(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.expirationTime=c.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var u=0!=(1&Dr.current),d=r;do{var p;if(p=13===d.tag){var h=d.memoizedState;if(null!==h)p=null!==h.dehydrated;else{var f=d.memoizedProps;p=void 0!==f.fallback&&(!0!==f.unstable_avoidThisFallback||!u)}}if(p){var m=d.updateQueue;if(null===m){var v=new Set;v.add(l),d.updateQueue=v}else m.add(l);if(0==(2&d.mode)){if(d.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var g=sr(1073741823,null);g.tag=2,lr(a,g)}a.expirationTime=1073741823;break e}s=void 0,a=t;var y=o.pingCache;if(null===y?(y=o.pingCache=new ps,s=new Set,y.set(l,s)):void 0===(s=y.get(l))&&(s=new Set,y.set(l,s)),!s.has(a)){s.add(a);var b=yl.bind(null,o,l,a);l.then(b,b)}d.effectTag|=4096,d.expirationTime=t;break e}d=d.return}while(null!==d);s=Error((ve(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ge(a))}5!==_s&&(_s=2),s=Ja(s,a),d=r;do{switch(d.tag){case 3:l=s,d.effectTag|=4096,d.expirationTime=t,cr(d,hs(d,l,t));break e;case 1:l=s;var x=d.type,w=d.stateNode;if(0==(64&d.effectTag)&&("function"==typeof x.getDerivedStateFromError||null!==w&&"function"==typeof w.componentDidCatch&&(null===Is||!Is.has(w)))){d.effectTag|=4096,d.expirationTime=t,cr(d,fs(d,l,t));break e}}d=d.return}while(null!==d)}Cs=cl(Cs)}catch(S){t=S;continue}break}}function il(){var e=gs.current;return gs.current=ma,null===e?ma:e}function ol(e,t){e<Ps&&2<e&&(Ps=e),null!==t&&e<Es&&2<e&&(Es=e,Ts=t)}function rl(e){e>js&&(js=e)}function al(){for(;null!==Cs;)Cs=ll(Cs)}function sl(){for(;null!==Cs&&!No();)Cs=ll(Cs)}function ll(e){var t=ms(e.alternate,e,Ms);return e.memoizedProps=e.pendingProps,null===t&&(t=cl(e)),ys.current=null,t}function cl(e){Cs=e;do{var t=Cs.alternate;if(e=Cs.return,0==(2048&Cs.effectTag)){if(t=Ya(t,Cs,Ms),1===Ms||1!==Cs.childExpirationTime){for(var n=0,i=Cs.child;null!==i;){var o=i.expirationTime,r=i.childExpirationTime;o>n&&(n=o),r>n&&(n=r),i=i.sibling}Cs.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Cs.firstEffect),null!==Cs.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Cs.firstEffect),e.lastEffect=Cs.lastEffect),1<Cs.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Cs:e.firstEffect=Cs,e.lastEffect=Cs))}else{if(null!==(t=Xa(Cs)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Cs.sibling))return t;Cs=e}while(null!==Cs);return _s===bs&&(_s=5),null}function ul(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function dl(e){var t=Fo();return Ho(99,pl.bind(null,e,t)),null}function pl(e,t){do{fl()}while(null!==Us);if(0!=(48&Ss))throw Error(a(327));var n=e.finishedWork,i=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var o=ul(n);if(e.firstPendingTime=o,i<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:i<=e.firstSuspendedTime&&(e.firstSuspendedTime=i-1),i<=e.lastPingedTime&&(e.lastPingedTime=0),i<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===ks&&(Cs=ks=null,Ms=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,o=n.firstEffect):o=n:o=n.firstEffect,null!==o){var r=Ss;Ss|=32,ys.current=null,fn=$t;var s=pn();if(hn(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{var c=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(c&&0!==c.rangeCount){l=c.anchorNode;var u=c.anchorOffset,d=c.focusNode;c=c.focusOffset;try{l.nodeType,d.nodeType}catch(_){l=null;break e}var p=0,h=-1,f=-1,m=0,v=0,g=s,y=null;t:for(;;){for(var b;g!==l||0!==u&&3!==g.nodeType||(h=p+u),g!==d||0!==c&&3!==g.nodeType||(f=p+c),3===g.nodeType&&(p+=g.nodeValue.length),null!==(b=g.firstChild);)y=g,g=b;for(;;){if(g===s)break t;if(y===l&&++m===u&&(h=p),y===d&&++v===c&&(f=p),null!==(b=g.nextSibling))break;y=(g=y).parentNode}g=b}l=-1===h||-1===f?null:{start:h,end:f}}else l=null}l=l||{start:0,end:0}}else l=null;mn={activeElementDetached:null,focusedElem:s,selectionRange:l},$t=!1,As=o;do{try{hl()}catch(_){if(null===As)throw Error(a(330));gl(As,_),As=As.nextEffect}}while(null!==As);As=o;do{try{for(s=e,l=t;null!==As;){var x=As.effectTag;if(16&x&&Ue(As.stateNode,""),128&x){var w=As.alternate;if(null!==w){var S=w.ref;null!==S&&("function"==typeof S?S(null):S.current=null)}}switch(1038&x){case 2:ls(As),As.effectTag&=-3;break;case 6:ls(As),As.effectTag&=-3,us(As.alternate,As);break;case 1024:As.effectTag&=-1025;break;case 1028:As.effectTag&=-1025,us(As.alternate,As);break;case 4:us(As.alternate,As);break;case 8:cs(s,u=As,l),as(u)}As=As.nextEffect}}catch(_){if(null===As)throw Error(a(330));gl(As,_),As=As.nextEffect}}while(null!==As);if(S=mn,w=pn(),x=S.focusedElem,l=S.selectionRange,w!==x&&x&&x.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(x.ownerDocument.documentElement,x)){null!==l&&hn(x)&&(w=l.start,void 0===(S=l.end)&&(S=w),"selectionStart"in x?(x.selectionStart=w,x.selectionEnd=Math.min(S,x.value.length)):(S=(w=x.ownerDocument||document)&&w.defaultView||window).getSelection&&(S=S.getSelection(),u=x.textContent.length,s=Math.min(l.start,u),l=void 0===l.end?s:Math.min(l.end,u),!S.extend&&s>l&&(u=l,l=s,s=u),u=dn(x,s),d=dn(x,l),u&&d&&(1!==S.rangeCount||S.anchorNode!==u.node||S.anchorOffset!==u.offset||S.focusNode!==d.node||S.focusOffset!==d.offset)&&((w=w.createRange()).setStart(u.node,u.offset),S.removeAllRanges(),s>l?(S.addRange(w),S.extend(d.node,d.offset)):(w.setEnd(d.node,d.offset),S.addRange(w))))),w=[];for(S=x;S=S.parentNode;)1===S.nodeType&&w.push({element:S,left:S.scrollLeft,top:S.scrollTop});for("function"==typeof x.focus&&x.focus(),x=0;x<w.length;x++)(S=w[x]).element.scrollLeft=S.left,S.element.scrollTop=S.top}$t=!!fn,mn=fn=null,e.current=n,As=o;do{try{for(x=e;null!==As;){var k=As.effectTag;if(36&k&&os(x,As.alternate,As),128&k){w=void 0;var C=As.ref;if(null!==C){var M=As.stateNode;switch(As.tag){case 5:w=M;break;default:w=M}"function"==typeof C?C(w):C.current=w}}As=As.nextEffect}}catch(_){if(null===As)throw Error(a(330));gl(As,_),As=As.nextEffect}}while(null!==As);As=null,Ao(),Ss=r}else e.current=n;if(Ls)Ls=!1,Us=e,Fs=t;else for(As=o;null!==As;)t=As.nextEffect,As.nextEffect=null,As=t;if(0===(t=e.firstPendingTime)&&(Is=null),1073741823===t?e===Vs?Hs++:(Hs=0,Vs=e):Hs=0,"function"==typeof xl&&xl(n.stateNode,i),Xs(e),Ds)throw Ds=!1,e=Bs,Bs=null,e;return 0!=(8&Ss)||$o(),null}function hl(){for(;null!==As;){var e=As.effectTag;0!=(256&e)&&ts(As.alternate,As),0==(512&e)||Ls||(Ls=!0,Vo(97,(function(){return fl(),null}))),As=As.nextEffect}}function fl(){if(90!==Fs){var e=97<Fs?97:Fs;return Fs=90,Ho(e,ml)}}function ml(){if(null===Us)return!1;var e=Us;if(Us=null,0!=(48&Ss))throw Error(a(331));var t=Ss;for(Ss|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:ns(5,n),is(5,n)}}catch(i){if(null===e)throw Error(a(330));gl(e,i)}n=e.nextEffect,e.nextEffect=null,e=n}return Ss=t,$o(),!0}function vl(e,t,n){lr(e,t=hs(e,t=Ja(n,t),1073741823)),null!==(e=qs(e,1073741823))&&Xs(e)}function gl(e,t){if(3===e.tag)vl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){vl(n,e,t);break}if(1===n.tag){var i=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===Is||!Is.has(i))){lr(n,e=fs(n,e=Ja(t,e),1073741823)),null!==(n=qs(n,1073741823))&&Xs(n);break}}n=n.return}}function yl(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),ks===e&&Ms===n?_s===ws||_s===xs&&1073741823===Ps&&Uo()-Ns<500?tl(e,Ms):Rs=!0:jl(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Xs(e)))}function bl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=Ks(t=$s(),e,null)),null!==(e=qs(e,t))&&Xs(e)}ms=function(e,t,n){var i=t.expirationTime;if(null!==e){var o=t.pendingProps;if(e.memoizedProps!==o||po.current)Ea=!0;else{if(i<n){switch(Ea=!1,t.tag){case 3:La(t),Oa();break;case 5:if(Nr(t),4&t.mode&&1!==n&&o.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:mo(t.type)&&bo(t);break;case 4:jr(t,t.stateNode.containerInfo);break;case 10:i=t.memoizedProps.value,o=t.type._context,lo(Yo,o._currentValue),o._currentValue=i;break;case 13:if(null!==t.memoizedState)return 0!==(i=t.child.childExpirationTime)&&i>=n?Va(e,t,n):(lo(Dr,1&Dr.current),null!==(t=Ga(e,t,n))?t.sibling:null);lo(Dr,1&Dr.current);break;case 19:if(i=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(i)return Ka(e,t,n);t.effectTag|=64}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null),lo(Dr,Dr.current),!i)return null}return Ga(e,t,n)}Ea=!1}}else Ea=!1;switch(t.expirationTime=0,t.tag){case 2:if(i=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,o=fo(t,uo.current),nr(t,n),o=Gr(null,t,i,e,o,n),t.effectTag|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mo(i)){var r=!0;bo(t)}else r=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,rr(t);var s=i.getDerivedStateFromProps;"function"==typeof s&&fr(t,i,s,e),o.updater=mr,t.stateNode=o,o._reactInternalFiber=t,br(t,i,e,n),t=Ia(null,t,i,!0,r,n)}else t.tag=0,Ta(null,t,o,n),t=t.child;return t;case 16:e:{if(o=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(o),1!==o._status)throw o._result;switch(o=o._result,t.type=o,r=t.tag=function(e){if("function"==typeof e)return Cl(e)?1:0;if(null!=e){if((e=e.$$typeof)===le)return 11;if(e===de)return 14}return 2}(o),e=qo(o,e),r){case 0:t=Da(null,t,o,e,n);break e;case 1:t=Ba(null,t,o,e,n);break e;case 11:t=ja(null,t,o,e,n);break e;case 14:t=Ra(null,t,o,qo(o.type,e),i,n);break e}throw Error(a(306,o,""))}return t;case 0:return i=t.type,o=t.pendingProps,Da(e,t,i,o=t.elementType===i?o:qo(i,o),n);case 1:return i=t.type,o=t.pendingProps,Ba(e,t,i,o=t.elementType===i?o:qo(i,o),n);case 3:if(La(t),i=t.updateQueue,null===e||null===i)throw Error(a(282));if(i=t.pendingProps,o=null!==(o=t.memoizedState)?o.element:null,ar(e,t),ur(t,i,null,n),(i=t.memoizedState.element)===o)Oa(),t=Ga(e,t,n);else{if((o=t.stateNode.hydrate)&&(xa=xn(t.stateNode.containerInfo.firstChild),ba=t,o=wa=!0),o)for(n=Mr(t,null,i,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Ta(e,t,i,n),Oa();t=t.child}return t;case 5:return Nr(t),null===e&&Ca(t),i=t.type,o=t.pendingProps,r=null!==e?e.memoizedProps:null,s=o.children,gn(i,o)?s=null:null!==r&&gn(i,r)&&(t.effectTag|=16),Aa(e,t),4&t.mode&&1!==n&&o.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Ta(e,t,s,n),t=t.child),t;case 6:return null===e&&Ca(t),null;case 13:return Va(e,t,n);case 4:return jr(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Cr(t,null,i,n):Ta(e,t,i,n),t.child;case 11:return i=t.type,o=t.pendingProps,ja(e,t,i,o=t.elementType===i?o:qo(i,o),n);case 7:return Ta(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ta(e,t,t.pendingProps.children,n),t.child;case 10:e:{i=t.type._context,o=t.pendingProps,s=t.memoizedProps,r=o.value;var l=t.type._context;if(lo(Yo,l._currentValue),l._currentValue=r,null!==s)if(l=s.value,0===(r=Bi(l,r)?0:0|("function"==typeof i._calculateChangedBits?i._calculateChangedBits(l,r):1073741823))){if(s.children===o.children&&!po.current){t=Ga(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){s=l.child;for(var u=c.firstContext;null!==u;){if(u.context===i&&0!=(u.observedBits&r)){1===l.tag&&((u=sr(n,null)).tag=2,lr(l,u)),l.expirationTime<n&&(l.expirationTime=n),null!==(u=l.alternate)&&u.expirationTime<n&&(u.expirationTime=n),tr(l.return,n),c.expirationTime<n&&(c.expirationTime=n);break}u=u.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Ta(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,i=(r=t.pendingProps).children,nr(t,n),i=i(o=ir(o,r.unstable_observedBits)),t.effectTag|=1,Ta(e,t,i,n),t.child;case 14:return r=qo(o=t.type,t.pendingProps),Ra(e,t,o,r=qo(o.type,r),i,n);case 15:return Na(e,t,t.type,t.pendingProps,i,n);case 17:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:qo(i,o),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,mo(i)?(e=!0,bo(t)):e=!1,nr(t,n),gr(t,i,o),br(t,i,o,n),Ia(null,t,i,!0,e,n);case 19:return Ka(e,t,n)}throw Error(a(156,t.tag))};var xl=null,wl=null;function Sl(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function kl(e,t,n,i){return new Sl(e,t,n,i)}function Cl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ml(e,t){var n=e.alternate;return null===n?((n=kl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function _l(e,t,n,i,o,r){var s=2;if(i=e,"function"==typeof e)Cl(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case ne:return Ol(n.children,o,r,t);case se:s=8,o|=7;break;case ie:s=8,o|=1;break;case oe:return(e=kl(12,n,t,8|o)).elementType=oe,e.type=oe,e.expirationTime=r,e;case ce:return(e=kl(13,n,t,o)).type=ce,e.elementType=ce,e.expirationTime=r,e;case ue:return(e=kl(19,n,t,o)).elementType=ue,e.expirationTime=r,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case re:s=10;break e;case ae:s=9;break e;case le:s=11;break e;case de:s=14;break e;case pe:s=16,i=null;break e;case he:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=kl(s,n,t,o)).elementType=e,t.type=i,t.expirationTime=r,t}function Ol(e,t,n,i){return(e=kl(7,e,i,t)).expirationTime=n,e}function Pl(e,t,n){return(e=kl(6,e,null,t)).expirationTime=n,e}function El(e,t,n){return(t=kl(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Tl(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function jl(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Rl(e,t){var n=e.firstSuspendedTime,i=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(i>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Nl(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Al(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Dl(e,t,n,i){var o=t.current,r=$s(),s=pr.suspense;r=Ks(r,o,s);e:if(n){t:{if(Qe(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(mo(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var c=n.type;if(mo(c)){n=yo(n,c,l);break e}}n=l}else n=co;return null===t.context?t.context=n:t.pendingContext=n,(t=sr(r,s)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),lr(o,t),Gs(o,r),r}function Bl(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Il(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Ll(e,t){Il(e,t),(e=e.alternate)&&Il(e,t)}function Ul(e,t,n){var i=new Tl(e,t,n=null!=n&&!0===n.hydrate),o=kl(3,null,null,2===t?7:1===t?3:0);i.current=o,o.stateNode=i,rr(o),e[Mn]=i.current,n&&0!==t&&function(e,t){var n=Je(t);Mt.forEach((function(e){ht(e,t,n)})),_t.forEach((function(e){ht(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=i}function Fl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function zl(e,t,n,i,o){var r=n._reactRootContainer;if(r){var a=r._internalRoot;if("function"==typeof o){var s=o;o=function(){var e=Bl(a);s.call(e)}}Dl(t,a,e,o)}else{if(r=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Ul(e,0,t?{hydrate:!0}:void 0)}(n,i),a=r._internalRoot,"function"==typeof o){var l=o;o=function(){var e=Bl(a);l.call(e)}}el((function(){Dl(t,a,e,o)}))}return Bl(a)}function Hl(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}function Vl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Fl(t))throw Error(a(200));return Hl(e,t,null,n)}Ul.prototype.render=function(e){Dl(e,this._internalRoot,null,null)},Ul.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Dl(null,e,null,(function(){t[Mn]=null}))},ft=function(e){if(13===e.tag){var t=Go($s(),150,100);Gs(e,t),Ll(e,t)}},mt=function(e){13===e.tag&&(Gs(e,3),Ll(e,3))},vt=function(e){if(13===e.tag){var t=$s();Gs(e,t=Ks(t,e,null)),Ll(e,t)}},P=function(e,t,n){switch(t){case"input":if(Me(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=En(i);if(!o)throw Error(a(90));we(i),Me(i,o)}}}break;case"textarea":Re(e,n);break;case"select":null!=(t=n.value)&&Ee(e,!!n.multiple,t,!1)}},A=Zs,D=function(e,t,n,i,o){var r=Ss;Ss|=4;try{return Ho(98,e.bind(null,t,n,i,o))}finally{0===(Ss=r)&&$o()}},B=function(){0==(49&Ss)&&(function(){if(null!==zs){var e=zs;zs=null,e.forEach((function(e,t){Al(t,e),Xs(t)})),$o()}}(),fl())},I=function(e,t){var n=Ss;Ss|=2;try{return e(t)}finally{0===(Ss=n)&&$o()}};var Wl={Events:[On,Pn,En,_,k,Bn,function(e){it(e,Dn)},R,N,Xt,at,fl,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;!function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);xl=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(i){}},wl=function(e){try{t.onCommitFiberUnmount(n,e)}catch(i){}}}catch(i){}}(o({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=tt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:_n,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wl,t.createPortal=Vl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return null===(e=tt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!=(48&Ss))throw Error(a(187));var n=Ss;Ss|=1;try{return Ho(99,e.bind(null,t))}finally{Ss=n,$o()}},t.hydrate=function(e,t,n){if(!Fl(t))throw Error(a(200));return zl(null,e,t,!0,n)},t.render=function(e,t,n){if(!Fl(t))throw Error(a(200));return zl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Fl(e))throw Error(a(40));return!!e._reactRootContainer&&(el((function(){zl(null,null,e,!1,(function(){e._reactRootContainer=null,e[Mn]=null}))})),!0)},t.unstable_batchedUpdates=Zs,t.unstable_createPortal=function(e,t){return Vl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Fl(n))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return zl(e,t,n,!1,i)},t.version="16.14.0"},function(e,t,n){"use strict";var i=n(191),o="function"==typeof Symbol&&Symbol.for,r=o?Symbol.for("react.element"):60103,a=o?Symbol.for("react.portal"):60106,s=o?Symbol.for("react.fragment"):60107,l=o?Symbol.for("react.strict_mode"):60108,c=o?Symbol.for("react.profiler"):60114,u=o?Symbol.for("react.provider"):60109,d=o?Symbol.for("react.context"):60110,p=o?Symbol.for("react.forward_ref"):60112,h=o?Symbol.for("react.suspense"):60113,f=o?Symbol.for("react.memo"):60115,m=o?Symbol.for("react.lazy"):60116,v="function"==typeof Symbol&&Symbol.iterator;function g(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function x(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}function w(){}function S(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(g(85));this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=x.prototype;var k=S.prototype=new w;k.constructor=S,i(k,x.prototype),k.isPureReactComponent=!0;var C={current:null},M=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function O(e,t,n){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)M.call(t,i)&&!_.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:r,type:e,key:a,ref:s,props:o,_owner:C.current}}function P(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}var E=/\/+/g,T=[];function j(e,t,n,i){if(T.length){var o=T.pop();return o.result=e,o.keyPrefix=t,o.func=n,o.context=i,o.count=0,o}return{result:e,keyPrefix:t,func:n,context:i,count:0}}function R(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>T.length&&T.push(e)}function N(e,t,n){return null==e?0:function e(t,n,i,o){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case r:case a:l=!0}}if(l)return i(o,t,""===n?"."+A(t,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var c=0;c<t.length;c++){var u=n+A(s=t[c],c);l+=e(s,u,i,o)}else if("function"==typeof(u=null===t||"object"!=typeof t?null:"function"==typeof(u=v&&t[v]||t["@@iterator"])?u:null))for(t=u.call(t),c=0;!(s=t.next()).done;)l+=e(s=s.value,u=n+A(s,c++),i,o);else if("object"===s)throw i=""+t,Error(g(31,"[object Object]"===i?"object with keys {"+Object.keys(t).join(", ")+"}":i,""));return l}(e,"",t,n)}function A(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function D(e,t){e.func.call(e.context,t,e.count++)}function B(e,t,n){var i=e.result,o=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?I(e,i,n,(function(e){return e})):null!=e&&(P(e)&&(e=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,o+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(E,"$&/")+"/")+n)),i.push(e))}function I(e,t,n,i,o){var r="";null!=n&&(r=(""+n).replace(E,"$&/")+"/"),N(e,B,t=j(t,r,i,o)),R(t)}var L={current:null};function U(){var e=L.current;if(null===e)throw Error(g(321));return e}var F={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:C,IsSomeRendererActing:{current:!1},assign:i};t.Children={map:function(e,t,n){if(null==e)return e;var i=[];return I(e,i,null,t,n),i},forEach:function(e,t,n){if(null==e)return e;N(e,D,t=j(null,null,t,n)),R(t)},count:function(e){return N(e,(function(){return null}),null)},toArray:function(e){var t=[];return I(e,t,null,(function(e){return e})),t},only:function(e){if(!P(e))throw Error(g(143));return e}},t.Component=x,t.Fragment=s,t.Profiler=c,t.PureComponent=S,t.StrictMode=l,t.Suspense=h,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,t.cloneElement=function(e,t,n){if(null==e)throw Error(g(267,e));var o=i({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=C.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)M.call(t,u)&&!_.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];o.children=c}return{$$typeof:r,type:e.type,key:a,ref:s,props:o,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=O,t.createFactory=function(e){var t=O.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:p,render:e}},t.isValidElement=P,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return U().useCallback(e,t)},t.useContext=function(e,t){return U().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return U().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return U().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return U().useLayoutEffect(e,t)},t.useMemo=function(e,t){return U().useMemo(e,t)},t.useReducer=function(e,t,n){return U().useReducer(e,t,n)},t.useRef=function(e){return U().useRef(e)},t.useState=function(e){return U().useState(e)},t.version="16.14.0"},function(e,t,n){"use strict";e.exports=n(423)},function(e,t,n){"use strict";var i,o,r,a,s;if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,c=null,u=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(n){throw setTimeout(u,0),n}},d=Date.now();t.unstable_now=function(){return Date.now()-d},i=function(e){null!==l?setTimeout(i,0,e):(l=e,setTimeout(u,0))},o=function(e,t){c=setTimeout(e,t)},r=function(){clearTimeout(c)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var p=window.performance,h=window.Date,f=window.setTimeout,m=window.clearTimeout;if("undefined"!=typeof console){var v=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof p&&"function"==typeof p.now)t.unstable_now=function(){return p.now()};else{var g=h.now();t.unstable_now=function(){return h.now()-g}}var y=!1,b=null,x=-1,w=5,S=0;a=function(){return t.unstable_now()>=S},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<e?Math.floor(1e3/e):5};var k=new MessageChannel,C=k.port2;k.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();S=e+w;try{b(!0,e)?C.postMessage(null):(y=!1,b=null)}catch(n){throw C.postMessage(null),n}}else y=!1},i=function(e){b=e,y||(y=!0,C.postMessage(null))},o=function(e,n){x=f((function(){e(t.unstable_now())}),n)},r=function(){m(x),x=-1}}function M(e,t){var n=e.length;e.push(t);e:for(;;){var i=n-1>>>1,o=e[i];if(!(void 0!==o&&0<P(o,t)))break e;e[i]=t,e[n]=o,n=i}}function _(e){return void 0===(e=e[0])?null:e}function O(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,o=e.length;i<o;){var r=2*(i+1)-1,a=e[r],s=r+1,l=e[s];if(void 0!==a&&0>P(a,n))void 0!==l&&0>P(l,a)?(e[i]=l,e[s]=n,i=s):(e[i]=a,e[r]=n,i=r);else{if(!(void 0!==l&&0>P(l,n)))break e;e[i]=l,e[s]=n,i=s}}}return t}return null}function P(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var E=[],T=[],j=1,R=null,N=3,A=!1,D=!1,B=!1;function I(e){for(var t=_(T);null!==t;){if(null===t.callback)O(T);else{if(!(t.startTime<=e))break;O(T),t.sortIndex=t.expirationTime,M(E,t)}t=_(T)}}function L(e){if(B=!1,I(e),!D)if(null!==_(E))D=!0,i(U);else{var t=_(T);null!==t&&o(L,t.startTime-e)}}function U(e,n){D=!1,B&&(B=!1,r()),A=!0;var i=N;try{for(I(n),R=_(E);null!==R&&(!(R.expirationTime>n)||e&&!a());){var s=R.callback;if(null!==s){R.callback=null,N=R.priorityLevel;var l=s(R.expirationTime<=n);n=t.unstable_now(),"function"==typeof l?R.callback=l:R===_(E)&&O(E),I(n)}else O(E);R=_(E)}if(null!==R)var c=!0;else{var u=_(T);null!==u&&o(L,u.startTime-n),c=!1}return c}finally{R=null,N=i,A=!1}}function F(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var z=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){D||A||(D=!0,i(U))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return _(E)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=z,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if("object"==typeof a&&null!==a){var l=a.delay;l="number"==typeof l&&0<l?s+l:s,a="number"==typeof a.timeout?a.timeout:F(e)}else a=F(e),l=s;return e={id:j++,callback:n,priorityLevel:e,startTime:l,expirationTime:a=l+a,sortIndex:-1},l>s?(e.sortIndex=l,M(T,e),null===_(E)&&e===_(T)&&(B?r():B=!0,o(L,l-s))):(e.sortIndex=a,M(E,e),D||A||(D=!0,i(U))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();I(e);var n=_(E);return n!==R&&null!==R&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<R.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Designer=void 0;const o=n(129),r=n(0);class a extends o.Component{constructor(e){super(e),this.ref=o.createRef()}componentDidMount(){return i(this,void 0,void 0,(function*(){r.applyBindingsToNode(this.ref.current,{component:"app"},null)}))}render(){return o.createElement("div",{className:"fit",ref:this.ref})}}t.Designer=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";(function(e){var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.InversifyInjector=void 0,n(65);const r=n(130),a=n(428);t.InversifyInjector=class{constructor(){this.bindSingleton=this.bindSingleton.bind(this),this.bind=this.bind.bind(this),this.container=new a.Container}getFunctionArguments(e){if(!e)throw new Error('Parameter "func" cannot be empty');if("function"!=typeof e)throw new Error('Parameter "func" is not a function.');const t=e.toString(),n=t.match(/(constructor\s*\(([^\(\)]*)\))/);if(n&&n.length>=1)return n[2].split(",").map(e=>e.replace(/\/\*.*\*\//,"").trim()).filter(e=>e);const i=t.match(/^function.*?\(([^\(\)]*)\)/);return i&&i.length>=1?i[1].split(",").map(e=>e.replace(/\/\*.*\*\//,"").trim()).filter(e=>e):[]}decorateComponent(e,t){if(Reflect.hasOwnMetadata(a.METADATA_KEY.PARAM_TYPES,t))return;try{a.decorate(a.injectable(),t),Reflect.defineMetadata(r.InjectableMetadataKey,{name:e},t)}catch(i){console.warn(`Unable to decorate component "${e}". ${i.stack||i.message}`)}const n=this.getFunctionArguments(t);for(let o=0;o<n.length;o++)try{a.decorate(a.inject(n[o]),t,o)}catch(i){console.warn(`Unable to decorate constructor argument "${n[o]}" for component "${e}". ${i.stack||i.message}`)}}bindInternal(e,t){return this.container.isBound(e)&&this.container.unbind(e),this.decorateComponent(e,t),this.container.bind(e).to(t)}bind(e,t){this.bindInternal(e,t)}bindSingleton(e,t){this.bindInternal(e,t).inSingletonScope()}bindFactory(e,t){let n=this;this.bindInternal(e,(function(){return t(n)}))}bindSingletonFactory(e,t){const n=this;this.bindInternal(e,(function(){return t(n)})).inSingletonScope()}bindInstance(e,t){this.container.isBound(e)&&this.container.unbind(e),this.container.bind(e).toConstantValue(t)}resolve(e){const t=this.container.get(e);if(!t)throw new Error(`Component ${e} not found.`);return t}resolveClass(e){return this.container.resolve(e)}bindModule(e){e.register(this)}bindCollection(e){const t=this.container,n=[];let r=class{};r=i([a.injectable()],r);let s=class{constructor(){try{const i=t.getAll(e+"C");n.push(...i.slice(1))}catch(i){throw new Error(`Unable to resolve collection "${e}": ${i.stack||i.message}`)}return n}};s=i([a.injectable(),o("design:paramtypes",[])],s),this.container.bind(e).to(s).inSingletonScope(),this.container.bind(e+"C").to(r)}bindCollectionLazily(t){const n=this.container,r=[];let s=class{};s=i([a.injectable()],s);let l=class{constructor(){return e(()=>{try{const e=n.getAll(t+"C");r.push(...e.slice(1))}catch(e){throw new Error(`Unable to resolve collection "${t}": ${e.stack||e.message}`)}}),r}};l=i([a.injectable(),o("design:paramtypes",[])],l),this.container.bind(t).to(l).inSingletonScope(),this.container.bind(t+"C").to(s)}bindToCollection(e,t,n){this.decorateComponent(e+"C",t),this.container.bind(e+"C").to(t),n&&this.container.bind(n).to(t)}bindInstanceToCollection(e,t,n){this.container.bind(e+"C").toConstantValue(t),n&&this.container.bind(n).toConstantValue(t)}}}).call(this,n(60).setImmediate)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(18);t.METADATA_KEY=i;var o=n(429);t.Container=o.Container;var r=n(36);t.BindingScopeEnum=r.BindingScopeEnum,t.BindingTypeEnum=r.BindingTypeEnum,t.TargetTypeEnum=r.TargetTypeEnum;var a=n(445);t.AsyncContainerModule=a.AsyncContainerModule,t.ContainerModule=a.ContainerModule;var s=n(446);t.injectable=s.injectable;var l=n(447);t.tagged=l.tagged;var c=n(448);t.named=c.named;var u=n(194);t.inject=u.inject,t.LazyServiceIdentifer=u.LazyServiceIdentifer;var d=n(449);t.optional=d.optional;var p=n(450);t.unmanaged=p.unmanaged;var h=n(451);t.multiInject=h.multiInject;var f=n(452);t.targetName=f.targetName;var m=n(453);t.postConstruct=m.postConstruct;var v=n(192);t.MetadataReader=v.MetadataReader;var g=n(56);t.id=g.id;var y=n(44);t.decorate=y.decorate;var b=n(197);t.traverseAncerstors=b.traverseAncerstors,t.taggedConstraint=b.taggedConstraint,t.namedConstraint=b.namedConstraint,t.typeConstraint=b.typeConstraint;var x=n(79);t.getServiceIdentifierAsString=x.getServiceIdentifierAsString;var w=n(454);t.multiBindToService=w.multiBindToService},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(a,s)}l((i=i.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=i[2&r[0]?"return":r[0]?"throw":"next"])&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[0,o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(s){r=[6,s],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(430),a=n(29),s=n(36),l=n(18),c=n(192),u=n(431),d=n(438),p=n(440),h=n(56),f=n(79),m=n(443),v=n(444),g=function(){function e(e){var t=e||{};if("object"!=typeof t)throw new Error(""+a.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(void 0===t.defaultScope)t.defaultScope=s.BindingScopeEnum.Transient;else if(t.defaultScope!==s.BindingScopeEnum.Singleton&&t.defaultScope!==s.BindingScopeEnum.Transient&&t.defaultScope!==s.BindingScopeEnum.Request)throw new Error(""+a.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(void 0===t.autoBindInjectable)t.autoBindInjectable=!1;else if("boolean"!=typeof t.autoBindInjectable)throw new Error(""+a.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(void 0===t.skipBaseClassChecks)t.skipBaseClassChecks=!1;else if("boolean"!=typeof t.skipBaseClassChecks)throw new Error(""+a.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:t.autoBindInjectable,defaultScope:t.defaultScope,skipBaseClassChecks:t.skipBaseClassChecks},this.id=h.id(),this._bindingDictionary=new v.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new c.MetadataReader}return e.merge=function(t,n){var i=new e,o=u.getBindingDictionary(i),r=u.getBindingDictionary(t),a=u.getBindingDictionary(n);function s(e,t){e.traverse((function(e,n){n.forEach((function(e){t.add(e.serviceIdentifier,e.clone())}))}))}return s(r,o),s(a,o),i},e.prototype.load=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=this._getContainerModuleHelpersFactory(),i=0,o=e;i<o.length;i++){var r=o[i],a=n(r.id);r.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)}},e.prototype.loadAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i(this,void 0,void 0,(function(){var t,n,i,r,a;return o(this,(function(o){switch(o.label){case 0:t=this._getContainerModuleHelpersFactory(),n=0,i=e,o.label=1;case 1:return n<i.length?(r=i[n],a=t(r.id),[4,r.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)]):[3,4];case 2:o.sent(),o.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},e.prototype.unload=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=function(e){return function(t){return t.moduleId===e}};t.forEach((function(t){var n=i(t.id);e._bindingDictionary.removeByCondition(n)}))},e.prototype.bind=function(e){var t=this.options.defaultScope||s.BindingScopeEnum.Transient,n=new r.Binding(e,t);return this._bindingDictionary.add(e,n),new p.BindingToSyntax(n)},e.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},e.prototype.unbind=function(e){try{this._bindingDictionary.remove(e)}catch(t){throw new Error(a.CANNOT_UNBIND+" "+f.getServiceIdentifierAsString(e))}},e.prototype.unbindAll=function(){this._bindingDictionary=new v.Lookup},e.prototype.isBound=function(e){var t=this._bindingDictionary.hasKey(e);return!t&&this.parent&&(t=this.parent.isBound(e)),t},e.prototype.isBoundNamed=function(e,t){return this.isBoundTagged(e,l.NAMED_TAG,t)},e.prototype.isBoundTagged=function(e,t,n){var i=!1;if(this._bindingDictionary.hasKey(e)){var o=this._bindingDictionary.get(e),r=u.createMockRequest(this,e,t,n);i=o.some((function(e){return e.constraint(r)}))}return!i&&this.parent&&(i=this.parent.isBoundTagged(e,t,n)),i},e.prototype.snapshot=function(){this._snapshots.push(m.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},e.prototype.restore=function(){var e=this._snapshots.pop();if(void 0===e)throw new Error(a.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=e.bindings,this._middleware=e.middleware},e.prototype.createChild=function(t){var n=new e(t||this.options);return n.parent=this,n},e.prototype.applyMiddleware=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce((function(e,t){return t(e)}),n)},e.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},e.prototype.get=function(e){return this._get(!1,!1,s.TargetTypeEnum.Variable,e)},e.prototype.getTagged=function(e,t,n){return this._get(!1,!1,s.TargetTypeEnum.Variable,e,t,n)},e.prototype.getNamed=function(e,t){return this.getTagged(e,l.NAMED_TAG,t)},e.prototype.getAll=function(e){return this._get(!0,!0,s.TargetTypeEnum.Variable,e)},e.prototype.getAllTagged=function(e,t,n){return this._get(!1,!0,s.TargetTypeEnum.Variable,e,t,n)},e.prototype.getAllNamed=function(e,t){return this.getAllTagged(e,l.NAMED_TAG,t)},e.prototype.resolve=function(e){var t=this.createChild();return t.bind(e).toSelf(),t.get(e)},e.prototype._getContainerModuleHelpersFactory=function(){var e=this,t=function(e,t){e._binding.moduleId=t},n=function(n){return function(i){var o=e.rebind.bind(e)(i);return t(o,n),o}};return function(i){return{bindFunction:(o=i,function(n){var i=e.bind.bind(e)(n);return t(i,o),i}),isboundFunction:function(t){return e.isBound.bind(e)(t)},rebindFunction:n(i),unbindFunction:function(t){e.unbind.bind(e)(t)}};var o}},e.prototype._get=function(e,t,n,i,o,r){var s=null,l={avoidConstraints:e,contextInterceptor:function(e){return e},isMultiInject:t,key:o,serviceIdentifier:i,targetType:n,value:r};if(this._middleware){if(null==(s=this._middleware(l)))throw new Error(a.INVALID_MIDDLEWARE_RETURN)}else s=this._planAndResolve()(l);return s},e.prototype._planAndResolve=function(){var e=this;return function(t){var n=u.plan(e._metadataReader,e,t.isMultiInject,t.targetType,t.serviceIdentifier,t.key,t.value,t.avoidConstraints);return n=t.contextInterceptor(n),d.resolve(n)}},e}();t.Container=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(36),o=n(56),r=function(){function e(e,t){this.id=o.id(),this.activated=!1,this.serviceIdentifier=e,this.scope=t,this.type=i.BindingTypeEnum.Invalid,this.constraint=function(e){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return e.prototype.clone=function(){var t=new e(this.serviceIdentifier,this.scope);return t.activated=!1,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.factory=this.factory,t.provider=this.provider,t.constraint=this.constraint,t.onActivation=this.onActivation,t.cache=this.cache,t},e}();t.Binding=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(432),o=n(29),r=n(36),a=n(18),s=n(193),l=n(79),c=n(433),u=n(33),d=n(434),p=n(435),h=n(437),f=n(195);function m(e){return e._bindingDictionary}function v(e,t,n,r,a){var s,c=g(n.container,a.serviceIdentifier);return c.length===i.BindingCount.NoBindingsAvailable&&n.container.options.autoBindInjectable&&"function"==typeof a.serviceIdentifier&&e.getConstructorMetadata(a.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(a.serviceIdentifier).toSelf(),c=g(n.container,a.serviceIdentifier)),s=t?c:c.filter((function(e){var t=new h.Request(e.serviceIdentifier,n,r,e,a);return e.constraint(t)})),function(e,t,n,r){switch(t.length){case i.BindingCount.NoBindingsAvailable:if(n.isOptional())return t;var a=l.getServiceIdentifierAsString(e),s=o.NOT_REGISTERED;throw s+=l.listMetadataForTarget(a,n),s+=l.listRegisteredBindingsForServiceIdentifier(r,a,g),new Error(s);case i.BindingCount.OnlyOneBindingAvailable:if(!n.isArray())return t;case i.BindingCount.MultipleBindingsAvailable:default:if(n.isArray())return t;throw a=l.getServiceIdentifierAsString(e),s=o.AMBIGUOUS_MATCH+" "+a,s+=l.listRegisteredBindingsForServiceIdentifier(r,a,g),new Error(s)}}(a.serviceIdentifier,s,a,n.container),s}function g(e,t){var n=[],i=m(e);return i.hasKey(t)?n=i.get(t):null!==e.parent&&(n=g(e.parent,t)),n}t.getBindingDictionary=m,t.plan=function(e,t,n,i,m,g,y,b){void 0===b&&(b=!1);var x=new c.Context(t),w=function(e,t,n,i,o,r){var s=e?a.MULTI_INJECT_TAG:a.INJECT_TAG,l=new u.Metadata(s,n),c=new f.Target(t,"",n,l);if(void 0!==o){var d=new u.Metadata(o,r);c.metadata.push(d)}return c}(n,i,m,0,g,y);try{return function e(t,n,i,a,s,l){var c,u;if(null===s){c=v(t,n,a,null,l),u=new h.Request(i,a,null,c,l);var f=new d.Plan(a,u);a.addPlan(f)}else c=v(t,n,a,s,l),u=s.addChildRequest(l.serviceIdentifier,c,l);c.forEach((function(n){var i=null;if(l.isArray())i=u.addChildRequest(n.serviceIdentifier,n,l);else{if(n.cache)return;i=u}if(n.type===r.BindingTypeEnum.Instance&&null!==n.implementationType){var s=p.getDependencies(t,n.implementationType);if(!a.container.options.skipBaseClassChecks){var c=p.getBaseClassDependencyCount(t,n.implementationType);if(s.length<c){var d=o.ARGUMENTS_LENGTH_MISMATCH(p.getFunctionName(n.implementationType));throw new Error(d)}}s.forEach((function(n){e(t,!1,n.serviceIdentifier,a,i,n)}))}}))}(e,b,m,x,null,w),x}catch(S){throw s.isStackOverflowExeption(S)&&x.plan&&l.circularDependencyToException(x.plan.rootRequest),S}},t.createMockRequest=function(e,t,n,i){var o=new f.Target(r.TargetTypeEnum.Variable,"",t,new u.Metadata(n,i)),a=new c.Context(e);return new h.Request(t,a,null,[],o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingCount={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(56),o=function(){function e(e){this.id=i.id(),this.container=e}return e.prototype.addPlan=function(e){this.plan=e},e.prototype.setCurrentRequest=function(e){this.currentRequest=e},e}();t.Context=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Plan=function(e,t){this.parentContext=e,this.rootRequest=t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(194),o=n(29),r=n(36),a=n(18),s=n(79);t.getFunctionName=s.getFunctionName;var l=n(195);function c(e,t,n,i){var a=e.getConstructorMetadata(n),s=a.compilerGeneratedMetadata;if(void 0===s){var c=o.MISSING_INJECTABLE_ANNOTATION+" "+t+".";throw new Error(c)}var p=a.userGeneratedMetadata,h=Object.keys(p),f=function(e,t,n,i,o){for(var r=[],a=0;a<o;a++){var s=u(a,e,t,n,i);null!==s&&r.push(s)}return r}(i,t,s,p,0===n.length&&h.length>0?h.length:n.length),m=function e(t,n){for(var i=t.getPropertiesMetadata(n),o=[],a=0,s=Object.keys(i);a<s.length;a++){var c=s[a],u=i[c],p=d(i[c]),h=p.targetName||c,f=p.inject||p.multiInject,m=new l.Target(r.TargetTypeEnum.ClassProperty,h,f);m.metadata=u,o.push(m)}var v=Object.getPrototypeOf(n.prototype).constructor;if(v!==Object){var g=e(t,v);o=o.concat(g)}return o}(e,n);return f.concat(m)}function u(e,t,n,a,s){var c=s[e.toString()]||[],u=d(c),p=!0!==u.unmanaged,h=a[e];if((h=u.inject||u.multiInject||h)instanceof i.LazyServiceIdentifer&&(h=h.unwrap()),p){if(!t&&(h===Object||h===Function||void 0===h)){var f=o.MISSING_INJECT_ANNOTATION+" argument "+e+" in class "+n+".";throw new Error(f)}var m=new l.Target(r.TargetTypeEnum.ConstructorArgument,u.targetName,h);return m.metadata=c,m}return null}function d(e){var t={};return e.forEach((function(e){t[e.key.toString()]=e.value})),{inject:t[a.INJECT_TAG],multiInject:t[a.MULTI_INJECT_TAG],targetName:t[a.NAME_TAG],unmanaged:t[a.UNMANAGED_TAG]}}t.getDependencies=function(e,t){return c(e,s.getFunctionName(t),t,!1)},t.getBaseClassDependencyCount=function e(t,n){var i=Object.getPrototypeOf(n.prototype).constructor;if(i!==Object){var o=c(t,s.getFunctionName(i),i,!0),r=o.map((function(e){return e.metadata.filter((function(e){return e.key===a.UNMANAGED_TAG}))})),l=[].concat.apply([],r).length,u=o.length-l;return u>0?u:e(t,i)}return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.str=e}return e.prototype.startsWith=function(e){return 0===this.str.indexOf(e)},e.prototype.endsWith=function(e){var t,n=e.split("").reverse().join("");return t=this.str.split("").reverse().join(""),this.startsWith.call({str:t},n)},e.prototype.contains=function(e){return-1!==this.str.indexOf(e)},e.prototype.equals=function(e){return this.str===e},e.prototype.value=function(){return this.str},e}();t.QueryableString=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(56),o=function(){function e(e,t,n,o,r){this.id=i.id(),this.serviceIdentifier=e,this.parentContext=t,this.parentRequest=n,this.target=r,this.childRequests=[],this.bindings=Array.isArray(o)?o:[o],this.requestScope=null===n?new Map:null}return e.prototype.addChildRequest=function(t,n,i){var o=new e(t,this.parentContext,this,n,i);return this.childRequests.push(o),o},e}();t.Request=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(29),o=n(36),r=n(193),a=n(79),s=n(439),l=function(e,t,n){try{return n()}catch(o){throw r.isStackOverflowExeption(o)?new Error(i.CIRCULAR_DEPENDENCY_IN_FACTORY(e,t.toString())):o}},c=function(e){return function(t){t.parentContext.setCurrentRequest(t);var n=t.bindings,r=t.childRequests,u=t.target&&t.target.isArray(),d=!(t.parentRequest&&t.parentRequest.target&&t.target&&t.parentRequest.target.matchesArray(t.target.serviceIdentifier));if(u&&d)return r.map((function(t){return c(e)(t)}));var p=null;if(!t.target.isOptional()||0!==n.length){var h=n[0],f=h.scope===o.BindingScopeEnum.Singleton,m=h.scope===o.BindingScopeEnum.Request;if(f&&h.activated)return h.cache;if(m&&null!==e&&e.has(h.id))return e.get(h.id);if(h.type===o.BindingTypeEnum.ConstantValue)p=h.cache;else if(h.type===o.BindingTypeEnum.Function)p=h.cache;else if(h.type===o.BindingTypeEnum.Constructor)p=h.implementationType;else if(h.type===o.BindingTypeEnum.DynamicValue&&null!==h.dynamicValue)p=l("toDynamicValue",h.serviceIdentifier,(function(){return h.dynamicValue(t.parentContext)}));else if(h.type===o.BindingTypeEnum.Factory&&null!==h.factory)p=l("toFactory",h.serviceIdentifier,(function(){return h.factory(t.parentContext)}));else if(h.type===o.BindingTypeEnum.Provider&&null!==h.provider)p=l("toProvider",h.serviceIdentifier,(function(){return h.provider(t.parentContext)}));else{if(h.type!==o.BindingTypeEnum.Instance||null===h.implementationType){var v=a.getServiceIdentifierAsString(t.serviceIdentifier);throw new Error(i.INVALID_BINDING_TYPE+" "+v)}p=s.resolveInstance(h.implementationType,r,c(e))}return"function"==typeof h.onActivation&&(p=h.onActivation(t.parentContext,p)),f&&(h.cache=p,h.activated=!0),m&&null!==e&&!e.has(h.id)&&e.set(h.id,p),p}}};t.resolve=function(e){return c(e.plan.rootRequest.requestScope)(e.plan.rootRequest)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(29),o=n(36),r=n(18);t.resolveInstance=function(e,t,n){var a,s,l=null;t.length>0?(s=t.filter((function(e){return null!==e.target&&e.target.type===o.TargetTypeEnum.ConstructorArgument})).map(n),l=function(e,t,n){var i=t.filter((function(e){return null!==e.target&&e.target.type===o.TargetTypeEnum.ClassProperty})),r=i.map(n);return i.forEach((function(t,n){var i;i=t.target.name.value();var o=r[n];e[i]=o})),e}(l=new((a=e).bind.apply(a,[void 0].concat(s))),t,n)):l=new e;return function(e,t){if(Reflect.hasMetadata(r.POST_CONSTRUCT,e)){var n=Reflect.getMetadata(r.POST_CONSTRUCT,e);try{t[n.value]()}catch(o){throw new Error(i.POST_CONSTRUCT_ERROR(e.name,o.message))}}}(e,l),l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(29),o=n(36),r=n(441),a=n(196),s=function(){function e(e){this._binding=e}return e.prototype.to=function(e){return this._binding.type=o.BindingTypeEnum.Instance,this._binding.implementationType=e,new r.BindingInWhenOnSyntax(this._binding)},e.prototype.toSelf=function(){if("function"!=typeof this._binding.serviceIdentifier)throw new Error(""+i.INVALID_TO_SELF_VALUE);var e=this._binding.serviceIdentifier;return this.to(e)},e.prototype.toConstantValue=function(e){return this._binding.type=o.BindingTypeEnum.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toDynamicValue=function(e){return this._binding.type=o.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new r.BindingInWhenOnSyntax(this._binding)},e.prototype.toConstructor=function(e){return this._binding.type=o.BindingTypeEnum.Constructor,this._binding.implementationType=e,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toFactory=function(e){return this._binding.type=o.BindingTypeEnum.Factory,this._binding.factory=e,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toFunction=function(e){if("function"!=typeof e)throw new Error(i.INVALID_FUNCTION_BINDING);var t=this.toConstantValue(e);return this._binding.type=o.BindingTypeEnum.Function,t},e.prototype.toAutoFactory=function(e){return this._binding.type=o.BindingTypeEnum.Factory,this._binding.factory=function(t){return function(){return t.container.get(e)}},new a.BindingWhenOnSyntax(this._binding)},e.prototype.toProvider=function(e){return this._binding.type=o.BindingTypeEnum.Provider,this._binding.provider=e,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toService=function(e){this.toDynamicValue((function(t){return t.container.get(e)}))},e}();t.BindingToSyntax=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(442),o=n(131),r=n(132),a=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new r.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new o.BindingOnSyntax(this._binding),this._bindingInSyntax=new i.BindingInSyntax(e)}return e.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},e.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},e.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingInWhenOnSyntax=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(36),o=n(196),r=function(){function e(e){this._binding=e}return e.prototype.inRequestScope=function(){return this._binding.scope=i.BindingScopeEnum.Request,new o.BindingWhenOnSyntax(this._binding)},e.prototype.inSingletonScope=function(){return this._binding.scope=i.BindingScopeEnum.Singleton,new o.BindingWhenOnSyntax(this._binding)},e.prototype.inTransientScope=function(){return this._binding.scope=i.BindingScopeEnum.Transient,new o.BindingWhenOnSyntax(this._binding)},e}();t.BindingInSyntax=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.of=function(t,n){var i=new e;return i.bindings=t,i.middleware=n,i},e}();t.ContainerSnapshot=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(29),o=function(){function e(){this._map=new Map}return e.prototype.getMap=function(){return this._map},e.prototype.add=function(e,t){if(null==e)throw new Error(i.NULL_ARGUMENT);if(null==t)throw new Error(i.NULL_ARGUMENT);var n=this._map.get(e);void 0!==n?(n.push(t),this._map.set(e,n)):this._map.set(e,[t])},e.prototype.get=function(e){if(null==e)throw new Error(i.NULL_ARGUMENT);var t=this._map.get(e);if(void 0!==t)return t;throw new Error(i.KEY_NOT_FOUND)},e.prototype.remove=function(e){if(null==e)throw new Error(i.NULL_ARGUMENT);if(!this._map.delete(e))throw new Error(i.KEY_NOT_FOUND)},e.prototype.removeByCondition=function(e){var t=this;this._map.forEach((function(n,i){var o=n.filter((function(t){return!e(t)}));o.length>0?t._map.set(i,o):t._map.delete(i)}))},e.prototype.hasKey=function(e){if(null==e)throw new Error(i.NULL_ARGUMENT);return this._map.has(e)},e.prototype.clone=function(){var t=new e;return this._map.forEach((function(e,n){e.forEach((function(e){return t.add(n,e.clone())}))})),t},e.prototype.traverse=function(e){this._map.forEach((function(t,n){e(n,t)}))},e}();t.Lookup=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(56);t.ContainerModule=function(e){this.id=i.id(),this.registry=e};t.AsyncContainerModule=function(e){this.id=i.id(),this.registry=e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(29),o=n(18);t.injectable=function(){return function(e){if(Reflect.hasOwnMetadata(o.PARAM_TYPES,e))throw new Error(i.DUPLICATED_INJECTABLE_DECORATOR);var t=Reflect.getMetadata(o.DESIGN_PARAM_TYPES,e)||[];return Reflect.defineMetadata(o.PARAM_TYPES,t,e),e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(33),o=n(44);t.tagged=function(e,t){return function(n,r,a){var s=new i.Metadata(e,t);"number"==typeof a?o.tagParameter(n,r,a,s):o.tagProperty(n,r,s)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(18),o=n(33),r=n(44);t.named=function(e){return function(t,n,a){var s=new o.Metadata(i.NAMED_TAG,e);"number"==typeof a?r.tagParameter(t,n,a,s):r.tagProperty(t,n,s)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(18),o=n(33),r=n(44);t.optional=function(){return function(e,t,n){var a=new o.Metadata(i.OPTIONAL_TAG,!0);"number"==typeof n?r.tagParameter(e,t,n,a):r.tagProperty(e,t,a)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(18),o=n(33),r=n(44);t.unmanaged=function(){return function(e,t,n){var a=new o.Metadata(i.UNMANAGED_TAG,!0);r.tagParameter(e,t,n,a)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(18),o=n(33),r=n(44);t.multiInject=function(e){return function(t,n,a){var s=new o.Metadata(i.MULTI_INJECT_TAG,e);"number"==typeof a?r.tagParameter(t,n,a,s):r.tagProperty(t,n,s)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(18),o=n(33),r=n(44);t.targetName=function(e){return function(t,n,a){var s=new o.Metadata(i.NAME_TAG,e);r.tagParameter(t,n,a,s)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(29),o=n(18),r=n(33);t.postConstruct=function(){return function(e,t,n){var a=new r.Metadata(o.POST_CONSTRUCT,t);if(Reflect.hasOwnMetadata(o.POST_CONSTRUCT,e.constructor))throw new Error(i.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(o.POST_CONSTRUCT,a,e.constructor)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiBindToService=function(e){return function(t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return n.forEach((function(n){return e.bind(n).toService(t)}))}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InjectableMetadataKey=void 0,t.InjectableMetadataKey="paperbits-injectable"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CoreDesignModule=void 0;const i=n(457),o=n(458),r=n(198),a=n(199),s=n(201),l=n(499),c=n(729),u=n(734),d=n(739),p=n(743),h=n(747),f=n(750),m=n(753),v=n(758),g=n(761),y=n(769),b=n(779),x=n(284),w=n(794),S=n(799),k=n(801),C=n(813),M=n(817),_=n(819),O=n(825),P=n(66),E=n(831),T=n(833),j=n(836),R=n(839),N=n(211),A=n(134),D=n(294),B=n(853),I=n(38),L=n(855),U=n(860),F=n(283),z=n(862),H=n(864),V=n(867),W=n(868),$=n(873),K=n(876),G=n(216),q=n(262),Y=n(878),X=n(295),J=n(881);n(886),n(887),n(888),n(889);const Q=n(100),Z=n(296),ee=n(890),te=n(892),ne=n(894);t.CoreDesignModule=class{register(e){e.bindModule(new l.CoreModule),e.bindCollection("styleGroups"),e.bindCollection("dropHandlers"),e.bindCollectionLazily("workshopSections"),e.bindCollection("trayCommands"),e.bindCollection("hyperlinkProviders"),e.bindSingleton("viewManager",L.DefaultViewManager),e.bindSingleton("tray",K.Tray),e.bindSingleton("viewStack",Z.ViewStack),e.bind("mediaDisplay",ee.MediaDisplay),e.bindSingleton("changesCache",ne.LocalStorageCache),e.bind("mediaHyperlinkProvider",A.MediaHyperlinkProvider),e.bind("urlHyperlinkProvider",N.UrlHyperlinkProvider),e.bind("gridEditor",z.GridEditor),e.bindToCollection("autostart",U.KnockoutValidation),e.bindToCollection("autostart",O.ResizableBindingHandler),e.bindToCollection("autostart",F.CropperBindingHandler),e.bindToCollection("autostart",O.BalloonBindingHandler),e.bindToCollection("autostart",B.UnhandledErrorHandler),e.bind("tooltip",L.Tooltip),e.bindSingleton("dragManager",D.DragManager),e.bindSingleton("lightbox",te.Lightbox),e.bind("placeholderWidget",I.PlaceholderViewModel),e.bindSingleton("htmlEditorProvider",P.HtmlEditorProvider),e.bindSingleton("mediaHandler",P.MediaHandlers),e.bind("workshops",S.Workshops),e.bind("viewportSelector",M.ViewportSelector),e.bind("localeSelector",_.LocaleSelector),e.bind("localeEditor",_.LocaleEditor),e.bind("hyperlinkSelector",E.HyperlinkSelector),e.bind("widgetSelector",T.WidgetSelector),e.bind("urlSelector",j.UrlSelector),e.bind("confirmation",o.Confirmation),e.bind("roleSelector",J.RoleSelector),e.bind("roleInput",J.RoleInput),e.bind("spinner",Y.Spinner),e.bindSingleton("mediaPermalinkResolver",V.MediaPermalinkResolver),e.bindModule(new k.TextblockEditorModule),e.bindModule(new u.PictureDesignModule),e.bindModule(new p.ButtonEditorModule),e.bindModule(new c.VideoPlayerDesignModule),e.bindModule(new d.YoutubePlayerDesignModule),e.bindModule(new h.TestimonialsEditorModule),e.bindModule(new q.MenuEditorModule),e.bindModule(new C.DropbucketModule),e.bindModule(new y.PageDesignModule),e.bindModule(new b.MediaWorkshopModule),e.bindModule(new R.LayoutDesignModule),e.bindModule(new g.BlockWorkshopModule),e.bindModule(new x.NavigationWorkshopModule),e.bindModule(new w.SettingsWorkshopModule),e.bindModule(new f.ColumnEditorModule),e.bindModule(new v.RowEditorModule),e.bindModule(new m.SectionEditorModule),e.bindModule(new W.GridEditorModule),e.bindModule(new $.GridCellEditorModule),e.bindModule(new Q.ContentEditorModule),e.bindModule(new H.CardEditorModule),e.bindModule(new G.CollapsiblePanelEditorModule),e.bindToCollection("hyperlinkProviders",N.UrlHyperlinkProvider),e.bindToCollection("autostart",O.HostBindingHandler),e.bindToCollection("autostart",s.DraggablesBindingHandler),e.bindToCollection("autostart",a.GridBindingHandler),e.bindToCollection("autostart",r.LightboxBindingHandler),e.bindToCollection("autostart",i.Hinter),e.bindInstance("reservedPermalinks",["/","/404","/500"]),e.resolve("workshopSections");const t=new X.DesignerUserService;e.bindInstance("userService",t),e.bindInstance("designerUserService",t)}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Hinter=void 0,t.Hinter=class{constructor(e,t,n,i){this.eventManager=e,this.viewManager=t,this.router=n,this.layoutService=i,this.noHints=!1,this.eventManager.addEventListener("DesignTimeNavigationHint",this.showDesignTimeNavigationHint.bind(this)),this.eventManager.addEventListener("InactiveLayoutHint",this.showInactiveLayoutHint.bind(this))}showDesignTimeNavigationHint(){this.noHints||(this.noHints=!0,this.viewManager.notifyInfo("Did you know?","When you're in the administrative view, you still can navigate any website hyperlinks by holding CTRL or \u2318 key and clicking on it."),setTimeout(()=>this.noHints=!1,8e3))}showInactiveLayoutHint(){return i(this,void 0,void 0,(function*(){if(this.noHints)return;this.noHints=!0;const e=this.router.getPath(),t=yield this.layoutService.getLayoutByPermalink(e);this.viewManager.notifyInfo("Did you know?",`This section is a part of "<b>${t.title}</b>" layout. Would you like to open it for editing?`,[{title:"Edit layout",iconClass:"paperbits-edit-72",action:()=>i(this,void 0,void 0,(function*(){this.viewManager.setHost({name:"layout-host",params:{layoutKey:t.key}})}))}]),setTimeout(()=>this.noHints=!1,8e3)}))}}},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Confirmation=void 0;const a=n(0),s=n(459),l=n(2);let c=class{constructor(){this.message=a.observable("Are you sure?")}onMounted(){return r(this,void 0,void 0,(function*(){if(this.getMessage){const e=yield this.getMessage();this.message(e)}}))}confirm(){this.onConfirm&&this.onConfirm()}decline(){this.onDecline&&this.onDecline()}};i([l.Param(),o("design:type",Function)],c.prototype,"getMessage",void 0),i([l.Event(),o("design:type",Function)],c.prototype,"onConfirm",void 0),i([l.Event(),o("design:type",Function)],c.prototype,"onDecline",void 0),i([l.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],c.prototype,"onMounted",null),c=i([l.Component({selector:"confirmation",template:s.default}),o("design:paramtypes",[])],c),t.Confirmation=c},function(e,t,n){"use strict";n.r(t),t.default='<div class="confirmation">\r\n    <h1>Confirm</h1>\r\n    <hr>\r\n    <div class="flex flex-row">\r\n        <div class="flex-item" data-bind="html: message">\r\n        </div>\r\n    </div>\r\n    <div class="flex flex-row">\r\n        <div class="flex-item btn-group">\r\n            <button class="btn" data-bind="click: confirm, focus: true">\r\n                <i class="paperbits-icon paperbits-check-2"></i>\r\n                Yes\r\n            </button>\r\n            <button class="btn" data-bind="click: decline">\r\n                <i class="paperbits-icon paperbits-simple-remove"></i>\r\n                No\r\n            </button>\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Component=t.Encapsulation=void 0,n(65);const i=n(0);var o;n(461),(o=t.Encapsulation||(t.Encapsulation={})).none="none",o.shadowDom="shadowDom",t.Component=function(e){return function(t){i.components.register(e.selector,{template:e.template,viewModel:t,synchronous:!1,encapsulation:e.encapsulation}),e.childTemplates&&Object.keys(e.childTemplates).forEach(t=>{if(i.templates[t])throw new Error(`Template "${t}" already defined.`);i.templates[t]=e.childTemplates[t]}),Reflect.defineMetadata("knockout-component",{name:e.selector,constructor:t},t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0);!function(){const e={},t={},n=new i.nativeTemplateEngine;i.templateSources.stringTemplate=function(e){this.templateName=e},i.utils.extend(i.templateSources.stringTemplate.prototype,{data:function(e,n){if(t[this.templateName]=t[this.templateName]||{},1===arguments.length)return t[this.templateName][e];t[this.templateName][e]=n},text:function(t){if(0===arguments.length)return e[this.templateName];e[this.templateName]=t}}),n.makeTemplateSource=function(e,t){let n;return"string"==typeof e?(n=(t||document).getElementById(e),n?new i.templateSources.domElement(n):new i.templateSources.stringTemplate(e)):e&&1===e.nodeType||8===e.nodeType?new i.templateSources.anonymousTemplate(e):void 0},i.templates=e,i.setTemplateEngine(n)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RuntimeComponent=void 0;const i=n(0);t.RuntimeComponent=function(e){return t=>{class n extends HTMLElement{constructor(){super()}static get observedAttributes(){return["params"]}connectedCallback(){const n=this;setTimeout(()=>{const o=n.getAttribute("params"),r=i.observable(o);i.applyBindingsToNode(n,{component:{name:e.selector,viewModel:t,params:r}},null)},10)}attributeChangedCallback(e,t,n){i.contextFor(this)&&(this.disconnectedCallback(),this.connectedCallback())}disconnectedCallback(){i.cleanNode(this)}}customElements.define(e.selector,n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Event=void 0,n(65),t.Event=function(e){return function(e,t){let n=Reflect.getMetadata("events",e.constructor);n||(n=[]),n.push(t),Reflect.defineMetadata("events",n,e.constructor)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnMounted=void 0,n(65),t.OnMounted=function(e){return function(e,t){let n=Reflect.getMetadata("onmounted",e.constructor);n||(n=[]),n.push(t),Reflect.defineMetadata("onmounted",n,e.constructor)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnDestroyed=void 0,n(65),t.OnDestroyed=function(e){return function(e,t){let n=Reflect.getMetadata("ondestroyed",e.constructor);n||(n=[]),n.push(t),Reflect.defineMetadata("ondestroyed",n,e.constructor)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Param=void 0,n(65),t.Param=function(e){return function(e,t){let n=Reflect.getMetadata("params",e.constructor);n||(n=[]),n.push(t),Reflect.defineMetadata("params",n,e.constructor)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Toast=void 0;const i=n(0);t.Toast=class{constructor(e,t,n="progress",o=0,r=[]){this.title=i.observable(e),this.content=i.observable(t),this.progress=i.observable(),this.progress.subscribe(this.onProgressUpdate.bind(this)),this.state=i.observable(n),this.commands=i.observableArray(r),this.progress(o)}onProgressUpdate(e){100===e&&this.state("success")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GridHelper=void 0;const i=n(0);class o{static getWidgetStack(e){var t;const n=[];do{const o=i.contextFor(e);if(!(null===(t=null==o?void 0:o.$data)||void 0===t?void 0:t.widgetBinding)||o.$data.widgetBinding.readonly){if(!(e=null==e?void 0:e.parentElement))return n;continue}const r=o.$data.widgetBinding;n.push({element:e,binding:r}),e=null==e?void 0:e.parentElement}while(e);return n}static GetSelfAndParentViewModels(e){const t=i.contextFor(e);if(!t)return[];const n=[];t.$data&&n.push(t.$data);let o=null;return t.$parents.forEach(e=>{e&&e!==o&&(n.push(e),o=e)}),n}static GetParentViewModels(e){const t=i.contextFor(e);if(!t)return[];const n=[];let o=t.$data;return t.$parents.forEach(e=>{e&&e!==o&&(n.push(e),o=e)}),n}static getParentWidgetBinding(e){const t=this.GetParentViewModels(e);return 0===t.length?null:t[0].widgetBinding}static getParentWidgetBindings(e){const t=[];return this.GetParentViewModels(e).forEach(e=>{const n=e.widgetBinding;n&&t.push(n)}),t}static getComponentRoots(e){let t=null;const n=[];return e.reverse().forEach(e=>{const o=i.contextFor(e);o&&o!==t&&(n.push(e),t=o)}),n.reverse()}static getWidgetBinding(e){const t=this.GetSelfAndParentViewModels(e);return t.length>0?t[0].widgetBinding:null}static getModel(e){const t=o.getWidgetBinding(e);return t&&t.model?t.model:null}}t.GridHelper=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HtmlEditorEvents=void 0;class i{}t.HtmlEditorEvents=i,i.onSelectionChange="onSelectionChange",i.onEditorDisabled="onEditorDisabled"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HtmlEditorProvider=void 0,t.HtmlEditorProvider=class{constructor(e){this.getCurrentHtmlEditor=this.getCurrentHtmlEditor.bind(this),this.setCurrentHtmlEditor=this.setCurrentHtmlEditor.bind(this),e.addEventListener("htmlEditorChanged",this.setCurrentHtmlEditor)}setCurrentHtmlEditor(e){this.htmlEditor=e}getCurrentHtmlEditor(){return this.htmlEditor}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formattableStates=void 0,t.formattableStates=["bold","italic","underlined","highlighted","hyperlink","h1","h2","h3","h4","h5","h6","quote","code","ol","ul","alignedLeft","alignedRight","alignedCenter","justified"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediaHandlers=void 0,t.MediaHandlers=class{constructor(e,t){this.mediaTypePrefixes=e,this.fileExtensions=t}matches(e){return!(e.mimeType&&!this.mediaTypePrefixes.some(t=>e.mimeType.startsWith(t)))&&!(e.name&&!this.fileExtensions.some(t=>e.name.endsWith(t)))}getContentDescriptorFromDataTransfer(e){return null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.alignmentStyleKeys=t.SelectionState=void 0,t.SelectionState=class{constructor(){this.block="paragraph"}},t.alignmentStyleKeys={left:"utils/text/alignLeft",center:"utils/text/alignCenter",right:"utils/text/alignRight",justify:"utils/text/justify"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CoreModule=void 0;const i=n(67),o=n(516),r=n(521),a=n(46),s=n(204),l=n(534),c=n(207),u=n(134),d=n(23),p=n(544),h=n(37),f=n(210),m=n(560),v=n(57),g=n(136),y=n(569),b=n(573),x=n(577),w=n(578),S=n(82),k=n(586),C=n(595),M=n(216),_=n(660),O=n(100),P=n(667),E=n(236),T=n(239),j=n(240),R=n(241),N=n(242),A=n(243),D=n(148),B=n(262),I=n(689),L=n(694),U=n(698),F=n(702),z=n(705),H=n(711),V=n(721),W=n(725);t.CoreModule=class{register(e){e.bindCollection("autostart"),e.bindCollection("styleHandlers"),e.bindCollectionLazily("widgetHandlers"),e.bindCollectionLazily("routeGuards"),e.bindCollectionLazily("modelBinders"),e.bindCollectionLazily("viewModelBinders"),e.bindCollectionLazily("permalinkResolvers"),e.bindSingleton("settingsProvider",r.SettingsProvider),e.bindSingleton("router",g.DefaultRouter),e.bindSingleton("httpClient",s.XmlHttpRequestClient),e.bindSingleton("eventManager",a.DefaultEventManager),e.bindSingleton("globalEventHandler",a.GlobalEventHandler),e.bindSingleton("changeCommitter",d.DefaultChangeCommitter),e.bindSingleton("widgetService",w.WidgetService),e.bindSingleton("permalinkService",v.DefaultPermalinkService),e.bindSingleton("layoutService",l.LayoutService),e.bindSingleton("pageService",f.PageService),e.bindSingleton("blogService",o.BlogService),e.bindSingleton("mediaService",u.MediaService),e.bindSingleton("blockService",i.BlockService),e.bindSingleton("navigationService",h.NavigationService),e.bindSingleton("siteService",y.SiteService),e.bindSingleton("urlService",b.UrlService),e.bindSingleton("localeService",c.LocaleService),e.bindSingleton("permalinkResolver",v.PermalinkResolver),e.bindToCollection("permalinkResolvers",p.MediaPermalinkResolver,"mediaPermalinkResolver"),e.bindToCollection("permalinkResolvers",m.PagePermalinkResolver,"pagePermalinkResolver"),e.bindToCollection("permalinkResolvers",x.UrlPermalinkResolver,"urlPermalinkResolver"),e.bind("modelBinderSelector",w.ModelBinderSelector),e.bind("viewModelBinderSelector",D.ViewModelBinderSelector),e.bind("backgroundModelBinder",S.BackgroundModelBinder),e.bindModule(new N.KnockoutRegistrationLoaders),e.bindModule(new A.KoModule),e.bindModule(new O.ContentModule),e.bindModule(new _.ColumnModule),e.bindModule(new U.RowModule),e.bindModule(new H.TextblockModule),e.bindModule(new F.SectionModule),e.bindModule(new E.GridModule),e.bindModule(new P.GridCellModule),e.bindModule(new I.NavbarModule),e.bindModule(new k.ButtonModule),e.bindModule(new B.MenuModule),e.bindModule(new L.PictureModule),e.bindModule(new V.VideoPlayerModule),e.bindModule(new W.YoutubePlayerPublishModule),e.bindModule(new z.TestimonialsModule),e.bindModule(new C.CardModule),e.bindModule(new M.CollapsiblePanelModule),e.bindToCollection("routeGuards",g.DefaultRouteGuard),e.bindToCollection("autostart",R.WidgetBindingHandler),e.bindToCollection("autostart",T.BackgroundBindingHandler),e.bindToCollection("autostart",j.SecuredBindingHandler)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BlockService=void 0;const o=n(6),r=n(23),a=n(203);t.BlockService=class{constructor(e,t,n){this.objectStorage=e,this.httpClient=t,this.settingsProvider=n}getBlockByKey(e){if(!e)throw new Error('Parameter "key" not specified.');return e.startsWith("blocks")?this.objectStorage.getObject(e):null}search(e,t){return i(this,void 0,void 0,(function*(){let n=[];if(e===a.BlockType.saved){const i=r.Query.from().where("type",r.Operator.equals,e);t.length>0&&i.where("title",r.Operator.contains,t).orderBy("title"),n=(yield this.objectStorage.searchObjects("blocks",i)).value}else{const e=yield this.loadBlockSnippets();if(!e)return[];const i=e.blocks,o=Object.keys(i);for(const r of o)-1!==i[r].title.indexOf(t)&&(n[r]=i[r])}return n}))}deleteBlock(e){return i(this,void 0,void 0,(function*(){if(!e)throw new Error('Parameter "block" not specified.');yield this.objectStorage.deleteObject(e.key)}))}createBlock(e,t,n,r){return i(this,void 0,void 0,(function*(){const i=o.guid(),a="blocks/"+o.guid(),s="files/"+i,l={type:r,key:a,title:e,description:t,contentKey:s};yield this.objectStorage.addObject(a,l),yield this.objectStorage.addObject(s,n)}))}updateBlock(e){if(!e)throw new Error('Parameter "block" not specified.');return this.objectStorage.updateObject(e.key,e)}getBlockContent(e,t){return i(this,void 0,void 0,(function*(){if(!e)throw new Error('Parameter "key" not specified.');if(!t||t===a.BlockType.saved){const t=yield this.getBlockByKey(e);return yield this.objectStorage.getObject(t.contentKey)}const n=yield this.loadBlockSnippets();if(!n)return null;const i=this.getObjectByPath(n,e);return i?this.getObjectByPath(n,i.contentKey):null}))}loadBlockSnippets(){return i(this,void 0,void 0,(function*(){return this.blocksData||(yield this.loadData()),this.blocksData}))}loadData(){return i(this,void 0,void 0,(function*(){try{const e=yield this.settingsProvider.getSetting("blockSnippetsUrl");if(!e)return void console.warn("Settings for blocksUrl not found.");const t=yield this.httpClient.send({url:e,method:"GET"});this.blocksData=t.toObject()}catch(e){console.error("Load blocks error: ",e)}}))}getObjectByPath(e,t){for(let n=0,i=t.split("/"),o=i.length;n<o;n++)e=e[i[n]];return e}}},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],i=t[1];return 3*(n+i)/4-i},t.toByteArray=function(e){var t,n,i=c(e),a=i[0],s=i[1],l=new r(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),u=0,d=s>0?a-4:a;for(n=0;n<d;n+=4)t=o[e.charCodeAt(n)]<<18|o[e.charCodeAt(n+1)]<<12|o[e.charCodeAt(n+2)]<<6|o[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;return 2===s&&(t=o[e.charCodeAt(n)]<<2|o[e.charCodeAt(n+1)]>>4,l[u++]=255&t),1===s&&(t=o[e.charCodeAt(n)]<<10|o[e.charCodeAt(n+1)]<<4|o[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t),l},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,r=[],a=0,s=n-o;a<s;a+=16383)r.push(u(e,a,a+16383>s?s:a+16383));return 1===o?(t=e[n-1],r.push(i[t>>2]+i[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],r.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"=")),r.join("")};for(var i=[],o=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)i[s]=a[s],o[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var o,r,a=[],s=t;s<n;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(i[(r=o)>>18&63]+i[r>>12&63]+i[r>>6&63]+i[63&r]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,i,o){var r,a,s=8*o-i-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?o-1:0,p=n?-1:1,h=e[t+d];for(d+=p,r=h&(1<<-u)-1,h>>=-u,u+=s;u>0;r=256*r+e[t+d],d+=p,u-=8);for(a=r&(1<<-u)-1,r>>=-u,u+=i;u>0;a=256*a+e[t+d],d+=p,u-=8);if(0===r)r=1-c;else{if(r===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,i),r-=c}return(h?-1:1)*a*Math.pow(2,r-i)},t.write=function(e,t,n,i,o,r){var a,s,l,c=8*r-o-1,u=(1<<c)-1,d=u>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=i?0:r-1,f=i?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?p/l:p*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*l-1)*Math.pow(2,o),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;e[n+h]=255&s,h+=f,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;e[n+h]=255&a,h+=f,a/=256,c-=8);e[n+h-f]|=128*m}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";var i=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===o}(e)}(e)},o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){return!1!==t.clone&&t.isMergeableObject(e)?c((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function a(e,t,n){return e.concat(t).map((function(e){return r(e,n)}))}function s(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function l(e,t){try{return t in e}catch(n){return!1}}function c(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||a,n.isMergeableObject=n.isMergeableObject||i,n.cloneUnlessOtherwiseSpecified=r;var o=Array.isArray(t);return o===Array.isArray(e)?o?n.arrayMerge(e,t,n):function(e,t,n){var i={};return n.isMergeableObject(e)&&s(e).forEach((function(t){i[t]=r(e[t],n)})),s(t).forEach((function(o){(function(e,t){return l(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(l(e,o)&&n.isMergeableObject(t[o])?i[o]=function(e,t){if(!t.customMerge)return c;var n=t.customMerge(e);return"function"==typeof n?n:c}(o,n)(e[o],t[o],n):i[o]=r(t[o],n))})),i}(e,t,n):r(t,n)}c.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return c(e,n,t)}),{})};var u=c;e.exports=u},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AnchorMiddleware=void 0,t.AnchorMiddleware=class{constructor(e,t){this.pageService=e,this.router=t}applyChanges(e,t){return i(this,void 0,void 0,(function*(){}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OfflineObjectStorage=void 0;const o=n(30),r=n(23);t.OfflineObjectStorage=class{constructor(e,t){this.changesCache=e,this.eventManager=t,this.changesObjectCacheKey="changesObject",this.stateObjectCacheKey="stateObject",this.stateObject={},this.changesObject={},this.remoteObjectStorage=null,this.isOnline=!0,this.autosave=!1,this.middlewares=[],this.past=[],this.future=[],t&&(this.eventManager.addEventListener("onUndo",()=>this.undo()),this.eventManager.addEventListener("onRedo",()=>this.redo()))}initialize(){return this.initializePromise||(this.initializePromise=new Promise(e=>i(this,void 0,void 0,(function*(){const t=yield this.changesCache.getItem(this.changesObjectCacheKey);t&&Object.assign(this.changesObject,t);const n=yield this.changesCache.getItem(this.stateObjectCacheKey);n&&Object.assign(this.stateObject,n),e()})))),this.initializePromise}canUndo(){return this.past.length>0}canRedo(){return this.future.length>0}setRemoteObjectStorage(e){this.remoteObjectStorage=e}registerMiddleware(e){this.middlewares.push(e)}addObject(e,t){return i(this,void 0,void 0,(function*(){if(!e)throw new Error("Could not add object: Key is undefined.");yield this.initialize();const n=o.clone(t);let i,r;this.do(()=>{i=o.setValueWithCompensation(e,this.stateObject,n),r=o.setValueWithCompensation(e,this.changesObject,n),o.cleanupObject(this.stateObject,!0),o.cleanupObject(this.changesObject,!0),this.changesCache.setItem(this.changesObjectCacheKey,this.changesObject),this.changesCache.setItem(this.stateObjectCacheKey,this.stateObject)},()=>{o.setValueWithCompensation(e,this.stateObject,i),o.setValueWithCompensation(e,this.changesObject,r),o.cleanupObject(this.stateObject,!0),o.cleanupObject(this.changesObject,!0),this.changesCache.setItem(this.changesObjectCacheKey,this.changesObject),this.changesCache.setItem(this.stateObjectCacheKey,this.stateObject)})}))}patchObject(e,t){return i(this,void 0,void 0,(function*(){throw new Error("Not implemented")}))}updateObject(e,t){return i(this,void 0,void 0,(function*(){if(!e)throw new Error('Parameter "path" not specified.');if(void 0===t)throw new Error('Parameter "dataObject" not specified.');yield this.initialize();const n=o.clone(t),i=o.clone(t);let r,a;this.do(()=>{r=o.setValueWithCompensation(e,this.stateObject,n),a=o.setValueWithCompensation(e,this.changesObject,i),o.cleanupObject(this.stateObject,!0),o.cleanupObject(this.changesObject),this.changesCache.setItem(this.changesObjectCacheKey,this.changesObject),this.changesCache.setItem(this.stateObjectCacheKey,this.stateObject)},()=>{o.setValueWithCompensation(e,this.stateObject,r),o.setValueWithCompensation(e,this.changesObject,a),o.cleanupObject(this.stateObject,!0),o.cleanupObject(this.changesObject),this.changesCache.setItem(this.changesObjectCacheKey,this.changesObject),this.changesCache.setItem(this.stateObjectCacheKey,this.stateObject)})}))}getObject(e){return i(this,void 0,void 0,(function*(){if(!e)throw new Error('Parameter "path" not specified.');yield this.initialize();const t=o.getObjectAt(e,this.changesObject);if(t)return o.clone(t);if(null===t)return;let n=o.getObjectAt(e,this.stateObject);if(n)return o.clone(n);const i=yield this.remoteObjectStorage.getObject(e);return i&&(n=o.clone(i),o.setValue(e,this.stateObject,n),this.changesCache.setItem(this.stateObjectCacheKey,this.stateObject)),i}))}deleteObject(e){return i(this,void 0,void 0,(function*(){if(!e)throw new Error('Parameter "path" not specified.');let t,n;yield this.initialize(),this.do(()=>{t=o.setValueWithCompensation(e,this.stateObject,null),n=o.setValueWithCompensation(e,this.changesObject,null),o.cleanupObject(this.stateObject,!0),o.cleanupObject(this.changesObject),this.changesCache.setItem(this.changesObjectCacheKey,this.changesObject),this.changesCache.setItem(this.stateObjectCacheKey,this.stateObject)},()=>{o.setValueWithCompensation(e,this.stateObject,t),o.setValueWithCompensation(e,this.changesObject,n),o.cleanupObject(this.stateObject,!0),o.cleanupObject(this.changesObject),this.changesCache.setItem(this.changesObjectCacheKey,this.changesObject),this.changesCache.setItem(this.stateObjectCacheKey,this.stateObject)})}))}do(e,t){const n={do:e,undo:t};n.do(),this.past.push(n),this.past.length>10&&this.past.shift(),this.autosave&&this.saveChanges(),this.eventManager&&this.eventManager.dispatchEvent("onDataChange")}undo(){if(!this.canUndo())return;const e=this.past.pop();e.undo(),this.future.push(e),this.autosave&&this.saveChanges(),this.eventManager&&(this.eventManager.dispatchEvent("onDataPush"),this.eventManager.dispatchEvent("onDataChange"))}redo(){if(!this.canRedo())return;const e=this.future.pop();e.do(),this.past.push(e),this.eventManager&&(this.eventManager.dispatchEvent("onDataPush"),this.eventManager.dispatchEvent("onDataChange"))}searchLocalChanges(e,t){return i(this,void 0,void 0,(function*(){const n=o.getObjectAt(e,this.changesObject);if(!n)return{value:[],totalCount:0};let i=Object.values(n).filter(e=>!!e);if(t&&(t.filters.length>0&&(i=i.filter(e=>{let n=!0;for(const i of t.filters){let t=o.getObjectAt(i.left,e),a=i.right;if(a&&void 0===t){n=!1;continue}if("boolean"==typeof i.right){if(i.operator!==r.Operator.equals)return console.warn("Boolean query operator can be only equals"),void(n=!1);(void 0!==t&&!1!==t||!0!==i.right)&&(void 0!==i.right&&!1!==i.right||!0!==t)||(n=!1);continue}if(!t){n=!1;continue}const s=i.operator;switch("string"==typeof t&&(t=t.toUpperCase()),"string"==typeof a&&(a=a.toUpperCase()),s){case r.Operator.contains:t&&!t.includes(a)&&(n=!1);break;case r.Operator.equals:t!==a&&(n=!1);break;default:throw new Error("Cannot translate operator into Firebase Realtime Database query.")}}return n})),t.orderingBy)){const e=t.orderingBy;i=i.sort((n,i)=>{const a=o.getObjectAt(e,n),s=o.getObjectAt(e,i),l=t.orderDirection===r.OrderDirection.accending?1:-1;return a>s?l:a<s?-l:0})}return{value:i,totalCount:i.length}}))}convertPage(e){const t={value:e.value,takeNext:t=>i(this,void 0,void 0,(function*(){const t=yield e.takeNext();return this.convertPage(t)}))};return e.takeNext||(t.takeNext=null),t}searchObjects(e,t=r.Query.from()){return i(this,void 0,void 0,(function*(){if(!e)throw new Error('Parameter "path" not specified.');yield this.initialize();const n={value:[],takeNext:null},r=yield this.searchLocalChanges(e,t),a=t.copy(),s=yield this.remoteObjectStorage.searchObjects(e,a),l=s.value;s.takeNext&&(n.takeNext=()=>i(this,void 0,void 0,(function*(){const e=yield s.takeNext();return this.convertPage(e)})));const c=o.getObjectAt(e,o.clone(this.changesObject));return c&&Object.keys(c).forEach(e=>{const t=l.findIndex(t=>t.key===e);t>=0&&null===c[e]&&l.splice(t,1)}),n.value=r.value.concat(l),n}))}hasUnsavedChanges(){return i(this,void 0,void 0,(function*(){return yield this.initialize(),Object.keys(this.changesObject).length>0}))}hasUnsavedChangesAt(e){return i(this,void 0,void 0,(function*(){return yield this.initialize(),!!o.getObjectAt(e,this.changesObject)}))}discardChanges(){return i(this,void 0,void 0,(function*(){Object.keys(this.changesObject).forEach(e=>delete this.changesObject[e]),Object.keys(this.stateObject).forEach(e=>delete this.stateObject[e]),this.changesCache.setItem(this.changesObjectCacheKey,this.changesObject)}))}saveChanges(){return i(this,void 0,void 0,(function*(){const e=Object.keys(this.changesObject);0!==e.length&&(yield this.remoteObjectStorage.saveChanges(this.changesObject),e.forEach(e=>delete this.changesObject[e]),this.changesCache.setItem(this.changesObjectCacheKey,this.changesObject),this.eventManager.dispatchEvent("onDataChange"))}))}loadData(){return i(this,void 0,void 0,(function*(){return this.remoteObjectStorage.loadData?(yield this.remoteObjectStorage.loadData())&&(yield this.discardChanges(),this.eventManager.dispatchEvent("onDataPush"),this.eventManager.dispatchEvent("onDataChange")):console.warn("current ObjectStorage does not implement loadData"),this.stateObject}))}}},function(e,t,n){"use strict";var i,o;Object.defineProperty(t,"__esModule",{value:!0}),t.Query=t.OrderDirection=t.Operator=void 0,(o=t.Operator||(t.Operator={}))[o.equals=0]="equals",o[o.contains=1]="contains",function(e){e[e.accending=0]="accending",e[e.descending=1]="descending"}(i=t.OrderDirection||(t.OrderDirection={}));class r{constructor(){this.filters=[],this.skipping=0,this.orderDirection=i.accending}where(e,t,n){return this.filters.push({left:e,operator:t,right:n}),this}orderBy(e){return this.orderingBy=e,this.orderDirection=i.accending,this}orderByDesc(e){return this.orderingBy=e,this.orderDirection=i.descending,this}static from(){return new r}copy(){const e=new r;return e.filters=this.filters,e.selecting=this.selecting,e.orderingBy=this.orderingBy,e.orderDirection=this.orderDirection,e}}t.Query=r},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SavingHandler=void 0,t.SavingHandler=class{constructor(e,t,n){e.addEventListener("onSaveChanges",()=>i(this,void 0,void 0,(function*(){(yield t.hasUnsavedChanges())&&(yield t.saveChanges(),n.notifySuccess("Changes saved","All changes saved successfully."))})))}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.LoadingHandler=void 0,t.LoadingHandler=class{constructor(e,t,n){e.addEventListener("onLoadData",()=>i(this,void 0,void 0,(function*(){yield t.loadData()})))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultChangeCommitter=void 0,t.DefaultChangeCommitter=class{commit(){return i(this,void 0,void 0,(function*(){}))}}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(517),t),o(n(518),t),o(n(519),t),o(n(520),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlogHyperlinkProvider=void 0;const i=n(80);t.BlogHyperlinkProvider=class{constructor(){this.name="Blog posts",this.componentName="blog-selector",this.iconClass="paperbits-icon paperbits-single-content-03"}canHandleHyperlink(e){return e.startsWith("posts/")}getHyperlinkFromResource(e){const t=new i.HyperlinkModel;return t.title=e.title,t.targetKey=e.key,t.href=e.permalink,t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BlogService=void 0;const o=n(6),r=n(23);t.BlogService=class{constructor(e,t){this.objectStorage=e,this.blockService=t}getBlogPostByPermalink(e){return i(this,void 0,void 0,(function*(){if(!e)throw new Error('Parameter "permalink" not specified.');const t=r.Query.from().where("permalink",r.Operator.equals,e),n=(yield this.objectStorage.searchObjects("posts",t)).value,i=Object.values(n);return i.length>0?i[0]:null}))}getBlogPostByKey(e){return i(this,void 0,void 0,(function*(){return yield this.objectStorage.getObject(e)}))}search(e){return i(this,void 0,void 0,(function*(){const t=r.Query.from().where("title",r.Operator.contains,e).orderBy("title");return(yield this.objectStorage.searchObjects("posts",t)).value}))}deleteBlogPost(e){return i(this,void 0,void 0,(function*(){const t=this.objectStorage.deleteObject(e.contentKey),n=this.objectStorage.deleteObject(e.key);yield Promise.all([t,n])}))}createBlogPost(e,t,n,r){return i(this,void 0,void 0,(function*(){const i=o.guid(),a="posts/"+i,s="files/"+i,l={key:a,title:t,description:n,keywords:r,permalink:e,contentKey:s};yield this.objectStorage.addObject(a,l);const c=yield this.blockService.getBlockContent("blocks/new-page-template");return yield this.objectStorage.addObject(s,c),l}))}updateBlogPost(e){return i(this,void 0,void 0,(function*(){yield this.objectStorage.updateObject(e.key,e)}))}getBlogPostContent(e){return i(this,void 0,void 0,(function*(){const t=yield this.getBlogPostByKey(e);return yield this.objectStorage.getObject(t.contentKey)}))}updateBlogPostContent(e,t){return i(this,void 0,void 0,(function*(){if(!e)throw new Error('Parameter "postKey" not specified.');if(!t)throw new Error('Parameter "content" not specified.');const n=yield this.getBlogPostByKey(e);this.objectStorage.updateObject(n.contentKey,t)}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(522),t),o(n(523),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Settings=void 0,function(e){let t;!function(e){e.GoogleMaps="googleMaps",e.GoogleTagManager="gtm",e.Intercom="intercom",e.GoogleFonts="googleFonts"}(t=e.Config||(e.Config={}))}(t.Settings||(t.Settings={}))},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsProvider=void 0,t.SettingsProvider=class{constructor(e,t){this.httpClient=e,this.eventManager=t}loadSettings(){return i(this,void 0,void 0,(function*(){const e=yield this.httpClient.send({url:"/config.json"});return this.configuration=e.toObject(),this.configuration}))}getSetting(e){return i(this,void 0,void 0,(function*(){return yield this.getSettings(),this.configuration[e]}))}onSettingChange(e,t){this.eventManager.addEventListener("onSettingChange",n=>{n.name===e&&t(n.value)})}setSetting(e,t){this.configuration[e]=t,this.eventManager.dispatchEvent("onSettingChange",{name:e,value:t})}getSettings(){return this.loadingPromise||(this.loadingPromise=this.loadSettings()),this.loadingPromise}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultEventManager=void 0,n(133),t.DefaultEventManager=class{constructor(){this.eventListeners=[]}addEventListener(e,t){this.eventListeners.some(n=>n.eventName===e&&n.eventHandler===t)||this.eventListeners.push({eventName:e,eventHandler:t})}removeEventListener(e,t){const n=this.eventListeners.find(n=>n.eventName===e&&n.eventHandler===t);n&&this.eventListeners.remove(n)}dispatchEvent(e,t){this.eventListeners.filter(t=>t.eventName===e).forEach(e=>e.eventHandler(t))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalEventHandler=void 0;const i=n(93);t.GlobalEventHandler=class{constructor(e){this.eventManager=e,this.onKeyDown=this.onKeyDown.bind(this),this.onCtrlS=this.onCtrlS.bind(this),this.onCtrlO=this.onCtrlO.bind(this),this.onEscape=this.onEscape.bind(this),this.onKeyUp=this.onKeyUp.bind(this),this.onDragEnter=this.onDragEnter.bind(this),this.onDragStart=this.onDragStart.bind(this),this.onDragOver=this.onDragOver.bind(this),this.onDragLeave=this.onDragLeave.bind(this),this.onDragDrop=this.onDragDrop.bind(this),this.onDragEnd=this.onDragEnd.bind(this),this.onPaste=this.onPaste.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onError=this.onError.bind(this),this.onUnhandledRejection=this.onUnhandledRejection.bind(this),this.addDragStartListener=this.addDragStartListener.bind(this),this.addDragEnterListener=this.addDragEnterListener.bind(this),this.addDragDropListener=this.addDragDropListener.bind(this),this.addDragEndListener=this.addDragEndListener.bind(this),this.addDragLeaveListener=this.addDragLeaveListener.bind(this),this.addDragLeaveScreenListener=this.addDragLeaveScreenListener.bind(this),this.addKeyDownListener=this.addKeyDownListener.bind(this),this.addKeyUpListener=this.addKeyUpListener.bind(this),this.documents=[]}appendDocument(e){this.documents.indexOf(e)>-1||(this.documents.push(e),e.addEventListener("keydown",this.onKeyDown,!0),e.addEventListener("keyup",this.onKeyUp,!0),e.addEventListener("dragenter",this.onDragEnter,!0),e.addEventListener("dragstart",this.onDragStart,!0),e.addEventListener("dragover",this.onDragOver,!0),e.addEventListener("dragleave",this.onDragLeave.bind(this)),e.addEventListener("drop",this.onDragDrop,!0),e.addEventListener("dragend",this.onDragEnd,!0),e.addEventListener("paste",this.onPaste,!0),e.addEventListener("mousemove",this.onPointerMove,!0),e.addEventListener("mousedown",this.onPointerDown,!0),e.addEventListener("mouseup",this.onPointerUp,!0),e.defaultView.window.addEventListener("error",this.onError,!0),e.defaultView.window.addEventListener("unhandledrejection",this.onUnhandledRejection,!0))}removeDocument(e){this.documents.remove(e),e.removeEventListener("keydown",this.onKeyDown,!0),e.removeEventListener("keyup",this.onKeyUp,!0),e.removeEventListener("dragenter",this.onDragEnter,!0),e.removeEventListener("dragstart",this.onDragStart,!0),e.removeEventListener("dragover",this.onDragOver,!0),e.removeEventListener("dragleave",this.onDragLeave.bind(this)),e.removeEventListener("drop",this.onDragDrop,!0),e.removeEventListener("dragend",this.onDragEnd,!0),e.removeEventListener("paste",this.onPaste,!0),e.removeEventListener("mousemove",this.onPointerMove,!0),e.removeEventListener("mousedown",this.onPointerDown,!0),e.removeEventListener("mouseup",this.onPointerUp,!0),e.defaultView.window.removeEventListener("error",this.onError,!0),e.defaultView.window.removeEventListener("unhandledrejection",this.onUnhandledRejection,!0)}onKeyDown(e){this.eventManager.dispatchEvent("onKeyDown",e),e.ctrlKey&&e.keyCode===i.Keys.S&&(e.preventDefault(),this.onCtrlS()),e.ctrlKey&&e.keyCode===i.Keys.O&&(e.preventDefault(),this.onCtrlO()),e.ctrlKey&&e.keyCode===i.Keys.P&&(e.preventDefault(),this.onCtrlP()),e.keyCode===i.Keys.Delete&&this.onDelete(),e.keyCode===i.Keys.Esc&&(e.preventDefault(),this.onEscape())}onKeyUp(e){this.eventManager.dispatchEvent("onKeyUp",e)}onCtrlS(){this.eventManager.dispatchEvent("onSaveChanges")}onCtrlO(){this.eventManager.dispatchEvent("onLoadData")}onCtrlP(){this.eventManager.dispatchEvent("onPublish")}onEscape(){this.eventManager.dispatchEvent("onEscape")}onDelete(){this.eventManager.dispatchEvent("onDelete")}onPointerMove(e){this.eventManager.dispatchEvent("onPointerMove",e)}onPointerDown(e){this.eventManager.dispatchEvent("onPointerDown",e)}onPointerUp(e){this.eventManager.dispatchEvent("onPointerUp",e)}onDragStart(e){this.eventManager.dispatchEvent("onDragStart")}onDragEnter(e){this.eventManager.dispatchEvent("onDragEnter"),e.preventDefault()}onDragOver(e){e.preventDefault(),this.eventManager.dispatchEvent("onDragOver")}onDragLeave(e){this.eventManager.dispatchEvent("onDragLeave"),0===e.screenX&&0===e.screenY&&this.eventManager.dispatchEvent("onDragLeaveScreen")}onDragDrop(e){this.eventManager.dispatchEvent("onDragDrop",e),e.preventDefault()}onDragEnd(){this.eventManager.dispatchEvent("onDragEnd")}onPaste(e){this.eventManager.dispatchEvent("onPaste",e)}onError(e){this.eventManager.dispatchEvent("onError",e)}onUnhandledRejection(e){this.eventManager.dispatchEvent("onUnhandledRejection",e)}addDragStartListener(e){this.eventManager.addEventListener("onDragStart",e)}addDragEnterListener(e){this.eventManager.addEventListener("onDragEnter",e)}addDragOverListener(e){this.eventManager.addEventListener("onDragOver",e)}addDragLeaveListener(e){this.eventManager.addEventListener("onDragLeave",e)}addDragLeaveScreenListener(e){this.eventManager.addEventListener("onDragLeaveScreen",e)}addDragDropListener(e){this.eventManager.addEventListener("onDragDrop",e)}addDragEndListener(e){this.eventManager.addEventListener("onDragEnd",e)}addPasteListener(e){this.eventManager.addEventListener("onPaste",e)}addPointerMoveEventListener(e){this.eventManager.addEventListener("onPointerMove",e)}addKeyDownListener(e){this.eventManager.addEventListener("onKeyDown",e)}addKeyUpListener(e){this.eventManager.addEventListener("onKeyUp",e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommonEvents=void 0,t.CommonEvents={onViewportChange:"onViewportChange"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HttpMethod=void 0;class i{}t.HttpMethod=i,i.head="HEAD",i.get="GET",i.post="POST",i.put="PUT",i.patch="PATCH",i.delete="DELETE"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XmlHttpRequestClient=void 0;const i=n(533),o=n(205);t.XmlHttpRequestClient=class{constructor(){this.send=this.send.bind(this)}parseHeaderString(e){if(!e)return[];const t=[],n=e.split("\r\n");for(const i of n){const e=i.indexOf(": ");if(e>0){const n={name:i.substring(0,e),value:i.substring(e+2)};t.push(n)}}return t}send(e){return e.method||(e.method="GET"),e.headers||(e.headers=[]),new Promise((t,n)=>{const r=new i;r.responseType="arraybuffer",r.onreadystatechange=(()=>{if(4!==r.readyState)return;if(0===r.status)return void n({message:"Could not complete the request. Please try again later.",code:"RequestError",requestedUrl:e.url,details:[]});const i=new o.HttpResponse;i.statusCode=r.status,i.statusText=r.statusText,i.headers=this.parseHeaderString(r.getAllResponseHeaders()),i.body=new Uint8Array(r.response),t(i)}).bind(this),r.ontimeout=(()=>{n({message:"Request timed out. Please try again later.",code:"RequestError",details:[]})}).bind(this),r.open(e.method,e.url,!0),e.headers.forEach(e=>{r.setRequestHeader(e.name,e.value)}),r.send(e.body)})}}},function(e,t){e.exports=XMLHttpRequest},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.LayoutService=void 0;const o=n(6),r=n(206),a=n(23),s=n(535);t.LayoutService=class{constructor(e,t){this.objectStorage=e,this.localeService=t,this.layoutsPath="layouts"}copyMetadata(e,t){if(!e)throw new Error('Parameter "sourceMetadata" not specified.');if(!t)throw new Error('Parameter "targetMetadata" not specified.');return t.title=e.title,t.description=e.description,t.permalinkTemplate=e.permalinkTemplate,t}localizedContractToContract(e,t,n,i){const o=i[r.localePrefix],a=(n?o[n]:o[t])||this.copyMetadata(o[e],{});return a?Object.assign({key:i.key},a):null}getLayoutByKey(e,t){return i(this,void 0,void 0,(function*(){if(!e)throw new Error('Parameter "key" not specified.');const n=yield this.objectStorage.getObject(e);if(!n)return null;const i=yield this.localeService.getDefaultLocale(),o=yield this.localeService.getCurrentLocale();return this.localizedContractToContract(i,o,t,n)}))}convertPage(e,t,n,o){const r={value:e.value.map(e=>this.localizedContractToContract(t,n,o,e)),takeNext:()=>i(this,void 0,void 0,(function*(){const i=yield e.takeNext();return this.convertPage(i,t,n,o)}))};return e.takeNext||(r.takeNext=null),r}search(e,t){return i(this,void 0,void 0,(function*(){if(!e)throw new Error('Parameter "query" not specified.');const n=yield this.localeService.getDefaultLocale(),i=yield this.localeService.getCurrentLocale(),r=t||i,a=o.localizeQuery(e,r);try{const e=yield this.objectStorage.searchObjects(this.layoutsPath,a);return this.convertPage(e,n,r,t)}catch(s){throw new Error("Unable to search pages: "+(s.stack||s.message))}}))}deleteLayout(e){return i(this,void 0,void 0,(function*(){if(!e)throw new Error('Parameter "layout" not specified.');const t=yield this.objectStorage.getObject(e.key);if(t.locales){const e=Object.values(t.locales).map(e=>e.contentKey);for(const t of e)yield this.objectStorage.deleteObject(t)}yield this.objectStorage.deleteObject(e.key)}))}createLayout(e,t,n){return i(this,void 0,void 0,(function*(){const i=yield this.localeService.getDefaultLocale(),r=o.guid(),a=`${this.layoutsPath}/${r}`,l="files/"+r,c={key:a,locales:{[i]:{title:e,description:t,permalinkTemplate:n,contentKey:l}}};return yield this.objectStorage.addObject(a,c),yield this.objectStorage.addObject(l,s.layoutTemplate),{key:a,title:e,description:t,permalinkTemplate:n,contentKey:l}}))}updateLayout(e,t){return i(this,void 0,void 0,(function*(){if(!e)throw new Error('Parameter "layout" not specified.');t||(t=yield this.localeService.getCurrentLocale());const n=yield this.objectStorage.getObject(e.key);if(!n)throw new Error(`Could not update layout. Layout with key "${e.key}" doesn't exist.`);const i=n.locales[t]||{};n.locales[t]=this.copyMetadata(e,i),yield this.objectStorage.updateObject(e.key,n)}))}getLayoutByPermalinkTemplate(e){return i(this,void 0,void 0,(function*(){if(!e)throw new Error('Parameter "permalinkTemplate" not specified.');const t=yield this.localeService.getDefaultLocale(),n=a.Query.from().where(`locales/${t}/permalinkTemplate`,a.Operator.equals,e),i=(yield this.objectStorage.searchObjects(this.layoutsPath,n)).value,o=Object.keys(i).map(e=>i[e]);return o.length>0?o[0]:null}))}sort(e){const t=[];for(const n of e){const e=n.split("/").filter(e=>!!e);let i=0;for(let t=0;t<e.length;t++){const n=e[t];let o;o=n.startsWith("{")?2:"*"===n?1:3,i+=o/(t+1)}t.push({score:i,pattern:n})}return t.sort((function(e,t){return e.score<t.score?1:e.score>t.score?-1:0})).map(e=>e.pattern)}matchPermalink(e,t,n){if(n){const t=`/${n}/`;e.startsWith(t)&&(e=e.replace(t,"/"))}const i=[],o=e.split("/"),r=t.split("/");if(o.length!==r.length&&-1===t.indexOf("*"))return{match:!1,tokens:i};for(let a=0;a<r.length;a++){const e=o[a],t=r[a];if("*"===t)return""!==e&&void 0!==e?{match:!0,tokens:i}:{match:!1,tokens:[]};if(t.startsWith("{"))i.push({index:a,name:t.replace(/{|}/g,"")});else if(e!==t)return{match:!1,tokens:[]}}return{match:!0,tokens:i}}getLayoutByPermalink(e,t){return i(this,void 0,void 0,(function*(){if(!e)return null;const n=yield this.localeService.getDefaultLocale(),i=yield this.localeService.getCurrentLocale(),o=a.Query.from(),r=(yield this.objectStorage.searchObjects(this.layoutsPath,o)).value,s=Object.keys(r).map(e=>r[e]);if(s&&s.length){let o=s.map(e=>{var t;return null===(t=e.locales[n])||void 0===t?void 0:t.permalinkTemplate});o=this.sort(o);const r=o.find(n=>this.matchPermalink(e,n,t||i).match),a=s.find(e=>e.locales[n].permalinkTemplate===(r||"/"));return a?this.localizedContractToContract(n,i,t,a):null}return null}))}getLayoutContent(e,t){return i(this,void 0,void 0,(function*(){if(!e)throw new Error('Parameter "layoutKey" not specified.');t||(t=yield this.localeService.getCurrentLocale());const n=yield this.localeService.getDefaultLocale(),i=yield this.objectStorage.getObject(e);let o,r=i.locales[t];if(r||(r=i.locales[n]),r.contentKey)o=yield this.objectStorage.getObject(r.contentKey);else{const e=i.locales[n];o=yield this.objectStorage.getObject(e.contentKey)}return o.type="layout",o}))}updateLayoutContent(e,t,n){return i(this,void 0,void 0,(function*(){if(!e)throw new Error('Parameter "layoutKey" not specified.');if(!t)throw new Error('Parameter "content" not specified.');const i=yield this.objectStorage.getObject(e);if(!i)throw new Error(`Layout with key "${e}" not found.`);n||(n=yield this.localeService.getCurrentLocale());let r=i.locales[n];if(r){if(!r.contentKey){const t=o.guid();r.contentKey="files/"+t,yield this.objectStorage.updateObject(e,r)}}else{const t=yield this.localeService.getDefaultLocale(),a=i.locales[t],s=o.guid();r=this.copyMetadata(a,{contentKey:"files/"+s}),i.locales[n]=r,yield this.objectStorage.updateObject(e,i)}yield this.objectStorage.updateObject(r.contentKey,t)}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.layoutTemplate=void 0,t.layoutTemplate={type:"layout",nodes:[{type:"layout-section",styles:null,nodes:[{type:"grid",nodes:[{type:"grid-cell",nodes:[{type:"page"}],role:"article",styles:{instance:{"grid-cell":{xs:{position:{col:1,row:1},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}}},id:"myaxhjsvdw",padding:{xs:{top:5,left:5,right:5,bottom:5},md:{top:15,left:15,right:15,bottom:15}}}}}],styles:{instance:{grid:{xs:{rows:["auto"],cols:["1fr"]}},id:"cmwjhkfdnp",size:{sm:{maxWidth:540},md:{maxWidth:720},lg:{maxWidth:960},xl:{maxWidth:1140}},margin:{xs:{top:10,left:"auto",right:"auto",bottom:10},md:{top:15,bottom:15},xl:{top:25,bottom:25}}}}}]}]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.LocaleService=void 0,t.LocaleService=class{constructor(e){this.objectStorage=e,this.currentLocale="en-us"}getLocales(){return i(this,void 0,void 0,(function*(){const e={key:"locales/en-us",code:"en-us",displayName:"English (US)"},t=yield this.objectStorage.getObject("locales");if(!t)return[e];const n=Object.values(t);return[e].concat(n)}))}createLocale(e,t){return i(this,void 0,void 0,(function*(){const n="locales/"+e,i={key:n,code:e,displayName:t};yield this.objectStorage.addObject(n,i)}))}deleteLocale(e){return i(this,void 0,void 0,(function*(){}))}getDefaultLocale(){return i(this,void 0,void 0,(function*(){return"en-us"}))}getCurrentLocale(){return i(this,void 0,void 0,(function*(){return this.currentLocale}))}setCurrentLocale(e){return i(this,void 0,void 0,(function*(){this.currentLocale=e}))}isLocalizationEnabled(){return i(this,void 0,void 0,(function*(){return!0}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediaHyperlinkProvider=void 0;const i=n(80),o=n(208);t.MediaHyperlinkProvider=class{constructor(){this.name="Media",this.componentName="media-selector",this.iconClass="paperbits-icon paperbits-image-2"}canHandleHyperlink(e){return e.startsWith(o.mediaRoot+"/")}getHyperlinkFromResource(e){const t=new i.HyperlinkModel;return t.title=e.fileName,t.targetKey=e.key,t.href=e.permalink,t}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.MediaService=void 0;const o=n(6),r=n(208),a=n(23);t.MediaService=class{constructor(e,t){this.objectStorage=e,this.blobStorage=t}getMediaByPermalink(e){return i(this,void 0,void 0,(function*(){if(!e)throw new Error('Parameter "permalink" not specified.');const t=a.Query.from().where("permalink",a.Operator.equals,e),n=(yield this.objectStorage.searchObjects(r.mediaRoot,t)).value,i=Object.values(n);return i.length>0?i[0]:null}))}getMediaByKey(e){return i(this,void 0,void 0,(function*(){if(!e)throw new Error('Parameter "key" not specified.');const t=yield this.objectStorage.getObject(e);if(!t)return console.warn(`Media with key ${e} not found.`),null;if(t.blobKey){const e=yield this.getDownloadUrlFromBlobKey(t.blobKey);t.downloadUrl=e||t.downloadUrl}return t}))}getDownloadUrlFromBlobKey(e){return i(this,void 0,void 0,(function*(){try{return yield this.blobStorage.getDownloadUrl(e)}catch(t){}}))}convertPage(e){const t={value:e.value,takeNext:()=>i(this,void 0,void 0,(function*(){const t=yield e.takeNext();return this.convertPage(t)}))};return e.takeNext||(t.takeNext=null),t}search(e){return i(this,void 0,void 0,(function*(){if(!e)throw new Error('Parameter "query" not specified.');try{const t=yield this.objectStorage.searchObjects(r.mediaRoot,e);return this.convertPage(t)}catch(t){throw new Error("Unable to search media: "+(t.stack||t.message))}}))}deleteMedia(e){return i(this,void 0,void 0,(function*(){if(!e)throw new Error('Parameter "media" not specified.');try{yield this.objectStorage.deleteObject(e.key),yield this.blobStorage.deleteBlob(e.blobKey)}catch(t){console.warn(t)}}))}createMedia(e,t,n){const i=o.guid(),a={key:`${r.mediaRoot}/${i}`,fileName:e,blobKey:i,description:"",keywords:"",permalink:"/content/"+e,mimeType:n};return this.uploadContent(t,a)}createMediaUrl(e,t,n){return i(this,void 0,void 0,(function*(){const i=o.guid(),a={key:`${r.mediaRoot}/${i}`,fileName:e,blobKey:void 0,downloadUrl:t,description:"",keywords:"",permalink:"/content/"+e,mimeType:n};return yield this.updateMedia(a),a}))}uploadContent(e,t){return new Promise((n,o)=>i(this,void 0,void 0,(function*(){yield this.blobStorage.uploadBlob(t.blobKey,e,t.mimeType);const i=yield this.blobStorage.getDownloadUrl(t.blobKey);t.downloadUrl?(t.downloadUrl=i,yield this.objectStorage.updateObject(t.key,t)):(t.downloadUrl=i,yield this.objectStorage.addObject(t.key,t)),n(t)})))}updateMedia(e){if(!e)throw new Error('Parameter "media" not specified.');return this.objectStorage.updateObject(e.key,e)}updateMediaContent(e,t){if(!e)throw new Error('Parameter "media" not specified.');if(!t)throw new Error('Parameter "content" not specified.');return this.uploadContent(t,e)}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.MediaPermalinkResolver=void 0;const o=n(57);t.MediaPermalinkResolver=class{constructor(e){this.mediaService=e,this.mediaPath="uploads/"}canHandleTarget(e){return e.startsWith("uploads/")}getUrlByTargetKey(e){return i(this,void 0,void 0,(function*(){if(!e)throw new Error('Parameter "mediaKey" not specified.');try{const t=yield this.mediaService.getMediaByKey(e);return t?t.permalink:(console.warn(`Could not find permalink by key ${e}.`),null)}catch(t){return""}}))}getHyperlink(e,t){return i(this,void 0,void 0,(function*(){const n=new o.HyperlinkModel;return n.targetKey=e.key,n.href=e.permalink,n.title=e.fileName||e.permalink,t&&(n.target=t.target,n.anchor=t.anchor,n.anchorName=t.anchorName),n}))}getHyperlinkByTargetKey(e){return i(this,void 0,void 0,(function*(){if(!e)throw new Error("Target key cannot be null or empty.");if(!e.startsWith(this.mediaPath))return null;const t=yield this.mediaService.getMediaByKey(e);return t?yield this.getHyperlink(t):(console.warn(`Could create hyperlink for target with key ${e}.`),null)}))}getContentItemByPermalink(e){return i(this,void 0,void 0,(function*(){if(!e)throw new Error('Parameter "permalink" not specified.');return yield this.mediaService.getMediaByPermalink(e)}))}getHyperlinkFromContract(e,t){return i(this,void 0,void 0,(function*(){if(!e.targetKey)throw new Error("Target key cannot be null or empty.");if(!e.targetKey.startsWith(this.mediaPath))return null;let t;if(e.targetKey){const t=yield this.mediaService.getMediaByKey(e.targetKey);if(t)return this.getHyperlink(t,e)}return t=new o.HyperlinkModel,t.title="Unset link",t.target=e.target,t.targetKey=e.targetKey,t.href="#",t.anchor=e.anchor,t.anchorName=e.anchorName,t}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultPermalinkService=void 0,t.DefaultPermalinkService=class{constructor(e,t){this.permalinkResolver=e,this.reservedPermalinks=t}isPermalinkDefined(e){return i(this,void 0,void 0,(function*(){return!!e&&(!!this.reservedPermalinks.includes(e)||!(yield this.permalinkResolver.getContentItemByPermalink(e)))}))}getPermalink(e){return i(this,void 0,void 0,(function*(){const t=yield this.permalinkResolver.getContentItemByPermalink(e);return t?{key:"",uri:e,targetKey:t.key}:null}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NavigationEvents=void 0;class i{}t.NavigationEvents=i,i.onNavigationItemUpdate="onNavigationItemUpdate"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NavigationItemModel=void 0,t.NavigationItemModel=class{constructor(){this.nodes=[]}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.NavigationService=void 0,t.NavigationService=class{constructor(e){this.objectStorage=e}find(e,t){for(const n of e){if(n.key===t)return n;if(n.navigationItems){const e=this.find(n.navigationItems,t);if(e)return e}}}getNavigationItem(e){return i(this,void 0,void 0,(function*(){const t=yield this.getNavigationItems();return this.find(t,e)}))}getNavigationItems(){return i(this,void 0,void 0,(function*(){const e=yield this.objectStorage.getObject("navigationItems");return e?Object.values(e):[]}))}updateNavigation(e){return i(this,void 0,void 0,(function*(){yield this.objectStorage.updateObject("navigationItems",e)}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PageHyperlinkProvider=void 0,t.PageHyperlinkProvider=class{constructor(){this.name="Pages",this.componentName="page-selector",this.iconClass="paperbits-icon paperbits-menu-4"}canHandleHyperlink(e){return e.startsWith("pages/")}getHyperlinkFromResource(e){return e}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.PageService=void 0;const o=n(6),r=n(206),a=n(23);t.PageService=class{constructor(e,t,n){this.objectStorage=e,this.blockService=t,this.localeService=n,this.pagesPath="pages"}copyMetadata(e,t){if(!e)throw new Error('Parameter "sourceMetadata" not specified.');if(!t)throw new Error('Parameter "targetMetadata" not specified.');return t.title=e.title,t.description=e.description,t.keywords=e.keywords,t.permalink=e.permalink,t.jsonLd=e.jsonLd,t.socialShareData=e.socialShareData,t}localizedContractToContract(e,t,n,i){const o=i[r.localePrefix],a=(n?o[n]:o[t])||this.copyMetadata(o[e],{});return a?Object.assign({key:i.key},a):null}getPageByPermalink(e,t=null){return i(this,void 0,void 0,(function*(){if(!e)throw new Error('Parameter "permalink" not specified.');const n=yield this.localeService.getDefaultLocale(),i=yield this.localeService.getCurrentLocale(),o=`${r.localePrefix}/${n}/permalink`,s=a.Query.from().where(o,a.Operator.equals,e);try{const e=(yield this.objectStorage.searchObjects(this.pagesPath,s)).value;if(!e)return null;const o=Object.values(e);if(0===o.length)return null;const r=o[0];return this.localizedContractToContract(n,i,t,r)}catch(l){throw new Error("Unable to search pages: "+(l.stack||l.message))}}))}getPageByKey(e,t){return i(this,void 0,void 0,(function*(){if(!e)throw new Error('Parameter "key" not specified.');const n=yield this.objectStorage.getObject(e);if(!n)return null;const i=yield this.localeService.getDefaultLocale(),o=yield this.localeService.getCurrentLocale();return this.localizedContractToContract(i,o,t,n)}))}convertPage(e,t,n,o){const r={value:e.value.map(e=>this.localizedContractToContract(t,n,o,e)),takeNext:()=>i(this,void 0,void 0,(function*(){const i=yield e.takeNext();return this.convertPage(i,t,n,o)}))};return e.takeNext||(r.takeNext=null),r}search(e,t){return i(this,void 0,void 0,(function*(){if(!e)throw new Error('Parameter "query" not specified.');const n=yield this.localeService.getDefaultLocale(),i=yield this.localeService.getCurrentLocale(),r=t||i,a=o.localizeQuery(e,r);try{const e=yield this.objectStorage.searchObjects(this.pagesPath,a);return this.convertPage(e,n,r,t)}catch(s){throw new Error("Unable to search pages: "+(s.stack||s.message))}}))}deletePage(e){return i(this,void 0,void 0,(function*(){if(!e)throw new Error('Parameter "page" not specified.');try{const t=yield this.objectStorage.getObject(e.key);if(t.locales){const e=Object.values(t.locales).map(e=>e.contentKey);for(const t of e)yield this.objectStorage.deleteObject(t)}yield this.objectStorage.deleteObject(e.key)}catch(t){throw new Error(`Unable to delete page ${e.title}: ${t.stack||t.message}`)}}))}createPage(e,t,n,r){return i(this,void 0,void 0,(function*(){const i=yield this.localeService.getDefaultLocale(),a=o.guid(),s=`${this.pagesPath}/${a}`,l="files/"+a,c={key:s,locales:{[i]:{title:t,description:n,keywords:r,permalink:e,contentKey:l}}};yield this.objectStorage.addObject(s,c);const u=yield this.blockService.getBlockContent("blocks/new-page-template");return u.key=l,yield this.objectStorage.addObject(l,u),{key:s,title:t,description:n,keywords:r,permalink:e,contentKey:l}}))}updatePage(e,t){return i(this,void 0,void 0,(function*(){if(!e)throw new Error('Parameter "page" not specified.');t||(t=yield this.localeService.getCurrentLocale());const n=yield this.objectStorage.getObject(e.key);if(!n)throw new Error(`Could not update page. Page with key "${e.key}" doesn't exist.`);const i=n.locales[t]||{};n.locales[t]=this.copyMetadata(e,i),yield this.objectStorage.updateObject(e.key,n)}))}getPageContent(e,t){return i(this,void 0,void 0,(function*(){if(!e)throw new Error('Parameter "pageKey" not specified.');t||(t=yield this.localeService.getCurrentLocale());const n=yield this.localeService.getDefaultLocale(),i=yield this.objectStorage.getObject(e);let o,r=i.locales[t];if(r||(r=i.locales[n]),r.contentKey)o=yield this.objectStorage.getObject(r.contentKey);else{const e=i.locales[n];o=yield this.objectStorage.getObject(e.contentKey)}return o}))}updatePageContent(e,t,n){return i(this,void 0,void 0,(function*(){if(!e)throw new Error('Parameter "pageKey" not specified.');if(!t)throw new Error('Parameter "content" not specified.');const i=yield this.objectStorage.getObject(e);if(!i)throw new Error(`Page with key "${e}" not found.`);n||(n=yield this.localeService.getCurrentLocale());let r=i.locales[n];if(r){if(!r.contentKey){const t=o.guid();r.contentKey="files/"+t,yield this.objectStorage.updateObject(e,r)}}else{const t=yield this.localeService.getDefaultLocale(),a=i.locales[t],s=o.guid();r=this.copyMetadata(a,{contentKey:"files/"+s}),i.locales[n]=r,yield this.objectStorage.updateObject(e,i)}yield this.objectStorage.updateObject(r.contentKey,t)}))}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.PagePermalinkResolver=void 0;const o=n(57);t.PagePermalinkResolver=class{constructor(e,t){this.pageService=e,this.localeService=t}canHandleTarget(e){return e.startsWith("pages/")}getUrlByTargetKey(e,t){return i(this,void 0,void 0,(function*(){if(!e)throw new Error("Target key cannot be null or empty.");if(!e.startsWith("pages/"))return null;const n=yield this.localeService.getDefaultLocale();let i=yield this.pageService.getPageByKey(e,t);if(i)t&&t!==n&&(i.permalink=`/${t}${i.permalink}`);else if(i=yield this.pageService.getPageByKey(e,n),!i)return console.warn(`Could not find content item with key ${e}.`),null;return i.permalink}))}getHyperlink(e,t){return i(this,void 0,void 0,(function*(){const n=new o.HyperlinkModel;return n.targetKey=e.key,n.href=e.permalink,n.title=e.title||e.permalink,t&&(n.target=t.target,n.anchor=t.anchor,n.anchorName=t.anchorName),n}))}getHyperlinkFromContract(e,t){return i(this,void 0,void 0,(function*(){if(!e.targetKey)throw new Error("Target key cannot be null or empty.");if(!e.targetKey.startsWith("pages/"))return null;let n;if(e.targetKey){const n=yield this.pageService.getPageByKey(e.targetKey,t);if(n)return this.getHyperlink(n,e)}return n=new o.HyperlinkModel,n.title="Unset link",n.target=e.target,n.targetKey=e.targetKey,n.href="#",n.anchor=e.anchor,n.anchorName=e.anchorName,n}))}getHyperlinkByTargetKey(e,t){return i(this,void 0,void 0,(function*(){if(!e)throw new Error("Target key cannot be null or empty.");if(!e.startsWith("pages/"))return null;const n=yield this.localeService.getDefaultLocale();let i=yield this.pageService.getPageByKey(e,t);if(i)t&&t!==n&&(i.permalink=`/${t}${i.permalink}`);else if(i=yield this.pageService.getPageByKey(e,n),!i)return console.warn(`Could create hyperlink for target with key ${e} in locale ${t}.`),null;return yield this.getHyperlink(i)}))}getContentByPermalink(e,t){return i(this,void 0,void 0,(function*(){if(!e)throw new Error('Parameter "permalink" not specified.');let n=yield this.pageService.getPageByPermalink(e,t);if(!n){const t=yield this.localeService.getDefaultLocale();if(n=yield this.pageService.getPageByPermalink(e,t),!n)return null}return yield this.pageService.getPageContent(n.key)}))}getContentItemByPermalink(e,t){return i(this,void 0,void 0,(function*(){if(!e)throw new Error('Parameter "permalink" not specified.');return yield this.pageService.getPageByPermalink(e,t)}))}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultRouter=void 0;const o=n(136);t.DefaultRouter=class{constructor(e,t){this.routeGuards=e,this.eventManager=t,this.notifyListeners=!0,this.currentRoute=this.getRouteFromLocation()}getRouteFromLocation(){const e=location.pathname,t=location.hash.startsWith("#")?location.hash.slice(1):null;return{url:e+(t?"#"+t:""),path:e,hash:t,metadata:{},previous:null}}addRouteChangeListener(e){this.eventManager.addEventListener(o.RouterEvents.onRouteChange,e)}removeRouteChangeListener(e){this.eventManager.removeEventListener(o.RouterEvents.onRouteChange,e)}addHistoryUpdateListener(e){this.eventManager.addEventListener(o.RouterEvents.onHistoryUpdate,e)}removeHistoryUpdateListener(e){this.eventManager.removeEventListener(o.RouterEvents.onHistoryUpdate,e)}navigateTo(e,t=null,n={}){return i(this,void 0,void 0,(function*(){const i=this.getRoute(e,t,n);i&&(yield this.canActivate(i))&&(this.currentRoute=i,this.notifyListeners&&this.scheduleNotification(i))}))}scheduleNotification(e){clearTimeout(this.notificationTimeout),this.notificationTimeout=setTimeout(()=>{this.eventManager.dispatchEvent(o.RouterEvents.onRouteChange,e)},100)}updateHistory(e,t){const n=this.getRoute(e,t);n&&this.notifyListeners&&this.eventManager.dispatchEvent(o.RouterEvents.onHistoryUpdate,n)}getRoute(e,t=null,n={}){if(!e)return;const i=e&&(e.startsWith("http://")||e.startsWith("https://")),o=e.startsWith(location.origin);if(i&&!o)return void window.open(e,"_blank");const r=(e=i?e.substring(location.origin.length):e).split("#");return{url:e,path:r.length>1?r[0]||location.pathname:r[0],title:t,metadata:n,hash:r.length>1?r[1]:"",previous:this.currentRoute}}canActivate(e){return i(this,void 0,void 0,(function*(){for(const n of this.routeGuards)try{if(!(yield n.canActivate(e)))return!1}catch(t){throw new Error("Unable to invoke route a guard: "+(t.stack||t.message))}return!0}))}getCurrentUrl(){let e=this.currentRoute.path;const t=this.getHash();return this.currentRoute.hash&&(e+="#"+t),e}getCurrentUrlMetadata(){return this.currentRoute.metadata}getPath(){return this.currentRoute.path}getHash(){return this.currentRoute.hash}getCurrentRoute(){return this.currentRoute}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultRouteGuard=void 0,t.DefaultRouteGuard=class{canActivate(e){return i(this,void 0,void 0,(function*(){return!0}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RouterEvents=void 0;class i{}t.RouterEvents=i,i.onRouteChange="onRouteChange",i.onHistoryUpdate="onHistoryUpdate"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HistoryRouteHandler=void 0,t.HistoryRouteHandler=class{constructor(e){this.router=e,this.internalPushState=history.pushState,history.pushState=this.externalPushState.bind(this),this.onRouteChange=this.onRouteChange.bind(this),e.addRouteChangeListener(this.onRouteChange),e.addHistoryUpdateListener(this.onRouteChange),window.addEventListener("popstate",this.onPopState.bind(this))}onPopState(e){const t=location.pathname+location.hash;this.router.navigateTo(t)}externalPushState(e){this.router.navigateTo(e.url)}onRouteChange(e){this.internalPushState.call(history,e,e.title,e.url)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocationRouteHandler=void 0,t.LocationRouteHandler=class{constructor(e){this.router=e,window.addEventListener("popstate",this.onPopState.bind(this)),e.addRouteChangeListener(this.onRouteChange)}onPopState(e){const t=location.pathname+location.hash;this.router.navigateTo(t)}onRouteChange(e){const t=location.hash.slice(1);e.path===location.pathname&&e.hash===t||location.assign(e.url)}}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(570),t),o(n(571),t),o(n(572),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SiteService=void 0,t.SiteService=class{constructor(e){this.objectStorage=e}getSettings(){return i(this,void 0,void 0,(function*(){return yield this.objectStorage.getObject("settings")}))}setSettings(e){return i(this,void 0,void 0,(function*(){if(!e)throw new Error('Parameter "settings" not specified.');yield this.objectStorage.updateObject("settings",e)}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(574),t),o(n(575),t),o(n(211),t),o(n(576),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.UrlService=void 0;const o=n(6);t.UrlService=class{constructor(e){this.objectStorage=e}getUrlByKey(e){return i(this,void 0,void 0,(function*(){return yield this.objectStorage.getObject(e)}))}convertPage(e){const t={value:e.value,takeNext:()=>i(this,void 0,void 0,(function*(){const t=yield e.takeNext();return this.convertPage(t)}))};return e.takeNext||(t.takeNext=null),t}search(e){return i(this,void 0,void 0,(function*(){if(!e)throw new Error('Parameter "query" not specified.');try{const t=yield this.objectStorage.searchObjects("urls",e);return this.convertPage(t)}catch(t){throw new Error("Unable to search url: "+(t.stack||t.message))}}))}deleteUrl(e){return i(this,void 0,void 0,(function*(){const t=this.objectStorage.deleteObject(e.key);yield Promise.all([t])}))}createUrl(e,t,n){return i(this,void 0,void 0,(function*(){const i="urls/"+o.guid(),r={key:i,title:t,description:n,permalink:e};return yield this.objectStorage.addObject(i,r),r}))}updateUrl(e){return i(this,void 0,void 0,(function*(){yield this.objectStorage.updateObject(e.key,e)}))}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.UrlPermalinkResolver=void 0;const o=n(57);t.UrlPermalinkResolver=class{constructor(e){this.urlService=e}canHandleTarget(e){return e.startsWith("urls/")}getUrlByTargetKey(e){return i(this,void 0,void 0,(function*(){if(!e)throw new Error("Target key cannot be null or empty.");if(!e.startsWith("urls/"))return null;try{const t=yield this.urlService.getUrlByKey(e);return t?t.permalink:(console.warn(`Could not find permalink by key ${e}.`),null)}catch(t){return null}}))}getHyperlink(e,t="_self"){return i(this,void 0,void 0,(function*(){const n=new o.HyperlinkModel;return n.targetKey=e.key,n.href=e.permalink,n.title=e.title||e.permalink,n.target=t,n}))}getHyperlinkFromContract(e,t){return i(this,void 0,void 0,(function*(){if(!e.targetKey)throw new Error("Target key cannot be null or empty.");if(!e.targetKey.startsWith("urls/"))return null;let n;if(e.targetKey){const n=yield this.urlService.getUrlByKey(e.targetKey,t);if(n)return this.getHyperlink(n,e.target)}return n=new o.HyperlinkModel,n.title="Unset link",n.target=e.target,n.targetKey=e.targetKey,n.href="#",n.anchor=e.anchor,n}))}getHyperlinkByTargetKey(e,t){return i(this,void 0,void 0,(function*(){if(!e)throw new Error("Target key cannot be null or empty.");if(!e.startsWith("urls/"))return null;const n=yield this.urlService.getUrlByKey(e,t);return n?yield this.getHyperlink(n):null}))}}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(579),t),o(n(580),t),o(n(581),t),o(n(582),t),o(n(81),t),o(n(584),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlaceholderModel=void 0,t.PlaceholderModel=class{constructor(e){this.message=e}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetService=void 0,t.WidgetService=class{constructor(e){this.widgetHandlers=e,this.getWidgetOrders=this.getWidgetOrders.bind(this)}getWidgetOrders(){return i(this,void 0,void 0,(function*(){const e=new Array,t=this.widgetHandlers.map(t=>i(this,void 0,void 0,(function*(){if(t.getWidgetOrder){const n=yield t.getWidgetOrder();e.push(n)}})));return yield Promise.all(t),e}))}getWidgetHandler(e){return this.widgetHandlers.find(t=>t instanceof e)}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundModelBinder=void 0;const o=n(212);t.BackgroundModelBinder=class{constructor(e){this.mediaPermalinkResolver=e}contractToModel(e){return i(this,void 0,void 0,(function*(){const t=new o.BackgroundModel;return e.color&&(t.colorKey=e.color),e.size&&(t.size=e.size),e.position&&(t.position=e.position),e.picture&&e.picture.sourceKey&&(t.sourceType="picture",t.sourceKey=e.picture.sourceKey,t.sourceUrl=yield this.mediaPermalinkResolver.getUrlByTargetKey(e.picture.sourceKey)),t}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonModule=void 0;const i=n(213),o=n(588),r=n(594);t.ButtonModule=class{register(e){e.bind("button",i.Button),e.bindToCollection("modelBinders",o.ButtonModelBinder),e.bindToCollection("viewModelBinders",r.ButtonViewModelBinder)}}},function(e,t,n){"use strict";n.r(t),t.default='<a role="button" data-bind="text: label, hyperlink: hyperlink, secured: roles, styled: styles"></a>'},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonModelBinder=void 0;const o=n(95),r=n(58);t.ButtonModelBinder=class{constructor(e){this.permalinkResolver=e}canHandleContract(e){return"button"===e.type}canHandleModel(e){return e instanceof o.ButtonModel}contractToModel(e){return i(this,void 0,void 0,(function*(){const t=new o.ButtonModel;return t.label=e.label,t.roles=e.roles||[r.BuiltInRoles.everyone.key],t.styles=e.styles||{appearance:"components/button/default"},e.hyperlink&&(t.hyperlink=yield this.permalinkResolver.getHyperlinkFromContract(e.hyperlink)),t}))}modelToContract(e){const t=e.roles&&1===e.roles.length&&e.roles[0]===r.BuiltInRoles.everyone.key?null:e.roles,n={type:"button",label:e.label,styles:e.styles,roles:t};return e.hyperlink&&(n.hyperlink={target:e.hyperlink.target,targetKey:e.hyperlink.targetKey}),n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.VisibilityGuard=void 0,t.VisibilityGuard=class{constructor(e,t){this.userService=e,this.eventManager=t,this.setVisibility(),this.eventManager.addEventListener("onUserRoleChange",this.setVisibility)}setVisibility(){return i(this,void 0,void 0,(function*(){const e=yield this.userService.getUserRoles();document.querySelectorAll("[data-role]").forEach(t=>{const n=t.getAttribute("data-role").split(",");e.some(e=>n.includes(e))?t.classList.remove("hidden"):t.classList.add("hidden")})}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BuiltInRoles=void 0;class i{}t.BuiltInRoles=i,i.everyone={key:"everyone",name:"Everyone"},i.anonymous={key:"anonymous",name:"Anonymous"},i.authenticated={key:"authenticated",name:"Authenticated"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonViewModelBinder=void 0;const o=n(213),r=n(95);t.ButtonViewModelBinder=class{constructor(e,t){this.eventManager=e,this.styleCompiler=t}modelToViewModel(e,t,n){return i(this,void 0,void 0,(function*(){return t||(t=new o.Button),t.label(e.label),t.hyperlink(e.hyperlink),t.roles(e.roles),e.styles&&t.styles(yield this.styleCompiler.getStyleModelAsync(e.styles,null==n?void 0:n.styleManager)),t.widgetBinding={displayName:"Button",readonly:!!n&&n.readonly,model:e,draggable:!0,flow:"inline",editor:"button-editor",applyChanges:()=>i(this,void 0,void 0,(function*(){yield this.modelToViewModel(e,t,n),this.eventManager.dispatchEvent("onContentUpdate")}))},t}))}canHandleModel(e){return e instanceof r.ButtonModel}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CardModule=void 0;const i=n(214),o=n(597),r=n(598);t.CardModule=class{register(e){e.bind("card",i.CardViewModel),e.bindToCollection("modelBinders",o.CardModelBinder),e.bindToCollection("viewModelBinders",r.CardViewModelBinder)}}},function(e,t,n){"use strict";n.r(t),t.default='<div class="card" data-bind="styled: styles">\r\n    \x3c!-- ko foreach: { data: widgets, as: \'widget\'  } --\x3e\r\n    \x3c!-- ko widget: widget --\x3e\r\n    \x3c!-- /ko --\x3e\r\n    \x3c!-- /ko --\x3e\r\n</div>'},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.CardModelBinder=void 0;const o=n(6),r=n(96);t.CardModelBinder=class{constructor(e){this.modelBinderSelector=e,this.contractToModel=this.contractToModel.bind(this)}canHandleContract(e){return"card"===e.type}canHandleModel(e){return e instanceof r.CardModel}contractToModel(e,t){return i(this,void 0,void 0,(function*(){const n=new r.CardModel;e.alignment&&(e.alignment=o.optimizeBreakpoints(e.alignment),n.alignment=e.alignment),n.overflowX=e.overflowX,n.overflowY=e.overflowY,n.styles=e.styles,e.nodes||(e.nodes=[]);const a=e.nodes.map(e=>i(this,void 0,void 0,(function*(){return this.modelBinderSelector.getModelBinderByContract(e).contractToModel(e,t)})));return n.widgets=yield Promise.all(a),n}))}modelToContract(e){const t={type:"card",styles:e.styles,nodes:[]};return t.alignment=e.alignment,t.overflowX=e.overflowX,t.overflowY=e.overflowY,e.widgets.forEach(e=>{const n=this.modelBinderSelector.getModelBinderByModel(e);t.nodes.push(n.modelToContract(e))}),t}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.CardViewModelBinder=void 0;const o=n(214),r=n(96),a=n(38),s=n(215);t.CardViewModelBinder=class{constructor(e,t,n){this.viewModelBinderSelector=e,this.eventManager=t,this.styleCompiler=n}modelToViewModel(e,t,n){return i(this,void 0,void 0,(function*(){t||(t=new o.CardViewModel);const r=[];for(const t of e.widgets){const e=this.viewModelBinderSelector.getViewModelBinderByModel(t),i=yield e.modelToViewModel(t,null,n);r.push(i)}if(0===r.length&&r.push(new a.PlaceholderViewModel("Card")),e.styles&&t.styles(yield this.styleCompiler.getStyleModelAsync(e.styles,null==n?void 0:n.styleManager)),t.widgets(r),!t.widgetBinding){const o={name:"card",displayName:"Card",readonly:!!n&&n.readonly,flow:"inline",model:e,draggable:!0,editor:"card-editor",handler:s.CardHandlers,applyChanges:o=>i(this,void 0,void 0,(function*(){yield this.modelToViewModel(e,t,n),this.eventManager.dispatchEvent("onContentUpdate")}))};t.widgetBinding=o}return t}))}canHandleModel(e){return e instanceof r.CardModel}}},function(e,t,n){"use strict";n.r(t),t.default='<div class="placeholder" data-bind="attr: { placeholder: title }"></div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CollapsiblePanelModule=void 0;const i=n(137),o=n(217),r=n(218);t.CollapsiblePanelModule=class{register(e){e.bind("collapsiblePanel",i.CollapsiblePanel),e.bindToCollection("modelBinders",o.CollapsiblePanelModelBinder),e.bindToCollection("viewModelBinders",r.CollapsiblePanelViewModelBinder)}}},function(e,t,n){"use strict";n.r(t),t.default='<div class="collapsible collapsible-panel">\r\n    <div class="backdrop"></div>\r\n    <div class="collapsible-content" data-bind="styled: $component.styles">\r\n        \x3c!-- ko foreach: { data: widgets, as: \'widget\'  } --\x3e\r\n        \x3c!-- ko widget: widget --\x3e\r\n        \x3c!-- /ko --\x3e\r\n        \x3c!-- /ko --\x3e\r\n\r\n        <button class="collapsible-panel-close" aria-label="Toggle" data-toggle="modal">\r\n            <i class="icon icon-simple-remove"></i>\r\n        </button>\r\n    </div>\r\n\r\n    <button class="collapsible-panel-open" aria-label="Toggle" data-toggle="modal">\r\n        <i class="icon icon-menu-8"></i>\r\n    </button>\r\n</div>'},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(38),t),o(n(219),t)},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(220),t),o(n(84),t),o(n(217),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CollapsiblePanelEditorModule=void 0;const i=n(221),o=n(220);t.CollapsiblePanelEditorModule=class{register(e){e.bind("collapsiblePanelEditor",i.CollapsiblePanelEditor),e.bindToCollection("widgetHandlers",o.CollapsiblePanelHandlers,"collapsiblePanelHandler")}}},function(e,t,n){"use strict";n.r(t),t.default='<fieldset class="form flex-item flex-item-grow" data-bind="scrollable: true">\r\n    <background params="{ background: backgroundConfig, onUpdate: onBackgroundChange }"></background>\r\n    <container params="{ container: containerConfig, onUpdate: onContainerChange }"></container>\r\n    <size-editor params="{ sizeConfig: sizeConfig, onUpdate: onSizeChange, features: \'minMaxWidth\' }"></size-editor>\r\n</fieldset>'},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationStylePlugin=void 0;const o=n(19),r=n(8),a=n(16);class s extends a.StylePlugin{constructor(e){super(),this.themeContract=e,this.name="animation"}setThemeContract(e){this.themeContract=e}configToStyleRules(e){return i(this,void 0,void 0,(function*(){const t=o.getObjectAt(e.animationKey,this.themeContract);return[new r.StyleRule("animationName",t.name),new r.StyleRule("animationDuration",e.duration?e.duration+"s":"0"),new r.StyleRule("animationIterationCount",e.iterationCount||"infinite"),new r.StyleRule("animationTimingFunction",e.timingFunction||"linear")]}))}}t.AnimationStylePlugin=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontFace=void 0,t.FontFace=class{toJssString(){return`{\n            "src": "url(${this.src})",\n            "fontFamily": "${this.fontFamily}",\n            "fontStyle": "${this.fontStyle}",\n            "fontWeight": "${this.fontWeight}"\n        }`}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyleMediaQuery=void 0,t.StyleMediaQuery=class{constructor(e){this.minWidth=e,this.styles=[],this.globalStyles=[]}toJssString(){const e=this.styles.map(e=>e.toJssString()).join(),t=this.globalStyles.map(e=>e.toJssString()).join(),n=e||"",i=t?`"@global": {${t}}`:"";return`"@media(min-width:${this.minWidth}px)":{${[i,n].filter(e=>!!e).join(",")}}`}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyleRule=void 0,t.StyleRule=class{constructor(e,t){this.name=e,this.value=t}toJssString(){return`"${this.name}":"${this.value}"`}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Style=void 0;const i=n(6);t.Style=class{constructor(e){this.selector=i.camelCaseToKebabCase(e),this.rules=[],this.nestedStyles=[],this.nestedGlobalStyles=[],this.modifierStyles=[],this.pseudoStyles=[],this.nestedMediaQueries=[]}addRule(e){this.rules.push(e)}addRules(e){this.rules.push(...e)}getRulesJssString(){return`{ ${[this.rules.filter(e=>!!e.value).map(e=>e.toJssString()).filter(e=>!!e).join(","),this.modifierStyles.map(e=>`"&.${e.selector}": ${e.getRulesJssString()}`).filter(e=>!!e).join(","),this.pseudoStyles.map(e=>`"&:${e.selector}": ${e.getRulesJssString()}`).filter(e=>!!e).join(","),this.nestedStyles.map(e=>`"& .${e.selector}": ${e.getRulesJssString()}`).filter(e=>!!e).join(","),this.nestedGlobalStyles.map(e=>`"& ${e.selector}": ${e.getRulesJssString()}`).filter(e=>!!e).join(",")].filter(e=>!!e).join(",")} }`}toJssString(){const e=this.getRulesJssString();return`"${this.selector}":${e}`}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyleSheet=void 0,t.StyleSheet=class{constructor(e){this.key=e,this.styles=[],this.globalStyles=[],this.mediaQueries=[],this.fontFaces=[]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyleManager=void 0,t.StyleManager=class{constructor(e=null){this.eventManager=e,this.styleSheets={}}setStyleSheet(e){this.styleSheets[e.key]=e,this.eventManager&&this.eventManager.dispatchEvent("onStyleChange",e)}getStyleSheet(e){return this.styleSheets[e]}getAllStyleSheets(){return Object.values(this.styleSheets)}removeStyleSheet(e){this.eventManager&&this.eventManager.dispatchEvent("onStyleRemove",e)}removeAllStyleSheets(){this.styleSheets={}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BorderRadiusStylePlugin=void 0;const o=n(8),r=n(16);class a extends r.StylePlugin{constructor(){super(...arguments),this.name="borderRadius"}configToStyleRules(e){return i(this,void 0,void 0,(function*(){return[new o.StyleRule("borderTopLeftRadius",r.StylePlugin.parseSize(e.topLeftRadius)),new o.StyleRule("borderTopRightRadius",r.StylePlugin.parseSize(e.topRightRadius)),new o.StyleRule("borderBottomLeftRadius",r.StylePlugin.parseSize(e.bottomLeftRadius)),new o.StyleRule("borderBottomRightRadius",r.StylePlugin.parseSize(e.bottomRightRadius))]}))}}t.BorderRadiusStylePlugin=a},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BorderStylePlugin=void 0;const o=n(19),r=n(16),a=n(8);class s extends r.StylePlugin{constructor(e){super(),this.themeContract=e,this.name="border"}setThemeContract(e){this.themeContract=e}configToStyleRules(e){return i(this,void 0,void 0,(function*(){const t=[];if(e.top&&e.top.width&&e.top.style&&e.top.colorKey){const n=o.getObjectAt(e.top.colorKey,this.themeContract);n&&t.push(new a.StyleRule("borderTop",`${r.StylePlugin.parseSize(e.top.width)} ${e.top.style} ${n.value}`))}else t.push(new a.StyleRule("borderTop","none"));if(e.left&&e.left.width&&e.left.style&&e.left.colorKey){const n=o.getObjectAt(e.left.colorKey,this.themeContract);n&&t.push(new a.StyleRule("borderLeft",`${r.StylePlugin.parseSize(e.left.width)} ${e.left.style} ${n.value}`))}else t.push(new a.StyleRule("borderLeft","none"));if(e.right&&e.right.width&&e.right.style&&e.right.colorKey){const n=o.getObjectAt(e.right.colorKey,this.themeContract);n&&t.push(new a.StyleRule("borderRight",`${r.StylePlugin.parseSize(e.right.width)} ${e.right.style} ${n.value}`))}else t.push(new a.StyleRule("borderRight","none"));if(e.bottom&&e.bottom.width&&e.bottom.style&&e.bottom.colorKey){const n=o.getObjectAt(e.bottom.colorKey,this.themeContract);n&&t.push(new a.StyleRule("borderBottom",`${r.StylePlugin.parseSize(e.bottom.width)} ${e.bottom.style} ${n.value}`))}else t.push(new a.StyleRule("borderBottom","none"));return t}))}}t.BorderStylePlugin=s},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.FontsStylePlugin=void 0;const o=n(8);t.FontsStylePlugin=class{constructor(e,t){this.permalinkResolver=e,this.themeContract=t,this.displayName="Font"}contractToFontFaces(){return i(this,void 0,void 0,(function*(){const e=[];if(!this.themeContract.fonts)return e;for(const t of Object.keys(this.themeContract.fonts)){const n=this.themeContract.fonts[t];for(const t of n.variants){let i;if(t.sourceKey)i=yield this.permalinkResolver.getUrlByTargetKey(t.sourceKey);else{if(!t.file)throw new Error("Font variant URL is empty.");i=t.file}const r=new o.FontFace;r.fontFamily=n.family,r.src=i,r.fontStyle=t.style||"normal",r.fontWeight=t.weight||"normal",e.push(r)}}return e}))}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.MarginStylePlugin=void 0;const o=n(8),r=n(16);class a extends r.StylePlugin{constructor(){super(...arguments),this.name="margin"}configToStyleRules(e){return i(this,void 0,void 0,(function*(){const t=[];return t.push(new o.StyleRule("marginTop",r.StylePlugin.parseSize(e.top))),t.push(new o.StyleRule("marginLeft",r.StylePlugin.parseSize(e.left))),t.push(new o.StyleRule("marginRight",r.StylePlugin.parseSize(e.right))),t.push(new o.StyleRule("marginBottom",r.StylePlugin.parseSize(e.bottom))),t}))}}t.MarginStylePlugin=a},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ShadowStylePlugin=void 0;const o=n(19),r=n(16),a=n(8);class s extends r.StylePlugin{constructor(e){super(),this.themeContract=e,this.name="shadow"}setThemeContract(e){this.themeContract=e}static contractToStyleRules(e){if(!e.color)return[new a.StyleRule("boxShadow","none")];const t=r.StylePlugin.parseSize(e.offsetX),n=r.StylePlugin.parseSize(e.offsetY),i=r.StylePlugin.parseSize(e.blur),o=r.StylePlugin.parseSize(e.spread),s=e.color||"#000",l=e.inset?"inset":void 0;return[new a.StyleRule("boxShadow",[t,n,i,o,s,l].join(" "))]}configToStyleRules(e){return i(this,void 0,void 0,(function*(){if(!e||!e.shadowKey)return[];const t=o.getObjectAt(e.shadowKey,this.themeContract);return t?s.contractToStyleRules(t):(console.warn(`Shadow with key "${e.shadowKey}" not found. Elements using it will fallback to parent's definition.`),[])}))}}t.ShadowStylePlugin=s},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.TypographyStylePlugin=void 0;const o=n(19),r=n(16),a=n(8);class s extends r.StylePlugin{constructor(e){super(),this.themeContract=e,this.name="typography"}setThemeContract(e){this.themeContract=e}configToStyleRules(e){return i(this,void 0,void 0,(function*(){const t=[];if(e.fontWeight&&t.push(new a.StyleRule("fontWeight",e.fontWeight)),e.fontStyle&&t.push(new a.StyleRule("fontStyle",e.fontStyle)),e.fontSize&&t.push(new a.StyleRule("fontSize",r.StylePlugin.parseSize(e.fontSize))),e.fontKey){const n=o.getObjectAt(e.fontKey,this.themeContract);n?t.push(new a.StyleRule("fontFamily",n.family)):console.warn(`Font with key "${e.fontKey}" not found. Elements using it will fallback to parent's definition.`)}if(e.lineHeight&&t.push(new a.StyleRule("lineHeight",r.StylePlugin.parseSize(e.lineHeight))),e.letterSpacing&&t.push(new a.StyleRule("letterSpacing",r.StylePlugin.parseSize(e.letterSpacing))),e.colorKey){const n=o.getObjectAt(e.colorKey,this.themeContract);n?t.push(new a.StyleRule("color",""+n.value||"transparent")):console.warn(`Color with key "${e.colorKey}" not found. Elements using it will fallback to parent's definition.`)}if(e.shadowKey){const n=o.getObjectAt(e.shadowKey,this.themeContract);if(n)if(n.color){const e=r.StylePlugin.parseSize(n.offsetX),i=r.StylePlugin.parseSize(n.offsetY),o=r.StylePlugin.parseSize(n.blur),s=n.color||"#000";t.push(new a.StyleRule("textShadow",[e,i,o,s].join(" ")))}else t.push(new a.StyleRule("textShadow","none"));else console.warn(`Shadow with key "${e.shadowKey}" not found. Elements using it will fallback to parent's definition.`)}return e.textAlign&&t.push(new a.StyleRule("textAlign",e.textAlign)),e.textTransform&&t.push(new a.StyleRule("textTransform",e.textTransform)),e.textDecoration&&t.push(new a.StyleRule("textDecoration",e.textDecoration)),t}))}}t.TypographyStylePlugin=s},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ListStylePlugin=void 0;const o=n(16),r=n(8);class a extends o.StylePlugin{constructor(){super(),this.name="list"}configToStyleRules(e){return i(this,void 0,void 0,(function*(){const t=[];return e.styleType&&t.push(new r.StyleRule("listStyleType",e.styleType)),t}))}}t.ListStylePlugin=a},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentsStylePlugin=void 0;const o=n(8),r=n(16);class a extends r.StylePlugin{constructor(e){super(),this.styleCompiler=e,this.name="components"}configToNestedStyles(e){return i(this,void 0,void 0,(function*(){const t=[];for(const n of Object.keys(e)){const i=e[n],r=i.default,a=r?yield this.styleCompiler.getVariationStyle(r,n):new o.Style(n),s=Object.keys(i);for(const e of s){if("default"===e)continue;const t=yield this.styleCompiler.getVariationStyle(i[e],n,e);a.modifierStyles.push(t)}t.push(a)}return t}))}}t.ComponentsStylePlugin=a},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.StatesStylePlugin=void 0;const o=n(16);class r extends o.StylePlugin{constructor(e){super(),this.styleCompiler=e,this.name="states"}configToPseudoStyles(e){return i(this,void 0,void 0,(function*(){const t=[];for(const n of Object.keys(e)){const i=e[n],o=yield this.styleCompiler.getStateStyle(i,n);t.push(o)}return t}))}}t.StatesStylePlugin=r},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ContainerStylePlugin=void 0;const o=n(16),r=n(8);class a extends o.StylePlugin{constructor(){super(),this.displayName="Container"}configToStyleRules(e){return i(this,void 0,void 0,(function*(){const t=[new r.StyleRule("display","flex"),new r.StyleRule("flexWrap","wrap"),new r.StyleRule("justifyContent","center"),new r.StyleRule("alignContent","center")];if(e.alignment){if(e.alignment.horizontal){let n=e.alignment.horizontal;"start"!==e.alignment.horizontal&&"end"!==e.alignment.horizontal||(n="flex-"+n),"around"!==e.alignment.horizontal&&"between"!==e.alignment.horizontal||(n="space-"+n),t.push(new r.StyleRule("justifyContent",n))}if(e.alignment.vertical){let n=e.alignment.vertical;"start"!==e.alignment.vertical&&"end"!==e.alignment.vertical||(n="flex-"+n),"around"!==e.alignment.vertical&&"between"!==e.alignment.vertical||(n="space-"+n),t.push(new r.StyleRule("alignContent",n))}}return e.overflow&&(e.overflow.vertical&&e.overflow.horizontal?t.push(new r.StyleRule("overflow","auto")):e.overflow.vertical?t.push(new r.StyleRule("overflowY","auto")):t.push(new r.StyleRule("overflowX","auto"))),t}))}}t.ContainerStylePlugin=a},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStylePlugin=void 0;const o=n(8),r=n(16);class a extends r.StylePlugin{constructor(){super(),this.displayName="Container"}configToStyleRules(e){return i(this,void 0,void 0,(function*(){const t=[];return e.width&&t.push(new o.StyleRule("width",r.StylePlugin.parseSize(e.width))),e.height&&t.push(new o.StyleRule("height",r.StylePlugin.parseSize(e.height))),e.minWidth&&t.push(new o.StyleRule("minWidth",r.StylePlugin.parseSize(e.minWidth))),e.minHeight&&t.push(new o.StyleRule("minHeight",r.StylePlugin.parseSize(e.minHeight))),e.maxWidth&&t.push(new o.StyleRule("maxWidth",r.StylePlugin.parseSize(e.maxWidth))),e.maxHeight&&t.push(new o.StyleRule("maxHeight",r.StylePlugin.parseSize(e.maxHeight))),e.stretch&&t.push(new o.StyleRule("flexGrow",1)),t}))}}t.SizeStylePlugin=a},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.TransitionStylePlugin=void 0;const o=n(8),r=n(16);class a extends r.StylePlugin{constructor(){super(),this.name="transition"}configToStyleRules(e){return i(this,void 0,void 0,(function*(){return[new o.StyleRule("transitionDelay",e.delay?e.delay+"s":"0"),new o.StyleRule("transitionDuration",e.duration?e.duration+"s":"0"),new o.StyleRule("transitionProperty","all"),new o.StyleRule("transitionTimingFunction",e.timingFunction||"linear")]}))}}t.TransitionStylePlugin=a},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.StickToStylePlugin=void 0;const o=n(16),r=n(8);class a extends o.StylePlugin{constructor(){super(),this.displayName="Stick to"}configToStyleRules(e){return i(this,void 0,void 0,(function*(){if(!e||"none"===e)return[];const t=[];switch(t.push(new r.StyleRule("position","sticky")),t.push(new r.StyleRule("zIndex","1020")),e){case"top":t.push(new r.StyleRule("top","0"));break;case"bottom":t.push(new r.StyleRule("bottom","0"));break;default:throw new Error('Unknown option value for "stickTo" plugin: '+e)}return t}))}}t.StickToStylePlugin=a},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.TransformStylePlugin=void 0;const o=n(8),r=n(16);class a extends r.StylePlugin{constructor(){super(...arguments),this.name="transform"}configToStyleRules(e){return i(this,void 0,void 0,(function*(){const t=[];if(e.translate){const n=r.StylePlugin.parseSize(e.translate.x),i=r.StylePlugin.parseSize(e.translate.y);t.push(`translate(${n},${i})`)}if(e.scale){const n=e.scale.x||1,i=e.scale.y||1;t.push(`scale(${n},${i})`)}return e.rotate&&t.push(`rotate(${e.rotate}deg)`),[new o.StyleRule("transform",t.join(" "))]}))}}t.TransformStylePlugin=a},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.PaddingStylePlugin=void 0;const o=n(8),r=n(16);class a extends r.StylePlugin{constructor(){super(...arguments),this.name="padding"}configToStyleRules(e){return i(this,void 0,void 0,(function*(){return[new o.StyleRule("paddingTop",r.StylePlugin.parseSize(e.top)),new o.StyleRule("paddingLeft",r.StylePlugin.parseSize(e.left)),new o.StyleRule("paddingRight",r.StylePlugin.parseSize(e.right)),new o.StyleRule("paddingBottom",r.StylePlugin.parseSize(e.bottom))]}))}}t.PaddingStylePlugin=a},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.GridStylePlugin=void 0;const o=n(16),r=n(8);class a extends o.StylePlugin{constructor(){super(),this.displayName="Grid"}configToStyleRules(e){return i(this,void 0,void 0,(function*(){return[new r.StyleRule("display","grid"),new r.StyleRule("gridTemplateColumns",e.cols.join(" ")),new r.StyleRule("gridTemplateRows",e.rows.join(" ")),new r.StyleRule("gridColumnGap",e.colGap),new r.StyleRule("gridRowGap",e.rowGap),new r.StyleRule("width","100%"),new r.StyleRule("flex",1)]}))}}t.GridStylePlugin=a},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.GridCellStylePlugin=void 0;const o=n(16),r=n(8);class a extends o.StylePlugin{constructor(){super(),this.displayName="Grid area"}configToStyleRules(e){return i(this,void 0,void 0,(function*(){const t=[new r.StyleRule("display","flex"),new r.StyleRule("flexWrap","wrap"),new r.StyleRule("justifyContent","center"),new r.StyleRule("alignContent","center"),new r.StyleRule("alignItems","center"),new r.StyleRule("minWidth","0")];if(e.position&&(t.push(new r.StyleRule("gridColumnStart",e.position.col)),t.push(new r.StyleRule("gridColumnEnd",e.position.col+e.span.cols)),t.push(new r.StyleRule("gridRowStart",e.position.row)),t.push(new r.StyleRule("gridRowEnd",e.position.row+e.span.rows))),e.alignment){if(e.alignment.horizontal){let n=e.alignment.horizontal;"start"!==e.alignment.horizontal&&"end"!==e.alignment.horizontal||(n="flex-"+n),"around"!==e.alignment.horizontal&&"between"!==e.alignment.horizontal||(n="space-"+n),t.push(new r.StyleRule("justifyContent",n))}if(e.alignment.vertical){let n=e.alignment.vertical;"start"!==e.alignment.vertical&&"end"!==e.alignment.vertical||(n="flex-"+n),"around"!==e.alignment.vertical&&"between"!==e.alignment.vertical||(n="space-"+n),t.push(new r.StyleRule("alignContent",n)),t.push(new r.StyleRule("alignItems",n))}}return e.overflow&&(e.overflow.vertical&&e.overflow.horizontal?t.push(new r.StyleRule("overflow","auto")):e.overflow.vertical?t.push(new r.StyleRule("overflowY","auto")):t.push(new r.StyleRule("overflowX","auto")),t.push(new r.StyleRule("position","absolute")),t.push(new r.StyleRule("top","0")),t.push(new r.StyleRule("left","0")),t.push(new r.StyleRule("right","0")),t.push(new r.StyleRule("bottom","0"))),t}))}}t.GridCellStylePlugin=a},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColumnModule=void 0;const i=n(227),o=n(662),r=n(663);t.ColumnModule=class{register(e){e.bind("column",i.ColumnViewModel),e.bindToCollection("modelBinders",o.ColumnModelBinder),e.bindToCollection("viewModelBinders",r.ColumnViewModelBinder)}}},function(e,t,n){"use strict";n.r(t),t.default='<div class="col" data-bind="css: css">\r\n    \x3c!-- ko foreach: { data: widgets, as: \'widget\'  } --\x3e\r\n    \x3c!-- ko widget: widget --\x3e\x3c!-- /ko --\x3e\r\n    \x3c!-- /ko --\x3e\r\n</div>'},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ColumnModelBinder=void 0;const o=n(6),r=n(99);t.ColumnModelBinder=class{constructor(e){this.modelBinderSelector=e,this.contractToModel=this.contractToModel.bind(this)}canHandleContract(e){return"layout-column"===e.type}canHandleModel(e){return e instanceof r.ColumnModel}contractToModel(e,t){return i(this,void 0,void 0,(function*(){const n=new r.ColumnModel;e.size&&(e.size=o.optimizeBreakpoints(e.size),n.size=e.size),e.alignment&&(e.alignment=o.optimizeBreakpoints(e.alignment),n.alignment=e.alignment),e.offset&&(e.offset=o.optimizeBreakpoints(e.offset),n.offset=e.offset),e.order&&(e.order=o.optimizeBreakpoints(e.order),n.order=e.order),n.overflowX=e.overflowX,n.overflowY=e.overflowY,e.nodes||(e.nodes=[]);const a=e.nodes.map(e=>i(this,void 0,void 0,(function*(){return this.modelBinderSelector.getModelBinderByContract(e).contractToModel(e,t)})));return n.widgets=yield Promise.all(a),n}))}modelToContract(e){const t={type:"layout-column",nodes:[]};return t.size=e.size,t.alignment=e.alignment,t.offset=e.offset,t.order=e.order,t.overflowX=e.overflowX,t.overflowY=e.overflowY,e.widgets.forEach(e=>{const n=this.modelBinderSelector.getModelBinderByModel(e);t.nodes.push(n.modelToContract(e))}),t}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ColumnViewModelBinder=void 0;const o=n(6),r=n(227),a=n(99),s=n(38),l=n(228);t.ColumnViewModelBinder=class{constructor(e,t){this.viewModelBinderSelector=e,this.eventManager=t}toTitleCase(e){return e.charAt(0).toUpperCase()+e.slice(1)}getAlignmentClass(e,t,n){if(!t)return;const i=t.split(" "),o=i[0],r=i[1],a=e.alignX||{},s=e.alignY||{};a[n]="utils/content/alignHorizontally"+this.toTitleCase(r),s[n]="utils/content/alignVertically"+this.toTitleCase(o),e.alignX=a,e.alignY=s}modelToViewModel(e,t,n){return i(this,void 0,void 0,(function*(){t||(t=new r.ColumnViewModel);const a=[];for(const t of e.widgets){const e=this.viewModelBinderSelector.getViewModelBinderByModel(t),i=yield e.modelToViewModel(t,null,n);a.push(i)}0===a.length&&a.push(new s.PlaceholderViewModel("Column")),t.widgets(a),e.size&&(e.size=o.optimizeBreakpoints(e.size),t.sizeXs(e.size.xs),t.sizeSm(e.size.sm),t.sizeMd(e.size.md),t.sizeLg(e.size.lg),t.sizeXl(e.size.xl)),e.alignment&&(e.alignment=o.optimizeBreakpoints(e.alignment),t.alignmentXs(e.alignment.xs),t.alignmentSm(e.alignment.sm),t.alignmentMd(e.alignment.md),t.alignmentLg(e.alignment.lg),t.alignmentXl(e.alignment.xl)),e.alignment&&(e.alignment=o.optimizeBreakpoints(e.alignment),t.alignmentXs(e.alignment.xs),t.alignmentSm(e.alignment.sm),t.alignmentMd(e.alignment.md),t.alignmentLg(e.alignment.lg),t.alignmentXl(e.alignment.xl)),e.offset&&(e.offset=o.optimizeBreakpoints(e.offset),t.offsetXs(e.offset.xs),t.offsetSm(e.offset.sm),t.offsetMd(e.offset.md),t.offsetLg(e.offset.lg),t.offsetXl(e.offset.xl)),e.order&&(e.order=o.optimizeBreakpoints(e.order),t.orderXs(e.order.xs),t.orderSm(e.order.sm),t.orderMd(e.order.md),t.orderLg(e.order.lg),t.orderXl(e.order.xl)),t.overflowX(e.overflowX),t.overflowY(e.overflowY);const c={name:"column",displayName:"Column",readonly:!!n&&n.readonly,flow:"inline",model:e,draggable:!1,editor:"layout-column-editor",handler:l.ColumnHandlers,applyChanges:o=>i(this,void 0,void 0,(function*(){yield this.modelToViewModel(e,t,n),this.eventManager.dispatchEvent("onContentUpdate")}))};return t.widgetBinding=c,t}))}canHandleModel(e){return e instanceof a.ColumnModel}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContentModule=void 0;const i=n(140),o=n(229),r=n(230);t.ContentModule=class{register(e){e.bind("contentWidget",i.ContentViewModel),e.bindToCollection("modelBinders",o.ContentModelBinder,"contentModelBinder"),e.bindToCollection("viewModelBinders",r.ContentViewModelBinder,"contentViewModelBinder")}}},function(e,t,n){"use strict";n.r(t),t.default="<main>\r\n    \x3c!-- ko foreach: { data: widgets, as: 'widget' } --\x3e\r\n    \x3c!-- ko widget: widget --\x3e\r\n    \x3c!-- /ko --\x3e\r\n    \x3c!-- /ko --\x3e\r\n</main>"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContentEditorModule=void 0;const i=n(142);t.ContentEditorModule=class{register(e){e.bindToCollection("widgetHandlers",i.ContentHandlers,"pageHandlers")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GridCellModule=void 0;const i=n(231),o=n(669),r=n(670);t.GridCellModule=class{register(e){e.bind("gridCell",i.GridCellViewModel),e.bindToCollection("modelBinders",o.GridCellModelBinder,"gridCellModelBinder"),e.bindToCollection("viewModelBinders",r.GridCellViewModelBinder)}}},function(e,t,n){"use strict";n.r(t),t.default="<div data-bind=\"styled: $component.styles\">\r\n    \x3c!-- ko foreach: { data: widgets, as: 'widget'  } --\x3e\r\n    \x3c!-- ko widget: widget --\x3e\r\n    \x3c!-- /ko --\x3e\r\n    \x3c!-- /ko --\x3e\r\n</div>"},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.GridCellModelBinder=void 0;const o=n(143),r=n(232);class a extends r.ContentModelBinder{constructor(e){super(e),this.modelBinderSelector=e}canHandleContract(e){return"grid-cell"===e.type}canHandleModel(e){return e instanceof o.GridCellModel}contractToModel(e,t){return i(this,void 0,void 0,(function*(){const n=new o.GridCellModel;return e.styles&&(n.styles=e.styles),n.role=e.role,e.nodes||(e.nodes=[]),n.widgets=yield this.getChildModels(e.nodes,t),n}))}modelToContract(e){const t={type:"grid-cell",nodes:[],role:e.role,styles:e.styles};return e.widgets.forEach(e=>{const n=this.modelBinderSelector.getModelBinderByModel(e);t.nodes.push(n.modelToContract(e))}),t}}t.GridCellModelBinder=a},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.GridCellViewModelBinder=void 0;const o=n(231),r=n(143),a=n(38),s=n(233);t.GridCellViewModelBinder=class{constructor(e,t,n){this.viewModelBinderSelector=e,this.eventManager=t,this.styleCompiler=n}modelToViewModel(e,t,n){return i(this,void 0,void 0,(function*(){t||(t=new o.GridCellViewModel);const r=[];for(const t of e.widgets){const e=this.viewModelBinderSelector.getViewModelBinderByModel(t),i=yield e.modelToViewModel(t,null,n);r.push(i)}if(0===r.length&&r.push(new a.PlaceholderViewModel(e.role)),e.styles){const i=yield this.styleCompiler.getStyleModelAsync(e.styles,null==n?void 0:n.styleManager);t.styles(i)}t.role(e.role),t.widgets(r);const l={name:"grid-cell",displayName:e.role.charAt(0).toUpperCase()+e.role.slice(1),readonly:!!n&&n.readonly,flow:"inline",model:e,draggable:!1,editor:"grid-cell-editor",handler:s.GridCellHandlers,applyChanges:o=>i(this,void 0,void 0,(function*(){yield this.modelToViewModel(e,t,n),this.eventManager.dispatchEvent("onContentUpdate")}))};return t.widgetBinding=l,t}))}canHandleModel(e){return e instanceof r.GridCellModel}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";n.r(t),t.default="<div data-bind=\"styled: styles\">\r\n    \x3c!-- ko foreach: { data: widgets, as: 'widget' } --\x3e\r\n    \x3c!-- ko widget: widget --\x3e\r\n    \x3c!-- /ko --\x3e\r\n    \x3c!-- /ko --\x3e\r\n</div>"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0);i.bindingHandlers.focus={init:(e,t)=>{const n=i.unwrap(t());setTimeout(()=>{const t=typeof n;("boolean"===t&&n||"object"===t&&n.childSelector&&(e=e.querySelector(n.childSelector)))&&e.focus()},100)}}},function(e,t,n){"use strict";function i(e){return getComputedStyle(e)}function o(e,t){for(var n in t){var i=t[n];"number"==typeof i&&(i+="px"),e.style[n]=i}return e}function r(e){var t=document.createElement("div");return t.className=e,t}n.r(t);var a="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function s(e,t){if(!a)throw new Error("No element matching method supported");return a.call(e,t)}function l(e){e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)}function c(e,t){return Array.prototype.filter.call(e.children,(function(e){return s(e,t)}))}var u=function(e){return"ps__thumb-"+e},d=function(e){return"ps__rail-"+e},p="ps__child--consume",h="ps--focus",f="ps--clicking",m=function(e){return"ps--active-"+e},v=function(e){return"ps--scrolling-"+e},g={x:null,y:null};function y(e,t){var n=e.element.classList,i=v(t);n.contains(i)?clearTimeout(g[t]):n.add(i)}function b(e,t){g[t]=setTimeout((function(){return e.isAlive&&e.element.classList.remove(v(t))}),e.settings.scrollingThreshold)}var x=function(e){this.element=e,this.handlers={}},w={isEmpty:{configurable:!0}};x.prototype.bind=function(e,t){void 0===this.handlers[e]&&(this.handlers[e]=[]),this.handlers[e].push(t),this.element.addEventListener(e,t,!1)},x.prototype.unbind=function(e,t){var n=this;this.handlers[e]=this.handlers[e].filter((function(i){return!(!t||i===t)||(n.element.removeEventListener(e,i,!1),!1)}))},x.prototype.unbindAll=function(){for(var e in this.handlers)this.unbind(e)},w.isEmpty.get=function(){var e=this;return Object.keys(this.handlers).every((function(t){return 0===e.handlers[t].length}))},Object.defineProperties(x.prototype,w);var S=function(){this.eventElements=[]};function k(e){if("function"==typeof window.CustomEvent)return new CustomEvent(e);var t=document.createEvent("CustomEvent");return t.initCustomEvent(e,!1,!1,void 0),t}function C(e,t,n,i,o){var r;if(void 0===i&&(i=!0),void 0===o&&(o=!1),"top"===t)r=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==t)throw new Error("A proper axis should be provided");r=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(e,t,n,i,o){var r=n[0],a=n[1],s=n[2],l=n[3],c=n[4],u=n[5];void 0===i&&(i=!0),void 0===o&&(o=!1);var d=e.element;e.reach[l]=null,d[s]<1&&(e.reach[l]="start"),d[s]>e[r]-e[a]-1&&(e.reach[l]="end"),t&&(d.dispatchEvent(k("ps-scroll-"+l)),t<0?d.dispatchEvent(k("ps-scroll-"+c)):t>0&&d.dispatchEvent(k("ps-scroll-"+u)),i&&function(e,t){y(e,t),b(e,t)}(e,l)),e.reach[l]&&(t||o)&&d.dispatchEvent(k("ps-"+l+"-reach-"+e.reach[l]))}(e,n,r,i,o)}function M(e){return parseInt(e,10)||0}S.prototype.eventElement=function(e){var t=this.eventElements.filter((function(t){return t.element===e}))[0];return t||(t=new x(e),this.eventElements.push(t)),t},S.prototype.bind=function(e,t,n){this.eventElement(e).bind(t,n)},S.prototype.unbind=function(e,t,n){var i=this.eventElement(e);i.unbind(t,n),i.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(i),1)},S.prototype.unbindAll=function(){this.eventElements.forEach((function(e){return e.unbindAll()})),this.eventElements=[]},S.prototype.once=function(e,t,n){var i=this.eventElement(e),o=function(e){i.unbind(t,o),n(e)};i.bind(t,o)};var _={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)};function O(e){var t=e.element,n=Math.floor(t.scrollTop),i=t.getBoundingClientRect();e.containerWidth=Math.ceil(i.width),e.containerHeight=Math.ceil(i.height),e.contentWidth=t.scrollWidth,e.contentHeight=t.scrollHeight,t.contains(e.scrollbarXRail)||(c(t,d("x")).forEach((function(e){return l(e)})),t.appendChild(e.scrollbarXRail)),t.contains(e.scrollbarYRail)||(c(t,d("y")).forEach((function(e){return l(e)})),t.appendChild(e.scrollbarYRail)),!e.settings.suppressScrollX&&e.containerWidth+e.settings.scrollXMarginOffset<e.contentWidth?(e.scrollbarXActive=!0,e.railXWidth=e.containerWidth-e.railXMarginWidth,e.railXRatio=e.containerWidth/e.railXWidth,e.scrollbarXWidth=P(e,M(e.railXWidth*e.containerWidth/e.contentWidth)),e.scrollbarXLeft=M((e.negativeScrollAdjustment+t.scrollLeft)*(e.railXWidth-e.scrollbarXWidth)/(e.contentWidth-e.containerWidth))):e.scrollbarXActive=!1,!e.settings.suppressScrollY&&e.containerHeight+e.settings.scrollYMarginOffset<e.contentHeight?(e.scrollbarYActive=!0,e.railYHeight=e.containerHeight-e.railYMarginHeight,e.railYRatio=e.containerHeight/e.railYHeight,e.scrollbarYHeight=P(e,M(e.railYHeight*e.containerHeight/e.contentHeight)),e.scrollbarYTop=M(n*(e.railYHeight-e.scrollbarYHeight)/(e.contentHeight-e.containerHeight))):e.scrollbarYActive=!1,e.scrollbarXLeft>=e.railXWidth-e.scrollbarXWidth&&(e.scrollbarXLeft=e.railXWidth-e.scrollbarXWidth),e.scrollbarYTop>=e.railYHeight-e.scrollbarYHeight&&(e.scrollbarYTop=e.railYHeight-e.scrollbarYHeight),function(e,t){var n={width:t.railXWidth},i=Math.floor(e.scrollTop);t.isRtl?n.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:n.left=e.scrollLeft,t.isScrollbarXUsingBottom?n.bottom=t.scrollbarXBottom-i:n.top=t.scrollbarXTop+i,o(t.scrollbarXRail,n);var r={top:i,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?r.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth-9:r.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?r.left=t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:r.left=t.scrollbarYLeft+e.scrollLeft,o(t.scrollbarYRail,r),o(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),o(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}(t,e),e.scrollbarXActive?t.classList.add(m("x")):(t.classList.remove(m("x")),e.scrollbarXWidth=0,e.scrollbarXLeft=0,t.scrollLeft=!0===e.isRtl?e.contentWidth:0),e.scrollbarYActive?t.classList.add(m("y")):(t.classList.remove(m("y")),e.scrollbarYHeight=0,e.scrollbarYTop=0,t.scrollTop=0)}function P(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}function E(e,t){var n=t[0],i=t[1],o=t[2],r=t[3],a=t[4],s=t[5],l=t[6],c=t[7],u=t[8],d=e.element,p=null,h=null,m=null;function v(t){t.touches&&t.touches[0]&&(t[o]=t.touches[0].pageY),d[l]=p+m*(t[o]-h),y(e,c),O(e),t.stopPropagation(),t.preventDefault()}function g(){b(e,c),e[u].classList.remove(f),e.event.unbind(e.ownerDocument,"mousemove",v)}function x(t,a){p=d[l],a&&t.touches&&(t[o]=t.touches[0].pageY),h=t[o],m=(e[i]-e[n])/(e[r]-e[s]),a?e.event.bind(e.ownerDocument,"touchmove",v):(e.event.bind(e.ownerDocument,"mousemove",v),e.event.once(e.ownerDocument,"mouseup",g),t.preventDefault()),e[u].classList.add(f),t.stopPropagation()}e.event.bind(e[a],"mousedown",(function(e){x(e)})),e.event.bind(e[a],"touchstart",(function(e){x(e,!0)}))}var T={"click-rail":function(e){e.element,e.event.bind(e.scrollbarY,"mousedown",(function(e){return e.stopPropagation()})),e.event.bind(e.scrollbarYRail,"mousedown",(function(t){var n=t.pageY-window.pageYOffset-e.scrollbarYRail.getBoundingClientRect().top>e.scrollbarYTop?1:-1;e.element.scrollTop+=n*e.containerHeight,O(e),t.stopPropagation()})),e.event.bind(e.scrollbarX,"mousedown",(function(e){return e.stopPropagation()})),e.event.bind(e.scrollbarXRail,"mousedown",(function(t){var n=t.pageX-window.pageXOffset-e.scrollbarXRail.getBoundingClientRect().left>e.scrollbarXLeft?1:-1;e.element.scrollLeft+=n*e.containerWidth,O(e),t.stopPropagation()}))},"drag-thumb":function(e){E(e,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),E(e,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(e){var t=e.element;e.event.bind(e.ownerDocument,"keydown",(function(n){if(!(n.isDefaultPrevented&&n.isDefaultPrevented()||n.defaultPrevented)&&(s(t,":hover")||s(e.scrollbarX,":focus")||s(e.scrollbarY,":focus"))){var i,o=document.activeElement?document.activeElement:e.ownerDocument.activeElement;if(o){if("IFRAME"===o.tagName)o=o.contentDocument.activeElement;else for(;o.shadowRoot;)o=o.shadowRoot.activeElement;if(s(i=o,"input,[contenteditable]")||s(i,"select,[contenteditable]")||s(i,"textarea,[contenteditable]")||s(i,"button,[contenteditable]"))return}var r=0,a=0;switch(n.which){case 37:r=n.metaKey?-e.contentWidth:n.altKey?-e.containerWidth:-30;break;case 38:a=n.metaKey?e.contentHeight:n.altKey?e.containerHeight:30;break;case 39:r=n.metaKey?e.contentWidth:n.altKey?e.containerWidth:30;break;case 40:a=n.metaKey?-e.contentHeight:n.altKey?-e.containerHeight:-30;break;case 32:a=n.shiftKey?e.containerHeight:-e.containerHeight;break;case 33:a=e.containerHeight;break;case 34:a=-e.containerHeight;break;case 36:a=e.contentHeight;break;case 35:a=-e.contentHeight;break;default:return}e.settings.suppressScrollX&&0!==r||e.settings.suppressScrollY&&0!==a||(t.scrollTop-=a,t.scrollLeft+=r,O(e),function(n,i){var o=Math.floor(t.scrollTop);if(0===n){if(!e.scrollbarYActive)return!1;if(0===o&&i>0||o>=e.contentHeight-e.containerHeight&&i<0)return!e.settings.wheelPropagation}var r=t.scrollLeft;if(0===i){if(!e.scrollbarXActive)return!1;if(0===r&&n<0||r>=e.contentWidth-e.containerWidth&&n>0)return!e.settings.wheelPropagation}return!0}(r,a)&&n.preventDefault())}}))},wheel:function(e){var t=e.element;function n(n){var o=function(e){var t=e.deltaX,n=-1*e.deltaY;return void 0!==t&&void 0!==n||(t=-1*e.wheelDeltaX/6,n=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,n*=10),t!=t&&n!=n&&(t=0,n=e.wheelDelta),e.shiftKey?[-n,-t]:[t,n]}(n),r=o[0],a=o[1];if(!function(e,n,o){if(!_.isWebKit&&t.querySelector("select:focus"))return!0;if(!t.contains(e))return!1;for(var r=e;r&&r!==t;){if(r.classList.contains(p))return!0;var a=i(r);if(o&&a.overflowY.match(/(scroll|auto)/)){var s=r.scrollHeight-r.clientHeight;if(s>0&&(r.scrollTop>0&&o<0||r.scrollTop<s&&o>0))return!0}if(n&&a.overflowX.match(/(scroll|auto)/)){var l=r.scrollWidth-r.clientWidth;if(l>0&&(r.scrollLeft>0&&n<0||r.scrollLeft<l&&n>0))return!0}r=r.parentNode}return!1}(n.target,r,a)){var s=!1;e.settings.useBothWheelAxes?e.scrollbarYActive&&!e.scrollbarXActive?(a?t.scrollTop-=a*e.settings.wheelSpeed:t.scrollTop+=r*e.settings.wheelSpeed,s=!0):e.scrollbarXActive&&!e.scrollbarYActive&&(r?t.scrollLeft+=r*e.settings.wheelSpeed:t.scrollLeft-=a*e.settings.wheelSpeed,s=!0):(t.scrollTop-=a*e.settings.wheelSpeed,t.scrollLeft+=r*e.settings.wheelSpeed),O(e),(s=s||function(n,i){var o=Math.floor(t.scrollTop),r=0===t.scrollTop,a=o+t.offsetHeight===t.scrollHeight,s=0===t.scrollLeft,l=t.scrollLeft+t.offsetWidth===t.scrollWidth;return!(Math.abs(i)>Math.abs(n)?r||a:s||l)||!e.settings.wheelPropagation}(r,a))&&!n.ctrlKey&&(n.stopPropagation(),n.preventDefault())}}void 0!==window.onwheel?e.event.bind(t,"wheel",n):void 0!==window.onmousewheel&&e.event.bind(t,"mousewheel",n)},touch:function(e){if(_.supportsTouch||_.supportsIePointer){var t=e.element,n={},o=0,r={},a=null;_.supportsTouch?(e.event.bind(t,"touchstart",u),e.event.bind(t,"touchmove",d),e.event.bind(t,"touchend",h)):_.supportsIePointer&&(window.PointerEvent?(e.event.bind(t,"pointerdown",u),e.event.bind(t,"pointermove",d),e.event.bind(t,"pointerup",h)):window.MSPointerEvent&&(e.event.bind(t,"MSPointerDown",u),e.event.bind(t,"MSPointerMove",d),e.event.bind(t,"MSPointerUp",h)))}function s(n,i){t.scrollTop-=i,t.scrollLeft-=n,O(e)}function l(e){return e.targetTouches?e.targetTouches[0]:e}function c(e){return(!e.pointerType||"pen"!==e.pointerType||0!==e.buttons)&&(!(!e.targetTouches||1!==e.targetTouches.length)||!(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))}function u(e){if(c(e)){var t=l(e);n.pageX=t.pageX,n.pageY=t.pageY,o=(new Date).getTime(),null!==a&&clearInterval(a)}}function d(a){if(c(a)){var u=l(a),d={pageX:u.pageX,pageY:u.pageY},h=d.pageX-n.pageX,f=d.pageY-n.pageY;if(function(e,n,o){if(!t.contains(e))return!1;for(var r=e;r&&r!==t;){if(r.classList.contains(p))return!0;var a=i(r);if(o&&a.overflowY.match(/(scroll|auto)/)){var s=r.scrollHeight-r.clientHeight;if(s>0&&(r.scrollTop>0&&o<0||r.scrollTop<s&&o>0))return!0}if(n&&a.overflowX.match(/(scroll|auto)/)){var l=r.scrollWidth-r.clientWidth;if(l>0&&(r.scrollLeft>0&&n<0||r.scrollLeft<l&&n>0))return!0}r=r.parentNode}return!1}(a.target,h,f))return;s(h,f),n=d;var m=(new Date).getTime(),v=m-o;v>0&&(r.x=h/v,r.y=f/v,o=m),function(n,i){var o=Math.floor(t.scrollTop),r=t.scrollLeft,a=Math.abs(n),s=Math.abs(i);if(s>a){if(i<0&&o===e.contentHeight-e.containerHeight||i>0&&0===o)return 0===window.scrollY&&i>0&&_.isChrome}else if(a>s&&(n<0&&r===e.contentWidth-e.containerWidth||n>0&&0===r))return!0;return!0}(h,f)&&a.preventDefault()}}function h(){e.settings.swipeEasing&&(clearInterval(a),a=setInterval((function(){e.isInitialized?clearInterval(a):r.x||r.y?Math.abs(r.x)<.01&&Math.abs(r.y)<.01?clearInterval(a):(s(30*r.x,30*r.y),r.x*=.8,r.y*=.8):clearInterval(a)}),10))}}},j=function(e,t){var n=this;if(void 0===t&&(t={}),"string"==typeof e&&(e=document.querySelector(e)),!e||!e.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var a in this.element=e,e.classList.add("ps"),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},t)this.settings[a]=t[a];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var s,l,c=function(){return e.classList.add(h)},p=function(){return e.classList.remove(h)};this.isRtl="rtl"===i(e).direction,!0===this.isRtl&&e.classList.add("ps__rtl"),this.isNegativeScroll=(l=e.scrollLeft,e.scrollLeft=-1,s=e.scrollLeft<0,e.scrollLeft=l,s),this.negativeScrollAdjustment=this.isNegativeScroll?e.scrollWidth-e.clientWidth:0,this.event=new S,this.ownerDocument=e.ownerDocument||document,this.scrollbarXRail=r(d("x")),e.appendChild(this.scrollbarXRail),this.scrollbarX=r(u("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",c),this.event.bind(this.scrollbarX,"blur",p),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var f=i(this.scrollbarXRail);this.scrollbarXBottom=parseInt(f.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=M(f.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=M(f.borderLeftWidth)+M(f.borderRightWidth),o(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=M(f.marginLeft)+M(f.marginRight),o(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=r(d("y")),e.appendChild(this.scrollbarYRail),this.scrollbarY=r(u("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",c),this.event.bind(this.scrollbarY,"blur",p),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var m=i(this.scrollbarYRail);this.scrollbarYRight=parseInt(m.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=M(m.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(e){var t=i(e);return M(t.width)+M(t.paddingLeft)+M(t.paddingRight)+M(t.borderLeftWidth)+M(t.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=M(m.borderTopWidth)+M(m.borderBottomWidth),o(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=M(m.marginTop)+M(m.marginBottom),o(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:e.scrollLeft<=0?"start":e.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:e.scrollTop<=0?"start":e.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach((function(e){return T[e](n)})),this.lastScrollTop=Math.floor(e.scrollTop),this.lastScrollLeft=e.scrollLeft,this.event.bind(this.element,"scroll",(function(e){return n.onScroll(e)})),O(this)};j.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,o(this.scrollbarXRail,{display:"block"}),o(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=M(i(this.scrollbarXRail).marginLeft)+M(i(this.scrollbarXRail).marginRight),this.railYMarginHeight=M(i(this.scrollbarYRail).marginTop)+M(i(this.scrollbarYRail).marginBottom),o(this.scrollbarXRail,{display:"none"}),o(this.scrollbarYRail,{display:"none"}),O(this),C(this,"top",0,!1,!0),C(this,"left",0,!1,!0),o(this.scrollbarXRail,{display:""}),o(this.scrollbarYRail,{display:""}))},j.prototype.onScroll=function(e){this.isAlive&&(O(this),C(this,"top",this.element.scrollTop-this.lastScrollTop),C(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},j.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),l(this.scrollbarX),l(this.scrollbarY),l(this.scrollbarXRail),l(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},j.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter((function(e){return!e.match(/^ps([-_].+|)$/)})).join(" ")},t.default=j},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0);i.bindingHandlers.angle={init:(e,t)=>{const n=t(),o=e.getBoundingClientRect(),r=Math.floor(o.width/2),a=Math.floor(o.height/2);let s=!1;const l=(e,t)=>{const i=r-e,o=a-t;let s=180*Math.atan2(o,i)/Math.PI;s+=-90,s<0&&(s+=360),n(Math.floor(s))},c=e=>{s=!0,l(e.offsetX,e.offsetY)},u=e=>{s=!1,l(e.offsetX,e.offsetY)},d=e=>{s&&l(e.offsetX,e.offsetY)};e.addEventListener("mousedown",c),e.addEventListener("mouseup",u,!0),e.addEventListener("mousemove",d,!0),i.utils.domNodeDisposal.addDisposeCallback(e,()=>{e.removeEventListener("mousedown",c),e.removeEventListener("mouseup",u,!0),e.removeEventListener("mousemove",d,!0)})}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(0);o.bindingHandlers.confirm={init:(e,t)=>{const n=o.unwrap(t()),r=n.message,a=n.onConfirm;let s;o.applyBindingsToNode(e,{balloon:{component:{name:"confirmation",params:{getMessage:()=>i(void 0,void 0,void 0,(function*(){return r})),onConfirm:()=>i(void 0,void 0,void 0,(function*(){a()})),onDecline:()=>{s.close()}}},onCreated:e=>{s=e},position:"top"}},null)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),o=n(66);function r(e){const t=o.GridHelper.getParentWidgetBinding(e),n=o.GridHelper.getWidgetBinding(e),i=e.parentElement.getBoundingClientRect(),r=t.model.styles.instance.grid.cols.map(e=>i.width*parseInt(e.replace("%",""))/100),a=t.model.styles.instance.grid.rows.map(e=>i.height*parseInt(e.replace("%",""))/100),s=e.getBoundingClientRect(),l=[0],c=[0];let u=0;for(const o of r)u+=o,l.push(u);let d=0;for(const o of a)d+=o,c.push(d);const p=s.left-i.left,h=s.right-i.left,f=s.top-i.top,m=s.bottom-i.top;let v=l.findIndex(e=>e>p),g=l.findIndex(e=>e>h);p>(l[v-1]+l[v])/2&&v++,h>(l[g-1]+l[g])/2&&g++;const y=g-v;let b=c.findIndex(e=>e>f),x=c.findIndex(e=>e>m);f>(c[b-1]+c[b])/2&&b++,m>(c[x-1]+c[x])/2&&x++;const w=x-b,S=n.model.styles.instance["grid-cell"].md;S.position.col=v,S.position.row=b,S.span.cols=y,S.span.rows=w,n.applyChanges(n.model),e.removeAttribute("style")}i.bindingHandlers.gridCellEditor={init:(e,t)=>{i.unwrap(t()),i.applyBindingsToNode(e,{dragsource:{inertia:!1,sticky:!0,ondragstart:(t,n)=>{const i=e.getBoundingClientRect();e.style.width=i.width+"px",e.style.height=i.height+"px",n.style.position="fixed"},ondragend:()=>{r(e)}},resizable:{directions:"vertically horizontally",onresize:()=>{r(e)}}},null)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0);i.extenders.max=(e,t)=>{const n=i.pureComputed({read:e,write:n=>{const i=e();n<=t?e(n):n!==i&&e.notifySubscribers(n)}}).extend({notify:"always"});return n(e()),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MenuModule=void 0;const i=n(680),o=n(264);t.MenuModule=class{register(e){e.bindToCollection("modelBinders",i.MenuModelBinder,"menuModelBinder"),e.bindToCollection("viewModelBinders",o.MenuViewModelBinder,"menuViewModelBinder");const t=e=>({key:e,category:"appearance",displayName:"Menu dropdown",background:{colorKey:"colors/defaultBg"},shadow:{shadowKey:"shadows/shadow2"},padding:{top:5,left:5,right:5,bottom:5},components:{navLink:{default:n(e+"/components/navLink/default"),active:r(e+"/components/navLink/active")}}}),n=e=>({key:e,allowedStates:["hover","focus","active","disabled"],displayName:"Navigation link",typography:{colorKey:"colors/default"}}),r=e=>({key:e,allowedStates:["hover","focus","active","disabled"],displayName:"Navigation link (active)",typography:{fontWeight:"bold"}}),a={key:"menu",migrate:e=>{e&&Object.keys(e).forEach(t=>{const n=e[t].components;if(!n)return;const i=n.navItem;i&&(n.navLink=i,delete n.navItem,Object.keys(i).forEach(e=>{const t=i[e];t.key=t.key.replaceAll("/navItem/","/navLink/")}))})},getDefaultStyle:(e="components/menu/default")=>{const i=/components\/(\w*)\/(\w*)/gm;let o;const a=[];for(;null!==(o=i.exec(e));){o.index===i.lastIndex&&i.lastIndex++;const e=o[1];o[2],a.push(e)}switch(a[a.length-1]){case"menu":return(e=>({default:{displayName:"Normal menu",key:e,category:"appearance",components:{dropdown:{default:t(e+"/components/dropdown/default")},navLink:{default:n(e+"/components/navLink/default"),active:r(e+"/components/navLink/active")}}}}))(e);case"navLink":return n(e);case"dropdown":return t(e);default:return null}}};e.bindInstanceToCollection("styleHandlers",a)}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.MenuModelBinder=void 0;const o=n(37),r=n(58),a=n(263),s=n(101);t.MenuModelBinder=class{constructor(e,t,n){this.permalinkResolver=e,this.navigationService=t,this.localeService=n}canHandleContract(e){return"menu"===e.type}canHandleModel(e){return e instanceof s.MenuModel}getLanguageNavigationMenu(e){return i(this,void 0,void 0,(function*(){const t=yield this.localeService.getLocales(),n=yield this.localeService.getDefaultLocale(),i=(null==e?void 0:e.locale)||n,o=t.find(e=>e.code===i),r=[];for(const a of t){const t=(null==e?void 0:e.contentItemKey)?yield this.permalinkResolver.getUrlByTargetKey(e.contentItemKey,a.code):"/";r.push({label:a.displayName,targetUrl:t})}return{label:null==o?void 0:o.displayName,nodes:r}}))}processNavigationItem(e,t,n,r,a,s=0){return i(this,void 0,void 0,(function*(){const i=new o.NavigationItemModel;if(i.label=t.label,t.navigationItems){const o=[];t.navigationItems.forEach(t=>{o.push(this.processNavigationItem(e,t,n,r,a,s+1))}),(yield Promise.all(o)).forEach(e=>{i.nodes.push(e)})}if(!t.targetKey)return i;const l=yield this.permalinkResolver.getUrlByTargetKey(t.targetKey,e);if(i.targetUrl=l,l===n&&(i.isActive=!0),s>0&&r&&a&&i.targetUrl===n){const t=yield this.processAnchorItems(n,e,r,a);i.nodes.push(...t)}return i}))}processAnchorItems(e,t,n,r){return i(this,void 0,void 0,(function*(){const i=yield this.permalinkResolver.getContentByPermalink(e,t);if(!i)return[];const s=a.AnchorUtils.getHeadingNodes(i,n,r);return 0===s.length?[]:s.map(e=>{var t,n;const i=new o.NavigationItemModel;return i.label=e.nodes[0].text,i.targetUrl="#"+(e.identifier||(null===(t=e.attrs)||void 0===t?void 0:t.id)||(null===(n=e.attrs)||void 0===n?void 0:n.key)),i})}))}contractToModel(e,t){return i(this,void 0,void 0,(function*(){if(!e)throw new Error('Parameter "contract" not specified.');const n=new s.MenuModel;n.minHeading=e.minHeading,n.maxHeading=e.maxHeading,n.items=[],n.layout=e.layout,n.roles=e.roles||[r.BuiltInRoles.everyone.key],n.styles=e.styles||{appearance:"components/menu/default"};const i=null==t?void 0:t.navigationPath;if(e.navigationItemKey){let o;if("@locales"===e.navigationItemKey)o=yield this.getLanguageNavigationMenu(t);else{const r=yield this.navigationService.getNavigationItem(e.navigationItemKey);r&&(o=yield this.processNavigationItem(null==t?void 0:t.locale,r,i,n.minHeading,n.maxHeading))}o&&(n.items=o.nodes,n.navigationItem=o,n.navigationItem.key=e.navigationItemKey)}if(0===n.items.length&&n.minHeading&&n.maxHeading){const e=yield this.processAnchorItems(i,null==t?void 0:t.locale,n.minHeading,n.maxHeading);n.items.push(...e)}return n}))}modelToContract(e){var t;const n=e.roles&&1===e.roles.length&&e.roles[0]===r.BuiltInRoles.everyone.key?null:e.roles;return{type:"menu",minHeading:e.minHeading,maxHeading:e.maxHeading,navigationItemKey:null===(t=e.navigationItem)||void 0===t?void 0:t.key,layout:e.layout,styles:e.styles,roles:n}}}},function(e,t,n){"use strict";n.r(t),t.default='<nav data-bind="secured: roles, styled: styles">\r\n    \x3c!--ko if: $component.nodes().length > 0 --\x3e\r\n\r\n    \x3c!-- ko if: $component.layout() === \'horizontal\' --\x3e\r\n    <div class="menu menu-horizontal" data-bind="template: { name: \'horizontalMenu\', data: $component }"></div>\r\n    \x3c!--/ko--\x3e\r\n\r\n    \x3c!-- ko if: $component.layout() === \'vertical\' --\x3e\r\n    <div class="menu menu-vertical" data-bind="template: { name: \'verticalMenu\', data: $component }"></div>\r\n    \x3c!--/ko--\x3e\r\n\r\n    \x3c!--/ko--\x3e\r\n\r\n    \x3c!--ko if: $component.nodes().length === 0 --\x3e\r\n    <p class="not-configured">It seems that you don\'t have navigation items here.</p>\r\n    \x3c!--/ko--\x3e\r\n</nav>'},function(e,t,n){"use strict";n.r(t),t.default='<ul class="nav" data-bind="foreach: { data: $data.nodes, as: \'item\' }">\r\n    \x3c!-- ko if: item.nodes().length > 0 --\x3e\r\n    <li class="nav-item collapsible" data-bind="css: { \'expanded\': expanded }">\r\n        <a href="#" class="nav-link" data-toggle="collapsible" data-bind="text: item.label, attr: { href: item.url }, css: { \'nav-link-active\': item.isActive }"></a>\r\n        \x3c!--ko if: item.nodes().length > 0 --\x3e\r\n        <div class="dropdown collapsible-content">\r\n            \x3c!-- ko template: { name: \'horizontalMenu\', data: item } --\x3e\r\n            \x3c!-- /ko --\x3e\r\n        </div>\r\n        \x3c!-- /ko --\x3e\r\n    </li>\r\n    \x3c!-- /ko --\x3e\r\n\r\n    \x3c!-- ko ifnot: item.nodes().length > 0 --\x3e\r\n    <li class="nav-item">\r\n        <a href="#" class="nav-link" data-bind="text: item.label, attr: { href: item.url }, css: { \'nav-link-active\': item.isActive }"></a>\r\n    </li>\r\n    \x3c!-- /ko --\x3e\r\n</ul>'},function(e,t,n){"use strict";n.r(t),t.default='<ul class="nav" data-bind="foreach: { data: $data.nodes, as: \'item\' }">\r\n    \x3c!-- ko if: item.nodes().length > 0 --\x3e\r\n    <li class="nav-item collapsible" data-bind="css: { \'expanded\': expanded }">\r\n        <a href="#" class="nav-link" data-toggle="collapsible" data-bind="text: item.label, attr: { href: item.url }, css: { \'nav-link-active\': item.isActive }"></a>\r\n        \x3c!--ko if: item.nodes().length > 0 --\x3e\r\n        \x3c!-- ko template: { name: \'verticalMenu\', data: item } --\x3e\r\n        \x3c!-- /ko --\x3e\r\n        \x3c!-- /ko --\x3e\r\n    </li>\r\n    \x3c!-- /ko --\x3e\r\n\r\n    \x3c!-- ko ifnot: item.nodes().length > 0 --\x3e\r\n    <li class="nav-item">\r\n        <a href="#" class="nav-link" data-bind="text: item.label, attr: { href: item.url }, css: { \'nav-link-active\': item.isActive }"></a>\r\n    </li>\r\n    \x3c!-- /ko --\x3e\r\n</ul>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MenuItemViewModel=void 0;const i=n(0);t.MenuItemViewModel=class{constructor(){this.label=i.observable(),this.url=i.observable(),this.level=i.observable(),this.nodes=i.observableArray([]),this.isActive=i.observable(!1),this.expanded=i.observable(!1)}toggle(){this.expanded(!this.expanded())}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MenuEditorModule=void 0;const i=n(686),o=n(266),r=n(688);t.MenuEditorModule=class{register(e){e.bind("menuEditor",o.MenuEditor),e.bindToCollection("widgetHandlers",r.MenuHandlers,"menuHandler");const t={key:"menu",name:"components_menu",groupName:"Menus",selectorTemplate:null,styleTemplate:i.default};e.bindInstanceToCollection("styleGroups",t)}}},function(e,t,n){"use strict";n.r(t),t.default='<nav data-bind="stylePreview: variation.key" class="design-menu-horizontal">\r\n    <div class="menu menu-horizontal">\r\n        <ul class="nav">\r\n            <li class="nav-item collapsible expanded">\r\n                <a href="#" class="nav-link" data-bind="styleable: variation.components.navLink.default">\r\n                    Nav link\r\n                </a>\r\n                <div class="dropdown collapsible-content" data-bind="styleable: variation.key + \'/components/dropdown/default\'">\r\n                    <ul class="nav nav-horizontal">\r\n                        <li class="nav-item">\r\n                            <a href="#" class="nav-link" data-bind="styleable: variation.key + \'/components/dropdown/default/components/navLink/default\'">\r\n                                Nav link\r\n                            </a>\r\n                        </li>\r\n                        <li class="nav-item">\r\n                            <a href="#" class="nav-link nav-link-active" data-bind="styleable: variation.key + \'/components/dropdown/default/components/navLink/active\'">\r\n                                Nav link (active)\r\n                            </a>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </li>\r\n            <li class="nav-item">\r\n                <a href="#" class="nav-link nav-link-active" data-bind="styleable: variation.key + \'/components/navLink/active\'">\r\n                    Nav link (active)\r\n                </a>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n</nav>'},function(e,t,n){"use strict";n.r(t),t.default='<fieldset class="form" data-bind="scrollable: true">\r\n    <div class="form-group">\r\n        <label class="form-label">Root navigation item</label>\r\n        <a href="#" class="form-control" data-bind="balloon: { component: { name: \'navigation-item-selector\', params: { onSelect: $component.onNavigationItemChange } } }">\r\n            <i class="paperbits-icon paperbits-menu-34 pull-right"></i>\r\n            <span data-bind="text: navigationItemTitle"></span>\r\n        </a>\r\n    </div>\r\n\r\n    <div class="form-group">\r\n        <label for="showHeadings" class="form-label">\r\n            <input id="showHeadings" type="checkbox" name="showHeadings" data-bind="checked: showHeadings">\r\n            Show page headings\r\n        </label>\r\n    </div>\r\n\r\n    \x3c!-- ko if: showHeadings --\x3e\r\n\r\n    <div class="form-group">\r\n        <label for="minHeadingLevel" class="form-label">Min heading level</label>\r\n        <select id="minHeadingLevel" class="form-control" data-bind="options: headingLevelOptions, value: minHeadingLevel, optionsText: \'label\', optionsValue: \'value\'"></select>\r\n    </div>\r\n\r\n    <div class="form-group">\r\n        <label for="maxHeadingLevel" class="form-label">Max heading level</label>\r\n        <select id="maxHeadingLevel" class="form-control" data-bind="options: headingLevelOptions, value: maxHeadingLevel, optionsText: \'label\', optionsValue: \'value\'"></select>\r\n    </div>\r\n\r\n    \x3c!-- /ko --\x3e\r\n\r\n    <div class="form-group">\r\n        <label for="layout" class="form-label">\r\n            Layout\r\n        </label>\r\n        <select id="layout" class="form-control" data-bind="options: layoutOptions, value: layout, optionsText: \'label\', optionsValue: \'value\'">\r\n        </select>\r\n    </div>\r\n\r\n    <div class="form-group">\r\n        <label for="appearanceStyle" class="form-label">\r\n            Appearance\r\n            <button class="btn btn-info" type="button" data-bind="tooltip: \'Predefined appearance from style guide.\'"></button>\r\n        </label>\r\n        <select id="appearanceStyle" class="form-control" data-bind="options: appearanceStyles, value: appearanceStyle, optionsText: \'displayName\', optionsValue: \'key\'"></select>\r\n    </div>\r\n\r\n    <role-input params="{ selection: model.roles, onChange: onRoleSelect }"></role-input>\r\n</fieldset>'},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.MenuHandlers=void 0;const o=n(101);t.MenuHandlers=class{getWidgetOrder(){return i(this,void 0,void 0,(function*(){return{name:"menu",displayName:"Menu",iconClass:"paperbits-menu-34",requires:["js"],createModel:()=>i(this,void 0,void 0,(function*(){return new o.MenuModel}))}}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NavbarModule=void 0;const i=n(267),o=n(691),r=n(692);t.NavbarModule=class{register(e){e.bind("navbar",i.NavbarViewModel),e.bindToCollection("modelBinders",o.NavbarModelBinder,"navbarModelBinder"),e.bindToCollection("viewModelBinders",r.NavbarViewModelBinder)}}},function(e,t,n){"use strict";n.r(t),t.default='<nav class="navbar navbar-expand-lg w-100" data-bind="styled: styles">\r\n    <a class="navbar-brand" href="/" data-bind="if: $component.pictureSourceUrl">\r\n        <img data-bind="attr: { src: $component.pictureSourceUrl }, size: { width: pictureWidth, height: pictureHeight }">\r\n    </a>\r\n    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapse" aria-controls="collapse" aria-expanded="false" aria-label="Toggle navigation">\r\n        <span class="navbar-toggler-icon"></span>\r\n    </button>\r\n    \x3c!--ko if: navigationRoot--\x3e\r\n    <div id="collapse" class="collapse navbar-collapse" data-bind="with: navigationRoot">\r\n        <ul class="nav navbar-nav ml-auto" data-bind="foreach: nodes()">\r\n            \x3c!--ko if: nodes().length > 0 --\x3e\r\n            <li class="nav-item dropdown">\r\n                <a class="nav-link dropdown-toggle" data-toggle="dropdown" data-bind="attr: { href: url }">\r\n                    <span data-bind="text: label"></span>\r\n                    <span class="caret"></span>\r\n                </a>\r\n                \x3c!--ko template: { name: \'navigationItemTemplate\', data: $data }--\x3e\r\n                \x3c!--/ko--\x3e\r\n            </li>\r\n            \x3c!--/ko--\x3e\r\n            \x3c!--ko ifnot: nodes().length > 0 --\x3e\r\n            <li class="nav-item">\r\n                <a class="nav-link" data-bind="text: label, attr: { href: url }, css: { \'nav-link-active\': isActive }"></a>\r\n            </li>\r\n            \x3c!--/ko--\x3e\r\n        </ul>\r\n    </div>\r\n    \x3c!--/ko--\x3e\r\n    \x3c!--ko ifnot: navigationRoot --\x3e\r\n    <p class="not-configured">It seems that you don\'t have navigation items here.</p>\r\n    \x3c!--/ko--\x3e\r\n</nav>\r\n\r\n<script id="navigationItemTemplate" type="text/html">\r\n    <ul class="dropdown-menu" data-bind="foreach: nodes()">\r\n        \x3c!--ko if: nodes().length > 0 --\x3e\r\n        <li class="dropdown dropdown-submenu">\r\n            <a class="nav-link dropdown-toggle" data-toggle="dropdown" data-bind="attr: { href: url }">\r\n                <span data-bind="text: label"></span>\r\n                \x3c!--<span class="caret"></span>--\x3e\r\n            </a>\r\n            \x3c!--ko template: { name: \'navigationItemTemplate\', data: $data }--\x3e\r\n            \x3c!--/ko--\x3e\r\n        </li>\r\n        \x3c!--/ko--\x3e\r\n        \x3c!--ko ifnot: nodes().length > 0 --\x3e\r\n        <li>\r\n            <a class="nav-link" data-bind="text: label, attr: { href: url }"></a>\r\n        </li>\r\n        \x3c!--/ko--\x3e\r\n    </ul>\r\n<\/script>'},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.NavbarModelBinder=void 0;const o=n(37),r=n(268);t.NavbarModelBinder=class{constructor(e,t,n,i){this.mediaPermalinkResolver=e,this.navigationService=t,this.permalinkResolver=n,this.router=i}contractToModel(e,t){return i(this,void 0,void 0,(function*(){if(!e)throw new Error('Parameter "contract" not specified.');const n=new r.NavbarModel,i=yield this.navigationService.getNavigationItem(e.rootKey);if(i){const e=yield this.navigationItemToNavbarItemModel(i,null==t?void 0:t.locale);n.root=e}return n.rootKey=e.rootKey,n.pictureSourceKey=e.pictureSourceKey,e.pictureSourceKey&&(n.pictureSourceKey=e.pictureSourceKey,n.pictureSourceUrl=yield this.mediaPermalinkResolver.getUrlByTargetKey(e.pictureSourceKey),n.pictureWidth=e.pictureWidth,n.pictureHeight=e.pictureHeight,n.pictureSourceUrl||console.warn(`Unable to set navbar branding. Media with source key ${e.pictureSourceKey} not found.`)),n.styles=e.styles||{appearance:"components/navbar/default"},n}))}canHandleContract(e){return"navbar"===e.type}canHandleModel(e){return e instanceof r.NavbarModel}navigationItemToNavbarItemModel(e,t){return i(this,void 0,void 0,(function*(){if(!e)throw new Error('Parameter "contract" not specified.');const n=new o.NavigationItemModel;if(n.label=e.label,e.navigationItems){const i=[];e.navigationItems.forEach(e=>{i.push(this.navigationItemToNavbarItemModel(e,t))}),(yield Promise.all(i)).forEach(e=>{n.nodes.push(e)})}else if(e.targetKey){const i=yield this.permalinkResolver.getUrlByTargetKey(e.targetKey,t);n.targetUrl=i}else console.warn(`Navigation item "${n.label}" has no permalink assigned to it.`);return n.isActive=n.targetUrl===this.router.getPath(),n}))}modelToContract(e){return{type:"navbar",rootKey:e.rootKey,pictureSourceKey:e.pictureSourceKey,pictureWidth:e.pictureWidth,pictureHeight:e.pictureHeight,styles:e.styles}}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.NavbarViewModelBinder=void 0;const o=n(267),r=n(693),a=n(37),s=n(268);t.NavbarViewModelBinder=class{constructor(e,t,n){this.eventManager=e,this.navbarModelBinder=t,this.styleCompiler=n}navbarItemModelToNavbarItemViewModel(e){const t=e.label,n=new r.NavbarItemViewModel(t);return e.nodes.length>0?e.nodes.map(e=>this.navbarItemModelToNavbarItemViewModel(e)).forEach(e=>{n.nodes.push(e)}):(n.url(e.targetUrl),n.isActive(e.isActive)),n}modelToViewModel(e,t,n){return i(this,void 0,void 0,(function*(){let r;if(t||(t=new o.NavbarViewModel,r=n=>i(this,void 0,void 0,(function*(){n.key===e.rootKey&&t.navigationRoot(this.navbarItemModelToNavbarItemViewModel(n))}))),e.root){const n=this.navbarItemModelToNavbarItemViewModel(e.root);t.navigationRoot(n)}return t.pictureSourceUrl(e.pictureSourceUrl),t.pictureWidth(e.pictureWidth),t.pictureHeight(e.pictureHeight),e.styles&&t.styles(yield this.styleCompiler.getStyleModelAsync(e.styles,null==n?void 0:n.styleManager)),t.widgetBinding={displayName:"Navigation bar",readonly:!!n&&n.readonly,model:e,draggable:!0,applyChanges:()=>i(this,void 0,void 0,(function*(){yield this.modelToViewModel(e,t,n),this.eventManager.dispatchEvent("onContentUpdate")})),onCreate:()=>{this.eventManager.addEventListener(a.NavigationEvents.onNavigationItemUpdate,r)},onDispose:()=>{this.eventManager.removeEventListener(a.NavigationEvents.onNavigationItemUpdate,r)}},t}))}canHandleModel(e){return e instanceof s.NavbarModel}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NavbarItemViewModel=void 0;const i=n(0);t.NavbarItemViewModel=class{constructor(e,t){this.label=i.observable(e),this.url=i.observable(t),this.isActive=i.observable(),this.nodes=i.observableArray()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PictureModule=void 0;const i=n(695),o=n(696),r=n(269);t.PictureModule=class{register(e){e.bind("picture",r.PictureViewModel),e.bindToCollection("modelBinders",i.PictureModelBinder),e.bindToCollection("viewModelBinders",o.PictureViewModelBinder)}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.PictureModelBinder=void 0;const o=n(102);t.PictureModelBinder=class{constructor(e){this.permalinkResolver=e}canHandleContract(e){return"picture"===e.type}canHandleModel(e){return e instanceof o.PictureModel}contractToModel(e,t){return i(this,void 0,void 0,(function*(){const n=new o.PictureModel;if(n.caption=e.caption,n.width=e.width,n.height=e.height,n.styles=e.styles||{appearance:"components/picture/default"},n.sourceKey=e.sourceKey,e.hyperlink)try{n.hyperlink=yield this.permalinkResolver.getHyperlinkByTargetKey(e.hyperlink.targetKey,null==t?void 0:t.locale)}catch(i){console.log(i)}return n}))}modelToContract(e){const t={type:"picture",caption:e.caption,width:e.width,height:e.height,styles:e.styles};return e.sourceKey&&(t.sourceKey=e.sourceKey),e.hyperlink&&(t.hyperlink={target:e.hyperlink.target,targetKey:e.hyperlink.targetKey}),t}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.PictureViewModelBinder=void 0;const o=n(269),r=n(102);t.PictureViewModelBinder=class{constructor(e,t,n){this.eventManager=e,this.styleCompiler=t,this.mediaPermalinkResolver=n}modelToViewModel(e,t,n){return i(this,void 0,void 0,(function*(){t||(t=new o.PictureViewModel);let r=null;e.sourceKey&&(r=yield this.mediaPermalinkResolver.getUrlByTargetKey(e.sourceKey),r||console.warn(`Unable to set picture. Media with source key ${e.sourceKey} not found.`)),t.sourceUrl(r),t.caption(e.caption),t.hyperlink(e.hyperlink),t.width(e.width),t.height(e.height),e.styles&&t.styles(yield this.styleCompiler.getStyleModelAsync(e.styles,null==n?void 0:n.styleManager));const a={name:"picture",displayName:"Picture",readonly:!!n&&n.readonly,model:e,draggable:!0,editor:"picture-editor",applyChanges:o=>i(this,void 0,void 0,(function*(){yield this.modelToViewModel(e,t,n),this.eventManager.dispatchEvent("onContentUpdate")}))};return t.widgetBinding=a,t}))}canHandleModel(e){return e instanceof r.PictureModel}}},function(e,t,n){"use strict";n.r(t),t.default='<div class="inline-block">\r\n    \x3c!-- ko if: hyperlink --\x3e\r\n    <a data-bind="hyperlink: hyperlink">\r\n        \x3c!-- ko if: sourceUrl --\x3e\r\n        <img class="content" data-bind="styled: styles, attr: { src: sourceUrl, alt: caption }, size: { width: width, height: height }">\r\n        \x3c!-- /ko--\x3e\r\n\r\n        \x3c!-- ko ifnot: sourceUrl --\x3e\r\n        <div class="empty-picture" data-bind="styled: styles, size: { width: width, height: height }">\r\n            <svg viewBox="0 0 24 24" width="80px" height="80px">\r\n                <g fill="#020202">\r\n                    <path d="M23,2H1A1,1,0,0,0,0,3V21a1,1,0,0,0,1,1H23a1,1,0,0,0,1-1V3A1,1,0,0,0,23,2ZM22,4V14.3L17.759,9.35A1,1,0,0,0,17.005,9a.879.879,0,0,0-.757.342l-6.3,7.195L6.707,13.293A.988.988,0,0,0,5.955,13a1,1,0,0,0-.723.358L2,17.238V4Z" fill="#020202"/>\r\n                    <circle data-color="color-2" cx="9" cy="8" r="2"/>\r\n                </g>\r\n            </svg>\r\n        </div>\r\n        \x3c!-- /ko--\x3e\r\n    </a>\r\n    \x3c!-- /ko --\x3e\r\n    \x3c!-- ko ifnot: hyperlink --\x3e\r\n    \x3c!-- ko if: sourceUrl --\x3e\r\n    <img class="content" data-bind="styled: styles, attr: { src: sourceUrl, alt: caption }, size: { width: width, height: height }">\r\n    \x3c!-- /ko--\x3e\r\n\r\n    \x3c!-- ko ifnot: sourceUrl --\x3e\r\n    <div class="empty-media" data-bind="styled: styles, size: { width: width, height: height }">\r\n        <svg viewBox="0 0 24 24" width="80" height="80">\r\n            <g fill="#ccc">\r\n                <path d="M23,2H1A1,1,0,0,0,0,3V21a1,1,0,0,0,1,1H23a1,1,0,0,0,1-1V3A1,1,0,0,0,23,2ZM22,4V14.3L17.759,9.35A1,1,0,0,0,17.005,9a.879.879,0,0,0-.757.342l-6.3,7.195L6.707,13.293A.988.988,0,0,0,5.955,13a1,1,0,0,0-.723.358L2,17.238V4Z"/>\r\n                <circle cx="9" cy="8" r="2"/>\r\n            </g>\r\n        </svg>\r\n    </div>\r\n    \x3c!-- /ko--\x3e\r\n    \x3c!-- /ko --\x3e\r\n</div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RowModule=void 0;const i=n(270),o=n(700),r=n(701);t.RowModule=class{register(e){e.bind("row",i.RowViewModel),e.bindToCollection("modelBinders",o.RowModelBinder),e.bindToCollection("viewModelBinders",r.RowViewModelBinder)}}},function(e,t,n){"use strict";n.r(t),t.default='<div class="row" data-bind="css: css">\r\n    \x3c!-- ko foreach: { data: widgets, as: \'widget\'  } --\x3e\r\n    \x3c!-- ko widget: widget --\x3e\r\n    \x3c!-- /ko --\x3e\r\n    \x3c!-- /ko --\x3e\r\n</div>\r\n\r\n'},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.RowModelBinder=void 0;const o=n(149);t.RowModelBinder=class{constructor(e){this.modelBinderSelector=e,this.contractToModel=this.contractToModel.bind(this)}canHandleContract(e){return"layout-row"===e.type}canHandleModel(e){return e instanceof o.RowModel}contractToModel(e,t){return i(this,void 0,void 0,(function*(){const n=new o.RowModel;e.align&&(e.align.sm&&(n.alignSm=e.align.sm),e.align.md&&(n.alignMd=e.align.md),e.align.lg&&(n.alignLg=e.align.lg)),e.justify&&(e.justify.sm&&(n.justifySm=e.justify.sm),e.justify.md&&(n.justifyMd=e.justify.md),e.justify.lg&&(n.justifyLg=e.justify.lg)),e.nodes||(e.nodes=[]);const r=e.nodes.map(e=>i(this,void 0,void 0,(function*(){const n=this.modelBinderSelector.getModelBinderByContract(e);return yield n.contractToModel(e,t)})));return n.widgets=yield Promise.all(r),n}))}modelToContract(e){const t={type:"layout-row",nodes:[],align:{}};return t.align.sm=e.alignSm,t.align.md=e.alignMd,t.align.lg=e.alignLg,t.justify={},t.justify.sm=e.justifySm,t.justify.md=e.justifyMd,t.justify.lg=e.justifyLg,e.widgets.forEach(e=>{const n=this.modelBinderSelector.getModelBinderByModel(e);t.nodes.push(n.modelToContract(e))}),t}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.RowViewModelBinder=void 0;const o=n(270),r=n(149),a=n(38),s=n(271);t.RowViewModelBinder=class{constructor(e,t){this.viewModelBinderSelector=e,this.eventManager=t}modelToViewModel(e,t,n){return i(this,void 0,void 0,(function*(){t||(t=new o.RowViewModel);const r=[];for(const t of e.widgets){const e=this.viewModelBinderSelector.getViewModelBinderByModel(t),i=yield e.modelToViewModel(t,null,n);r.push(i)}0===r.length&&r.push(new a.PlaceholderViewModel("Row")),t.widgets(r),t.alignSm(e.alignSm),t.alignMd(e.alignMd),t.alignLg(e.alignLg),t.justifySm(e.justifySm),t.justifyMd(e.justifyMd),t.justifyLg(e.justifyLg);const l={name:"row",displayName:"Row",readonly:!!n&&n.readonly,model:e,draggable:!1,handler:s.RowHandlers,applyChanges:()=>i(this,void 0,void 0,(function*(){yield this.modelToViewModel(e,t,n),this.eventManager.dispatchEvent("onContentUpdate")}))};return t.widgetBinding=l,t}))}canHandleModel(e){return e instanceof r.RowModel}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SectionModule=void 0;const i=n(272),o=n(235),r=n(704);t.SectionModule=class{register(e){e.bind("section",i.SectionViewModel),e.bindToCollection("modelBinders",o.SectionModelBinder,"sectionModelBinder"),e.bindToCollection("viewModelBinders",r.SectionViewModelBinder)}}},function(e,t,n){"use strict";n.r(t),t.default="<section data-bind=\"styled: styles\">\r\n    \x3c!-- ko foreach: { data: widgets, as: 'widget' } --\x3e\r\n    \x3c!-- ko widget: widget --\x3e\r\n    \x3c!-- /ko --\x3e\r\n    \x3c!-- /ko --\x3e\r\n</section>"},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SectionViewModelBinder=void 0;const o=n(272),r=n(86),a=n(38),s=n(144);t.SectionViewModelBinder=class{constructor(e,t,n){this.viewModelBinderSelector=e,this.eventManager=t,this.styleCompiler=n}modelToViewModel(e,t,n){return i(this,void 0,void 0,(function*(){t||(t=new o.SectionViewModel);const r=[];for(const t of e.widgets){const e=this.viewModelBinderSelector.getViewModelBinderByModel(t),i=yield e.modelToViewModel(t,null,n);r.push(i)}0===r.length&&r.push(new a.PlaceholderViewModel("Section")),t.widgets(r),e.styles&&t.styles(yield this.styleCompiler.getStyleModelAsync(e.styles,null==n?void 0:n.styleManager));const l={name:"section",displayName:"Section",readonly:!!n&&n.readonly,model:e,draggable:!0,flow:"block",editor:"layout-section-editor",handler:s.SectionHandlers,applyChanges:o=>i(this,void 0,void 0,(function*(){yield this.modelToViewModel(e,t,n),this.eventManager.dispatchEvent("onContentUpdate")}))};return t.widgetBinding=l,t}))}canHandleModel(e){return e instanceof r.SectionModel}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TestimonialsModule=void 0;const i=n(273),o=n(708);t.TestimonialsModule=class{register(e){e.bindToCollection("modelBinders",i.TestimonialsModelBinder),e.bindToCollection("viewModelBinders",o.TestimonialsViewModelBinder)}}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(707),t),o(n(274),t),o(n(103),t),o(n(273),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.TestimonialsViewModelBinder=void 0;const o=n(709),r=n(103);t.TestimonialsViewModelBinder=class{constructor(e){this.eventManager=e}modelToViewModel(e,t,n){return i(this,void 0,void 0,(function*(){return t||(t=new o.TestimonialsViewModel),t.textContent(e.textContent),t.allStarsCount(e.allStarsCount),t.starsCount(e.starsCount),t.author(e.author),t.authorTitle(e.authorTitle),t.widgetBinding={displayName:"Testimonials",readonly:!!n&&n.readonly,model:e,draggable:!0,editor:"testimonials-editor",applyChanges:()=>i(this,void 0,void 0,(function*(){yield this.modelToViewModel(e,t,n),this.eventManager.dispatchEvent("onContentUpdate")}))},t}))}canHandleModel(e){return e instanceof r.TestimonialsModel}}},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.TestimonialsViewModel=void 0;const r=n(0),a=n(710),s=n(2);let l=class{constructor(){this.textContent=r.observable(),this.allStarsCount=r.observable(),this.starsCount=r.observable(),this.author=r.observable(),this.authorTitle=r.observable()}};l=i([s.Component({selector:"testimonials",template:a.default}),o("design:paramtypes",[])],l),t.TestimonialsViewModel=l},function(e,t,n){"use strict";n.r(t),t.default='<div class="testimonials">\r\n    <blockquote>\r\n        <span data-bind="text: textContent"></span>\r\n    </blockquote>\r\n    \x3c!-- ko foreach: { data: [...Array(allStarsCount()).keys()] } --\x3e\r\n    \x3c!-- ko if: $index() <= $parent.starsCount()-1 --\x3e\r\n    <svg height="20" width="20">\r\n        <polygon points="10,1 4,19 19,8 1,8 16,19" fill="#ffdc12"/>\r\n    </svg>\r\n    \x3c!-- /ko --\x3e\r\n\r\n    \x3c!-- ko if: $index() > $parent.starsCount()-1 --\x3e\r\n    <svg height="20" width="20">\r\n        <polygon points="10,1 4,19 19,8 1,8 16,19" fill="#B6B6B4"/>\r\n    </svg>\r\n    \x3c!-- /ko --\x3e\r\n\r\n    \x3c!-- /ko --\x3e\r\n    <div class="name">\r\n        <b><span data-bind="text: author"></span></b>\r\n        <p><span data-bind="text: authorTitle"></span></p>\r\n    </div>\r\n</div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextblockModule=void 0;const i=n(275),o=n(276),r=n(277),a=n(278),s=n(713),l=n(719),c=n(720);t.TextblockModule=class{register(e){e.bind("textblock",o.TextblockViewModel),e.bindToCollection("modelBinders",s.InlineModelBinder),e.bindToCollection("modelBinders",l.BlockModelBinder),e.bindToCollection("modelBinders",c.ListModelBinder),e.bindToCollection("modelBinders",r.TextblockModelBinder),e.bindToCollection("viewModelBinders",i.TextblockViewModelBinder),e.bindToCollection("autostart",a.HtmlEditorBindingHandler)}}},function(e,t,n){"use strict";n.r(t),t.default='<div class="block ProseMirror" data-bind="htmlEditor: { htmlEditor: htmlEditor, state: state, readonly: readonly }"></div>'},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.InlineModelBinder=void 0;const o=n(714);t.InlineModelBinder=class{constructor(e,t){this.styleCompiler=e,this.permalinkResolver=t}canHandleContract(e){return"text"===e.type}canHandleModel(e){return"text"===e.type}contractToModel(e,t){return i(this,void 0,void 0,(function*(){const n=new o.InlineModel;if(n.text=e.text,e.marks&&e.marks.length>0){const r=e.marks.map(e=>i(this,void 0,void 0,(function*(){var n,i;const r=new o.MarkModel(e.type);switch(e.type){case"hyperlink":const o=e.target,a=null===(n=e.attrs)||void 0===n?void 0:n.targetKey,s=e.anchor,l=null===(i=e.attrs)||void 0===i?void 0:i.anchorName,c=(null==a?void 0:a.startsWith("uploads/"))?"":void 0,u=a?yield this.permalinkResolver.getUrlByTargetKey(a,null==t?void 0:t.locale):null;r.attrs={href:u||"#",target:o,targetKey:a,anchor:s,anchorName:l,download:c};break;case"color":const d=e.attrs;if(null==d?void 0:d.colorKey){const e=this.styleCompiler.getClassNameByColorKey(d.colorKey);r.attrs={colorKey:d.colorKey,colorClass:e}}}return r})));n.marks=yield Promise.all(r)}return n}))}modelToContract(e){const t={type:"text",text:e.text};return e.marks&&e.marks.length>0&&(t.marks=e.marks.map(e=>{const t={type:e.type};if("hyperlink"===e.type){const n=e.attrs;t.attrs={anchor:n.anchor,anchorName:n.anchorName,target:n.target,targetKey:n.targetKey}}else if("color"===e.type){const n=e.attrs;n&&n.colorKey&&(t.attrs={colorKey:n.colorKey})}return t})),t}}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(104),t),o(n(715),t),o(n(716),t),o(n(279),t),o(n(717),t),o(n(718),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InlineModel=void 0,t.InlineModel=class{constructor(){this.type="text"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MarkModel=void 0,t.MarkModel=class{constructor(e){this.type=e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ListItemModel=void 0;const i=n(104);class o extends i.BlockModel{constructor(){super(...arguments),this.type="list-item"}}t.ListItemModel=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorModel=void 0,t.ColorModel=class{}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BlockModelBinder=void 0;const o=n(6),r=n(104);t.BlockModelBinder=class{constructor(e,t){this.modelBinderSelector=e,this.styleCompiler=t,this.blockTypes=["paragraph","list-item","break","formatted","quote","heading1","heading2","heading3","heading4","heading5","heading6"]}isHeading(e){return/^heading\d$/gm.test(e)}canHandleContract(e){return this.blockTypes.includes(e.type)}canHandleModel(e){return this.blockTypes.includes(e.type)}contractToModel(e,t){var n,a,s;return i(this,void 0,void 0,(function*(){const l=new r.BlockModel(e.type);let c=e.identifier||(null===(n=e.attrs)||void 0===n?void 0:n.id)||(null===(a=e.attrs)||void 0===a?void 0:a.key);const u=e.styles||(null===(s=e.attrs)||void 0===s?void 0:s.styles);let d;if(u&&(d=yield this.styleCompiler.getClassNamesForLocalStylesAsync(u)),!c&&this.isHeading(e.type)&&(c=o.identifier()),l.attrs={id:c,styles:u,className:d},e.nodes&&e.nodes.length>0){const n=e.nodes.map(e=>i(this,void 0,void 0,(function*(){const n=this.modelBinderSelector.getModelBinderByContract(e);return yield n.contractToModel(e,t)})));l.nodes=yield Promise.all(n)}return l}))}modelToContract(e){var t,n;const i={type:e.type,styles:null===(t=e.attrs)||void 0===t?void 0:t.styles,identifier:null===(n=e.attrs)||void 0===n?void 0:n.id};return!i.identifier&&this.isHeading(i.type)&&(i.identifier=o.identifier()),e.nodes&&e.nodes.length>0&&(i.nodes=[],e.nodes.forEach(e=>{const t=this.modelBinderSelector.getModelBinderByModel(e);i.nodes.push(t.modelToContract(e))})),i}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ListModelBinder=void 0;const o=n(279);t.ListModelBinder=class{constructor(e,t){this.modelBinderSelector=e,this.styleCompiler=t,this.listTypes=["ordered-list","bulleted-list"]}canHandleContract(e){return this.listTypes.includes(e.type)}canHandleModel(e){return this.listTypes.includes(e.type)}contractToModel(e,t){var n;return i(this,void 0,void 0,(function*(){const r=new o.ListModel(e.type),a=e.styles||(null===(n=e.attrs)||void 0===n?void 0:n.styles);let s;if(a&&(s=yield this.styleCompiler.getClassNamesForLocalStylesAsync(a)),r.attrs={styles:a,className:s},e.nodes&&e.nodes.length>0){const n=e.nodes.map(e=>i(this,void 0,void 0,(function*(){const n=this.modelBinderSelector.getModelBinderByContract(e);return yield n.contractToModel(e,t)})));r.nodes=yield Promise.all(n)}return r}))}modelToContract(e){var t;const n={nodes:[],type:e.type,styles:null===(t=e.attrs)||void 0===t?void 0:t.styles};return e.nodes&&e.nodes.length>0&&e.nodes.forEach(e=>{const t=this.modelBinderSelector.getModelBinderByModel(e);n.nodes.push(t.modelToContract(e))}),n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VideoPlayerModule=void 0;const i=n(280),o=n(723),r=n(724);t.VideoPlayerModule=class{register(e){e.bind("videoPlayer",i.VideoPlayer),e.bindToCollection("modelBinders",o.VideoPlayerModelBinder),e.bindToCollection("viewModelBinders",r.VideoPlayerViewModelBinder)}}},function(e,t,n){"use strict";n.r(t),t.default='<div class="inline-block">\r\n    \x3c!-- ko if: sourceUrl --\x3e\r\n    <video data-bind="styled: styles, attr: { controls: controls, autoplay: autoplay }">\r\n        <source data-bind="attr: { src: sourceUrl }">\r\n    </video>\r\n    \x3c!-- /ko --\x3e\r\n    \x3c!-- ko ifnot: sourceUrl --\x3e\r\n    <div class="empty-media" data-bind="styled: styles">\r\n        <svg version="1.1" viewBox="0 0 24 24" width="80px" height="80px">\r\n            <path fill="#ccc" d="M12,0C5.383,0,0,5.383,0,12s5.383,12,12,12s12-5.383,12-12S18.617,0,12,0z M9,17V7l8,5L9,17z"/>\r\n        </svg>\r\n    </div>\r\n    \x3c!-- /ko --\x3e\r\n</div>'},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.VideoPlayerModelBinder=void 0;const o=n(105);t.VideoPlayerModelBinder=class{canHandleContract(e){return"video-player"===e.type}canHandleModel(e){return e instanceof o.VideoPlayerModel}contractToModel(e){return i(this,void 0,void 0,(function*(){const t=new o.VideoPlayerModel;return t.controls=e.controls,t.autoplay=e.autoplay,t.styles=e.styles||{appearance:"components/videoPlayer/default"},t.sourceKey=e.sourceKey,t}))}modelToContract(e){return{type:"video-player",sourceKey:e.sourceKey,controls:e.controls,autoplay:e.autoplay,styles:e.styles}}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.VideoPlayerViewModelBinder=void 0;const o=n(280),r=n(105);t.VideoPlayerViewModelBinder=class{constructor(e,t,n){this.eventManager=e,this.styleCompiler=t,this.mediaPermalinkResolver=n}modelToViewModel(e,t,n){return i(this,void 0,void 0,(function*(){t||(t=new o.VideoPlayer);let r=null;return e.sourceKey&&(r=yield this.mediaPermalinkResolver.getUrlByTargetKey(e.sourceKey),r||console.warn(`Unable to set video. Media with source key ${e.sourceKey} not found.`)),t.sourceUrl(r),t.controls(e.controls),t.autoplay(e.autoplay),e.styles&&t.styles(yield this.styleCompiler.getStyleModelAsync(e.styles,null==n?void 0:n.styleManager)),t.widgetBinding={displayName:"Video player",readonly:!!n&&n.readonly,model:e,draggable:!0,editor:"video-player-editor",applyChanges:o=>i(this,void 0,void 0,(function*(){yield this.modelToViewModel(e,t,n),this.eventManager.dispatchEvent("onContentUpdate")}))},t}))}canHandleModel(e){return e instanceof r.VideoPlayerModel}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.YoutubePlayerPublishModule=void 0;const i=n(726),o=n(281),r=n(728);t.YoutubePlayerPublishModule=class{register(e){e.bind("youtubePlayer",o.YoutubePlayerViewModel),e.bindToCollection("modelBinders",i.YoutubeModelBinder),e.bindToCollection("viewModelBinders",r.YoutubePlayerViewModelBinder)}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.YoutubeModelBinder=void 0;const o=n(106);t.YoutubeModelBinder=class{constructor(){this.contractToModel=this.contractToModel.bind(this)}canHandleContract(e){return"youtube-player"===e.type}canHandleModel(e){return e instanceof o.YoutubePlayerModel}contractToModel(e){return i(this,void 0,void 0,(function*(){const t=new o.YoutubePlayerModel;return t.videoId=e.videoId||e.videoKey,t.controls=e.controls,t.autoplay=e.autoplay,t.loop=e.loop,t.styles=e.styles||{appearance:"components/youtubePlayer/default"},t}))}modelToContract(e){return{type:"youtube-player",videoId:e.videoId,controls:e.controls,autoplay:e.autoplay,loop:e.loop,styles:e.styles}}}},function(e,t,n){"use strict";n.r(t),t.default='<div class="inline-block">\r\n    \x3c!-- ko if: sourceUrl --\x3e\r\n    <iframe data-bind="attr: { src: sourceUrl }, styled: styles" frameborder="0" allowfullscreen></iframe>\r\n    \x3c!--/ko--\x3e\r\n\r\n    \x3c!-- ko ifnot: sourceUrl --\x3e\r\n    <div class="empty-media" data-bind="styled: styles">\r\n        <svg viewBox="0 0 24 24" xml:space="preserve" width="80" height="80">\r\n            <path fill="#ccc" d="M23.8,7.2c0,0-0.2-1.7-1-2.4c-0.9-1-1.9-1-2.4-1C17,3.6,12,3.6,12,3.6h0c0,0-5,0-8.4,0.2 c-0.5,0.1-1.5,0.1-2.4,1c-0.7,0.7-1,2.4-1,2.4S0,9.1,0,11.1v1.8c0,1.9,0.2,3.9,0.2,3.9s0.2,1.7,1,2.4c0.9,1,2.1,0.9,2.6,1 c1.9,0.2,8.2,0.2,8.2,0.2s5,0,8.4-0.3c0.5-0.1,1.5-0.1,2.4-1c0.7-0.7,1-2.4,1-2.4s0.2-1.9,0.2-3.9v-1.8C24,9.1,23.8,7.2,23.8,7.2z M9.5,15.1l0-6.7l6.5,3.4L9.5,15.1z"/>\r\n        </svg>\r\n    </div>\r\n    \x3c!--/ko--\x3e\r\n</div>'},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.YoutubePlayerViewModelBinder=void 0;const o=n(281),r=n(106);t.YoutubePlayerViewModelBinder=class{constructor(e,t){this.eventManager=e,this.styleCompiler=t}modelToViewModel(e,t,n){return i(this,void 0,void 0,(function*(){t||(t=new o.YoutubePlayerViewModel);const r=e.videoId,a=e.autoplay?"1":"0",s=e.controls?"1":"0",l=e.loop?"1":"0",c=r?`https://www.youtube.com/embed/${r}?autoplay=${a}&controls=${s}&loop=${l}`:null;if(t.sourceUrl(c),e.styles){const i=yield this.styleCompiler.getStyleModelAsync(e.styles,null==n?void 0:n.styleManager);t.styles(i)}const u={name:"youtube-player",displayName:"Youtube player",readonly:!!n&&n.readonly,model:e,draggable:!0,editor:"youtube-player-editor",applyChanges:()=>i(this,void 0,void 0,(function*(){yield this.modelToViewModel(e,t,n),this.eventManager.dispatchEvent("onContentUpdate")}))};return t.widgetBinding=u,t}))}canHandleModel(e){return e instanceof r.YoutubePlayerModel}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VideoPlayerDesignModule=void 0;const i=n(730),o=n(731),r=n(733);t.VideoPlayerDesignModule=class{register(e){e.bind("videoPlayerEditor",o.VideoPlayerEditor);const t={key:"videoPlayer",name:"components_videoPlayer",groupName:"Video Player",selectorTemplate:void 0,styleTemplate:i.default};e.bindInstanceToCollection("styleGroups",t),e.bindToCollection("widgetHandlers",r.VideoPlayerHandlers,"videoHandler"),e.bindToCollection("dropHandlers",r.VideoPlayerHandlers,"videoHandler")}}},function(e,t,n){"use strict";n.r(t),t.default='<div class="empty-media" data-bind="stylePreview: variation">\r\n    <svg version="1.1" viewBox="0 0 24 24" width="80px" height="80px">\r\n        <path fill="#ccc" d="M12,0C5.383,0,0,5.383,0,12s5.383,12,12,12s12-5.383,12-12S18.617,0,12,0z M9,17V7l8,5L9,17z"/>\r\n    </svg>\r\n</div>'},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.VideoPlayerEditor=void 0;const a=n(0),s=n(30),l=n(732),c=n(2),u=n(105),d=n(20),p=n(17),h=n(47),f=n(46);let m=class{constructor(e,t,n,i){this.viewManager=e,this.eventManager=t,this.styleService=n,this.mediaPermalinkResolver=i,this.sourceUrl=a.observable(),this.controls=a.observable(!0),this.autoplay=a.observable(!1),this.appearanceStyles=a.observableArray(),this.appearanceStyle=a.observable(),this.sizeConfig=a.observable(),this.mimeType="video/mp4"}initialize(){return r(this,void 0,void 0,(function*(){let e;this.model.sourceKey&&(e=yield this.mediaPermalinkResolver.getUrlByTargetKey(this.model.sourceKey)),this.sourceUrl(e);const t=yield this.styleService.getComponentVariations("videoPlayer");this.appearanceStyles(t.filter(e=>"appearance"===e.category)),this.updateObservables(),this.eventManager.addEventListener(f.CommonEvents.onViewportChange,this.updateObservables),this.controls.extend(p.ChangeRateLimit).subscribe(this.applyChanges),this.autoplay.extend(p.ChangeRateLimit).subscribe(this.applyChanges),this.appearanceStyle.extend(p.ChangeRateLimit).subscribe(this.onAppearanceChange)}))}updateObservables(){var e,t;const n=this.viewManager.getViewport();this.controls(this.model.controls),this.autoplay(this.model.autoplay);const i=h.StyleHelper.getPluginConfigForLocalStyles(this.model.styles,"size",n);this.sizeConfig(i),this.appearanceStyle(null===(t=null===(e=this.model)||void 0===e?void 0:e.styles)||void 0===t?void 0:t.appearance)}onMediaSelected(e){e?(this.model.sourceKey=e.key,this.sourceUrl(e.downloadUrl)):(this.model.sourceKey=void 0,this.sourceUrl(null)),this.onChange(this.model)}onSizeChange(e){const t=this.viewManager.getViewport();h.StyleHelper.setPluginConfigForLocalStyles(this.model.styles,"size",e,t),this.onChange(this.model)}onAppearanceChange(e){s.setValue("styles/appearance",this.model,e),this.onChange(this.model)}applyChanges(){this.model.controls=this.controls(),this.model.autoplay=this.autoplay(),this.onChange(this.model)}};i([c.Param(),o("design:type",u.VideoPlayerModel)],m.prototype,"model",void 0),i([c.Event(),o("design:type",Function)],m.prototype,"onChange",void 0),i([c.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],m.prototype,"initialize",null),m=i([c.Component({selector:"video-player-editor",template:l.default}),o("design:paramtypes",[Object,Object,d.StyleService,Object])],m),t.VideoPlayerEditor=m},function(e,t,n){"use strict";n.r(t),t.default='<fieldset class="form" data-bind="scrollable: true">\r\n    <div class="form-group form-group-collapsible">\r\n        <label class="form-label">\r\n            <a href="#" class="form-group-toggle" title="Toggle section" data-bind="collapse: \'#sourceCollapse\'"></a>\r\n            <b>Source</b>\r\n        </label>\r\n        <div id="sourceCollapse" class="collapse form-group-collapse">\r\n            <div class="dropzone">\r\n                <a href="#" class="dropzone-showbox" data-bind="balloon: { component: { name: \'media-selector\', params: { onSelect: $component.onMediaSelected, mimeType: $component.mimeType } }, position: \'right\' }">\r\n                    \x3c!-- ko if: sourceUrl --\x3e\r\n                    <video class="fit" controls>\r\n                        <source data-bind="attr: { src: sourceUrl }">\r\n                    </video>\r\n                    \x3c!-- /ko --\x3e\r\n                </a>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="form-group form-group-collapsible">\r\n        <label class="form-label">\r\n            <a href="#" class="form-group-toggle" title="Toggle section" data-bind="collapse: \'#miscellaneousCollapse\'"></a>\r\n            <b>Miscellaneous</b>\r\n        </label>\r\n        <div id="miscellaneousCollapse" class="collapse form-group-collapse">\r\n            <div class="form-group">\r\n                <label for="appearanceStyle" class="form-label">\r\n                    Appearance\r\n                    <button class="btn btn-info" type="button" data-bind="tooltip: \'Predefined appearance from style guide.\'"></button>\r\n                </label>\r\n                <select id="appearanceStyle" class="form-control" data-bind="options: appearanceStyles, value: appearanceStyle, optionsText: \'displayName\', optionsValue: \'key\'"></select>\r\n            </div>\r\n            <label for="controls" class="form-label">\r\n                <input type="checkbox" id="controls" data-bind="checked: controls">Controls\r\n            </label>\r\n            <label for="autoplay" class="form-label">\r\n                <input type="checkbox" id="autoplay" data-bind="checked: autoplay">Autoplay\r\n            </label>\r\n        </div>\r\n    </div>\r\n    <size-editor params="{ features: \'height,width\', sizeConfig: sizeConfig, onUpdate: onSizeChange }"></size-editor>\r\n</fieldset>'},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.VideoPlayerHandlers=void 0;const o=n(135),r=n(105);class a{constructor(e){this.mediaService=e}matches(e){return!(e&&![".webm",".mp4",".m4v",".ogg",".ogv",".ogx",".ogm"].some(t=>e.endsWith(t)))}getWidgetOrderFromSourceUrlOrFile(e){return i(this,void 0,void 0,(function*(){let t;return t=e?e instanceof File||"File"===e.constructor.name?yield o.getVideoThumbnailAsDataUrl(e):e:null,{name:"video-player",displayName:"Video player",category:"Media",iconClass:"paperbits-action-74",requires:["html","js"],createModel:()=>i(this,void 0,void 0,(function*(){return new r.VideoPlayerModel}))}}))}getWidgetOrderByConfig(e){return i(this,void 0,void 0,(function*(){return yield this.getWidgetOrderFromSourceUrlOrFile(e)}))}getWidgetOrderByUrl(e){return i(this,void 0,void 0,(function*(){return yield this.getWidgetOrderByConfig(e)}))}getContentDescriptorFromMedia(e){return this.matches(e.fileName)?{title:"Video recording",iconUrl:a.DefaultThumbnailUri,description:e.description,getWidgetOrder:()=>i(this,void 0,void 0,(function*(){const t=yield this.mediaService.getMediaByKey(e.key);return yield this.getWidgetOrderFromSourceUrlOrFile(t.permalink)}))}:null}getContentDescriptorFromDataTransfer(e){if(!this.matches(e.name))return null;const t=e.source,n=()=>i(this,void 0,void 0,(function*(){return e.source instanceof File||"File"===e.source.constructor.name?yield o.getVideoThumbnailAsDataUrl(t):e.source}));return{title:"Video recording",description:e.name,getWidgetOrder:()=>i(this,void 0,void 0,(function*(){return yield this.getWidgetOrderByUrl(t)})),iconUrl:a.DefaultThumbnailUri,getPreviewUrl:n,getThumbnailUrl:n,uploadables:[t]}}getWidgetOrder(){return i(this,void 0,void 0,(function*(){return yield this.getWidgetOrderByConfig(null)}))}}t.VideoPlayerHandlers=a,a.DefaultThumbnailUri="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjQ4cHgiIGhlaWdodD0iNDhweCIgdmlld0JveD0iMCAwIDQ4IDQ4Ij48ZyAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC41LCAwLjUpIj4KPHJlY3QgeD0iMiIgeT0iNCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNDQ0NDQ0IiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgd2lkdGg9IjQ0IiBoZWlnaHQ9IjQwIiBzdHJva2UtbGluZWpvaW49Im1pdGVyIi8+Cjxwb2x5Z29uIGRhdGEtY29sb3I9ImNvbG9yLTIiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzQ0NDQ0NCIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50cz0iJiMxMDsmIzk7MTcsMTQgMzMsMjQgMTcsMzQgIiBzdHJva2UtbGluZWpvaW49Im1pdGVyIi8+CjwvZz48L3N2Zz4="},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PictureDesignModule=void 0;const i=n(735),o=n(736),r=n(738);t.PictureDesignModule=class{register(e){e.bind("pictureEditor",o.PictureEditor);const t={key:"picture",name:"components_picture",groupName:"Pictures",selectorTemplate:'<img src="https://cdn.paperbits.io/images/placeholder-340x190.jpg" alt="Picture" data-bind="css: classNames" width="280px" height="190px" /><div data-bind="text: displayName"></div>',styleTemplate:i.default};e.bindInstanceToCollection("styleGroups",t),e.bindToCollection("widgetHandlers",r.PictureHandlers,"pictureWidgetHandler"),e.bindToCollection("dropHandlers",r.PictureHandlers,"pictureDropHandler")}}},function(e,t,n){"use strict";n.r(t),t.default='<div class="empty-media" data-bind="stylePreview: variation">\r\n    <svg viewBox="0 0 24 24" width="80" height="80">\r\n        <g fill="#ccc">\r\n            <path d="M23,2H1A1,1,0,0,0,0,3V21a1,1,0,0,0,1,1H23a1,1,0,0,0,1-1V3A1,1,0,0,0,23,2ZM22,4V14.3L17.759,9.35A1,1,0,0,0,17.005,9a.879.879,0,0,0-.757.342l-6.3,7.195L6.707,13.293A.988.988,0,0,0,5.955,13a1,1,0,0,0-.723.358L2,17.238V4Z"/>\r\n            <circle cx="9" cy="8" r="2"/>\r\n        </g>\r\n    </svg>\r\n</div>'},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.PictureEditor=void 0;const a=n(0),s=n(737),l=n(2),c=n(82),u=n(102),d=n(20),p=n(17);let h=class{constructor(e,t){this.styleService=e,this.mediaPermalinkResolver=t,this.caption=a.observable(),this.hyperlink=a.observable(),this.sourceKey=a.observable(),this.background=a.observable(),this.hyperlinkTitle=a.computed(()=>this.hyperlink()?this.hyperlink().title:"Add a link..."),this.sizeConfig=a.observable(),this.appearanceStyles=a.observableArray(),this.appearanceStyle=a.observable()}initialize(){var e;return r(this,void 0,void 0,(function*(){if(this.model.sourceKey){const e=new c.BackgroundModel;e.sourceKey=this.model.sourceKey,e.sourceUrl=yield this.mediaPermalinkResolver.getUrlByTargetKey(this.model.sourceKey),this.background(e),this.sourceKey(this.model.sourceKey)}this.caption(this.model.caption),this.hyperlink(this.model.hyperlink),this.sizeConfig({width:this.model.width,height:this.model.height});const t=yield this.styleService.getComponentVariations("picture");this.appearanceStyles(t.filter(e=>"appearance"===e.category)),this.appearanceStyle(null===(e=this.model.styles)||void 0===e?void 0:e.appearance),this.caption.extend(p.ChangeRateLimit).subscribe(this.applyChanges),this.sizeConfig.extend(p.ChangeRateLimit).subscribe(this.applyChanges),this.appearanceStyle.extend(p.ChangeRateLimit).subscribe(this.applyChanges)}))}onVariationSelected(e){e&&this.appearanceStyle(e)}applyChanges(){this.model.caption=this.caption(),this.model.hyperlink=this.hyperlink(),this.model.sourceKey=this.sourceKey(),this.appearanceStyle()&&(this.model.styles={appearance:this.appearanceStyle()}),this.onChange(this.model)}onMediaSelected(e){if(e){this.sourceKey(e.key);const t=new c.BackgroundModel;t.sourceKey=e.key,t.sourceUrl=e.downloadUrl,t.size="contain",t.position="center center",this.background(t),this.model.width||this.model.height||this.updateSizeConfigForSelectedMedia(e)}else this.background(null),this.sourceKey(null);this.applyChanges()}updateSizeConfigForSelectedMedia(e){if(!e.downloadUrl)return;const t=new Image;t.src=e.downloadUrl,this.sizeConfig({width:t.width,height:t.height})}onHyperlinkChange(e){this.hyperlink(e),this.applyChanges()}onSizeChange(e){this.model.width=e.width,this.model.height=e.height,this.applyChanges()}};i([l.Param(),o("design:type",u.PictureModel)],h.prototype,"model",void 0),i([l.Event(),o("design:type",Function)],h.prototype,"onChange",void 0),i([l.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],h.prototype,"initialize",null),h=i([l.Component({selector:"picture-editor",template:s.default}),o("design:paramtypes",[d.StyleService,Object])],h),t.PictureEditor=h},function(e,t,n){"use strict";n.r(t),t.default='<fieldset class="form" data-bind="scrollable: true">\r\n    <div class="form-group form-group-collapsible">\r\n        <label class="form-label">\r\n            <a href="#" class="form-group-toggle" title="Toggle section" data-bind="collapse: \'#sourceCollapse\'" aria-label="Toggle \'main\' section"></a>\r\n            <b>Main</b>\r\n        </label>\r\n        <div id="sourceCollapse" class="collapse form-group-collapse">\r\n            <div class="dropzone">\r\n                <label for="source" class="form-label">\r\n                    Source\r\n                    <button class="btn btn-info" type="button" aria-label="Picture source" data-bind="tooltip: \'Source of the picture. To change, click on preview area below and select a picture from media libaray.\'"></button>\r\n                </label>\r\n                <a href="#" aria-labelledby="source" role="button" class="dropzone-showbox" data-bind="balloon: { position: \'right\', component: { name: \'media-selector\', params: { mimeType: \'image/\', onSelect: $component.onMediaSelected } } }, focus: true">\r\n                    <div class="fit" role="button" data-bind="background: background"></div>\r\n                </a>\r\n            </div>\r\n\r\n            <div class="form-group">\r\n                <label for="caption" class="form-label">\r\n                    Caption\r\n                    <button class="btn btn-info" type="button" aria-label="Caption" data-bind="tooltip: \'An alternate text for an image\'"></button>\r\n                </label>\r\n                <input type="text" id="caption" class="form-control" data-bind="textInput: caption" maxlength="256">\r\n            </div>\r\n\r\n            <div class="form-group">\r\n                <label for="hyperlink" class="form-label">\r\n                    Link to\r\n                    <button class="btn btn-info" type="button" data-bind="tooltip: \'A link to be navigated on click.\'"></button>\r\n                </label>\r\n                <div class="input-group">\r\n                    <input id="hyperlink" class="form-control" readonly="readonly" data-bind="value: hyperlinkTitle">\r\n                    <button class="btn input-group-btn" aria-label="Select hyperlink" data-bind="balloon: { position: \'right\', component: { name: \'hyperlink-selector\', params: { hyperlink: $component.hyperlink, onChange: $component.onHyperlinkChange } } }">\r\n                        <i class="paperbits-icon paperbits-link-69-2"></i>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <size-editor params="{ features: \'height,width\', sizeConfig: sizeConfig, onUpdate: onSizeChange }"></size-editor>\r\n\r\n    <div class="form-group form-group-collapsible">\r\n        <label class="form-label">\r\n            <a href="#" class="form-group-toggle" title="Toggle section" data-bind="collapse: \'#miscellaneousCollapse\'" aria-label="Toggle \'Styling\' section"></a>\r\n            <b>Styling</b>\r\n        </label>\r\n        <div id="miscellaneousCollapse" class="collapse form-group-collapse">\r\n            <div class="form-group">\r\n                <label for="appearanceStyle" class="form-label">\r\n                    Appearance\r\n                    <button class="btn btn-info" type="button" data-bind="tooltip: \'Predefined appearance from style guide.\'"></button>\r\n                </label>\r\n                \x3c!-- <div class="input-group">\r\n                    <a href="#" class="form-control" data-bind="text: appearanceStyle() && appearanceStyle().displayName, balloon: { component: { name: \'style-variation-selector\', params: { snippetType: \'components/picture\', onSelect: $component.onVariationSelected } } }">\r\n                    </a>\r\n                </div> --\x3e\r\n                <select id="appearanceStyle" class="form-control" data-bind="options: appearanceStyles, value: appearanceStyle, optionsText: \'displayName\', optionsValue: \'key\'"></select> \r\n            </div>\r\n        </div>\r\n    </div>\r\n</fieldset>'},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.PictureHandlers=void 0;const o=n(6),r=n(102);class a{getWidgetOrderByConfig(e,t){return i(this,void 0,void 0,(function*(){return{name:"picture",displayName:"Picture",category:"Media",iconClass:"paperbits-image-2",requires:["html"],createModel:()=>i(this,void 0,void 0,(function*(){const n=new r.PictureModel;return n.sourceKey=e,n.caption=t,n}))}}))}getWidgetOrder(){return i(this,void 0,void 0,(function*(){return yield this.getWidgetOrderByConfig(null,"Picture")}))}getContentDescriptorFromMedia(e){return a.isMediaFile(e)?{title:"Picture",description:e.description,getWidgetOrder:()=>i(this,void 0,void 0,(function*(){return yield this.getWidgetOrderByConfig(e.downloadUrl,e.fileName)}))}:null}getContentDescriptorFromDataTransfer(e){if(!e.name||!a.imageFileExtensions.some(t=>e.name.endsWith(t)))return null;const t=e.source,n=URL.createObjectURL(t),r=()=>new Promise(e=>i(this,void 0,void 0,(function*(){e(yield o.readBlobAsDataUrl(t))})));return{title:"Picture",description:e.name,getWidgetOrder:()=>i(this,void 0,void 0,(function*(){return yield this.getWidgetOrderByConfig(n,e.name)})),getPreviewUrl:r,getThumbnailUrl:r,uploadables:[e.source]}}static isMediaFile(e){return e.mimeType&&-1!==e.mimeType.indexOf("image")||e.fileName&&this.imageFileExtensions.some(t=>e.fileName.endsWith(t))}}t.PictureHandlers=a,a.imageFileExtensions=[".jpg",".jpeg",".png",".svg",".gif"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.YoutubePlayerDesignModule=void 0;const i=n(740),o=n(742);t.YoutubePlayerDesignModule=class{register(e){e.bind("youtubeEditor",i.YoutubePlayerEditor),e.bindToCollection("widgetHandlers",o.YoutubeHandlers,"youtubeHandler"),e.bindToCollection("dropHandlers",o.YoutubeHandlers,"youtubeHandler")}}},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.YoutubePlayerEditor=void 0;const r=n(0),a=n(741),s=n(2),l=n(47),c=n(106),u=n(17),d=n(46);let p=class{constructor(e,t){this.viewManager=e,this.eventManager=t,this.videoId=r.observable(),this.controls=r.observable(),this.autoplay=r.observable(),this.loop=r.observable(),this.sizeConfig=r.observable()}initialize(){this.updateObservables(),this.eventManager.addEventListener(d.CommonEvents.onViewportChange,this.updateObservables),this.videoId.extend(u.ChangeRateLimit).subscribe(this.applyChanges),this.controls.extend(u.ChangeRateLimit).subscribe(this.applyChanges),this.autoplay.extend(u.ChangeRateLimit).subscribe(this.applyChanges),this.loop.extend(u.ChangeRateLimit).subscribe(this.applyChanges)}updateObservables(){const e=this.viewManager.getViewport(),t=l.StyleHelper.getPluginConfigForLocalStyles(this.model.styles,"size",e);this.sizeConfig(t),this.videoId(this.model.videoId),this.controls(this.model.controls),this.autoplay(this.model.autoplay),this.loop(this.model.loop)}onSizeChange(e){const t=this.viewManager.getViewport();l.StyleHelper.setPluginConfigForLocalStyles(this.model.styles,"size",e,t),this.applyChanges()}applyChanges(){this.model.videoId=this.videoId(),this.model.controls=this.controls(),this.model.autoplay=this.autoplay(),this.model.loop=this.loop(),this.onChange(this.model)}};i([s.Param(),o("design:type",c.YoutubePlayerModel)],p.prototype,"model",void 0),i([s.Event(),o("design:type",Function)],p.prototype,"onChange",void 0),i([s.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],p.prototype,"initialize",null),p=i([s.Component({selector:"youtube-player-editor",template:a.default}),o("design:paramtypes",[Object,Object])],p),t.YoutubePlayerEditor=p},function(e,t,n){"use strict";n.r(t),t.default='<fieldset class="form" data-bind="scrollable: true">\r\n    <div class="form-group form-group-collapsible">\r\n        <label class="form-label">\r\n            <a href="#" class="form-group-toggle" title="Toggle section" data-bind="collapse: \'#sourceCollapse\'"></a>\r\n            <b>Source</b>\r\n        </label>\r\n        <div id="sourceCollapse" class="collapse form-group-collapse">\r\n            <label for="videoId" class="form-label">Video ID</label>\r\n            <div class="input-group">\r\n                <input type="text" id="videoId" class="form-control" data-bind="textInput: videoId" maxlength="500" placeholder="e.g. ScMzIvxBSi4">\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="form-group form-group-collapsible">\r\n        <label class="form-label">\r\n            <a href="#" class="form-group-toggle" title="Toggle section" data-bind="collapse: \'#miscellaneousCollapse\'"></a>\r\n            <b>Miscellaneous</b>\r\n        </label>\r\n        <div id="miscellaneousCollapse" class="collapse form-group-collapse">\r\n            <label for="controls" class="form-label">\r\n                <input type="checkbox" id="controls" data-bind="checked: controls">Controls\r\n            </label>\r\n            <label for="autoplay" class="form-label">\r\n                <input type="checkbox" id="autoplay" data-bind="checked: autoplay">Autoplay\r\n            </label>\r\n            <label for="loop" class="form-label">\r\n                <input type="checkbox" id="loop" data-bind="checked: loop">Loop\r\n            </label>\r\n        </div>\r\n    </div>\r\n    <size-editor params="{ features: \'height,width\', sizeConfig: sizeConfig, onUpdate: onSizeChange }"></size-editor>\r\n</fieldset>'},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.YoutubeHandlers=void 0;const o=n(106);t.YoutubeHandlers=class{getWidgetOrderByConfig(e){return i(this,void 0,void 0,(function*(){return{name:"youtube-player",displayName:"Youtube player",category:"Media",iconClass:"paperbits-player-48",requires:["html","js"],createModel:()=>i(this,void 0,void 0,(function*(){const t=new o.YoutubePlayerModel;return t.videoId=e,t}))}}))}getWidgetOrder(){return i(this,void 0,void 0,(function*(){return this.getWidgetOrderByConfig()}))}getContentDescriptorFromDataTransfer(e){const t=this.getVideoId(e);if(!t)return;const n=()=>Promise.resolve(`https://img.youtube.com/vi/${t}/0.jpg`);return{title:"Youtube player",description:"",getWidgetOrder:()=>this.getWidgetOrderByConfig(t),getPreviewUrl:n,getThumbnailUrl:n}}getVideoId(e){const t=e.source;if(t&&"string"==typeof t){const e=t.toLowerCase();if(e.startsWith("https://www.youtube.com")||e.startsWith("http://www.youtube.com")){const e=new RegExp("[?&](?:v=)(.*?)(?:$|&)").exec(t);return e?e[1]:void 0}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonEditorModule=void 0;const i=n(744),o=n(746);t.ButtonEditorModule=class{register(e){e.bind("buttonEditor",i.ButtonEditor),e.bindToCollection("widgetHandlers",o.ButtonHandlers,"buttonHandler");e.bindInstanceToCollection("styleGroups",{key:"button",name:"components_button",groupName:"Buttons",selectorTemplate:'<a href="#" data-bind="css: classNames" style="display: inline-block">Button</a>',styleTemplate:'<a href="#" data-bind="stylePreview: variation.key" style="display: inline-block">Button</button>'})}}},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonEditor=void 0;const a=n(0),s=n(745),l=n(47),c=n(95),u=n(2);let d=class{constructor(e){this.styleService=e,this.label=a.observable(),this.appearanceStyles=a.observableArray(),this.appearanceStyle=a.observable(),this.hyperlink=a.observable(),this.hyperlinkTitle=a.observable()}initialize(){var e;return r(this,void 0,void 0,(function*(){if(this.label(this.model.label),this.model.styles){const t=yield this.styleService.getComponentVariations("button");this.appearanceStyles(t.filter(e=>"appearance"===e.category)),this.appearanceStyle(null===(e=this.model.styles)||void 0===e?void 0:e.appearance)}this.hyperlink(this.model.hyperlink),this.onHyperlinkChange(this.model.hyperlink),this.appearanceStyle.subscribe(this.applyChanges),this.label.subscribe(this.applyChanges),this.hyperlink.subscribe(this.applyChanges)}))}onHyperlinkChange(e){e?(this.hyperlinkTitle(e.title),this.hyperlink(e)):this.hyperlinkTitle("Add a link...")}onRoleSelect(e){this.model.roles=e,this.applyChanges()}applyChanges(){this.model.label=this.label(),this.model.hyperlink=this.hyperlink(),this.model.styles={appearance:this.appearanceStyle()},this.onChange(this.model)}};i([u.Param(),o("design:type",c.ButtonModel)],d.prototype,"model",void 0),i([u.Event(),o("design:type",Function)],d.prototype,"onChange",void 0),i([u.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],d.prototype,"initialize",null),d=i([u.Component({selector:"button-editor",template:s.default}),o("design:paramtypes",[l.StyleService])],d),t.ButtonEditor=d},function(e,t,n){"use strict";n.r(t),t.default='<fieldset class="form" data-bind="scrollable: true">\r\n    <div class="form-group">\r\n        <label class="form-label">\r\n            Label\r\n            <button class="btn btn-info" type="button" data-bind="tooltip: \'Text on the button\'"></button>\r\n        </label>\r\n        <input type="text" class="form-control" data-bind="textInput: label" maxlength="256">\r\n    </div>\r\n\r\n    <div class="form-group">\r\n        <label class="form-label">\r\n            Link to\r\n            <button class="btn btn-info" type="button" data-bind="tooltip: \'A link to be navigated on click.\'"></button>\r\n        </label>\r\n        <div class="input-group">\r\n            <a href="#" class="form-control" data-bind="text: hyperlinkTitle, balloon: { component: { name: \'hyperlink-selector\', params: { hyperlink: $component.hyperlink, onChange: $component.onHyperlinkChange } } }">\r\n            </a>\r\n            <div class="input-group-addon">\r\n                <i class="paperbits-icon paperbits-link-69-2"></i>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="form-group">\r\n        <label for="appearanceStyle" class="form-label">\r\n            Appearance\r\n            <button class="btn btn-info" type="button" data-bind="tooltip: \'Predefined appearance from style guide.\'"></button>\r\n        </label>\r\n        \x3c!-- <div class="input-group">\r\n            <a href="#" class="form-control" data-bind="text: appearanceStyle() && appearanceStyle().displayName, balloon: { component: { name: \'style-variation-selector\', params: { snippetType: \'components/button\', onSelect: $component.onVariationSelected } } }">\r\n            </a>\r\n        </div> --\x3e\r\n        <select id="appearanceStyle" class="form-control" data-bind="options: appearanceStyles, value: appearanceStyle, optionsText: \'displayName\', optionsValue: \'key\'"></select>\r\n    </div>\r\n\r\n    \x3c!-- <div class="form-group">\r\n        <label for="sizeStyle" class="form-label">\r\n            Size\r\n            <button class="btn btn-info" type="button" data-bind="tooltip: \'Predefined size from style guide.\'"></button>\r\n        </label>\r\n        <select id="sizeStyle" class="form-control" data-bind="options: sizeStyles, value: sizeStyle, optionsText: \'displayName\', optionsValue: \'key\'"></select>\r\n    </div> --\x3e\r\n\r\n    <role-input params="{ selection: model.roles, onChange: onRoleSelect }"></role-input>\r\n</fieldset>'},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonHandlers=void 0;const o=n(95);t.ButtonHandlers=class{getWidgetOrder(){return i(this,void 0,void 0,(function*(){return{name:"button",displayName:"Button",iconClass:"paperbits-button-2",requires:[],createModel:()=>i(this,void 0,void 0,(function*(){return new o.ButtonModel}))}}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TestimonialsEditorModule=void 0;const i=n(748),o=n(274);t.TestimonialsEditorModule=class{register(e){e.bind("testimonialsEditor",i.TestimonialsEditor),e.bindToCollection("widgetHandlers",o.TestimonialsHandlers,"testimonialsHandler")}}},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.TestimonialsEditor=void 0;const r=n(0),a=n(749),s=n(2),l=n(103);let c=class{constructor(){this.textContent=r.observable(),this.author=r.observable(),this.authorTitle=r.observable(),this.starsCount=r.observable().extend({max:10}),this.starsMaximum=r.observable().extend({max:10})}initialize(){this.textContent(this.model.textContent),this.starsCount(this.model.starsCount),this.starsMaximum(this.model.allStarsCount),this.author(this.model.author),this.authorTitle(this.model.authorTitle),this.textContent.subscribe(this.applyChanges),this.starsCount.subscribe(this.applyChanges),this.starsMaximum.subscribe(this.applyChanges),this.author.subscribe(this.applyChanges),this.authorTitle.subscribe(this.applyChanges)}applyChanges(){this.model.textContent=this.textContent(),this.model.starsCount=+this.starsCount();const e=+this.starsMaximum();this.model.allStarsCount=e<=10?e:10,this.model.author=this.author(),this.model.authorTitle=this.authorTitle(),this.onChange(this.model)}};i([s.Param(),o("design:type",l.TestimonialsModel)],c.prototype,"model",void 0),i([s.Event(),o("design:type",Function)],c.prototype,"onChange",void 0),i([s.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],c.prototype,"initialize",null),c=i([s.Component({selector:"testimonials-editor",template:a.default}),o("design:paramtypes",[])],c),t.TestimonialsEditor=c},function(e,t,n){"use strict";n.r(t),t.default='<fieldset class="form" data-bind="scrollable: true">\r\n    <div class="form-group form-group-collapsible">\r\n        <label class="form-label">\r\n            <a href="#" class="form-group-toggle" title="Toggle section" data-bind="collapse: \'#propertiesCollapse\'"></a>\r\n            <b>Miscellaneous</b>\r\n        </label>\r\n        <div id="propertiesCollapse" class="collapse form-group-collapse">\r\n            <div class="form-group">\r\n                <label for="textContent" class="form-label">Message text</label>\r\n                <div class="input-group">\r\n                    <input type="text" id="textContent" class="form-control" data-bind="textInput: textContent" maxlength="3000">\r\n                </div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label for="starsMaximum" class="form-label">All stars (max 10)</label>\r\n                <div class="input-group">\r\n                    <input type="number" id="starsMaximum" class="form-control" data-bind="textInput: starsMaximum" min="0" max="10">\r\n                </div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label for="starsCount" class="form-label">Stars selected</label>\r\n                <div class="input-group">\r\n                    <input type="number" id="starsCount" class="form-control" data-bind="textInput: starsCount" min="0" max="10">\r\n                </div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label for="author" class="form-label">Author name</label>\r\n                <div class="input-group">\r\n                    <input type="text" id="author" class="form-control" data-bind="textInput: author" maxlength="500" placeholder="e.g. John Doe">\r\n                </div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label for="authorTitle" class="form-label">Author title</label>\r\n                <div class="input-group">\r\n                    <input type="text" id="authorTitle" class="form-control" data-bind="textInput: authorTitle" maxlength="1000" placeholder="e.g. CEO at Company">\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</fieldset>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColumnEditorModule=void 0;const i=n(751),o=n(228);t.ColumnEditorModule=class{register(e){e.bind("columnEditor",i.ColumnEditor),e.bindToCollection("widgetHandlers",o.ColumnHandlers,"columnHandler")}}},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ColumnEditor=void 0;const r=n(0),a=n(752),s=n(2),l=n(99);let c=class{constructor(e){this.viewManager=e,this.alignment=r.observable(),this.verticalAlignment=r.observable(),this.horizontalAlignment=r.observable(),this.scrollOnOverlow=r.observable(),this.order=r.observable()}initialize(){const e=this.viewManager.getViewport(),t=this.determineAlignment(e,this.model);this.alignment(t),this.scrollOnOverlow("scroll"===this.model.overflowY);const n=this.alignment().split(" ");this.verticalAlignment(n[0]),this.horizontalAlignment(n[1]);const i=this.determineOrder(e,this.model);this.order(i),this.alignment.subscribe(this.applyChanges),this.scrollOnOverlow.subscribe(this.applyChanges),this.order.subscribe(this.applyChanges)}applyChanges(){switch(this.viewManager.getViewport()){case"xl":this.model.alignment.xl=this.alignment(),this.model.order.xl=this.order();break;case"lg":this.model.alignment.lg=this.alignment(),this.model.order.lg=this.order();break;case"md":this.model.alignment.md=this.alignment(),this.model.order.md=this.order();break;case"sm":this.model.alignment.sm=this.alignment(),this.model.order.sm=this.order();break;case"xs":this.model.alignment.xs=this.alignment(),this.model.order.xs=this.order();break;default:throw new Error("Unknown viewport")}this.model.overflowX=this.model.overflowY=this.scrollOnOverlow()?"scroll":null,this.onChange(this.model)}alignContent(e){this.alignment(e)}align(){this.alignment(`${this.verticalAlignment()} ${this.horizontalAlignment()}`)}determineAlignment(e,t){switch(e){case"xl":return t.alignment.xl||this.determineAlignment("lg",t);case"lg":return t.alignment.lg||this.determineAlignment("md",t);case"md":return t.alignment.md||this.determineAlignment("sm",t);case"sm":return t.alignment.sm||this.determineAlignment("xs",t);case"xs":return t.alignment.xs||"start start";default:throw new Error("Unknown viewport")}}determineOrder(e,t){switch(e){case"xl":return t.order.xl||this.determineOrder("lg",t);case"lg":return t.order.lg||this.determineOrder("md",t);case"md":return t.order.md||this.determineOrder("sm",t);case"sm":return t.order.sm||this.determineOrder("xs",t);case"xs":return t.order.xs||null;default:throw new Error("Unknown viewport")}}toggleHorizontal(){switch(this.horizontalAlignment()){case"center":this.horizontalAlignment("around");break;case"around":this.horizontalAlignment("between");break;case"between":this.horizontalAlignment("center")}}toggleVertical(){switch(this.verticalAlignment()){case"center":this.verticalAlignment("around");break;case"around":this.verticalAlignment("between");break;case"between":this.verticalAlignment("center")}}alignLeft(){this.horizontalAlignment("start"),this.align()}alignRight(){this.horizontalAlignment("end"),this.align()}alignCenter(){"center"===this.horizontalAlignment()||"around"===this.horizontalAlignment()||"between"===this.horizontalAlignment()?this.toggleHorizontal():this.horizontalAlignment("center"),this.align()}alignTop(){this.verticalAlignment("start"),this.align()}alignBottom(){this.verticalAlignment("end"),this.align()}alignMiddle(){"center"===this.verticalAlignment()||"around"===this.verticalAlignment()||"between"===this.verticalAlignment()?this.toggleVertical():this.verticalAlignment("center"),this.align()}};i([s.Param(),o("design:type",l.ColumnModel)],c.prototype,"model",void 0),i([s.Event(),o("design:type",Function)],c.prototype,"onChange",void 0),i([s.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],c.prototype,"initialize",null),c=i([s.Component({selector:"layout-column-editor",template:a.default}),o("design:paramtypes",[Object])],c),t.ColumnEditor=c},function(e,t,n){"use strict";n.r(t),t.default='<fieldset class="form flex-item flex-item-grow" data-bind="scrollable: true">\r\n    <div class="form-group form-group-collapsible">\r\n        <label class="form-label">\r\n            <a href="#" class="form-group-toggle" title="Toggle section" data-bind="collapse: \'#alignmentCollapse\'"></a>\r\n            <b>Content alignment</b>\r\n        </label>\r\n\r\n        <div id="alignmentCollapse" class="collapse form-group-collapse">\r\n            <div class="form-group">\r\n                <label>Horizontal</label>\r\n                <a href="#" class="toolbox-btn" role="button" data-bind="click: alignLeft, css: { \'toolbox-btn-is-active\': horizontalAlignment() === \'start\' }">\r\n                    <i class="paperbits-icon paperbits-align-left"></i>\r\n                </a>\r\n                <a href="#" class="toolbox-btn" role="button" data-bind="click: alignCenter, css: { \'toolbox-btn-is-active\': horizontalAlignment() === \'center\' || horizontalAlignment() === \'around\' || horizontalAlignment() === \'between\' }">\r\n                    <i class="paperbits-icon paperbits-align-center-horizontal"></i>\r\n                </a>\r\n                <a href="#" class="toolbox-btn" role="button" data-bind="click: alignRight, css: { \'toolbox-btn-is-active\': horizontalAlignment() === \'end\' }">\r\n                    <i class="paperbits-icon paperbits-align-right"></i>\r\n                </a>\r\n            </div>\r\n\r\n            <div class="form-group">\r\n                <label>Vertical</label>\r\n                <a href="#" class="toolbox-btn" role="button" data-bind="click: alignTop, css: { \'toolbox-btn-is-active\': verticalAlignment() === \'start\' }">\r\n                    <i class="paperbits-icon paperbits-align-top"></i>\r\n                </a>\r\n                <a href="#" class="toolbox-btn" role="button" data-bind="click: alignMiddle, css: { \'toolbox-btn-is-active\': verticalAlignment() === \'center\' || verticalAlignment() === \'around\' || verticalAlignment() === \'between\' }">\r\n                    <i class="paperbits-icon paperbits-align-center-vertical"></i>\r\n                </a>\r\n                <a href="#" class="toolbox-btn" role="button" data-bind="click: alignBottom, css: { \'toolbox-btn-is-active\': verticalAlignment() === \'end\' }">\r\n                    <i class="paperbits-icon paperbits-align-bottom"></i>\r\n                </a>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="form-group form-group-collapsible">\r\n        <label class="form-label">\r\n            <a href="#" class="form-group-toggle" title="Toggle section" data-bind="collapse: \'#contentFlowCollapse\'"></a>\r\n            <b>Content flow</b>\r\n            <button class="btn btn-info" type="button" data-bind="tooltip: \'Manage scrolling settings for container\'"></button>\r\n        </label>\r\n        <div id="contentFlowCollapse" class="collapse form-group-collapse">\r\n            <label class="form-label">\r\n                <input name="scrollOnOverlow" type="checkbox" data-bind="checked: scrollOnOverlow">Scroll on overflow\r\n            </label>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="form-group form-group-collapsible">\r\n        <label class="form-label">\r\n            <a href="#" class="form-group-toggle" title="Toggle section" data-bind="collapse: \'#miscellaneousCollapse\'"></a>\r\n            <b>Miscellaneous</b>\r\n        </label>\r\n        <div id="miscellaneousCollapse" class="collapse form-group-collapse">\r\n            <label class="form-label">\r\n                Order in row\r\n                <button class="btn btn-info" type="button" data-bind="tooltip: \'Manage an element order in a parent container\'"></button>\r\n            </label>\r\n            <div class="form-group">\r\n                <input type="number" class="form-control" max="12" min="1" data-bind="textInput: order">\r\n            </div>\r\n        </div>\r\n    </div>\r\n</fieldset>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SectionEditorModule=void 0;const i=n(754),o=n(756),r=n(144);t.SectionEditorModule=class{register(e){e.bind("sectionLayoutSelector",i.SectionLayoutSelector),e.bind("sectionEditor",o.SectionEditor),e.bindToCollection("widgetHandlers",r.SectionHandlers,"sectionHandler")}}},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SectionLayoutSelector=void 0;const a=n(755),s=n(81),l=n(2),c=n(86),u=n(67);let d=class{constructor(e,t){this.modelBinderSelector=e,this.blockService=t,this.selectSectionLayout=this.selectSectionLayout.bind(this),this.onBlockSelected=this.onBlockSelected.bind(this)}selectSectionLayout(){const e=new c.SectionModel;this.onSelect&&this.onSelect(e)}onBlockSelected(e){return r(this,void 0,void 0,(function*(){const t=yield this.blockService.getBlockContent(e.key),n=this.modelBinderSelector.getModelBinderByContract(t),i=yield n.contractToModel(t);this.onSelect&&this.onSelect(i)}))}};i([l.Event(),o("design:type",Function)],d.prototype,"onSelect",void 0),d=i([l.Component({selector:"section-layout-selector",template:a.default}),o("design:paramtypes",[s.ModelBinderSelector,u.BlockService])],d),t.SectionLayoutSelector=d},function(e,t,n){"use strict";n.r(t),t.default='<div class="editor">\r\n\r\n    <h1>Add section</h1>\r\n    <hr>\r\n\r\n    <h2>Blank</h2>\r\n    <div class="flex flex-row">\r\n        <a href="#" class="section-cfg" data-bind="click: $component.selectSectionLayout.bind($data, \'container\')">\r\n            <span class="section-container-cfg"></span>\r\n        </a>\r\n\r\n        <a href="#" class="section-cfg" data-bind="click: $component.selectSectionLayout.bind($data, \'fluid\')">\r\n            <span class="section-fluid-cfg"></span>\r\n        </a>\r\n    </div>\r\n\r\n    <h2>Blocks</h2>\r\n    <div class="flex flex-row">\r\n        <block-selector params="onSelect: $component.onBlockSelected"></block-selector>\r\n    </div>\r\n</div>'},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SectionEditor=void 0;const a=n(0),s=n(19),l=n(30),c=n(757),u=n(2),d=n(86),p=n(17),h=n(46);let f=class{constructor(e,t){this.viewManager=e,this.eventManager=t,this.stickTo=a.observable("none"),this.stretch=a.observable(!1),this.background=a.observable(),this.typography=a.observable(),this.sizeConfig=a.observable(),this.box=a.observable()}initialize(){return r(this,void 0,void 0,(function*(){this.updateObservables(),this.stickTo.extend(p.ChangeRateLimit).subscribe(this.applyChanges),this.stretch.extend(p.ChangeRateLimit).subscribe(this.applyChanges),this.background.extend(p.ChangeRateLimit).subscribe(this.applyChanges),this.typography.extend(p.ChangeRateLimit).subscribe(this.applyChanges),this.box.extend(p.ChangeRateLimit).subscribe(this.applyChanges),this.sizeConfig.extend(p.ChangeRateLimit).subscribe(this.applyChanges),this.eventManager.addEventListener(h.CommonEvents.onViewportChange,this.updateObservables)}))}updateObservables(){const e=this.viewManager.getViewport();if(this.model.styles){if(this.model.styles.instance){const e=this.model.styles.instance;e&&(this.background(e.background),this.typography(e.typography))}const t=l.getObjectAt("instance/stickTo/"+e,this.model.styles);t&&this.stickTo(t);const n=l.getObjectAt(`instance/size/${e}/stretch`,this.model.styles);this.stretch(!!n)}this.gridModel=this.model.widgets[0];const t=this.gridModel.styles,n=l.getObjectAt("instance/size/"+e,t),i=l.getObjectAt("instance/margin/"+e,t);this.box({margin:i}),this.sizeConfig(n)}applyChanges(){const e=this.viewManager.getViewport();this.model.styles=this.model.styles||{},this.model.styles.instance&&!this.model.styles.instance.key&&(this.model.styles.instance.key=s.randomClassName());const t=this.gridModel.styles,n=this.sizeConfig();l.setValue("instance/size/"+e,t,n);const i=this.box().margin;l.cleanupObject(i),l.setValue("instance/margin/"+e,t,i),l.setValue("instance/stickTo/"+e,this.model.styles,this.stickTo()),l.setValue(`instance/size/${e}/stretch`,this.model.styles,this.stretch()),this.onChange(this.model)}onBackgroundUpdate(e){l.setValue("instance/background",this.model.styles,e),this.applyChanges()}onTypographyUpdate(e){l.setValue("instance/typography",this.model.styles,e),this.applyChanges()}onBoxUpdate(e){this.box(e)}onSizeUpdate(e){this.sizeConfig(e)}};i([u.Param(),o("design:type",d.SectionModel)],f.prototype,"model",void 0),i([u.Event(),o("design:type",Function)],f.prototype,"onChange",void 0),i([u.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],f.prototype,"initialize",null),f=i([u.Component({selector:"layout-section-editor",template:c.default}),o("design:paramtypes",[Object,Object])],f),t.SectionEditor=f},function(e,t,n){"use strict";n.r(t),t.default='<fieldset class="form flex-item flex-item-grow" data-bind="scrollable: true">\r\n    <background params="{ background: $component.background, onUpdate: onBackgroundUpdate }"></background>\r\n\r\n    <size-editor params="{ features: \'minMaxHeight,minMaxWidth\', sizeConfig: sizeConfig, onUpdate: onSizeUpdate }"></size-editor>\r\n\r\n    <div class="form-group form-group-collapsible">\r\n        <label class="form-label">\r\n            <a href="#" class="form-group-toggle" title="Toggle section" data-bind="collapse: \'#boxCollapse\'"></a>\r\n            <b>Box</b>\r\n        </label>\r\n        <div id="boxCollapse" class="collapse form-group-collapse">\r\n            <box params="{ features: \'margin\', box: box, onUpdate: onBoxUpdate }"></box>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="form-group form-group-collapsible">\r\n        <label class="form-label">\r\n            <a href="#" class="form-group-toggle" title="Toggle section" data-bind="collapse: \'#miscellaneousCollapse\'"></a>\r\n            <b>Miscellaneous</b>\r\n        </label>\r\n        <div id="miscellaneousCollapse" class="collapse form-group-collapse">\r\n            <label class="form-label">\r\n                Stick to\r\n                <button class="btn btn-info" type="button" data-bind="tooltip: \'Make the element stick to the edge (top or bottom) of the screen when its containing element crosses that edge.\'"></button>\r\n            </label>\r\n            <div class="form-group">\r\n                <label class="form-label">\r\n                    <input name="sticking" type="radio" value="none" data-bind="checked: stickTo">None\r\n                </label>\r\n                <label class="form-label">\r\n                    <input name="sticking" type="radio" value="top" data-bind="checked: stickTo">Top\r\n                </label>\r\n                <label class="form-label">\r\n                    <input name="sticking" type="radio" value="bottom" data-bind="checked: stickTo">Bottom\r\n                </label>\r\n            </div>\r\n\r\n            <label class="form-label">\r\n                Height\r\n                <button class="btn btn-info" type="button" data-bind="tooltip: \'Manage section height\'"></button>\r\n            </label>\r\n            <div class="form-group">\r\n                <label for="stretch" class="form-label">\r\n                    <input type="checkbox" id="stretch" name="stretch" data-bind="checked: stretch">Stretch\r\n                </label>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</fieldset>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RowEditorModule=void 0;const i=n(759),o=n(271);t.RowEditorModule=class{register(e){e.bind("rowLayoutSelector",i.RowLayoutSelector),e.bindToCollection("widgetHandlers",o.RowHandlers,"rowHandler")}}},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.RowLayoutSelector=void 0;const r=n(760),a=n(2),s=n(99),l=n(149);let c=class{constructor(){this.rowConfigs=[[{xs:12}],[{xs:12,md:6},{xs:12,md:6}],[{xs:12,md:4},{xs:12,md:4},{xs:12,md:4}],[{xs:12,md:3},{xs:12,md:3},{xs:12,md:3},{xs:12,md:3}],[{xs:12,md:8},{xs:12,md:4}],[{xs:12,md:4},{xs:12,md:8}],[{xs:12,md:3},{xs:12,md:9}],[{xs:12,md:9},{xs:12,md:3}],[{xs:12,md:6},{xs:12,md:3},{xs:12,md:3}],[{xs:12,md:3},{xs:12,md:3},{xs:12,md:6}],[{xs:12,md:3},{xs:12,md:6},{xs:12,md:3}]],this.selectRowLayout=this.selectRowLayout.bind(this)}selectRowLayout(e){const t=new l.RowModel;e.forEach(e=>{const n=new s.ColumnModel;n.size.xs=e.xs,n.size.sm=e.sm,n.size.md=e.md,n.size.lg=e.lg,n.size.xl=e.xl,t.widgets.push(n)}),this.onSelect&&this.onSelect(t)}};i([a.Event(),o("design:type",Function)],c.prototype,"onSelect",void 0),c=i([a.Component({selector:"row-layout-selector",template:r.default}),o("design:paramtypes",[])],c),t.RowLayoutSelector=c},function(e,t,n){"use strict";n.r(t),t.default='<div class="editor row-layout-selector">\r\n    <div class="flex flex-row">\r\n        <h1>\r\n            Add row\r\n        </h1>\r\n        <hr>\r\n\r\n        \x3c!-- ko foreach: rowConfigs --\x3e\r\n        <div class="row-cfg" data-bind="foreach: $data, click: $component.selectRowLayout">\r\n            <div class="col-cfg" data-bind="columnSizeCfg: $data">\r\n            </div>\r\n        </div>\r\n        \x3c!-- /ko --\x3e\r\n    </div>\r\n</div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockWorkshopModule=void 0;const i=n(762),o=n(765),r=n(767);t.BlockWorkshopModule=class{register(e){e.bind("widgetContainer",r.WidgetContainer),e.bind("blockSelector",i.BlockSelector),e.bind("addBlockDialog",o.AddBlockDialog)}}},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BlockSelector=void 0;const a=n(763),s=n(0),l=n(764),c=n(67),u=n(2),d=n(81),p=n(148),h=n(17),f=n(8);let m=class{constructor(e,t,n){this.blockService=e,this.modelBinderSelector=t,this.viewModelBinderSelector=n,this.blocks=s.observableArray(),this.widgets=s.observableArray(),this.searchPattern=s.observable(),this.working=s.observable()}initialize(){return r(this,void 0,void 0,(function*(){yield this.searchBlocks(),this.searchPattern.extend(h.ChangeRateLimit).subscribe(this.searchBlocks)}))}searchBlocks(e=""){return r(this,void 0,void 0,(function*(){this.working(!0);const t=yield this.blockService.search(this.blockType,e),n=[];for(const e of t){const t=yield this.blockService.getBlockContent(e.key,this.blockType);t.type||(t.type=e.type);const i=new f.StyleManager,o={styleManager:i},r=this.modelBinderSelector.getModelBinderByContract(t),a=yield r.contractToModel(t),s=this.viewModelBinderSelector.getViewModelBinderByModel(a),c=yield s.modelToViewModel(a,null,o);n.push(new l.BlockItem(e,c,i))}this.blocks(n),this.working(!1)}))}selectBlock(e){return r(this,void 0,void 0,(function*(){this.onSelect&&this.onSelect({block:e.toBlock(),blockType:this.blockType})}))}deleteBlock(e,t){return r(this,void 0,void 0,(function*(){t.stopImmediatePropagation(),e&&this.blockType===c.BlockType.saved&&(yield this.blockService.deleteBlock(e.toBlock()),yield this.searchBlocks(this.searchPattern()))}))}};i([u.Param(),o("design:type",String)],m.prototype,"blockType",void 0),i([u.Event(),o("design:type",Function)],m.prototype,"onSelect",void 0),i([u.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],m.prototype,"initialize",null),m=i([u.Component({selector:"block-selector",template:a.default}),o("design:paramtypes",[Object,d.ModelBinderSelector,p.ViewModelBinderSelector])],m),t.BlockSelector=m},function(e,t,n){"use strict";n.r(t),t.default='<fieldset class="flex-item form">\r\n    <div class="form-group">\r\n        <input class="form-control" type="search" role="searchbox" data-bind="textInput: searchPattern, valueUpdate: \'keyup\', focus: true" placeholder="Search item..." aria-label="Search items" aria-controls="searchResult">\r\n        <p id="searchResult" class="text-hide" role="region" aria-live="polite" data-bind="text: `Items found: ${blocks().length}`">\r\n        </p>\r\n    </div>\r\n</fieldset>\r\n\r\n\x3c!--ko if: working()--\x3e\r\n<spinner></spinner>\r\n\x3c!--/ko--\x3e\r\n\r\n\x3c!--ko ifnot: working()--\x3e\r\n\r\n\x3c!-- ko if: blocks().length === 0 --\x3e\r\n<p class="flex-item flex-item-grow text-center">It seems that you don\'t have anything in your library yet.</p>\r\n\x3c!-- /ko --\x3e\r\n\r\n\x3c!-- ko if: blocks().length > 0 --\x3e\r\n<div role="list" data-bind="foreach: blocks, scrollable: true">\r\n    <div class="list-item" data-bind="css: { selected: hasFocus }, click: $component.selectBlock">\r\n        \x3c!-- ko if: $component.blockType !== \'blocks-section\' --\x3e\r\n        <button class="btn-standalone remove-block" data-bind="click: $component.deleteBlock">\r\n            <i class="paperbits-icon paperbits-trash-simple"></i>\r\n        </button>\r\n        \x3c!-- /ko --\x3e\r\n        <div class="zoom-selector-item">\r\n            <div class="zoom-item">\r\n                <widget-container params="{ widgetData: $data }"></widget-container>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\x3c!-- /ko --\x3e\r\n\r\n\x3c!-- /ko --\x3e'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockItem=void 0;const i=n(0);t.BlockItem=class{constructor(e,t,n){this.key=e.key,this.contentKey=e.contentKey,this.title=i.observable(e.title),this.description=i.observable(e.description),this.hasFocus=i.observable(),this.widget=t,this.styleManager=n}toBlock(){return{key:this.key,type:"block",title:this.title(),description:this.description(),contentKey:this.contentKey}}}},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AddBlockDialog=void 0;const a=n(766),s=n(0),l=(n(67),n(2)),c=n(81);let u=class{constructor(e,t,n){this.blockService=e,this.modelBinderSelector=t,this.viewManager=n,this.addBlock=this.addBlock.bind(this),this.working=s.observable(!1),this.name=s.observable(),this.name.extend({required:!0}),this.description=s.observable()}addBlock(){return r(this,void 0,void 0,(function*(){if(!this.name())return;this.modelBinder||(this.modelBinder=this.modelBinderSelector.getModelBinderByModel(this.blockModel));const e=this.modelBinder.modelToContract(this.blockModel);yield this.blockService.createBlock(this.name(),this.description()||"",e,this.blockType),this.viewManager.notifySuccess("Blocks","Block added to library."),this.onClose&&this.onClose()}))}};i([l.Param(),o("design:type",Object)],u.prototype,"blockModel",void 0),i([l.Param(),o("design:type",String)],u.prototype,"blockType",void 0),i([l.Event(),o("design:type",Function)],u.prototype,"onClose",void 0),u=i([l.Component({selector:"add-block-dialog",template:a.default}),o("design:paramtypes",[Object,c.ModelBinderSelector,Object])],u),t.AddBlockDialog=u},function(e,t,n){"use strict";n.r(t),t.default='<fieldset class="flex-item flex-item-grow form" data-bind="scrollable: true">\r\n    <div class="form-group">\r\n        <label class="form-label" for="blockName">\r\n            Name for the block\r\n        </label>\r\n        <div class="input-group">\r\n            <input type="text" id="blockName" class="form-control" maxlength="2000" data-bind="textInput: name, validationElement: name" placeholder="e.g. Features section">\r\n            <button class="btn btn-danger input-group-btn" type="button" data-bind="validationMessageToggle: name">!</button>\r\n        </div>\r\n    </div>\r\n    \x3c!-- <div class="form-group">\r\n        <label class="form-label" for="blockDescription">\r\n            Description\r\n        </label>\r\n        <div class="input-group">\r\n            <input type="text" name="blockDescription" class="form-control" maxlength="2000"\r\n                data-bind="textInput: description, validationElement: description" placeholder="details about a new design block" />\r\n        </div>\r\n    </div> --\x3e\r\n</fieldset>\r\n\r\n<div class="flex-item btn-group">\r\n    <button class="btn" data-bind="click: addBlock">\r\n        <i class="paperbits-icon paperbits-simple-add"></i>\r\n        Add to library\r\n    </button>\r\n</div>'},function(e,t,n){"use strict";(function(e){var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetContainer=void 0;const a=n(0),s=n(768),l=n(2),c=n(48);let u=class{constructor(e){this.styleCompiler=e,this.widgetViewModel=a.observable(),this.css=a.observable()}initialize(){return r(this,void 0,void 0,(function*(){const t=new c.JssCompiler;e(()=>r(this,void 0,void 0,(function*(){const e=this.widgetData.styleManager.getAllStyleSheets(),n=t.compile(...e),i=yield this.styleCompiler.getStyleSheet(),o=t.compile(i);this.css(o+" "+n)}))),this.widgetViewModel(this.widgetData.widget)}))}};i([l.Param(),o("design:type",Object)],u.prototype,"widgetData",void 0),i([l.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],u.prototype,"initialize",null),u=i([l.Component({selector:"widget-container",template:s.default,encapsulation:l.Encapsulation.shadowDom}),o("design:paramtypes",[Object])],u),t.WidgetContainer=u}).call(this,n(60).setImmediate)},function(e,t,n){"use strict";n.r(t),t.default='<div style="width: 1200px;">\r\n    <link href="/styles/theme.css" rel="stylesheet" type="text/css">\r\n    <style data-bind="html: css"></style>\r\n    \x3c!-- ko widget: widgetViewModel --\x3e\r\n    \x3c!-- /ko --\x3e\r\n</div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PageDesignModule=void 0;const i=n(770),o=n(772),r=n(774),a=n(210),s=n(776),l=n(777),c=n(778);t.PageDesignModule=class{register(e){e.bind("browserNotSupported",s.BrowserNotSupported),e.bind("pageHost",l.PageHost),e.bind("pagesWorkshop",i.PagesWorkshop),e.bind("pageDetailsWorkshop",o.PageDetailsWorkshop),e.bind("pageSelector",r.PageSelector),e.bindToCollection("hyperlinkProviders",a.PageHyperlinkProvider),e.bindToCollection("workshopSections",c.PagesToolButton),e.bind("pageHyperlinkProvider",a.PageHyperlinkProvider)}}},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.PagesWorkshop=void 0;const a=n(0),s=n(771),l=n(2),c=n(17),u=n(23),d=n(150);let p=class{constructor(e,t){this.pageService=e,this.viewManager=t,this.pages=a.observableArray(),this.selectedPage=a.observable(),this.searchPattern=a.observable(""),this.working=a.observable(!1)}initialize(){return r(this,void 0,void 0,(function*(){yield this.searchPages(),this.searchPattern.extend(c.ChangeRateLimit).subscribe(this.searchPages)}))}searchPages(e=""){return r(this,void 0,void 0,(function*(){this.working(!0),this.pages([]);const t=u.Query.from().orderBy("title");e&&t.where("title",u.Operator.contains,e);const n=yield this.pageService.search(t);this.currentPage=n;const i=n.value.map(e=>new d.PageItem(e));this.pages.push(...i),this.working(!1)}))}loadNextPage(){var e;return r(this,void 0,void 0,(function*(){if(!(null===(e=this.currentPage)||void 0===e?void 0:e.takeNext))return;this.working(!0),this.currentPage=yield this.currentPage.takeNext();const t=this.currentPage.value.map(e=>new d.PageItem(e));this.pages.push(...t),this.working(!1)}))}selectPage(e){this.selectedPage(e);const t={heading:"Page",component:{name:"page-details-workshop",params:{pageItem:e,onDeleteCallback:()=>{this.searchPages()},onCopyCallback:e=>r(this,void 0,void 0,(function*(){yield this.searchPages(),this.selectPage(e)}))}}};this.viewManager.openViewAsWorkshop(t)}addPage(){return r(this,void 0,void 0,(function*(){this.working(!0);const e=yield this.pageService.createPage("/new-page","New page","",""),t=new d.PageItem(e);this.pages.push(t),this.selectPage(t),this.working(!1)}))}isSelected(e){const t=this.selectedPage();return(null==t?void 0:t.key)===e.key}};i([l.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],p.prototype,"initialize",null),p=i([l.Component({selector:"pages",template:s.default}),o("design:paramtypes",[Object,Object])],p),t.PagesWorkshop=p},function(e,t,n){"use strict";n.r(t),t.default='<div class="flex flex-column fit">\r\n    <fieldset class="flex-item form">\r\n        <div class="form-group">\r\n            <input class="form-control" type="search" role="searchbox" data-bind="textInput: searchPattern, valueUpdate: \'keyup\', focus: true" placeholder="Search pages..." aria-label="Search pages" aria-controls="searchResult">\r\n            <p id="searchResult" class="text-hide" role="region" aria-live="polite" data-bind="text: `Pages found: ${pages().length}`">\r\n            </p>\r\n        </div>\r\n    </fieldset>\r\n\r\n    \x3c!-- ko if: !working() && pages().length === 0 --\x3e\r\n\r\n    \x3c!-- ko if: searchPattern() === "" --\x3e\r\n    <p class="flex-item flex-item-grow text-center">It seems that you don\'t have pages yet. Would you like to\r\n        <a href="#" class="btn-link" data-bind="click: addPage">create one</a>?\r\n    </p>\r\n    \x3c!-- /ko --\x3e\r\n\r\n    \x3c!-- ko if: searchPattern() !== ""  --\x3e\r\n    <p class="flex-item flex-item-grow text-center">Could not find anything. Try to change search criteria.</p>\r\n    \x3c!-- /ko --\x3e\r\n\r\n    \x3c!-- /ko --\x3e\r\n\r\n    <div role="list" class="flex flex-column flex-item flex-item-grow" data-bind="scrollable: true">\r\n        \x3c!-- ko foreach: { data: pages, as: \'page\' } --\x3e\r\n        <a href="#" role="listitem" class="list-item flex-grow" data-bind="css: { selected: $component.isSelected(page) }, attr: { title: page.title }, activate: $component.selectPage, selectable: true">\r\n            <i class="paperbits-icon paperbits-single-content-03"></i>\r\n            <span class="text-overflow" data-bind="text: page.title"></span>\r\n        </a>\r\n        \x3c!-- /ko --\x3e\r\n        \x3c!--ko if: $component.working()--\x3e\r\n        <spinner></spinner>\r\n        \x3c!--/ko--\x3e\r\n        \x3c!-- ko ifnot: $component.working --\x3e\r\n        <div class="list-edge" data-bind="whenInView: $component.loadNextPage"></div>\r\n        \x3c!-- /ko --\x3e\r\n    </div>\r\n\r\n\r\n    <div class="flex-item btn-group">\r\n        <button class="btn" data-bind="click: $component.addPage">\r\n            <i class="paperbits-icon paperbits-simple-add"></i>\r\n            Add page\r\n        </button>\r\n    </div>\r\n</div>'},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.PageDetailsWorkshop=void 0;const a=n(0),s=n(773),l=n(2),c=n(150),u=n(82);let d=class{constructor(e,t,n,i,o,r,s){this.pageService=e,this.router=t,this.viewManager=n,this.reservedPermalinks=i,this.settingsProvider=o,this.mediaService=r,this.localeService=s,this.isReserved=a.observable(!1),this.isSeoEnabled=a.observable(!1),this.socialShareImage=a.observable()}onMounted(){var e;return r(this,void 0,void 0,(function*(){this.pageItem.title.extend({required:!0,onlyValid:!0}).subscribe(this.applyChanges),this.pageItem.description.subscribe(this.applyChanges),this.pageItem.keywords.subscribe(this.applyChanges),this.pageItem.jsonLd.subscribe(this.applyChanges);let t=this.pageItem.permalink;this.reservedPermalinks.includes(this.pageItem.permalink())?this.isReserved(!0):(t=t.extend({required:!0,validPermalink:this.pageItem.key,onlyValid:!0}),t.subscribe(this.onPermalinkChange));const n=this.pageItem.socialShareData();if(null===(e=null==n?void 0:n.image)||void 0===e?void 0:e.sourceKey){const e=yield this.mediaService.getMediaByKey(n.image.sourceKey);if(e){const t=new u.BackgroundModel;t.sourceUrl=e.downloadUrl,this.socialShareImage(t)}}(yield this.localeService.getCurrentLocale())!==(yield this.localeService.getDefaultLocale())&&this.isReserved(!0);const i=yield this.settingsProvider.getSetting("enableSeo");i&&this.isSeoEnabled(i),yield this.router.navigateTo(t()),this.viewManager.setHost({name:"page-host"})}))}applyChanges(){return r(this,void 0,void 0,(function*(){yield this.pageService.updatePage(this.pageItem.toContract())}))}onPermalinkChange(){return r(this,void 0,void 0,(function*(){const e=this.pageItem.permalink();this.router.updateHistory(e,this.pageItem.title()),yield this.applyChanges()}))}deletePage(){return r(this,void 0,void 0,(function*(){yield this.pageService.deletePage(this.pageItem.toContract()),this.viewManager.notifySuccess("Pages",`Page "${this.pageItem.title()}" was deleted.`),this.viewManager.closeWorkshop("page-details-workshop"),this.onDeleteCallback&&this.onDeleteCallback(),this.router.navigateTo("/")}))}copyPage(){return r(this,void 0,void 0,(function*(){const e=this.pageItem.permalink()+" copy",t=yield this.pageService.createPage(e,this.pageItem.title()+" copy",this.pageItem.description(),this.pageItem.keywords()),n=this.pageItem.toContract();n.key=t.key,n.permalink=t.permalink,n.title=t.title,n.contentKey=t.contentKey,yield this.pageService.updatePage(n);const i=yield this.pageService.getPageContent(this.pageItem.key);yield this.pageService.updatePageContent(n.key,i),this.onCopyCallback&&this.onCopyCallback(new c.PageItem(n))}))}onMediaSelected(e){return r(this,void 0,void 0,(function*(){let t=null;if(e){t={image:{sourceKey:e.key}};const n=new u.BackgroundModel;n.sourceUrl=e.downloadUrl,this.socialShareImage(n)}else this.socialShareImage(null);this.pageItem.socialShareData(t),yield this.applyChanges()}))}};i([l.Param(),o("design:type",c.PageItem)],d.prototype,"pageItem",void 0),i([l.Event(),o("design:type",Function)],d.prototype,"onDeleteCallback",void 0),i([l.Event(),o("design:type",Function)],d.prototype,"onCopyCallback",void 0),i([l.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],d.prototype,"onMounted",null),d=i([l.Component({selector:"page-details-workshop",template:s.default}),o("design:paramtypes",[Object,Object,Object,Array,Object,Object,Object])],d),t.PageDetailsWorkshop=d},function(e,t,n){"use strict";n.r(t),t.default='<div class="flex flex-column fit">\r\n    <fieldset class="flex-item flex-item-grow form" data-bind="scrollable: true">\r\n        <div class="form-group">\r\n            <label for="title" class="form-label">Title</label>\r\n            <div class="input-group">\r\n                <input type="text" id="title" class="form-control" data-bind="textInput: pageItem.title, validationElement: pageItem.title, focus: true" placeholder="e.g. About" maxlength="256">\r\n                <button class="btn btn-danger input-group-btn" type="button" data-bind="validationMessageToggle: pageItem.title">!</button>\r\n            </div>\r\n        </div>\r\n        <div class="form-group">\r\n            <label for="permalink" class="form-label">Permalink</label>\r\n            <div class="input-group">\r\n                <input type="text" id="permalink" class="form-control" data-bind="textInput: pageItem.permalink, validationElement: pageItem.permalink, disable: $component.isReserved" placeholder="e.g. /about" maxlength="2000" spellcheck="false">\r\n                \x3c!-- ko ifnot: $component.isReserved --\x3e\r\n                <button class="btn btn-danger input-group-btn" data-bind="validationMessageToggle: pageItem.permalink" type="button">!</button>\r\n                \x3c!-- /ko --\x3e\r\n            </div>\r\n        </div>\r\n        <div class="form-group">\r\n            <label for="description" class="form-label">Description</label>\r\n            <textarea id="description" class="form-control" data-bind="textInput: pageItem.description" maxlength="256"></textarea>\r\n        </div>\r\n        <div class="form-group">\r\n            <label for="keywords" class="form-label">Keywords</label>\r\n            <div class="input-group">\r\n                <input type="text" id="keywords" class="form-control" data-bind="textInput: pageItem.keywords" placeholder="e.g. about" maxlength="256">\r\n            </div>\r\n        </div>\r\n\r\n        \x3c!-- ko if: $component.isSeoEnabled --\x3e\r\n        <div class="form-group">\r\n            <label class="form-label">Social share image</label>\r\n            <div class="dropzone">\r\n                <div class="flex-item dropzone-showbox" data-bind="background: socialShareImage, balloon: { component: { name: \'media-selector\', params: { onSelect: $component.onMediaSelected } }, position: \'top\' }">\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="form-group">\r\n            <label for="jsonLd" class="form-label">JSON-LD</label>\r\n            <textarea id="jsonLd" class="form-control" data-bind="textInput: pageItem.jsonLd"></textarea>\r\n        </div>\r\n        \x3c!-- /ko --\x3e\r\n    </fieldset>\r\n\r\n    \x3c!-- ko ifnot: $component.isReserved --\x3e\r\n    <div class="flex-item btn-group">\r\n        <button class="btn" data-bind="confirm: { message: \'Are you sure you want to delete this page?\', onConfirm: deletePage }">\r\n            <i class="paperbits-icon paperbits-simple-remove"></i>\r\n            Delete page\r\n        </button>\r\n        <button class="btn" data-bind="click: copyPage">\r\n            <i class="paperbits-icon paperbits-single-copy-04"></i>\r\n            Copy page\r\n        </button>\r\n    </div>\r\n    \x3c!-- /ko --\x3e\r\n</div>'},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.PageSelector=void 0;const a=n(0),s=n(775),l=n(150),c=n(2),u=n(263),d=n(17),p=n(23);let h=class{constructor(e){this.pageService=e,this.pages=a.observableArray(),this.selectedPage=a.observable(),this.searchPattern=a.observable(""),this.working=a.observable()}onMounted(){return r(this,void 0,void 0,(function*(){yield this.searchPages(),this.searchPattern.extend(d.ChangeRateLimit).subscribe(this.searchPages)}))}searchPages(e=""){return r(this,void 0,void 0,(function*(){this.working(!0),this.pages([]);const t=p.Query.from().orderBy("title");e&&t.where("title",p.Operator.contains,e);const n=yield this.pageService.search(t);this.currentPage=n;const i=n.value.map(e=>new l.PageItem(e));this.pages.push(...i),this.working(!1)}))}loadNextPage(){var e;return r(this,void 0,void 0,(function*(){if(!(null===(e=this.currentPage)||void 0===e?void 0:e.takeNext))return;this.working(!0),this.currentPage=yield this.currentPage.takeNext();const t=this.currentPage.value.map(e=>new l.PageItem(e));if(this.pages.push(...t),!this.selectedPage()&&this.preSelectedModel){const e=this.preSelectedModel.href,n=t.find(t=>t.permalink()===e);if(n){yield this.selectPage(n);const e=n.anchors();if(this.preSelectedModel.anchor){const t=e.find(e=>e.elementId===this.preSelectedModel.anchor);t&&(yield this.selectAnchor(t))}}}this.working(!1)}))}selectPage(e){return r(this,void 0,void 0,(function*(){if(this.selectedPage(e),!e.anchorsLoaded()){const t=yield this.getAnchors(e);if(e.anchors(t),e.anchorsLoaded(!0),t.length>0)return}this.onSelect&&this.onSelect(e.toContract()),this.onHyperlinkSelect&&this.onHyperlinkSelect(e.getHyperlink())}))}selectResource(e){this.preSelectedModel=e}selectAnchor(e){return r(this,void 0,void 0,(function*(){if(!this.onHyperlinkSelect)return;const t=this.selectedPage();e.isSelected(!0),t.selectedAnchor=e,this.onHyperlinkSelect(t.getHyperlink())}))}getAnchors(e){return r(this,void 0,void 0,(function*(){const t=yield this.pageService.getPageContent(e.key);return u.AnchorUtils.getHeadingNodes(t,1,6).filter(e=>{var t;return(null===(t=e.nodes)||void 0===t?void 0:t.length)>0}).map(e=>{var t,n;const i=new l.AnchorItem;return i.shortTitle=null===(t=e.nodes[0])||void 0===t?void 0:t.text,i.elementId=null===(n=e.attrs)||void 0===n?void 0:n.id,i})}))}isSelected(e){const t=this.selectedPage();return(null==t?void 0:t.key)===e.key}};i([c.Param(),o("design:type",Function)],h.prototype,"selectedPage",void 0),i([c.Event(),o("design:type",Function)],h.prototype,"onSelect",void 0),i([c.Event(),o("design:type",Function)],h.prototype,"onHyperlinkSelect",void 0),i([c.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],h.prototype,"onMounted",null),h=i([c.Component({selector:"page-selector",template:s.default}),o("design:paramtypes",[Object])],h),t.PageSelector=h},function(e,t,n){"use strict";n.r(t),t.default='<div class="editor flex flex-column">\r\n    <h1>\r\n        Pages\r\n    </h1>\r\n    <hr>\r\n    <fieldset class="flex-item form">\r\n        <div class="form-group">\r\n            <input class="form-control" type="search" role="searchbox" data-bind="textInput: searchPattern, valueUpdate: \'keyup\', focus: true" placeholder="Search pages..." aria-label="Search pages" aria-controls="searchResult">\r\n            <p id="searchResult" class="text-hide" role="region" aria-live="polite" data-bind="text: `Pages found: ${pages().length}`">\r\n            </p>\r\n        </div>\r\n    </fieldset>\r\n\r\n    \x3c!-- ko if: !working() && pages().length === 0 --\x3e\r\n    <div class="flex flex-column flex-item flex-item-grow list">\r\n        \x3c!-- ko if: searchPattern() === "" --\x3e\r\n        <p class="flex-item flex-item-grow text-center">\r\n            It seems that you don\'t have pages yet.\r\n        </p>\r\n        \x3c!-- /ko --\x3e\r\n\r\n        \x3c!-- ko if: searchPattern() !== ""  --\x3e\r\n        <p class="flex-item flex-item-grow text-center">\r\n            Could not find anything. Try to change search criteria.</p>\r\n        \x3c!-- /ko --\x3e\r\n    </div>\r\n    \x3c!-- /ko --\x3e\r\n\r\n    <div class="flex flex-column flex-item flex-item-grow list" data-bind="scrollable: true">\r\n        \x3c!-- ko foreach: { data: pages, as: \'page\' } --\x3e\r\n        <div class="list-item-group">\r\n            <a href="#" role="listitem" class="list-item" data-bind="css: { selected: $component.isSelected(page) }, click: $component.selectPage, attr: { title: page.title }">\r\n                <i class="paperbits-icon paperbits-single-content-03"></i>\r\n                <span class="list-item-label" data-bind="text: title"></span>\r\n            </a>\r\n\r\n            \x3c!-- ko if: anchors() && anchors().length > 0 --\x3e\r\n            <div class="list-item-group" data-bind="foreach: anchors" role="list">\r\n                <a href="#" role="listitem" class="list-item" data-bind="click: $component.selectAnchor, attr: { title: shortTitle }">\r\n                    <i class="paperbits-icon paperbits-anchor"></i>\r\n                    <span class="list-item-label" data-bind="text: shortTitle"></span>\r\n                </a>\r\n            </div>\r\n            \x3c!-- /ko --\x3e\r\n        </div>\r\n        \x3c!-- /ko --\x3e\r\n        \x3c!-- ko if: $component.working() --\x3e\r\n        <spinner></spinner>\r\n        \x3c!-- /ko --\x3e\r\n        \x3c!-- ko ifnot: $component.working --\x3e\r\n        <div class="list-edge" data-bind="whenInView: $component.loadNextPage"></div>\r\n        \x3c!-- /ko --\x3e\r\n    </div>\r\n</div>'},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserNotSupported=void 0;const r=n(2);let a=class{constructor(){}};a=i([r.Component({selector:"browser-not-supported",template:"<div><h1>The app does not support this version of your browser, please update or use a different browser.</h1></div>"}),o("design:paramtypes",[])],a),t.BrowserNotSupported=a},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.PageHost=void 0;const a=n(0),s=n(2),l=n(45),c=n(100),u=n(8);let d=class{constructor(e,t,n,i,o,r,s){this.contentViewModelBinder=e,this.router=t,this.eventManager=n,this.viewManager=i,this.layoutService=o,this.pageService=r,this.styleCompiler=s,this.contentViewModel=a.observable(),this.pageKey=a.observable()}initialize(){return r(this,void 0,void 0,(function*(){yield this.refreshContent(),this.router.addRouteChangeListener(this.onRouteChange),this.eventManager.addEventListener("onDataPush",()=>this.onDataPush()),this.eventManager.addEventListener("onLocaleChange",()=>this.onLocaleUpdate())}))}onDataPush(){return r(this,void 0,void 0,(function*(){this.viewManager.mode!==l.ViewManagerMode.selecting&&this.viewManager.mode!==l.ViewManagerMode.selected||(yield this.refreshContent())}))}onLocaleUpdate(){return r(this,void 0,void 0,(function*(){yield this.refreshContent()}))}refreshContent(){return r(this,void 0,void 0,(function*(){this.viewManager.setShutter();const e=this.router.getCurrentRoute();let t=yield this.pageService.getPageByPermalink(e.path);if(!t&&(t=yield this.pageService.getPageByPermalink("/404"),!t))return void this.viewManager.removeShutter();const n=yield this.pageService.getPageContent(t.key);this.pageKey(t.key);const i=new u.StyleManager(this.eventManager),o=yield this.styleCompiler.getStyleSheet();i.setStyleSheet(o);const a={contentItemKey:t.key,styleManager:i,navigationPath:e.path,routeKind:"page",template:{page:{value:n,onValueUpdate:e=>r(this,void 0,void 0,(function*(){yield this.pageService.updatePageContent(t.key,e)}))}}},s=yield this.layoutService.getLayoutByPermalink(e.path),l=yield this.layoutService.getLayoutContent(s.key),c=yield this.contentViewModelBinder.getContentViewModelByKey(l,a);c.widgetBinding.provides=["html","js","interaction"],this.contentViewModel(c),this.viewManager.removeShutter()}))}onRouteChange(e){return r(this,void 0,void 0,(function*(){e.previous&&e.previous.path===e.path||(yield this.refreshContent())}))}dispose(){this.router.removeRouteChangeListener(this.onRouteChange)}};i([s.Param(),o("design:type",Function)],d.prototype,"pageKey",void 0),i([s.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],d.prototype,"initialize",null),i([s.OnDestroyed(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],d.prototype,"dispose",null),d=i([s.Component({selector:"page-host",template:"\x3c!-- ko if: contentViewModel --\x3e\x3c!-- ko widget: contentViewModel, grid: {} --\x3e\x3c!-- /ko --\x3e\x3c!-- /ko --\x3e"}),o("design:paramtypes",[c.ContentViewModelBinder,Object,Object,Object,Object,Object,Object])],d),t.PageHost=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PagesToolButton=void 0,t.PagesToolButton=class{constructor(e){this.viewManager=e,this.iconClass="paperbits-icon paperbits-menu-4",this.title="Pages"}onActivate(){this.viewManager.clearJourney();const e={heading:this.title,helpText:"<h1>Pages</h1><p>Add or edit pages of your website. Each page has a unique URL, which also automatically defines the layout it is part of.</p>",component:{name:"pages"}};this.viewManager.openViewAsWorkshop(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediaWorkshopModule=void 0;const i=n(780),o=n(782),r=n(784),a=n(283),s=n(788),l=n(134);t.MediaWorkshopModule=class{register(e){e.bind("mediaWorkshop",i.MediaWorkshop),e.bind("mediaDetailsWorkshop",o.MediaDetailsWorkshop),e.bind("mediaSelector",r.MediaSelector),e.bind("pictureCropper",a.PictureCropper),e.bindToCollection("hyperlinkProviders",l.MediaHyperlinkProvider),e.bindToCollection("workshopSections",s.MediaToolButton)}}},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.MediaWorkshop=void 0;const a=n(0),s=n(6),l=n(781),c=n(87),u=n(93),d=n(2),p=n(17),h=n(23);let f=class{constructor(e,t,n,i){this.eventManager=e,this.mediaService=t,this.viewManager=n,this.widgetService=i,this.working=a.observable(!1),this.mediaItems=a.observableArray(),this.searchPattern=a.observable(""),this.selectedMediaItem=a.observable()}initialize(){return r(this,void 0,void 0,(function*(){yield this.searchMedia(),this.searchPattern.extend(p.ChangeRateLimit).subscribe(this.searchMedia)}))}searchMedia(e=""){return r(this,void 0,void 0,(function*(){this.working(!0),this.mediaItems([]);const t=h.Query.from().orderBy("fileName");e&&t.where("fileName",h.Operator.contains,e);const n=yield this.mediaService.search(t);this.currentPage=n;const i=n.value.map(e=>new c.MediaItem(e));this.mediaItems.push(...i),this.working(!1)}))}loadNextPage(){var e;return r(this,void 0,void 0,(function*(){if(!(null===(e=this.currentPage)||void 0===e?void 0:e.takeNext)||this.working())return;this.working(!0),this.currentPage=yield this.currentPage.takeNext();const t=this.currentPage.value.map(e=>new c.MediaItem(e));this.mediaItems.push(...t),this.working(!1)}))}uploadMedia(){return r(this,void 0,void 0,(function*(){const e=yield this.viewManager.openUploadDialog();this.working(!0);const t=[];for(const n of e){const e=yield s.readFileAsByteArray(n),i=this.mediaService.createMedia(n.name,e,n.type);this.viewManager.notifyProgress(i,"Media library",`Uploading ${n.name}...`),t.push(i)}yield Promise.all(t),yield this.searchMedia(),this.working(!1)}))}linkMedia(){return r(this,void 0,void 0,(function*(){const e=yield this.mediaService.createMediaUrl(c.defaultFileName,c.defaultURL,"image/svg+xml"),t=new c.MediaItem(e);this.mediaItems.push(t),this.selectMedia(t)}))}selectMedia(e){this.selectedMediaItem(e);const t={heading:"Media file",component:{name:"media-details-workshop",params:{mediaItem:e,onDeleteCallback:()=>{this.searchMedia()}}}};this.viewManager.openViewAsWorkshop(t)}deleteSelectedMedia(){return r(this,void 0,void 0,(function*(){this.viewManager.closeWorkshop("media-details-workshop"),yield this.mediaService.deleteMedia(this.selectedMediaItem().toMedia()),yield this.searchMedia()}))}onDragStart(e){e.widgetFactoryResult=e.widgetOrder.createWidget();const t=e.widgetFactoryResult.element,n=e.widgetFactoryResult.widgetModel,i=e.widgetFactoryResult.widgetBinding;return this.viewManager.beginDrag({sourceModel:n,sourceBinding:i}),t}onDragEnd(e){e.widgetFactoryResult.element.remove();const t=this.viewManager.getDragSession(),n=t.targetBinding;n&&n.handler&&this.widgetService.getWidgetHandler(n.handler).onDragDrop(t),this.eventManager.dispatchEvent("virtualDragEnd")}onKeyDown(e,t){t.keyCode===u.Keys.Delete&&this.deleteSelectedMedia()}isSelected(e){const t=this.selectedMediaItem();return(null==t?void 0:t.key)===e.key}};i([d.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],f.prototype,"initialize",null),f=i([d.Component({selector:"media",template:l.default}),o("design:paramtypes",[Object,Object,Object,Object])],f),t.MediaWorkshop=f},function(e,t,n){"use strict";n.r(t),t.default='<div class="flex flex-column fit">\r\n    <fieldset class="flex-item form">\r\n        <div class="form-group">\r\n            <input class="form-control" type="search" role="searchbox" data-bind="textInput: searchPattern, valueUpdate: \'keyup\', focus: true" placeholder="Search media..." aria-label="Search media" aria-controls="searchResult">\r\n            <p id="searchResult" class="text-hide" role="region" aria-live="polite" data-bind="text: `Media files found: ${mediaItems().length}`">\r\n            </p>\r\n        </div>\r\n    </fieldset>\r\n\r\n    \x3c!-- ko if: !working() && mediaItems().length === 0 --\x3e\r\n\r\n    \x3c!-- ko if: searchPattern() === "" --\x3e\r\n    <p class="flex-item flex-item-grow text-center">It seems that you don\'t have media yet. Would you like to\r\n        <a href="#" class="btn-link" data-bind="click: uploadMedia">upload one</a>?\r\n    </p>\r\n    \x3c!-- /ko --\x3e\r\n\r\n    \x3c!-- ko if: searchPattern() !== "" --\x3e\r\n    <p class="flex-item flex-item-grow text-center">Could not find anything. Try to change search criteria.</p>\r\n    \x3c!-- /ko --\x3e\r\n\r\n    \x3c!-- /ko --\x3e\r\n\r\n    <div class="flex flex-row flex-wrap flex-item flex-item-grow" role="list" data-bind="scrollable: true">\r\n        \x3c!-- ko foreach: { data: mediaItems, as: \'media\' } --\x3e\r\n        <a href="#" role="listitem" class="list-item list-item-image" data-bind="click: $component.selectMedia, css: { selected: $component.isSelected(media) }, attr: { \'aria-label\': media.fileName() },\r\n            balloon: { activateOn: \'hoverOrFocus\', delay: 800, position: \'right\', component: { name: \'media-display\', params: { item: media }}}">\r\n            <span class="thumbnail" data-bind="style: { \'background-image\': \'url(\'+media.thumbnailUrl()+\')\' }, attr: { title: media.fileName() }, event: { keydown: $component.onKeyDown }">\r\n            </span>\r\n        </a>\r\n        \x3c!-- /ko --\x3e\r\n        \x3c!-- ko if: $component.working --\x3e\r\n        <spinner></spinner>\r\n        \x3c!-- /ko --\x3e\r\n        \x3c!-- ko ifnot: $component.working --\x3e\r\n        <div class="list-edge" data-bind="whenInView: $component.loadNextPage"></div>\r\n        \x3c!-- /ko --\x3e\r\n    </div>\r\n\r\n    <div class="flex-item btn-group">\r\n        <button class="btn" data-bind="click: uploadMedia">\r\n            <i class="paperbits-icon paperbits-square-upload"></i>\r\n            Upload file\r\n        </button>\r\n        <button class="btn" data-bind="click: linkMedia">\r\n            <i class="paperbits-icon paperbits-link-69-2"></i>\r\n            Link file\r\n        </button>\r\n    </div>\r\n</div>'},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.MediaDetailsWorkshop=void 0;const a=n(282),s=n(783),l=n(87),c=n(2),u=n(17);let d=class{constructor(e,t){this.mediaService=e,this.viewManager=t,this.contentTypes=["image/gif","image/jpeg","image/png","image/tiff","image/x-icon","image/svg+xml","video/mpeg","video/mp4","video/quicktime","video/x-ms-wmv","video/x-msvideo","video/x-flv","video/webm"]}onMounted(){return r(this,void 0,void 0,(function*(){this.mediaItem.fileName.extend(u.ChangeRateLimit).extend({required:!0,onlyValid:!0}).subscribe(this.updateMedia),this.mediaItem.downloadUrl.extend(u.ChangeRateLimit).extend({required:!0,onlyValid:!0}).subscribe(this.updateMediaUrl),this.mediaItem.contentType.extend(u.ChangeRateLimit).extend({required:!0,onlyValid:!0}).subscribe(this.updateMedia),this.mediaItem.description.extend(u.ChangeRateLimit).subscribe(this.updateMedia),this.mediaItem.keywords.extend(u.ChangeRateLimit).subscribe(this.updateMedia),this.mediaItem.permalink.extend(u.ChangeRateLimit).extend({required:!0,validPermalink:this.mediaItem.key,onlyValid:!0}).subscribe(this.updateMedia)}))}updateMediaUrl(){return r(this,void 0,void 0,(function*(){if(this.mediaItem.isDefaultFileName()&&!this.mediaItem.isDefaultUrl()){const e=this.mediaItem.downloadUrl().split("/").pop();this.mediaItem.updateDefault(e)}yield this.updateMedia()}))}updateMedia(){return r(this,void 0,void 0,(function*(){yield this.mediaService.updateMedia(this.mediaItem.toMedia())}))}deleteMedia(){return r(this,void 0,void 0,(function*(){yield this.mediaService.deleteMedia(this.mediaItem.toMedia()),this.viewManager.notifySuccess("Media library",`File "${this.mediaItem.fileName()}" was deleted.`),this.viewManager.closeWorkshop("media-details-workshop"),this.onDeleteCallback&&this.onDeleteCallback()}))}downloadMedia(){return r(this,void 0,void 0,(function*(){a.saveAs(this.mediaItem.downloadUrl(),this.mediaItem.fileName(),{type:this.mediaItem.contentType()})}))}openCropper(){this.viewManager.openViewAsPopup({heading:"Edit picture",component:{name:"picture-cropper",params:{mediaItem:this.mediaItem}},resize:"vertically horizontally"})}};i([c.Param(),o("design:type",l.MediaItem)],d.prototype,"mediaItem",void 0),i([c.Event(),o("design:type",Function)],d.prototype,"onDeleteCallback",void 0),i([c.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],d.prototype,"onMounted",null),d=i([c.Component({selector:"media-details-workshop",template:s.default}),o("design:paramtypes",[Object,Object])],d),t.MediaDetailsWorkshop=d},function(e,t,n){"use strict";n.r(t),t.default='<div class="flex flex-column fit">\r\n    <fieldset class="flex-item flex-item-grow form" data-bind="scrollable: true">\r\n        <div class="form-group">\r\n            <label for="fileName" class="form-label">\r\n                Name\r\n            </label>\r\n            <div class="input-group">\r\n                <input type="text" id="fileName" class="form-control" data-bind="textInput: mediaItem.fileName, validationElement: mediaItem.fileName" placeholder="i.e. Orders" maxlength="256">\r\n                <button class="btn btn-danger input-group-btn" data-bind="validationMessageToggle: mediaItem.fileName" type="button">!</button>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="form-group">\r\n            <label for="permalink" class="form-label">\r\n                Permalink\r\n            </label>\r\n            <div class="input-group">\r\n                <input type="text" id="permalink" class="form-control" data-bind="textInput: mediaItem.permalink, validationElement: mediaItem.permalink" placeholder="http://www.site.com/" maxlength="2000" spellcheck="false">\r\n                <button class="btn btn-danger input-group-btn" data-bind="validationMessageToggle: mediaItem.permalink" type="button">!</button>\r\n            </div>\r\n        </div>\r\n\r\n        \x3c!-- ko ifnot: mediaItem.blobKey  --\x3e\r\n        <div class="form-group">\r\n            <label for="downloadUrl" class="form-label">\r\n                Reference URL\r\n            </label>\r\n            <div class="input-group">\r\n                <input type="text" id="downloadUrl" class="form-control" data-bind="textInput: mediaItem.downloadUrl, validationElement: mediaItem.downloadUrl" placeholder="https://cdn.paperbits.io/images/logo.svg" maxlength="2000" spellcheck="false">\r\n                <button class="btn btn-danger input-group-btn" data-bind="validationMessageToggle: mediaItem.downloadUrl" type="button">!</button>\r\n            </div>\r\n        </div>\r\n        <div class="form-group">\r\n            <label for="contentType" class="form-label">\r\n                Content type\r\n            </label>\r\n            <select id="contentType" class="form-control" data-bind="options: contentTypes, value: mediaItem.contentType"></select>\r\n        </div>\r\n        \x3c!-- /ko --\x3e\r\n\r\n        <div class="form-group">\r\n            <label for="description" class="form-label">\r\n                Description\r\n            </label>\r\n            <textarea id="description" class="form-control" data-bind="textInput: mediaItem.description" maxlength="256"></textarea>\r\n        </div>\r\n\r\n        <div class="form-group">\r\n            <label for="keywords" class="form-label">\r\n                Keywords\r\n            </label>\r\n            <input type="text" id="keywords" class="form-control" data-bind="textInput: mediaItem.keywords" maxlength="256">\r\n        </div>\r\n    </fieldset>\r\n\r\n    <div class="flex-item btn-group">\r\n        \x3c!-- ko if: mediaItem.blobKey  --\x3e\r\n        <button class="btn" data-bind="click: openCropper">\r\n            <i class="paperbits-icon paperbits-crop"></i>\r\n            Crop\r\n        </button>\r\n        \x3c!-- /ko --\x3e\r\n\r\n        <button class="btn" data-bind="click: downloadMedia">\r\n            <i class="paperbits-icon paperbits-square-download"></i>\r\n            Download\r\n        </button>\r\n\r\n        <button class="btn" data-bind="confirm: { message: \'Are you sure you want to delete this media?\', onConfirm: deleteMedia }">\r\n            <i class="paperbits-icon paperbits-simple-remove"></i>\r\n            Delete\r\n        </button>\r\n    </div>\r\n</div>'},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.MediaSelector=void 0;const a=n(0),s=n(6),l=n(785),c=n(87),u=n(2),d=n(17),p=n(23);let h=class{constructor(e,t,n,i){this.eventManager=e,this.mediaService=t,this.viewManager=n,this.widgetService=i,this.mediaItems=a.observableArray(),this.selectedMedia=a.observable(),this.searchPattern=a.observable(),this.working=a.observable(!1)}initialize(){return r(this,void 0,void 0,(function*(){yield this.searchMedia(),this.searchPattern.extend(d.ChangeRateLimit).subscribe(this.searchMedia)}))}searchMedia(e=""){return r(this,void 0,void 0,(function*(){this.working(!0),this.mediaItems([]);const t=p.Query.from().orderBy("fileName");e&&t.where("fileName",p.Operator.contains,e);const n=yield this.mediaService.search(t);this.currentPage=n;const i=n.value.map(e=>new c.MediaItem(e));this.mediaItems.push(...i),this.working(!1)}))}loadNextPage(){var e;return r(this,void 0,void 0,(function*(){if(!(null===(e=this.currentPage)||void 0===e?void 0:e.takeNext)||this.working())return;this.working(!0),this.currentPage=yield this.currentPage.takeNext();const t=this.currentPage.value.map(e=>new c.MediaItem(e));this.mediaItems.push(...t),this.working(!1)}))}selectMedia(e){this.selectedMedia(e),this.onSelect&&this.onSelect(e.toMedia()),this.onHyperlinkSelect&&this.onHyperlinkSelect(e.getHyperlink())}selectNone(){this.selectedMedia(void 0),this.onSelect&&this.onSelect(null)}onMediaUploaded(){this.searchMedia()}uploadMedia(){return r(this,void 0,void 0,(function*(){const e=yield this.viewManager.openUploadDialog();this.working(!0);const t=[];for(const o of e){const e=yield s.readFileAsByteArray(o),n=this.mediaService.createMedia(o.name,e,o.type);this.viewManager.notifyProgress(n,"Media library",`Uploading ${o.name}...`),t.push(n)}const n=yield Promise.all(t);yield this.searchMedia();const i=new c.MediaItem(n[0]);this.selectMedia(i),this.working(!1)}))}onDragStart(e){e.widgetFactoryResult=e.widgetOrder.createWidget();const t=e.widgetFactoryResult.element,n=e.widgetFactoryResult.widgetModel,i=e.widgetFactoryResult.widgetBinding;return this.viewManager.beginDrag({sourceModel:n,sourceBinding:i}),t}onDragEnd(e){e.widgetFactoryResult.element.remove();const t=this.viewManager.getDragSession(),n=t.targetBinding;n&&n.handler&&this.widgetService.getWidgetHandler(n.handler).onDragDrop(t),this.eventManager.dispatchEvent("virtualDragEnd")}isSelected(e){const t=this.selectedMedia();return(null==t?void 0:t.key)===e.key}};i([u.Param(),o("design:type",Function)],h.prototype,"selectedMedia",void 0),i([u.Param(),o("design:type",String)],h.prototype,"mimeType",void 0),i([u.Event(),o("design:type",Function)],h.prototype,"onSelect",void 0),i([u.Event(),o("design:type",Function)],h.prototype,"onHyperlinkSelect",void 0),i([u.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],h.prototype,"initialize",null),h=i([u.Component({selector:"media-selector",template:l.default}),o("design:paramtypes",[Object,Object,Object,Object])],h),t.MediaSelector=h},function(e,t,n){"use strict";n.r(t),t.default='<div class="editor">\r\n    <h1>\r\n        Media\r\n    </h1>\r\n    <hr>\r\n\r\n    <fieldset class="flex-item form">\r\n        <div class="form-group">\r\n            <input class="form-control" type="search" role="searchbox" data-bind="textInput: searchPattern, valueUpdate: \'keyup\', focus: true" placeholder="Search media..." aria-label="Search media" aria-controls="searchResult">\r\n            <p id="searchResult" class="text-hide" role="region" aria-live="polite" data-bind="text: `Media files found: ${mediaItems().length}`">\r\n            </p>\r\n        </div>\r\n    </fieldset>\r\n\r\n    \x3c!-- ko if: !working() && mediaItems().length === 0 --\x3e\r\n    <div class="flex flex-column flex-item flex-item-grow list">\r\n        \x3c!-- ko if: searchPattern() === "" --\x3e\r\n        <p class="flex-item flex-item-grow text-center">It seems that you don\'t have media yet. Would you like to\r\n            <a href="#" class="btn-link" data-bind="click: uploadMedia">upload one</a>?\r\n        </p>\r\n        \x3c!-- /ko --\x3e\r\n\r\n        \x3c!-- ko if: searchPattern() !== ""  --\x3e\r\n        <p class="flex-item flex-item-grow text-center">Could not find anything. Try to change search criteria.</p>\r\n        \x3c!-- /ko --\x3e\r\n    </div>\r\n\r\n    \x3c!-- /ko --\x3e\r\n\r\n    <div class="list flex flex-column">\r\n        <div class="flex flex-row flex-wrap flex-item flex-item-grow" role="list" data-bind="scrollable: true">\r\n            \x3c!-- ko foreach: { data: mediaItems, as: \'media\' } --\x3e\r\n            <a href="#" role="listitem" class="list-item list-item-image" data-bind="click: $component.selectMedia, css: { selected: $component.isSelected(media) }, attr: { \'aria-label\': media.fileName() },\r\n            balloon: { activateOn: \'hoverOrFocus\', delay: 800, position: \'right\', component: { name: \'media-display\', params: { item: media }}}">\r\n                <span class="thumbnail" data-bind="style: { \'background-image\': \'url(\'+media.thumbnailUrl()+\')\' }, attr: { title: media.fileName() }, event: { keydown: $component.onKeyDown }">\r\n                </span>\r\n            </a>\r\n            \x3c!-- /ko --\x3e\r\n            \x3c!-- ko if: $component.working() --\x3e\r\n            <spinner></spinner>\r\n            \x3c!-- /ko --\x3e\r\n            \x3c!-- ko ifnot: $component.working --\x3e\r\n            <div class="list-edge" data-bind="whenInView: $component.loadNextPage"></div>\r\n            \x3c!-- /ko --\x3e\r\n        </div>\r\n\r\n        <div class="flex-item btn-group">\r\n            <button class="btn" data-bind="click: $component.uploadMedia">\r\n                <i class="paperbits-icon paperbits-square-upload"></i>\r\n                Upload file\r\n            </button>\r\n            <button class="btn" data-bind="click: $component.selectNone">\r\n                <i class="paperbits-icon paperbits-ban"></i>\r\n                None\r\n            </button>\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t,n){e.exports=function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var l="undefined"!=typeof window&&void 0!==window.document,c=l?window:{},u=!(!l||!c.document.documentElement)&&"ontouchstart"in c.document.documentElement,d=!!l&&"PointerEvent"in c,p="".concat("cropper","-crop"),h="".concat("cropper","-disabled"),f="".concat("cropper","-hidden"),m="".concat("cropper","-hide"),v="".concat("cropper","-invisible"),g="".concat("cropper","-modal"),y="".concat("cropper","-move"),b="".concat("cropper","Action"),x="".concat("cropper","Preview"),w=d?"pointerdown":u?"touchstart":"mousedown",S=d?"pointermove":u?"touchmove":"mousemove",k=d?"pointerup pointercancel":u?"touchend touchcancel":"mouseup",C=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,M=/^data:/,_=/^data:image\/jpeg;base64,/,O=/^img|canvas$/i,P={viewMode:0,dragMode:"crop",initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},E=Number.isNaN||c.isNaN;function T(e){return"number"==typeof e&&!E(e)}var j=function(e){return e>0&&e<1/0};function R(e){return void 0===e}function N(t){return"object"===e(t)&&null!==t}var A=Object.prototype.hasOwnProperty;function D(e){if(!N(e))return!1;try{var t=e.constructor,n=t.prototype;return t&&n&&A.call(n,"isPrototypeOf")}catch(i){return!1}}function B(e){return"function"==typeof e}var I=Array.prototype.slice;function L(e){return Array.from?Array.from(e):I.call(e)}function U(e,t){return e&&B(t)&&(Array.isArray(e)||T(e.length)?L(e).forEach((function(n,i){t.call(e,n,i,e)})):N(e)&&Object.keys(e).forEach((function(n){t.call(e,e[n],n,e)}))),e}var F=Object.assign||function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return N(e)&&n.length>0&&n.forEach((function(t){N(t)&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e},z=/\.\d*(?:0|9){12}\d*$/;function H(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return z.test(e)?Math.round(e*t)/t:e}var V=/^width|height|left|top|marginLeft|marginTop$/;function W(e,t){var n=e.style;U(t,(function(e,t){V.test(t)&&T(e)&&(e="".concat(e,"px")),n[t]=e}))}function $(e,t){if(t)if(T(e.length))U(e,(function(e){$(e,t)}));else if(e.classList)e.classList.add(t);else{var n=e.className.trim();n?n.indexOf(t)<0&&(e.className="".concat(n," ").concat(t)):e.className=t}}function K(e,t){t&&(T(e.length)?U(e,(function(e){K(e,t)})):e.classList?e.classList.remove(t):e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,"")))}function G(e,t,n){t&&(T(e.length)?U(e,(function(e){G(e,t,n)})):n?$(e,t):K(e,t))}var q=/([a-z\d])([A-Z])/g;function Y(e){return e.replace(q,"$1-$2").toLowerCase()}function X(e,t){return N(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(Y(t)))}function J(e,t,n){N(n)?e[t]=n:e.dataset?e.dataset[t]=n:e.setAttribute("data-".concat(Y(t)),n)}var Q=/\s\s*/,Z=function(){var e=!1;if(l){var t=!1,n=function(){},i=Object.defineProperty({},"once",{get:function(){return e=!0,t},set:function(e){t=e}});c.addEventListener("test",n,i),c.removeEventListener("test",n,i)}return e}();function ee(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=n;t.trim().split(Q).forEach((function(t){if(!Z){var r=e.listeners;r&&r[t]&&r[t][n]&&(o=r[t][n],delete r[t][n],0===Object.keys(r[t]).length&&delete r[t],0===Object.keys(r).length&&delete e.listeners)}e.removeEventListener(t,o,i)}))}function te(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=n;t.trim().split(Q).forEach((function(t){if(i.once&&!Z){var r=e.listeners,a=void 0===r?{}:r;o=function(){delete a[t][n],e.removeEventListener(t,o,i);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];n.apply(e,s)},a[t]||(a[t]={}),a[t][n]&&e.removeEventListener(t,a[t][n],i),a[t][n]=o,e.listeners=a}e.addEventListener(t,o,i)}))}function ne(e,t,n){var i;return B(Event)&&B(CustomEvent)?i=new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0}):(i=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,n),e.dispatchEvent(i)}function ie(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var oe=c.location,re=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function ae(e){var t=e.match(re);return null!==t&&(t[1]!==oe.protocol||t[2]!==oe.hostname||t[3]!==oe.port)}function se(e){var t="timestamp=".concat((new Date).getTime());return e+(-1===e.indexOf("?")?"?":"&")+t}function le(e){var t=e.rotate,n=e.scaleX,i=e.scaleY,o=e.translateX,r=e.translateY,a=[];T(o)&&0!==o&&a.push("translateX(".concat(o,"px)")),T(r)&&0!==r&&a.push("translateY(".concat(r,"px)")),T(t)&&0!==t&&a.push("rotate(".concat(t,"deg)")),T(n)&&1!==n&&a.push("scaleX(".concat(n,")")),T(i)&&1!==i&&a.push("scaleY(".concat(i,")"));var s=a.length?a.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function ce(e,t){var n=e.pageX,i=e.pageY,o={endX:n,endY:i};return t?o:r({startX:n,startY:i},o)}function ue(e){var t=e.aspectRatio,n=e.height,i=e.width,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",r=j(i),a=j(n);if(r&&a){var s=n*t;"contain"===o&&s>i||"cover"===o&&s<i?n=i/t:i=n*t}else r?n=i/t:a&&(i=n*t);return{width:i,height:n}}function de(e,t,n,i){var o=t.aspectRatio,r=t.naturalWidth,s=t.naturalHeight,l=t.rotate,c=void 0===l?0:l,u=t.scaleX,d=void 0===u?1:u,p=t.scaleY,h=void 0===p?1:p,f=n.aspectRatio,m=n.naturalWidth,v=n.naturalHeight,g=i.fillColor,y=void 0===g?"transparent":g,b=i.imageSmoothingEnabled,x=void 0===b||b,w=i.imageSmoothingQuality,S=void 0===w?"low":w,k=i.maxWidth,C=void 0===k?1/0:k,M=i.maxHeight,_=void 0===M?1/0:M,O=i.minWidth,P=void 0===O?0:O,E=i.minHeight,T=void 0===E?0:E,j=document.createElement("canvas"),R=j.getContext("2d"),N=ue({aspectRatio:f,width:C,height:_}),A=ue({aspectRatio:f,width:P,height:T},"cover"),D=Math.min(N.width,Math.max(A.width,m)),B=Math.min(N.height,Math.max(A.height,v)),I=ue({aspectRatio:o,width:C,height:_}),L=ue({aspectRatio:o,width:P,height:T},"cover"),U=Math.min(I.width,Math.max(L.width,r)),F=Math.min(I.height,Math.max(L.height,s)),z=[-U/2,-F/2,U,F];return j.width=H(D),j.height=H(B),R.fillStyle=y,R.fillRect(0,0,D,B),R.save(),R.translate(D/2,B/2),R.rotate(c*Math.PI/180),R.scale(d,h),R.imageSmoothingEnabled=x,R.imageSmoothingQuality=S,R.drawImage.apply(R,[e].concat(a(z.map((function(e){return Math.floor(H(e))}))))),R.restore(),j}var pe=String.fromCharCode;var he=/^data:.*,/;function fe(e){var t,n=new DataView(e);try{var i,o,r;if(255===n.getUint8(0)&&216===n.getUint8(1))for(var a=n.byteLength,s=2;s+1<a;){if(255===n.getUint8(s)&&225===n.getUint8(s+1)){o=s;break}s+=1}if(o){var l=o+10;if("Exif"===function(e,t,n){var i="";n+=t;for(var o=t;o<n;o+=1)i+=pe(e.getUint8(o));return i}(n,o+4,4)){var c=n.getUint16(l);if(((i=18761===c)||19789===c)&&42===n.getUint16(l+2,i)){var u=n.getUint32(l+4,i);u>=8&&(r=l+u)}}}if(r){var d,p,h=n.getUint16(r,i);for(p=0;p<h;p+=1)if(d=r+12*p+2,274===n.getUint16(d,i)){d+=8,t=n.getUint16(d,i),n.setUint16(d,1,i);break}}}catch(f){t=1}return t}var me={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,t=this.options,n=this.container,i=this.cropper,o=Number(t.minContainerWidth),r=Number(t.minContainerHeight);$(i,f),K(e,f);var a={width:Math.max(n.offsetWidth,o>=0?o:200),height:Math.max(n.offsetHeight,r>=0?r:100)};this.containerData=a,W(i,{width:a.width,height:a.height}),$(e,f),K(i,f)},initCanvas:function(){var e=this.containerData,t=this.imageData,n=this.options.viewMode,i=Math.abs(t.rotate)%180==90,o=i?t.naturalHeight:t.naturalWidth,r=i?t.naturalWidth:t.naturalHeight,a=o/r,s=e.width,l=e.height;e.height*a>e.width?3===n?s=e.height*a:l=e.width/a:3===n?l=e.width/a:s=e.height*a;var c={aspectRatio:a,naturalWidth:o,naturalHeight:r,width:s,height:l};this.canvasData=c,this.limited=1===n||2===n,this.limitCanvas(!0,!0),c.width=Math.min(Math.max(c.width,c.minWidth),c.maxWidth),c.height=Math.min(Math.max(c.height,c.minHeight),c.maxHeight),c.left=(e.width-c.width)/2,c.top=(e.height-c.height)/2,c.oldLeft=c.left,c.oldTop=c.top,this.initialCanvasData=F({},c)},limitCanvas:function(e,t){var n=this.options,i=this.containerData,o=this.canvasData,r=this.cropBoxData,a=n.viewMode,s=o.aspectRatio,l=this.cropped&&r;if(e){var c=Number(n.minCanvasWidth)||0,u=Number(n.minCanvasHeight)||0;a>1?(c=Math.max(c,i.width),u=Math.max(u,i.height),3===a&&(u*s>c?c=u*s:u=c/s)):a>0&&(c?c=Math.max(c,l?r.width:0):u?u=Math.max(u,l?r.height:0):l&&(c=r.width,(u=r.height)*s>c?c=u*s:u=c/s));var d=ue({aspectRatio:s,width:c,height:u});c=d.width,u=d.height,o.minWidth=c,o.minHeight=u,o.maxWidth=1/0,o.maxHeight=1/0}if(t)if(a>(l?0:1)){var p=i.width-o.width,h=i.height-o.height;o.minLeft=Math.min(0,p),o.minTop=Math.min(0,h),o.maxLeft=Math.max(0,p),o.maxTop=Math.max(0,h),l&&this.limited&&(o.minLeft=Math.min(r.left,r.left+(r.width-o.width)),o.minTop=Math.min(r.top,r.top+(r.height-o.height)),o.maxLeft=r.left,o.maxTop=r.top,2===a&&(o.width>=i.width&&(o.minLeft=Math.min(0,p),o.maxLeft=Math.max(0,p)),o.height>=i.height&&(o.minTop=Math.min(0,h),o.maxTop=Math.max(0,h))))}else o.minLeft=-o.width,o.minTop=-o.height,o.maxLeft=i.width,o.maxTop=i.height},renderCanvas:function(e,t){var n=this.canvasData,i=this.imageData;if(t){var o=function(e){var t=e.width,n=e.height,i=e.degree;if(90==(i=Math.abs(i)%180))return{width:n,height:t};var o=i%90*Math.PI/180,r=Math.sin(o),a=Math.cos(o),s=t*a+n*r,l=t*r+n*a;return i>90?{width:l,height:s}:{width:s,height:l}}({width:i.naturalWidth*Math.abs(i.scaleX||1),height:i.naturalHeight*Math.abs(i.scaleY||1),degree:i.rotate||0}),r=o.width,a=o.height,s=n.width*(r/n.naturalWidth),l=n.height*(a/n.naturalHeight);n.left-=(s-n.width)/2,n.top-=(l-n.height)/2,n.width=s,n.height=l,n.aspectRatio=r/a,n.naturalWidth=r,n.naturalHeight=a,this.limitCanvas(!0,!1)}(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCanvas(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,W(this.canvas,F({width:n.width,height:n.height},le({translateX:n.left,translateY:n.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var t=this.canvasData,n=this.imageData,i=n.naturalWidth*(t.width/t.naturalWidth),o=n.naturalHeight*(t.height/t.naturalHeight);F(n,{width:i,height:o,left:(t.width-i)/2,top:(t.height-o)/2}),W(this.image,F({width:n.width,height:n.height},le(F({translateX:n.left,translateY:n.top},n)))),e&&this.output()},initCropBox:function(){var e=this.options,t=this.canvasData,n=e.aspectRatio||e.initialAspectRatio,i=Number(e.autoCropArea)||.8,o={width:t.width,height:t.height};n&&(t.height*n>t.width?o.height=o.width/n:o.width=o.height*n),this.cropBoxData=o,this.limitCropBox(!0,!0),o.width=Math.min(Math.max(o.width,o.minWidth),o.maxWidth),o.height=Math.min(Math.max(o.height,o.minHeight),o.maxHeight),o.width=Math.max(o.minWidth,o.width*i),o.height=Math.max(o.minHeight,o.height*i),o.left=t.left+(t.width-o.width)/2,o.top=t.top+(t.height-o.height)/2,o.oldLeft=o.left,o.oldTop=o.top,this.initialCropBoxData=F({},o)},limitCropBox:function(e,t){var n=this.options,i=this.containerData,o=this.canvasData,r=this.cropBoxData,a=this.limited,s=n.aspectRatio;if(e){var l=Number(n.minCropBoxWidth)||0,c=Number(n.minCropBoxHeight)||0,u=a?Math.min(i.width,o.width,o.width+o.left,i.width-o.left):i.width,d=a?Math.min(i.height,o.height,o.height+o.top,i.height-o.top):i.height;l=Math.min(l,i.width),c=Math.min(c,i.height),s&&(l&&c?c*s>l?c=l/s:l=c*s:l?c=l/s:c&&(l=c*s),d*s>u?d=u/s:u=d*s),r.minWidth=Math.min(l,u),r.minHeight=Math.min(c,d),r.maxWidth=u,r.maxHeight=d}t&&(a?(r.minLeft=Math.max(0,o.left),r.minTop=Math.max(0,o.top),r.maxLeft=Math.min(i.width,o.left+o.width)-r.width,r.maxTop=Math.min(i.height,o.top+o.height)-r.height):(r.minLeft=0,r.minTop=0,r.maxLeft=i.width-r.width,r.maxTop=i.height-r.height))},renderCropBox:function(){var e=this.options,t=this.containerData,n=this.cropBoxData;(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCropBox(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,e.movable&&e.cropBoxMovable&&J(this.face,b,n.width>=t.width&&n.height>=t.height?"move":"all"),W(this.cropBox,F({width:n.width,height:n.height},le({translateX:n.left,translateY:n.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),ne(this.element,"crop",this.getData())}},ve={initPreview:function(){var e=this.element,t=this.crossOrigin,n=this.options.preview,i=t?this.crossOriginUrl:this.url,o=e.alt||"The image to preview",r=document.createElement("img");if(t&&(r.crossOrigin=t),r.src=i,r.alt=o,this.viewBox.appendChild(r),this.viewBoxImage=r,n){var a=n;"string"==typeof n?a=e.ownerDocument.querySelectorAll(n):n.querySelector&&(a=[n]),this.previews=a,U(a,(function(e){var n=document.createElement("img");J(e,x,{width:e.offsetWidth,height:e.offsetHeight,html:e.innerHTML}),t&&(n.crossOrigin=t),n.src=i,n.alt=o,n.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',e.innerHTML="",e.appendChild(n)}))}},resetPreview:function(){U(this.previews,(function(e){var t=X(e,x);W(e,{width:t.width,height:t.height}),e.innerHTML=t.html,function(e,t){if(N(e[t]))try{delete e[t]}catch(n){e[t]=void 0}else if(e.dataset)try{delete e.dataset[t]}catch(n){e.dataset[t]=void 0}else e.removeAttribute("data-".concat(Y(t)))}(e,x)}))},preview:function(){var e=this.imageData,t=this.canvasData,n=this.cropBoxData,i=n.width,o=n.height,r=e.width,a=e.height,s=n.left-t.left-e.left,l=n.top-t.top-e.top;this.cropped&&!this.disabled&&(W(this.viewBoxImage,F({width:r,height:a},le(F({translateX:-s,translateY:-l},e)))),U(this.previews,(function(t){var n=X(t,x),c=n.width,u=n.height,d=c,p=u,h=1;i&&(p=o*(h=c/i)),o&&p>u&&(d=i*(h=u/o),p=u),W(t,{width:d,height:p}),W(t.getElementsByTagName("img")[0],F({width:r*h,height:a*h},le(F({translateX:-s*h,translateY:-l*h},e))))})))}},ge={bind:function(){var e=this.element,t=this.options,n=this.cropper;B(t.cropstart)&&te(e,"cropstart",t.cropstart),B(t.cropmove)&&te(e,"cropmove",t.cropmove),B(t.cropend)&&te(e,"cropend",t.cropend),B(t.crop)&&te(e,"crop",t.crop),B(t.zoom)&&te(e,"zoom",t.zoom),te(n,w,this.onCropStart=this.cropStart.bind(this)),t.zoomable&&t.zoomOnWheel&&te(n,"wheel",this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&te(n,"dblclick",this.onDblclick=this.dblclick.bind(this)),te(e.ownerDocument,S,this.onCropMove=this.cropMove.bind(this)),te(e.ownerDocument,k,this.onCropEnd=this.cropEnd.bind(this)),t.responsive&&te(window,"resize",this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,t=this.options,n=this.cropper;B(t.cropstart)&&ee(e,"cropstart",t.cropstart),B(t.cropmove)&&ee(e,"cropmove",t.cropmove),B(t.cropend)&&ee(e,"cropend",t.cropend),B(t.crop)&&ee(e,"crop",t.crop),B(t.zoom)&&ee(e,"zoom",t.zoom),ee(n,w,this.onCropStart),t.zoomable&&t.zoomOnWheel&&ee(n,"wheel",this.onWheel,{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&ee(n,"dblclick",this.onDblclick),ee(e.ownerDocument,S,this.onCropMove),ee(e.ownerDocument,k,this.onCropEnd),t.responsive&&ee(window,"resize",this.onResize)}},ye={resize:function(){if(!this.disabled){var e,t,n=this.options,i=this.container,o=this.containerData,r=i.offsetWidth/o.width;1===r&&i.offsetHeight===o.height||(n.restore&&(e=this.getCanvasData(),t=this.getCropBoxData()),this.render(),n.restore&&(this.setCanvasData(U(e,(function(t,n){e[n]=t*r}))),this.setCropBoxData(U(t,(function(e,n){t[n]=e*r})))))}},dblclick:function(){var e,t;this.disabled||"none"===this.options.dragMode||this.setDragMode((e=this.dragBox,t=p,(e.classList?e.classList.contains(t):e.className.indexOf(t)>-1)?"move":"crop"))},wheel:function(e){var t=this,n=Number(this.options.wheelZoomRatio)||.1,i=1;this.disabled||(e.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout((function(){t.wheeling=!1}),50),e.deltaY?i=e.deltaY>0?1:-1:e.wheelDelta?i=-e.wheelDelta/120:e.detail&&(i=e.detail>0?1:-1),this.zoom(-i*n,e)))},cropStart:function(e){var t=e.buttons,n=e.button;if(!(this.disabled||("mousedown"===e.type||"pointerdown"===e.type&&"mouse"===e.pointerType)&&(T(t)&&1!==t||T(n)&&0!==n||e.ctrlKey))){var i,o=this.options,r=this.pointers;e.changedTouches?U(e.changedTouches,(function(e){r[e.identifier]=ce(e)})):r[e.pointerId||0]=ce(e),i=Object.keys(r).length>1&&o.zoomable&&o.zoomOnTouch?"zoom":X(e.target,b),C.test(i)&&!1!==ne(this.element,"cropstart",{originalEvent:e,action:i})&&(e.preventDefault(),this.action=i,this.cropping=!1,"crop"===i&&(this.cropping=!0,$(this.dragBox,g)))}},cropMove:function(e){var t=this.action;if(!this.disabled&&t){var n=this.pointers;e.preventDefault(),!1!==ne(this.element,"cropmove",{originalEvent:e,action:t})&&(e.changedTouches?U(e.changedTouches,(function(e){F(n[e.identifier]||{},ce(e,!0))})):F(n[e.pointerId||0]||{},ce(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var t=this.action,n=this.pointers;e.changedTouches?U(e.changedTouches,(function(e){delete n[e.identifier]})):delete n[e.pointerId||0],t&&(e.preventDefault(),Object.keys(n).length||(this.action=""),this.cropping&&(this.cropping=!1,G(this.dragBox,g,this.cropped&&this.options.modal)),ne(this.element,"cropend",{originalEvent:e,action:t}))}}},be={change:function(e){var t,n=this.options,i=this.canvasData,o=this.containerData,a=this.cropBoxData,s=this.pointers,l=this.action,c=n.aspectRatio,u=a.left,d=a.top,p=a.width,h=a.height,m=u+p,v=d+h,g=0,y=0,b=o.width,x=o.height,w=!0;!c&&e.shiftKey&&(c=p&&h?p/h:1),this.limited&&(g=a.minLeft,y=a.minTop,b=g+Math.min(o.width,i.width,i.left+i.width),x=y+Math.min(o.height,i.height,i.top+i.height));var S=s[Object.keys(s)[0]],k={x:S.endX-S.startX,y:S.endY-S.startY},C=function(e){switch(e){case"e":m+k.x>b&&(k.x=b-m);break;case"w":u+k.x<g&&(k.x=g-u);break;case"n":d+k.y<y&&(k.y=y-d);break;case"s":v+k.y>x&&(k.y=x-v)}};switch(l){case"all":u+=k.x,d+=k.y;break;case"e":if(k.x>=0&&(m>=b||c&&(d<=y||v>=x))){w=!1;break}C("e"),(p+=k.x)<0&&(l="w",u-=p=-p),c&&(h=p/c,d+=(a.height-h)/2);break;case"n":if(k.y<=0&&(d<=y||c&&(u<=g||m>=b))){w=!1;break}C("n"),h-=k.y,d+=k.y,h<0&&(l="s",d-=h=-h),c&&(p=h*c,u+=(a.width-p)/2);break;case"w":if(k.x<=0&&(u<=g||c&&(d<=y||v>=x))){w=!1;break}C("w"),p-=k.x,u+=k.x,p<0&&(l="e",u-=p=-p),c&&(h=p/c,d+=(a.height-h)/2);break;case"s":if(k.y>=0&&(v>=x||c&&(u<=g||m>=b))){w=!1;break}C("s"),(h+=k.y)<0&&(l="n",d-=h=-h),c&&(p=h*c,u+=(a.width-p)/2);break;case"ne":if(c){if(k.y<=0&&(d<=y||m>=b)){w=!1;break}C("n"),h-=k.y,d+=k.y,p=h*c}else C("n"),C("e"),k.x>=0?m<b?p+=k.x:k.y<=0&&d<=y&&(w=!1):p+=k.x,k.y<=0?d>y&&(h-=k.y,d+=k.y):(h-=k.y,d+=k.y);p<0&&h<0?(l="sw",d-=h=-h,u-=p=-p):p<0?(l="nw",u-=p=-p):h<0&&(l="se",d-=h=-h);break;case"nw":if(c){if(k.y<=0&&(d<=y||u<=g)){w=!1;break}C("n"),h-=k.y,d+=k.y,p=h*c,u+=a.width-p}else C("n"),C("w"),k.x<=0?u>g?(p-=k.x,u+=k.x):k.y<=0&&d<=y&&(w=!1):(p-=k.x,u+=k.x),k.y<=0?d>y&&(h-=k.y,d+=k.y):(h-=k.y,d+=k.y);p<0&&h<0?(l="se",d-=h=-h,u-=p=-p):p<0?(l="ne",u-=p=-p):h<0&&(l="sw",d-=h=-h);break;case"sw":if(c){if(k.x<=0&&(u<=g||v>=x)){w=!1;break}C("w"),p-=k.x,u+=k.x,h=p/c}else C("s"),C("w"),k.x<=0?u>g?(p-=k.x,u+=k.x):k.y>=0&&v>=x&&(w=!1):(p-=k.x,u+=k.x),k.y>=0?v<x&&(h+=k.y):h+=k.y;p<0&&h<0?(l="ne",d-=h=-h,u-=p=-p):p<0?(l="se",u-=p=-p):h<0&&(l="nw",d-=h=-h);break;case"se":if(c){if(k.x>=0&&(m>=b||v>=x)){w=!1;break}C("e"),h=(p+=k.x)/c}else C("s"),C("e"),k.x>=0?m<b?p+=k.x:k.y>=0&&v>=x&&(w=!1):p+=k.x,k.y>=0?v<x&&(h+=k.y):h+=k.y;p<0&&h<0?(l="nw",d-=h=-h,u-=p=-p):p<0?(l="sw",u-=p=-p):h<0&&(l="ne",d-=h=-h);break;case"move":this.move(k.x,k.y),w=!1;break;case"zoom":this.zoom(function(e){var t=r({},e),n=0;return U(e,(function(e,i){delete t[i],U(t,(function(t){var i=Math.abs(e.startX-t.startX),o=Math.abs(e.startY-t.startY),r=Math.abs(e.endX-t.endX),a=Math.abs(e.endY-t.endY),s=Math.sqrt(i*i+o*o),l=(Math.sqrt(r*r+a*a)-s)/s;Math.abs(l)>Math.abs(n)&&(n=l)}))})),n}(s),e),w=!1;break;case"crop":if(!k.x||!k.y){w=!1;break}t=ie(this.cropper),u=S.startX-t.left,d=S.startY-t.top,p=a.minWidth,h=a.minHeight,k.x>0?l=k.y>0?"se":"ne":k.x<0&&(u-=p,l=k.y>0?"sw":"nw"),k.y<0&&(d-=h),this.cropped||(K(this.cropBox,f),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}w&&(a.width=p,a.height=h,a.left=u,a.top=d,this.action=l,this.renderCropBox()),U(s,(function(e){e.startX=e.endX,e.startY=e.endY}))}},xe={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&$(this.dragBox,g),K(this.cropBox,f),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=F({},this.initialImageData),this.canvasData=F({},this.initialCanvasData),this.cropBoxData=F({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(F(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),K(this.dragBox,g),$(this.cropBox,f)),this},replace:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&e&&(this.isImg&&(this.element.src=e),t?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,U(this.previews,(function(t){t.getElementsByTagName("img")[0].src=e})))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,K(this.cropper,h)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,$(this.cropper,h)),this},destroy:function(){var e=this.element;return e.cropper?(e.cropper=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=this.canvasData,i=n.left,o=n.top;return this.moveTo(R(e)?e:i+Number(e),R(t)?t:o+Number(t))},moveTo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=this.canvasData,i=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.movable&&(T(e)&&(n.left=e,i=!0),T(t)&&(n.top=t,i=!0),i&&this.renderCanvas(!0)),this},zoom:function(e,t){var n=this.canvasData;return e=(e=Number(e))<0?1/(1-e):1+e,this.zoomTo(n.width*e/n.naturalWidth,null,t)},zoomTo:function(e,t,n){var i=this.options,o=this.canvasData,r=o.width,a=o.height,s=o.naturalWidth,l=o.naturalHeight;if((e=Number(e))>=0&&this.ready&&!this.disabled&&i.zoomable){var c=s*e,u=l*e;if(!1===ne(this.element,"zoom",{ratio:e,oldRatio:r/s,originalEvent:n}))return this;if(n){var d=this.pointers,p=ie(this.cropper),h=d&&Object.keys(d).length?function(e){var t=0,n=0,i=0;return U(e,(function(e){var o=e.startX,r=e.startY;t+=o,n+=r,i+=1})),{pageX:t/=i,pageY:n/=i}}(d):{pageX:n.pageX,pageY:n.pageY};o.left-=(c-r)*((h.pageX-p.left-o.left)/r),o.top-=(u-a)*((h.pageY-p.top-o.top)/a)}else D(t)&&T(t.x)&&T(t.y)?(o.left-=(c-r)*((t.x-o.left)/r),o.top-=(u-a)*((t.y-o.top)/a)):(o.left-=(c-r)/2,o.top-=(u-a)/2);o.width=c,o.height=u,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return T(e=Number(e))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var t=this.imageData.scaleY;return this.scale(e,T(t)?t:1)},scaleY:function(e){var t=this.imageData.scaleX;return this.scale(T(t)?t:1,e)},scale:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=this.imageData,i=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.scalable&&(T(e)&&(n.scaleX=e,i=!0),T(t)&&(n.scaleY=t,i=!0),i&&this.renderCanvas(!0,!0)),this},getData:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.options,i=this.imageData,o=this.canvasData,r=this.cropBoxData;if(this.ready&&this.cropped){e={x:r.left-o.left,y:r.top-o.top,width:r.width,height:r.height};var a=i.width/i.naturalWidth;if(U(e,(function(t,n){e[n]=t/a})),t){var s=Math.round(e.y+e.height),l=Math.round(e.x+e.width);e.x=Math.round(e.x),e.y=Math.round(e.y),e.width=l-e.x,e.height=s-e.y}}else e={x:0,y:0,width:0,height:0};return n.rotatable&&(e.rotate=i.rotate||0),n.scalable&&(e.scaleX=i.scaleX||1,e.scaleY=i.scaleY||1),e},setData:function(e){var t=this.options,n=this.imageData,i=this.canvasData,o={};if(this.ready&&!this.disabled&&D(e)){var r=!1;t.rotatable&&T(e.rotate)&&e.rotate!==n.rotate&&(n.rotate=e.rotate,r=!0),t.scalable&&(T(e.scaleX)&&e.scaleX!==n.scaleX&&(n.scaleX=e.scaleX,r=!0),T(e.scaleY)&&e.scaleY!==n.scaleY&&(n.scaleY=e.scaleY,r=!0)),r&&this.renderCanvas(!0,!0);var a=n.width/n.naturalWidth;T(e.x)&&(o.left=e.x*a+i.left),T(e.y)&&(o.top=e.y*a+i.top),T(e.width)&&(o.width=e.width*a),T(e.height)&&(o.height=e.height*a),this.setCropBoxData(o)}return this},getContainerData:function(){return this.ready?F({},this.containerData):{}},getImageData:function(){return this.sized?F({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,t={};return this.ready&&U(["left","top","width","height","naturalWidth","naturalHeight"],(function(n){t[n]=e[n]})),t},setCanvasData:function(e){var t=this.canvasData,n=t.aspectRatio;return this.ready&&!this.disabled&&D(e)&&(T(e.left)&&(t.left=e.left),T(e.top)&&(t.top=e.top),T(e.width)?(t.width=e.width,t.height=e.width/n):T(e.height)&&(t.height=e.height,t.width=e.height*n),this.renderCanvas(!0)),this},getCropBoxData:function(){var e,t=this.cropBoxData;return this.ready&&this.cropped&&(e={left:t.left,top:t.top,width:t.width,height:t.height}),e||{}},setCropBoxData:function(e){var t,n,i=this.cropBoxData,o=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&D(e)&&(T(e.left)&&(i.left=e.left),T(e.top)&&(i.top=e.top),T(e.width)&&e.width!==i.width&&(t=!0,i.width=e.width),T(e.height)&&e.height!==i.height&&(n=!0,i.height=e.height),o&&(t?i.height=i.width/o:n&&(i.width=i.height*o)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var t=this.canvasData,n=de(this.image,this.imageData,t,e);if(!this.cropped)return n;var i=this.getData(),o=i.x,r=i.y,s=i.width,l=i.height,c=n.width/Math.floor(t.naturalWidth);1!==c&&(o*=c,r*=c,s*=c,l*=c);var u=s/l,d=ue({aspectRatio:u,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),p=ue({aspectRatio:u,width:e.minWidth||0,height:e.minHeight||0},"cover"),h=ue({aspectRatio:u,width:e.width||(1!==c?n.width:s),height:e.height||(1!==c?n.height:l)}),f=h.width,m=h.height;f=Math.min(d.width,Math.max(p.width,f)),m=Math.min(d.height,Math.max(p.height,m));var v=document.createElement("canvas"),g=v.getContext("2d");v.width=H(f),v.height=H(m),g.fillStyle=e.fillColor||"transparent",g.fillRect(0,0,f,m);var y=e.imageSmoothingEnabled,b=void 0===y||y,x=e.imageSmoothingQuality;g.imageSmoothingEnabled=b,x&&(g.imageSmoothingQuality=x);var w,S,k,C,M,_,O=n.width,P=n.height,E=o,T=r;E<=-s||E>O?(E=0,w=0,k=0,M=0):E<=0?(k=-E,E=0,M=w=Math.min(O,s+E)):E<=O&&(k=0,M=w=Math.min(s,O-E)),w<=0||T<=-l||T>P?(T=0,S=0,C=0,_=0):T<=0?(C=-T,T=0,_=S=Math.min(P,l+T)):T<=P&&(C=0,_=S=Math.min(l,P-T));var j=[E,T,w,S];if(M>0&&_>0){var R=f/s;j.push(k*R,C*R,M*R,_*R)}return g.drawImage.apply(g,[n].concat(a(j.map((function(e){return Math.floor(H(e))}))))),v},setAspectRatio:function(e){var t=this.options;return this.disabled||R(e)||(t.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var t=this.options,n=this.dragBox,i=this.face;if(this.ready&&!this.disabled){var o="crop"===e,r=t.movable&&"move"===e;e=o||r?e:"none",t.dragMode=e,J(n,b,e),G(n,p,o),G(n,y,r),t.cropBoxMovable||(J(i,b,e),G(i,p,o),G(i,y,r))}return this}},we=c.Cropper,Se=function(){function e(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t(this,e),!n||!O.test(n.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=n,this.options=F({},P,D(i)&&i),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return i=e,r=[{key:"noConflict",value:function(){return window.Cropper=we,e}},{key:"setDefaults",value:function(e){F(P,D(e)&&e)}}],(o=[{key:"init",value:function(){var e,t=this.element,n=t.tagName.toLowerCase();if(!t.cropper){if(t.cropper=this,"img"===n){if(this.isImg=!0,e=t.getAttribute("src")||"",this.originalUrl=e,!e)return;e=t.src}else"canvas"===n&&window.HTMLCanvasElement&&(e=t.toDataURL());this.load(e)}}},{key:"load",value:function(e){var t=this;if(e){this.url=e,this.imageData={};var n=this.element,i=this.options;if(i.rotatable||i.scalable||(i.checkOrientation=!1),i.checkOrientation&&window.ArrayBuffer)if(M.test(e))_.test(e)?this.read(function(e){var t=e.replace(he,""),n=atob(t),i=new ArrayBuffer(n.length),o=new Uint8Array(i);return U(o,(function(e,t){o[t]=n.charCodeAt(t)})),i}(e)):this.clone();else{var o=new XMLHttpRequest,r=this.clone.bind(this);this.reloading=!0,this.xhr=o,o.onabort=r,o.onerror=r,o.ontimeout=r,o.onprogress=function(){"image/jpeg"!==o.getResponseHeader("content-type")&&o.abort()},o.onload=function(){t.read(o.response)},o.onloadend=function(){t.reloading=!1,t.xhr=null},i.checkCrossOrigin&&ae(e)&&n.crossOrigin&&(e=se(e)),o.open("GET",e),o.responseType="arraybuffer",o.withCredentials="use-credentials"===n.crossOrigin,o.send()}else this.clone()}}},{key:"read",value:function(e){var t=this.options,n=this.imageData,i=fe(e),o=0,r=1,a=1;if(i>1){this.url=function(e,t){for(var n=[],i=new Uint8Array(e);i.length>0;)n.push(pe.apply(null,L(i.subarray(0,8192)))),i=i.subarray(8192);return"data:".concat(t,";base64,").concat(btoa(n.join("")))}(e,"image/jpeg");var s=function(e){var t=0,n=1,i=1;switch(e){case 2:n=-1;break;case 3:t=-180;break;case 4:i=-1;break;case 5:t=90,i=-1;break;case 6:t=90;break;case 7:t=90,n=-1;break;case 8:t=-90}return{rotate:t,scaleX:n,scaleY:i}}(i);o=s.rotate,r=s.scaleX,a=s.scaleY}t.rotatable&&(n.rotate=o),t.scalable&&(n.scaleX=r,n.scaleY=a),this.clone()}},{key:"clone",value:function(){var e=this.element,t=this.url,n=e.crossOrigin,i=t;this.options.checkCrossOrigin&&ae(t)&&(n||(n="anonymous"),i=se(t)),this.crossOrigin=n,this.crossOriginUrl=i;var o=document.createElement("img");n&&(o.crossOrigin=n),o.src=i||t,o.alt=e.alt||"The image to crop",this.image=o,o.onload=this.start.bind(this),o.onerror=this.stop.bind(this),$(o,m),e.parentNode.insertBefore(o,e.nextSibling)}},{key:"start",value:function(){var e=this,t=this.image;t.onload=null,t.onerror=null,this.sizing=!0;var n=c.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(c.navigator.userAgent),i=function(t,n){F(e.imageData,{naturalWidth:t,naturalHeight:n,aspectRatio:t/n}),e.initialImageData=F({},e.imageData),e.sizing=!1,e.sized=!0,e.build()};if(!t.naturalWidth||n){var o=document.createElement("img"),r=document.body||document.documentElement;this.sizingImage=o,o.onload=function(){i(o.width,o.height),n||r.removeChild(o)},o.src=t.src,n||(o.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",r.appendChild(o))}else i(t.naturalWidth,t.naturalHeight)}},{key:"stop",value:function(){var e=this.image;e.onload=null,e.onerror=null,e.parentNode.removeChild(e),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var e=this.element,t=this.options,n=this.image,i=e.parentNode,o=document.createElement("div");o.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var r=o.querySelector(".".concat("cropper","-container")),a=r.querySelector(".".concat("cropper","-canvas")),s=r.querySelector(".".concat("cropper","-drag-box")),l=r.querySelector(".".concat("cropper","-crop-box")),c=l.querySelector(".".concat("cropper","-face"));this.container=i,this.cropper=r,this.canvas=a,this.dragBox=s,this.cropBox=l,this.viewBox=r.querySelector(".".concat("cropper","-view-box")),this.face=c,a.appendChild(n),$(e,f),i.insertBefore(r,e.nextSibling),this.isImg||K(n,m),this.initPreview(),this.bind(),t.initialAspectRatio=Math.max(0,t.initialAspectRatio)||NaN,t.aspectRatio=Math.max(0,t.aspectRatio)||NaN,t.viewMode=Math.max(0,Math.min(3,Math.round(t.viewMode)))||0,$(l,f),t.guides||$(l.getElementsByClassName("".concat("cropper","-dashed")),f),t.center||$(l.getElementsByClassName("".concat("cropper","-center")),f),t.background&&$(r,"".concat("cropper","-bg")),t.highlight||$(c,v),t.cropBoxMovable&&($(c,y),J(c,b,"all")),t.cropBoxResizable||($(l.getElementsByClassName("".concat("cropper","-line")),f),$(l.getElementsByClassName("".concat("cropper","-point")),f)),this.render(),this.ready=!0,this.setDragMode(t.dragMode),t.autoCrop&&this.crop(),this.setData(t.data),B(t.ready)&&te(e,"ready",t.ready,{once:!0}),ne(e,"ready")}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),K(this.element,f))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}])&&n(i.prototype,o),r&&n(i,r),e;var i,o,r}();return F(Se.prototype,me,ve,ge,ye,be,xe),Se}()},function(e,t,n){"use strict";n.r(t),t.default='<div class="editor resizable-content flex flex-column crpr">\r\n    <div class="flex-item flex-item-grow crpr">\r\n        <div class="fit">\r\n            <img class="cropbox" data-bind="attr: { src: mediaItem.downloadUrl }, cropper: cropperInstance">\r\n        </div>\r\n    </div>\r\n\r\n    <div class="flex-item">\r\n        <div class="btn-group">\r\n            <button class="btn" data-bind="click: setMoveMode">\r\n                <i class="paperbits-icon paperbits-zoom-99"></i>\r\n            </button>\r\n            <button class="btn" data-bind="click: setCropMode">\r\n                <i class="paperbits-icon paperbits-crop"></i>\r\n            </button>\r\n            <button class="btn" data-bind="click: zoomIn">\r\n                <i class="paperbits-icon paperbits-zoom-in"></i>\r\n            </button>\r\n            <button class="btn" data-bind="click: zoomOut">\r\n                <i class="paperbits-icon paperbits-zoom-out"></i>\r\n            </button>\r\n            <button class="btn" data-bind="click: rotateLeft">\r\n                <i class="paperbits-icon paperbits-rotate-left-2"></i>\r\n            </button>\r\n            <button class="btn" data-bind="click: rotateRight">\r\n                <i class="paperbits-icon paperbits-rotate-right-2"></i>\r\n            </button>\r\n            <button class="btn" data-bind="click: flipHorizontally">\r\n                <i class="paperbits-icon paperbits-enlarge-horizontal"></i>\r\n            </button>\r\n            <button class="btn" data-bind="click: flipVertically">\r\n                <i class="paperbits-icon paperbits-enlarge-vertical"></i>\r\n            </button>\r\n\r\n            <button class="btn" data-bind="click: crop">\r\n                <i class="paperbits-icon paperbits-check-2"></i>\r\n            </button>\r\n\r\n            <button class="btn" data-bind="click: clear">\r\n                <i class="paperbits-icon paperbits-simple-remove"></i>\r\n            </button>\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediaToolButton=void 0,t.MediaToolButton=class{constructor(e){this.viewManager=e,this.iconClass="paperbits-icon paperbits-image-2",this.title="Media"}onActivate(){this.viewManager.clearJourney();const e={heading:this.title,helpText:"<h1>Media library</h1><p>Upload or edit files in the media library.</p>",component:{name:"media"}};this.viewManager.openViewAsWorkshop(e)}}},function(e,t,n){"use strict";n.r(t),t.default='<div class="flex flex-column fit">\r\n    \x3c!-- ko ifnot: working --\x3e\r\n\r\n    \x3c!-- ko if: root().nodes().length === 0 --\x3e\r\n    <p class="flex-item flex-item-grow text-center">It seems that you don\'t have navigation items yet. Would you like to\r\n        <a href="#" class="btn-link" data-bind="click: addNavigationItem">create one</a>?\r\n    </p>\r\n    \x3c!-- /ko --\x3e\r\n\r\n    <div class="flex flex-column flex-item flex-item-grow" role="list" data-bind="scrollable: true, focus: { childSelector: \'.list-item\' }">\r\n        \x3c!-- ko foreach: { data: root().nodes, as: \'node\' } --\x3e\r\n        \x3c!-- ko template: { name: \'node\', data: node } --\x3e\r\n        \x3c!-- /ko--\x3e\r\n        \x3c!-- /ko--\x3e\r\n    </div>\r\n\r\n    \x3c!-- /ko --\x3e\r\n\r\n    \x3c!-- ko if: working --\x3e\r\n    <spinner></spinner>\r\n    \x3c!-- /ko --\x3e\r\n\r\n    <div class="flex-item btn-group">\r\n        <button class="btn" data-bind="click: addNavigationItem">\r\n            <i class="paperbits-icon paperbits-simple-add"></i>\r\n            Add navigation item\r\n        </button>\r\n    </div>\r\n</div>\r\n\r\n\r\n<script id="node" type="text/html">\r\n    <div class="list-item-group" data-bind="dragsource: { sourceData: $data, sticky: true, ondragstart: $component.onNodeDragStart, ondragend: $component.onNodeDragEnd }, dragtarget: { targetData: $data, accept: canAccept, ondropbefore: insertBefore, ondropafter: insertAfter, flow: \'vertical\', onacceptbefore: $component.onAcceptNodeBefore, onacceptafter: $component.onAcceptNodeAfter }">\r\n        \x3c!-- ko if: node.nodes().length > 0 --\x3e\r\n        <div class="list-item-collapsible">\r\n            <button href="#" role="button" aria-label="Toggle nested items" class="list-item-collapse" data-bind="click: node.toggleCollapsed">\r\n                <i class="paperbits-icon paperbits-circle-delete"\r\n                    data-bind="css: { \'paperbits-circle-add\': node.collapsed }"></i>\r\n            </button>\r\n            <div tabindex="0" role="listitem" class="list-item" data-bind="keydown: onKeyDown, css: { selected: $component.isSelected(node) }, attr: { title: node.label,\'aria-expanded\': (!node.collapsed()).toString() }, activate: $component.selectNavigationItem, selectable: true">\r\n                \x3c!-- <i class="paperbits-icon paperbits-menu-34"></i> --\x3e\r\n                <span data-bind="text: node.label"></span>\r\n            </div>\r\n        </div>\r\n        \x3c!-- /ko --\x3e\r\n\r\n        \x3c!-- ko ifnot: node.nodes().length > 0 --\x3e\r\n        <div tabindex="0" role="listitem" class="list-item" data-bind="css: { selected: $component.isSelected(node) }, attr: { title: node.label }, activate: $component.selectNavigationItem, selectable: true">\r\n            \x3c!-- <i class="paperbits-icon paperbits-menu-34"></i> --\x3e\r\n            <span data-bind="text: node.label"></span>\r\n        </div>\r\n        \x3c!-- /ko --\x3e\r\n\r\n        \x3c!-- ko ifnot: node.collapsed --\x3e\r\n        <div role="list">\r\n        \x3c!-- ko foreach: { data: node.nodes, as: \'node\' } --\x3e\r\n        \x3c!-- ko template: { name: \'node\', data: node } --\x3e\x3c!-- /ko--\x3e\r\n        \x3c!-- /ko--\x3e\r\n        </div>\r\n        \x3c!-- /ko --\x3e\r\n    </div>\r\n<\/script>'},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(284),t),o(n(285),t),o(n(286),t),o(n(288),t),o(n(287),t)},function(e,t,n){"use strict";n.r(t),t.default='<div class="flex flex-column fit">\r\n    <fieldset class="flex-item flex-item-grow form" data-bind="scrollable: true">\r\n        <div class="form-group">\r\n            <label for="label" class="form-label">Label</label>\r\n            <input type="text" id="label" class="form-control" autofocus data-bind="textInput: navigationItem.label" placeholder="i.e. Orders" maxlength="256">\r\n        </div>\r\n\r\n        <div class="form-group">\r\n            <label for="hyperlink" class="form-label">Link to</label>\r\n            <div class="input-group">\r\n                <input id="hyperlink" class="form-control" readonly="readonly" data-bind="value: hyperlinkTitle">\r\n                <button class="btn input-group-btn" data-bind="balloon: { position: \'right\', component: { name: \'hyperlink-selector\', params: { hyperlink: $component.hyperlink, onChange: $component.onHyperlinkChange } } }">\r\n                    <i class="paperbits-icon paperbits-link-69-2"></i>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n\r\n    <div class="flex-item btn-group">\r\n        <button class="btn" data-bind="confirm: { message: \'Are you sure you want to delete this navigation item?\', onConfirm: deleteNavigationItem }">\r\n            <i class="paperbits-icon paperbits-simple-remove"></i>\r\n            Delete navigation item\r\n        </button>\r\n    </div>\r\n</div>'},function(e,t,n){"use strict";n.r(t),t.default='<div class="editor">\r\n    <div class="flex flex-column list">\r\n        <h1>Select navigation root</h1>\r\n        <hr>\r\n\r\n        <div class="flex flex-column">\r\n            \x3c!-- ko if: working --\x3e\r\n            <spinner></spinner>\r\n            \x3c!-- /ko --\x3e\r\n\r\n            \x3c!-- ko ifnot: working --\x3e\r\n\r\n            \x3c!-- ko if: root().nodes().length === 0 --\x3e\r\n            <p class="flex-item flex-item-grow text-center">It seems that you don\'t have navigation items yet.</p>\r\n            \x3c!-- /ko --\x3e\r\n\r\n            <div class="flex-item flex-item-grow list" role="list" data-bind="scrollable: true, focus: { childSelector: \'.list-item\' }">\r\n                \x3c!-- ko foreach: { data: root().nodes, as: \'node\' } --\x3e\r\n                \x3c!-- ko template: { name: \'node\', data: node } --\x3e\r\n                \x3c!-- /ko--\x3e\r\n                \x3c!-- /ko--\x3e\r\n            </div>\r\n\r\n            \x3c!-- /ko --\x3e\r\n        </div>\r\n    </div>\r\n    <div class="flex-item btn-group">\r\n        <button class="btn" data-bind="click: $component.selectNone">\r\n            <i class="paperbits-icon paperbits-ban"></i>\r\n            None\r\n        </button>\r\n    </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n<script id="node" type="text/html">\r\n    <div class="list-item-group">\r\n        \x3c!-- ko if: node.nodes && node.nodes().length > 0 --\x3e\r\n        <div class="list-item-collapsible">\r\n            <button role="button" aria-label="Toggle nested items" class="list-item-collapse" data-bind="click: node.toggleCollapsed">\r\n                <i class="paperbits-icon paperbits-circle-delete"\r\n                    data-bind="css: { \'paperbits-circle-add\': node.collapsed }"></i>\r\n            </button>\r\n            <div tabindex="0" role="listitem" class="list-item" data-bind="activate: $component.selectNavigationItem, attr: { \'aria-expanded\': (!node.collapsed()).toString() }">\r\n                \x3c!-- <i class="paperbits-icon paperbits-menu-34"></i> --\x3e\r\n                <span data-bind="text: node.label"></span>\r\n            </div>\r\n        </div>\r\n        \x3c!-- /ko --\x3e\r\n\r\n        \x3c!-- ko ifnot: node.nodes && node.nodes().length > 0 --\x3e\r\n        <div tabindex="0" role="listitem" class="list-item" data-bind="activate: $component.selectNavigationItem">\r\n            \x3c!-- <i class="paperbits-icon paperbits-menu-34"></i> --\x3e\r\n            <span data-bind="text: node.label"></span>\r\n        </div>\r\n        \x3c!-- /ko --\x3e\r\n\r\n        \x3c!-- ko ifnot: node.collapsed --\x3e\r\n        <div role="list">\r\n        \x3c!-- ko foreach: { data: node.nodes, as: \'node\' } --\x3e\r\n        \x3c!-- ko template: { name: \'node\', data: node } --\x3e\x3c!-- /ko--\x3e\r\n        \x3c!-- /ko--\x3e\r\n        </div>\r\n        \x3c!-- /ko --\x3e\r\n    </div>\r\n<\/script>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NavigationToolButton=void 0,t.NavigationToolButton=class{constructor(e){this.viewManager=e,this.iconClass="paperbits-icon paperbits-menu-34",this.title="Navigation"}onActivate(){this.viewManager.clearJourney();const e={heading:this.title,helpText:"<h1>Navigation</h1><p>Add or edit navigation menus.</p>",component:{name:"navigation"}};this.viewManager.openViewAsWorkshop(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsWorkshopModule=void 0;const i=n(795),o=n(798);t.SettingsWorkshopModule=class{register(e){e.bind("settingsWorkshop",i.SettingsWorkshop),e.bindToCollection("workshopSections",o.SettingsToolButton)}}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(796),t)},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsWorkshop=void 0;const a=n(0),s=n(797),l=n(2),c=n(289),u=n(82);let d=class{constructor(e,t){this.mediaService=e,this.siteService=t,this.working=a.observable(),this.title=a.observable(),this.description=a.observable(),this.keywords=a.observable(),this.hostname=a.observable(),this.author=a.observable(),this.faviconSourceKey=a.observable(),this.faviconFileName=a.observable(),this.favicon=a.observable()}initialize(){return r(this,void 0,void 0,(function*(){this.working(!0);const e=(yield this.siteService.getSettings()).site;e&&(this.title(e.title),this.description(e.description),this.keywords(e.keywords),this.hostname(e.hostname),this.author(e.author),this.faviconSourceKey(e.faviconSourceKey),this.setFaviconUri(e.faviconSourceKey)),this.working(!1),this.title.subscribe(this.onSettingChange),this.description.subscribe(this.onSettingChange),this.keywords.subscribe(this.onSettingChange),this.hostname.subscribe(this.onSettingChange),this.author.subscribe(this.onSettingChange),this.faviconSourceKey.subscribe(this.onSettingChange)}))}onSettingChange(){return r(this,void 0,void 0,(function*(){const e=yield this.siteService.getSettings(),t={title:this.title(),description:this.description(),keywords:this.keywords(),hostname:this.hostname(),faviconSourceKey:this.faviconSourceKey(),author:this.author()};e.site=t,yield this.siteService.setSettings(e)}))}onMediaSelected(e){e?(this.faviconSourceKey(e.key),this.setFaviconUri(e.key)):(this.faviconFileName(null),this.faviconSourceKey(null))}setFaviconUri(e){return r(this,void 0,void 0,(function*(){if(!e)return;const t=yield this.mediaService.getMediaByKey(e);if(!t)return void console.warn(`Unable to fetch favicon by key ${e}.`);this.faviconFileName(t.downloadUrl),c.MetaDataSetter.setFavIcon(t.downloadUrl);const n=new u.BackgroundModel;n.sourceUrl=t.downloadUrl,this.favicon(n)}))}};i([l.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],d.prototype,"initialize",null),d=i([l.Component({selector:"settings",template:s.default}),o("design:paramtypes",[Object,Object])],d),t.SettingsWorkshop=d},function(e,t,n){"use strict";n.r(t),t.default='\x3c!--ko if: working()--\x3e\r\n<spinner></spinner>\r\n\x3c!--/ko--\x3e\r\n\r\n<div class="flex flex-column fit">\r\n    <fieldset class="flex-item flex-item-grow form" data-bind="scrollable: true">\r\n        <div class="form-group">\r\n            <label class="form-label">Favicon</label>\r\n            <div class="flex">\r\n                <div class="flex-item dropzone-showbox dropzone-square" data-bind="background: favicon, balloon: { component: { name: \'media-selector\', params: { onSelect: $component.onMediaSelected, mimeType: \'image/x-icon\' } }, position: \'top\' }"></div>\r\n\r\n                <button class="flex-item flex-item-grow btn" data-bind="balloon: { component: { name: \'media-selector\', params: { onSelect: $component.onMediaSelected, mimeType: $component.mimeType } }, position: \'top\' }">\r\n                    <i class="paperbits-icon paperbits-square-upload"></i>\r\n                    Setup favicon\r\n                </button>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="form-group">\r\n            <label for="title" class="form-label">Title</label>\r\n            <input type="text" id="title" class="form-control" data-bind="textInput: title, focus: true" maxlength="500">\r\n        </div>\r\n\r\n        <div class="form-group">\r\n            <label for="description" class="form-label">Description</label>\r\n            <textarea id="description" class="form-control" data-bind="textInput: description" maxlength="500"></textarea>\r\n        </div>\r\n\r\n        <div class="form-group">\r\n            <label for="keywords" class="form-label">Keywords</label>\r\n            <input type="text" id="keywords" class="form-control" data-bind="textInput: keywords" maxlength="500">\r\n        </div>\r\n\r\n        <div class="form-group">\r\n            <label for="author" class="form-label">Author</label>\r\n            <input type="text" id="author" class="form-control" data-bind="textInput: author" maxlength="500">\r\n        </div>\r\n    </fieldset>\r\n</div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsToolButton=void 0,t.SettingsToolButton=class{constructor(e){this.viewManager=e,this.iconClass="paperbits-icon paperbits-preferences-circle",this.title="Settings"}onActivate(){this.viewManager.clearJourney();const e={heading:this.title,helpText:"<h1>Site settings</h1><p>Edit your website metadata.</p>",component:{name:"settings"}};this.viewManager.openViewAsWorkshop(e)}}},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Workshops=void 0;const a=n(0),s=n(800),l=n(2);let c=class{constructor(e,t,n){this.viewManager=e,this.userService=t,this.workshopSections=n,this.userPhotoUrl=a.observable(null),this.resizing=a.pureComputed(()=>this.viewManager.journeyName()?"vertically horizontally":"vertically horizontally suspended"),this.sections=a.observableArray(this.workshopSections)}loadUserProfile(){return r(this,void 0,void 0,(function*(){const e=yield this.userService.getUserPhotoUrl();this.userPhotoUrl(e)}))}closeWorkshop(e){this.viewManager.closeWorkshop(e)}};i([l.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],c.prototype,"loadUserProfile",null),c=i([l.Component({selector:"workshops",template:s.default}),o("design:paramtypes",[Object,Object,Array])],c),t.Workshops=c},function(e,t,n){"use strict";n.r(t),t.default='<div class="toolbox toolbox-position-left workshops-container flex flex-row" data-bind="visible: viewManager.primaryToolboxVisible, resizable: resizing">\r\n    <ul role="tablist" class="flex-item toolbox-btn-group toolbox-btn-group-vertical">\r\n        \x3c!-- ko foreach: { data: sections, as: \'section\' } --\x3e\r\n        <li role="presentation" class="toolbox-btn" data-bind="css: { \'toolbox-btn-is-active\': $component.viewManager.journeyName() == section.title }">\r\n            <a href="#" role="tab" data-bind="attr: { title: section.title, \'aria-label\': section.title }, click: section.onActivate, tooltip: { message: section.tooltip, position: \'right\' }">\r\n                <i data-bind="css: section.iconClass"></i>\r\n            </a>\r\n        </li>\r\n        \x3c!-- /ko --\x3e\r\n        \r\n        \x3c!-- ko if: userPhotoUrl --\x3e\r\n        <li role="presentation" class="toolbox-btn pull-down">\r\n            <a href="#" role="tab" title="Account" aria-label="Account">\r\n                <div class="photo" data-bind="style: { \'background-image\': \'url(\'+userPhotoUrl()+\')\' }">\r\n                </div>\r\n            </a>\r\n        </li>\r\n        \x3c!-- /ko --\x3e\r\n    </ul>\r\n\r\n    \x3c!-- ko if: viewManager.journey().length > 0 --\x3e\r\n    <div role="tabpanel" class="flex flex-item flex-item-grow workshop" data-bind="foreach: viewManager.journey()">\r\n        <div class="flex-item flex flex-column workshop-journey-step">\r\n            <h1>\r\n                <span data-bind="text: heading"></span>\r\n                \x3c!-- ko if: $data.helpText --\x3e\r\n                <button class="btn-help" data-bind="tooltip: { message: $data.helpText, position: \'right\' }">\r\n                    <i class="paperbits-icon paperbits-c-question"></i>\r\n                </button>\r\n                \x3c!--/ko --\x3e\r\n            </h1>\r\n            <button class="btn btn-dismiss" aria-label="Close" data-bind="click: $component.closeWorkshop">\r\n                <i class="paperbits-icon paperbits-simple-remove"></i>\r\n            </button>\r\n            <hr>\r\n            <div class="flex-item flex-item-grow" data-bind="component: { name: component.name, params: component.params }"></div>\r\n        </div>\r\n    </div>\r\n    \x3c!-- /ko --\x3e\r\n</div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextblockEditorModule=void 0;const i=n(290),o=n(802),r=n(804),a=n(806),s=n(808),l=n(811);t.TextblockEditorModule=class{register(e){e.bindToCollection("widgetHandlers",i.TextblockHandlers,"textblockHandler"),e.bind("formattingTools",r.FormattingTools),e.bind("hyperlinkEditor",a.HyperlinkEditor),e.bind("textblockEditor",s.TextblockEditor),e.bind("blockStyleSelector",o.BlockStyleSelector),e.bind("textStyleSelector",l.TextStyleSelector)}}},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.BlockStyleSelector=void 0;const r=n(803),a=n(2);let s=class{constructor(e){this.htmlEditorProvider=e}resetToNormal(){const e=this.htmlEditorProvider.getCurrentHtmlEditor();e&&e.toggleParagraph()}toggleH1(){const e=this.htmlEditorProvider.getCurrentHtmlEditor();e&&e.toggleH1()}toggleH2(){const e=this.htmlEditorProvider.getCurrentHtmlEditor();e&&e.toggleH2()}toggleH3(){const e=this.htmlEditorProvider.getCurrentHtmlEditor();e&&e.toggleH3()}toggleH4(){const e=this.htmlEditorProvider.getCurrentHtmlEditor();e&&e.toggleH4()}toggleH5(){const e=this.htmlEditorProvider.getCurrentHtmlEditor();e&&e.toggleH5()}toggleH6(){const e=this.htmlEditorProvider.getCurrentHtmlEditor();e&&e.toggleH6()}toggleQuote(){const e=this.htmlEditorProvider.getCurrentHtmlEditor();e&&e.toggleQuote()}toggleFormatted(){const e=this.htmlEditorProvider.getCurrentHtmlEditor();e&&e.toggleFormatted()}};s=i([a.Component({selector:"block-style-selector",template:r.default}),o("design:paramtypes",[Object])],s),t.BlockStyleSelector=s},function(e,t,n){"use strict";n.r(t),t.default='<div id="blockStyleSelector" class="tools-paragraphstyle" role="menu" data-bind="scrollable: true">\r\n    <a href="#" role="menuitem" class="tools-paragraph-style tools-paragraph-style-normal" data-bind="click: resetToNormal, focus: true">Normal</a>\r\n    <a href="#" role="menuitem" class="tools-paragraph-style tools-paragraph-style-h1" data-bind="click: toggleH1">Heading 1</a>\r\n    <a href="#" role="menuitem" class="tools-paragraph-style tools-paragraph-style-h2" data-bind="click: toggleH2">Heading 2</a>\r\n    <a href="#" role="menuitem" class="tools-paragraph-style tools-paragraph-style-h3" data-bind="click: toggleH3">Heading 3</a>\r\n    <a href="#" role="menuitem" class="tools-paragraph-style tools-paragraph-style-h4" data-bind="click: toggleH4">Heading 4</a>\r\n    <a href="#" role="menuitem" class="tools-paragraph-style tools-paragraph-style-h5" data-bind="click: toggleH5">Heading 5</a>\r\n    <a href="#" role="menuitem" class="tools-paragraph-style tools-paragraph-style-h6" data-bind="click: toggleH6">Heading 6</a>\r\n    <a href="#" role="menuitem" class="tools-paragraph-style tools-paragraph-style-normal" data-bind="click: toggleQuote">Quote</a>\r\n    <a href="#" role="menuitem" class="tools-paragraph-style tools-paragraph-style-normal" data-bind="click: toggleFormatted">Formatted</a>\r\n</div>'},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.FormattingTools=void 0;const a=n(0),s=n(6),l=n(805),c=n(66),u=n(2),d=n(20);let p=class{constructor(e,t,n,i){this.htmlEditorProvider=e,this.eventManager=t,this.viewManager=n,this.styleService=i,this.style=a.observable(),this.appearance=a.observable(),this.colored=a.observable(),this.selectedColorKey=a.observable(),this.font=a.observable(),this.sized=a.observable(),this.ol=a.observable(),this.ul=a.observable(),this.bold=a.observable(),this.italic=a.observable(),this.underlined=a.observable(),this.highlighted=a.observable(),this.striked=a.observable(),this.code=a.observable(),this.ul=a.observable(),this.ol=a.observable(),this.pre=a.observable(),this.alignment=a.observable(),this.anchored=a.observable(),this.textStyles=a.observableArray(),this.orderedListStyles=a.observableArray(),this.unorderedListStyles=a.observableArray()}init(){return r(this,void 0,void 0,(function*(){yield this.loadTextStyles(),this.updateFormattingState(),this.eventManager.addEventListener(c.HtmlEditorEvents.onSelectionChange,this.updateFormattingState)}))}loadTextStyles(){return r(this,void 0,void 0,(function*(){this.textStyles(yield this.styleService.getVariations("globals","body")),this.orderedListStyles(yield this.styleService.getVariations("globals","ol")),this.unorderedListStyles(yield this.styleService.getVariations("globals","ul"))}))}updateFormattingState(){const e=this.htmlEditorProvider.getCurrentHtmlEditor();if(!e){if(this.textStyles()){const e=this.textStyles().find(e=>"globals/body/default"===e.key).displayName;this.appearance(e),this.style("Normal")}return}const t=e.getSelectionState();this.bold(t.bold),this.italic(t.italic),this.underlined(t.underlined),this.highlighted(t.highlighted),this.striked(t.striked),this.code(t.code),this.colored(!!t.colorKey),this.selectedColorKey(t.colorKey),this.ul(t.bulletedList),this.ol(t.orderedList);let n="left";if(t.alignment){const e=s.getClosestBreakpoint(t.alignment,this.viewManager.getViewport()),i=t.alignment[e];switch(i){case c.alignmentStyleKeys.left:n="left";break;case c.alignmentStyleKeys.center:n="center";break;case c.alignmentStyleKeys.right:n="right";break;case c.alignmentStyleKeys.justify:n="justify";break;default:console.warn("Unknown alignment style key: "+i)}}if(this.alignment(n),this.textStyles()){let e=this.textStyles()[0].displayName;if(t.appearance){const n=t.appearance,i=this.textStyles().find(e=>e.key===n);e=i&&i.displayName}this.appearance(e)}switch(this.anchored(!!t.anchorKey),t.block){case"heading1":this.style("Heading 1");break;case"heading2":this.style("Heading 2");break;case"heading3":this.style("Heading 3");break;case"heading4":this.style("Heading 4");break;case"heading5":this.style("Heading 5");break;case"heading6":this.style("Heading 6");break;case"quote":this.style("Quote");break;case"formatted":this.style("Formatted");break;default:this.style("Normal")}}toggleNn(){this.updateFormattingState()}toggleBold(){const e=this.htmlEditorProvider.getCurrentHtmlEditor();e&&e.toggleBold()}toggleItalic(){const e=this.htmlEditorProvider.getCurrentHtmlEditor();e&&e.toggleItalic()}toggleParagraph(){const e=this.htmlEditorProvider.getCurrentHtmlEditor();e&&e.toggleParagraph()}toggleUnderlined(){const e=this.htmlEditorProvider.getCurrentHtmlEditor();e&&e.toggleUnderlined()}toggleStriked(){const e=this.htmlEditorProvider.getCurrentHtmlEditor();e&&e.toggleStriked()}toggleHighlighted(){const e=this.htmlEditorProvider.getCurrentHtmlEditor();e&&e.toggleHighlighted()}toggleCode(){const e=this.htmlEditorProvider.getCurrentHtmlEditor();e&&e.toggleCode()}toggleSize(){const e=this.htmlEditorProvider.getCurrentHtmlEditor();e&&e.toggleSize()}toggleOrderedList(){const e=this.htmlEditorProvider.getCurrentHtmlEditor();e&&e.toggleOrderedList()}toggleUnorderedList(){const e=this.htmlEditorProvider.getCurrentHtmlEditor();e&&e.toggleUnorderedList()}onUnorderedListStyleSelected(e){const t=this.htmlEditorProvider.getCurrentHtmlEditor();t&&t.toggleUnorderedList(e.key)}incIndent(){const e=this.htmlEditorProvider.getCurrentHtmlEditor();e&&(e.increaseIndent(),this.updateFormattingState())}decIndent(){const e=this.htmlEditorProvider.getCurrentHtmlEditor();e&&e.decreaseIndent()}toggleAlignLeft(){const e=this.htmlEditorProvider.getCurrentHtmlEditor();e&&e.alignLeft(this.viewManager.getViewport())}toggleAlignCenter(){const e=this.htmlEditorProvider.getCurrentHtmlEditor();e&&e.alignCenter(this.viewManager.getViewport())}toggleAlignRight(){const e=this.htmlEditorProvider.getCurrentHtmlEditor();e&&e.alignRight(this.viewManager.getViewport())}toggleJustify(){const e=this.htmlEditorProvider.getCurrentHtmlEditor();e&&e.justify(this.viewManager.getViewport())}onColorSelected(e){const t=this.htmlEditorProvider.getCurrentHtmlEditor();t&&(e?t.setColor(e.key):t.removeColor())}onTextStyleSelected(e){this.htmlEditorProvider.getCurrentHtmlEditor()&&(this.htmlEditorProvider.getCurrentHtmlEditor().setTextStyle(e.key,this.viewManager.getViewport()),this.appearance(e.displayName))}dispose(){this.eventManager.removeEventListener(c.HtmlEditorEvents.onSelectionChange,this.updateFormattingState)}};i([u.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],p.prototype,"init",null),i([u.OnDestroyed(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],p.prototype,"dispose",null),p=i([u.Component({selector:"formatting",template:l.default}),o("design:paramtypes",[Object,Object,Object,d.StyleService])],p),t.FormattingTools=p},function(e,t,n){"use strict";n.r(t),t.default='<div class="toolbox-btn" data-bind="css: { \'toolbox-btn-is-active\': ol() }">\r\n    <a href="#" role="button" data-bind="click: toggleOrderedList, tooltip: { message: \'Toggle ordered list\' }">\r\n        <i class="paperbits-icon paperbits-list-numbers"></i>\r\n\r\n        \x3c!-- ko if: orderedListStyles().length > 1 --\x3e\r\n        <span class="paperbits-icon paperbits-small-down toolbox-btn-addon" data-bind="balloon: { component: { name: \'text-style-selector\', params: { styles: orderedListStyles, onSelect: onOrderedListStyleSelected } } }">\r\n        </span>\r\n        \x3c!-- /ko --\x3e\r\n    </a>\r\n</div>\r\n\r\n<div class="toolbox-btn" data-bind="css: { \'toolbox-btn-is-active\': ul() }">\r\n    <a href="#" role="button" data-bind="click: toggleUnorderedList, tooltip: { message: \'Toggle unordered list\' }">\r\n        <i class="paperbits-icon paperbits-list-bullet"></i>\r\n\r\n        \x3c!-- ko if: unorderedListStyles().length > 1 --\x3e\r\n        <span class="paperbits-icon paperbits-small-down toolbox-btn-addon" data-bind="balloon: { component: { name: \'text-style-selector\', params: { styles: unorderedListStyles, onSelect: onUnorderedListStyleSelected } } }">\r\n        </span>\r\n        \x3c!-- /ko --\x3e\r\n    </a>\r\n</div>\r\n\r\n\x3c!-- <div class="toolbox-btn" >\r\n    <a href="#" role="button" data-bind="click: decIndent, tooltip: { message: \'Decrease Indentation\' }">\r\n        <i class="paperbits-icon paperbits-margin-right"></i>\r\n    </a>\r\n</div>\r\n<div class="toolbox-btn">\r\n    <a href="#" role="button" data-bind="click: incIndent, tooltip: { message: \'Increase Indentation\' }">\r\n        <i class="paperbits-icon paperbits-margin-left"></i>\r\n    </a>\r\n</div> --\x3e\r\n\r\n<div class="toolbox-btn" data-bind="css: { \'toolbox-btn-is-active\': bold() }">\r\n    <a href="#" role="button" data-bind="click: toggleBold, tooltip: { message: \'Toggle bold <div class=subtle>(Ctrl+B)</div>\' }">\r\n        <i class="paperbits-icon paperbits-bold"></i>\r\n    </a>\r\n</div>\r\n<div class="toolbox-btn" data-bind="css: { \'toolbox-btn-is-active\': italic() }">\r\n    <a href="#" role="button" data-bind="click: toggleItalic, tooltip: { message: \'Toggle italic <div class=subtle>(Ctrl+I)</div>\' }">\r\n        <i class="paperbits-icon paperbits-italic"></i>\r\n    </a>\r\n</div>\r\n<div class="toolbox-btn" data-bind="css: { \'toolbox-btn-is-active\': underlined() }">\r\n    <a href="#" role="button" data-bind="click: toggleUnderlined, tooltip: { message: \'Toggle underlined <div class=subtle>(Ctrl+U)</div>\' }">\r\n        <i class="paperbits-icon paperbits-underline"></i>\r\n    </a>\r\n</div>\r\n<div class="toolbox-btn" data-bind="css: { \'toolbox-btn-is-active\': striked() }">\r\n    <a href="#" role="button" data-bind="click: toggleStriked, tooltip: { message: \'Toggle strike-through\' }">\r\n        <i class="paperbits-icon paperbits-strikethrough"></i>\r\n    </a>\r\n</div>\r\n<div class="toolbox-btn" data-bind="css: { \'toolbox-btn-is-active\': highlighted() }">\r\n    <a href="#" role="button" data-bind="click: toggleHighlighted, tooltip: { message: \'Toggle highlighted\' }">\r\n        <i class="paperbits-icon paperbits-marker-2"></i>\r\n    </a>\r\n</div>\r\n<div class="toolbox-btn" data-bind="css: { \'toolbox-btn-is-active\': code() }">\r\n    <a href="#" role="button" data-bind="click: toggleCode, tooltip: { message: \'Toggle code\' }">\r\n        <i class="paperbits-icon paperbits-code"></i>\r\n    </a>\r\n</div>\r\n<div class="toolbox-btn toolbox-dropdown">\r\n    <a href="#" role="menu" aria-haspopup="true" data-bind="text: style, balloon: { component: { name: \'block-style-selector\' } }, tooltip: { message: \'Change block type\' }"></a>\r\n</div>\r\n\r\n\x3c!-- ko if: textStyles().length > 1 --\x3e\r\n<div class="toolbox-btn toolbox-dropdown">\r\n    <a href="#" role="button" aria-haspopup="true" data-bind="text: appearance, balloon: { component: { name: \'text-style-selector\', params: { styles: textStyles, onSelect: onTextStyleSelected } } }, tooltip: { message: \'Change block style\' }"></a>\r\n</div>\r\n\x3c!-- /ko --\x3e\r\n<div class="toolbox-btn" data-bind="css: { \'toolbox-btn-is-active\':  alignment() == \'left\' }">\r\n    <a href="#" role="button" role="button" data-bind="click: toggleAlignLeft, tooltip: { message: \'Align left\' }">\r\n        <i class="paperbits-icon paperbits-align-left-2"></i>\r\n    </a>\r\n</div>\r\n<div class="toolbox-btn" data-bind="css: { \'toolbox-btn-is-active\': alignment() == \'center\' }">\r\n    <a href="#" role="button" data-bind="click: toggleAlignCenter, tooltip: { message: \'Align center\' }">\r\n        <i class="paperbits-icon paperbits-align-center"></i>\r\n    </a>\r\n</div>\r\n<div class="toolbox-btn" data-bind="css: { \'toolbox-btn-is-active\':  alignment() == \'right\' }">\r\n    <a href="#" role="button" data-bind="click: toggleAlignRight, tooltip: { message: \'Align right\' }">\r\n        <i class="paperbits-icon paperbits-align-right-2"></i>\r\n    </a>\r\n</div>\r\n<div class="toolbox-btn" data-bind="css: { \'toolbox-btn-is-active\':  alignment() == \'justify\' }">\r\n    <a href="#" role="button" data-bind="click: toggleJustify, tooltip: { message: \'Justify\' }">\r\n        <i class="paperbits-icon paperbits-align-justify"></i>\r\n    </a>\r\n</div>\r\n<div class="toolbox-btn" data-bind="css: { \'toolbox-btn-is-active\': colored() }">\r\n    <a href="#" role="button" aria-haspopup="true" data-bind="balloon: { component: { name: \'color-selector\', params: { initColorKey: $component.selectedColorKey, onSelect: $component.onColorSelected } } }, tooltip: { message: \'Change text color\' }">\r\n        <i class="paperbits-icon paperbits-color"></i>\r\n    </a>\r\n</div>'},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.HyperlinkEditor=void 0;const a=n(0),s=n(807),l=n(209),c=n(2);let u=class{constructor(e,t,n){this.htmlEditorProvider=e,this.permalinkResolver=t,this.eventManager=n,this.htmlEditorProvider=e,this.permalinkResolver=t,this.eventManager=n,this.onSelectionChange=this.onSelectionChange.bind(this),this.onHyperlinkChange=this.onHyperlinkChange.bind(this),this.hyperlink=a.observable(),n.addEventListener("htmlEditorChanged",this.onSelectionChange)}onHyperlinkChange(e){return r(this,void 0,void 0,(function*(){const t=this.htmlEditorProvider.getCurrentHtmlEditor();t&&(e?t.setHyperlink(e):t.removeHyperlink())}))}onSelectionChange(){return r(this,void 0,void 0,(function*(){const e=this.htmlEditorProvider.getCurrentHtmlEditor().getHyperlink();if(e){const t=yield this.permalinkResolver.getHyperlinkFromContract(e);this.hyperlink(t)}else this.hyperlink(null)}))}onClick(){this.htmlEditorProvider.getCurrentHtmlEditor().expandSelection()}dispose(){this.eventManager.removeEventListener("htmlEditorChanged",this.onSelectionChange)}};i([c.OnDestroyed(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],u.prototype,"dispose",null),u=i([c.Component({selector:"hyperlink-editor",template:s.default}),o("design:paramtypes",[Object,l.PermalinkResolver,Object])],u),t.HyperlinkEditor=u},function(e,t,n){"use strict";n.r(t),t.default='<div class="toolbox-btn" data-bind="css: { \'toolbox-btn-is-active\': hyperlink() }">\r\n    <a href="#" role="button" aria-haspopup="true" data-bind="balloon: { component: { name: \'hyperlink-selector\', params: { hyperlink: $component.hyperlink, onChange: $component.onHyperlinkChange } } }, tooltip: { message: \'Set hyperlink\' }">\r\n        <i class="paperbits-icon paperbits-link-69-2"></i>\r\n    </a>\r\n</div>'},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.TextblockEditor=void 0;const r=n(0),a=n(809),s=n(2),l=n(810);let c=class{constructor(e){this.eventManager=e,this.pluginNames=r.observableArray(),this.pluginNames.push("formatting"),this.pluginNames.push("hyperlink-editor")}initialize(){this.eventManager.dispatchEvent("enableHtmlEditor",this.model.htmlEditor)}};i([s.Param(),o("design:type",l.TextblockModel)],c.prototype,"model",void 0),i([s.Event(),o("design:type",Function)],c.prototype,"onChange",void 0),i([s.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],c.prototype,"initialize",null),c=i([s.Component({selector:"html-editor",template:a.default}),o("design:paramtypes",[Object])],c),t.TextblockEditor=c},function(e,t,n){"use strict";n.r(t),t.default="<div class=\"flex flex-row\">\r\n    \x3c!-- ko foreach: { data: pluginNames, as: 'name' } --\x3e\r\n    \x3c!-- ko component: name --\x3e\r\n    \x3c!-- /ko --\x3e\r\n    \x3c!-- /ko --\x3e\r\n</div>"},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(290),t),o(n(83),t),o(n(277),t),o(n(275),t)},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.TextStyleSelector=void 0;const r=n(0),a=n(812),s=n(2);let l=class{constructor(){this.styles=r.observableArray()}setTextStyle(e){this.onSelect&&this.onSelect(e)}};i([s.Param(),o("design:type",Function)],l.prototype,"styles",void 0),i([s.Event(),o("design:type",Function)],l.prototype,"onSelect",void 0),l=i([s.Component({selector:"text-style-selector",template:a.default}),o("design:paramtypes",[])],l),t.TextStyleSelector=l},function(e,t,n){"use strict";n.r(t),t.default='<div id="textStyleSelector" role="menu" class="tools-paragraphstyle" data-bind="scrollable: true, focus: { childSelector: \'.tools-paragraph-style\' }">\r\n    \x3c!--ko foreach: { data: styles, as: \'style\' } --\x3e\r\n    <a href="#" role="menuitem" class="tools-paragraph-style tools-paragraph-style-normal" data-bind="text: style.displayName, click: $parent.setTextStyle"></a>\r\n    \x3c!--/ko--\x3e\r\n</div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DropbucketModule=void 0;const i=n(814);t.DropbucketModule=class{register(e){e.bind("dropbucket",i.DropBucket)}}},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.DropBucket=void 0;const a=n(815),s=n(0),l=n(6),c=n(45),u=n(46),d=n(816),p=n(2);let h=class{constructor(e,t,n,i,o,r){this.globalEventHandler=e,this.eventManager=t,this.mediaService=n,this.dropHandlers=i,this.viewManager=o,this.widgetService=r,this.onDragDrop=this.onDragDrop.bind(this),this.onDragStart=this.onDragStart.bind(this),this.onDragEnd=this.onDragEnd.bind(this),this.onPaste=this.onPaste.bind(this),this.addPendingContent=this.addPendingContent.bind(this),this.uploadContentAsMedia=this.uploadContentAsMedia.bind(this),this.discardDroppedContent=this.discardDroppedContent.bind(this),this.handleDroppedContent=this.handleDroppedContent.bind(this),this.handleUnknownContent=this.handleUnknownContent.bind(this),this.globalEventHandler.addDragDropListener(this.onDragDrop),this.dropHandlers=i,this.droppedItems=s.observableArray()}canHandleDrop(e){return e.dataTransfer.files&&e.dataTransfer.files.length>0||e.dataTransfer.getData("url").length>0}addPendingContent(e){this.droppedItems.push(e)}handleDroppedContent(e){return r(this,void 0,void 0,(function*(){const t=new d.DropBucketItem;if(t.title=e.title,t.description=e.description,e.getWidgetOrder){const n=yield e.getWidgetOrder();t.widgetOrder(n)}if(t.thumbnailUrl(e.iconUrl),e.getThumbnailUrl&&e.getThumbnailUrl().then(e=>{t.previewUrl(e),t.thumbnailUrl(e)}),e.uploadables&&e.uploadables.length)for(const n of e.uploadables)t.uploadables.push(n);this.addPendingContent(t)}))}onDragDrop(e){if(this.viewManager.mode===c.ViewManagerMode.preview)return;if(!this.canHandleDrop(e))return;this.droppedItems.removeAll();const t=e.dataTransfer,n=Array.prototype.slice.call(t.files);let i;if(t.files.length>0){i=[];for(const e of n)i.push({source:e,name:e.name,mimeType:e.type})}else{const e=t.getData("url"),n=e.split("/");i=[{source:e,name:n[n.length-1]}]}for(const o of i){let e=!1,n=null,i=0;for(;null===n&&i<this.dropHandlers.length;)n=this.dropHandlers[i].getContentDescriptorFromDataTransfer(o),n&&(this.handleDroppedContent(n),e=!0),i++;e||this.handleUnknownContent(t)}}onPaste(e){this.droppedItems.removeAll();const t=e.clipboardData.getData("text");let n=0,i=null;for(;null===i&&n<this.dropHandlers.length;)i=this.dropHandlers[n].getContentDescriptorFromDataTransfer({source:t,name:t.split("/").pop().split("?")[0]}),i&&this.handleDroppedContent(i),n++}handleUnknownContent(e){if(0===e.files.length)return;let t="File",n=e.files[0].name;e.files.length>1&&(t=e.files.length+" files",n="");const i=Array.prototype.slice.call(e.files),o=new d.DropBucketItem,r=[];for(const a of i)r.push(a);o.title=t,o.description=n,o.uploadables(r),this.addPendingContent(o)}onDragStart(e){if(this.viewManager.mode==c.ViewManagerMode.preview)return;e.widgetFactoryResult=e.widgetOrder().createWidget();const t=e.widgetFactoryResult.element,n=e.widgetFactoryResult.widgetModel,i=e.widgetFactoryResult.widgetBinding;return this.droppedItems.remove(e),this.viewManager.beginDrag({sourceModel:n,sourceBinding:i}),t}onDragEnd(e){return r(this,void 0,void 0,(function*(){if(this.viewManager.mode===c.ViewManagerMode.preview)return;e.widgetFactoryResult.element.remove(),this.droppedItems.remove(e);const t=e.uploadables();t&&t.length>0&&(this.uploadContentAsMedia(e),this.droppedItems.remove(e));const n=this.viewManager.getDragSession(),i=n.targetBinding;i&&i.handler&&this.widgetService.getWidgetHandler(i.handler).onDragDrop(n),this.eventManager.dispatchEvent("virtualDragEnd")}))}uploadContentAsMedia(e){return r(this,void 0,void 0,(function*(){const t=e.uploadables();this.droppedItems.remove(e),t.forEach(e=>r(this,void 0,void 0,(function*(){let t;if("string"==typeof e){const n=e.split("/").pop().split("?")[0];t=l.downloadFile(e).then(e=>this.mediaService.createMedia(n,e)),this.viewManager.notifyProgress(t,"Media library",`Uploading ${e}...`)}else{const n=yield l.readFileAsByteArray(e);t=this.mediaService.createMedia(e.name,n,e.type),this.viewManager.notifyProgress(t,"Media library",`Uploading ${e.name}...`)}})))}))}discardDroppedContent(){this.droppedItems.removeAll()}};h=i([p.Component({selector:"dropbucket",template:a.default}),o("design:paramtypes",[u.GlobalEventHandler,Object,Object,Array,Object,Object])],h),t.DropBucket=h},function(e,t,n){"use strict";n.r(t),t.default='\x3c!-- ko if: droppedItems().length > 0 --\x3e\r\n\r\n<ul data-bind="visible: viewManager.primaryToolboxVisible, foreach: droppedItems()">\r\n    <li class="toolbox editor">\r\n        <div class="droppedcontent-details">\r\n            <h1>\r\n                <span data-bind="text: description"></span>\r\n            </h1>\r\n            <button class="btn btn-dismiss" aria-label="Close" data-bind="click: $component.discardDroppedContent">\r\n                <i class="paperbits-icon paperbits-simple-remove"></i>\r\n            </button>\r\n        </div>\r\n        <div class="droppedcontent-preview" data-bind="background: background, lightbox: { url: previewUrl }">\r\n        </div>\r\n        \x3c!--ko if: uploadables().length > 0 --\x3e\r\n        <button class="btn" data-bind="click: $component.uploadContentAsMedia">\r\n            <i class="paperbits-icon paperbits-square-upload"></i>\r\n            Upload to media library\r\n        </button>\r\n        \x3c!--/ko--\x3e\r\n\r\n        <div class="clearfix"></div>\r\n    </li>\r\n</ul>\r\n\x3c!-- /ko --\x3e'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DropBucketItem=void 0;const i=n(0),o=n(82);t.DropBucketItem=class{constructor(){this.title=null,this.description=null,this.previewUrl=i.observable(),this.thumbnailUrl=i.observable(),this.uploadables=i.observableArray(),this.widgetOrder=i.observable(),this.background=i.computed(()=>{const e=new o.BackgroundModel;return e.sourceUrl=this.thumbnailUrl(),e})}}},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ViewportSelector=void 0;const r=n(0),a=n(818),s=n(2),l=n(46);let c=class{constructor(e,t){this.viewManager=e,this.eventManager=t,this.viewManager=e,this.viewport=r.observable("desktop"),this.viewport(this.viewManager.getViewport())}setXl(){this.viewport("xl"),this.viewManager.setViewport("xl"),this.eventManager.dispatchEvent(l.CommonEvents.onViewportChange,"xl")}setLg(){this.viewport("lg"),this.viewManager.setViewport("lg"),this.eventManager.dispatchEvent(l.CommonEvents.onViewportChange,"lg")}setMd(){this.viewport("md"),this.viewManager.setViewport("md"),this.eventManager.dispatchEvent(l.CommonEvents.onViewportChange,"md")}setSm(){this.viewport("sm"),this.viewManager.setViewport("sm"),this.eventManager.dispatchEvent(l.CommonEvents.onViewportChange,"sm")}setXs(){this.viewport("xs"),this.viewManager.setViewport("xs"),this.eventManager.dispatchEvent(l.CommonEvents.onViewportChange,"xs")}zoomOut(){this.viewport("zoomout"),this.viewManager.setViewport("zoomout")}};c=i([s.Component({selector:"viewport-selector",template:a.default}),o("design:paramtypes",[Object,Object])],c),t.ViewportSelector=c},function(e,t,n){"use strict";n.r(t),t.default='<div class="toolbox toolbox-horizontal">\r\n    <div class="toolbox-btn d-none d-xl-inline-block" data-bind="css: { \'toolbox-btn-is-active\': viewport() == \'zoomout\' }">\r\n        <a href="#" data-bind="click: zoomOut, tooltip: \'Zoom out\', focus: true" role="button" aria-label="Switch to zoomed out view">\r\n            <i class="paperbits-icon paperbits-zoom-out"></i>\r\n        </a>\r\n    </div>\r\n    <div class="toolbox-btn d-none d-xl-inline-block" data-bind="css: { \'toolbox-btn-is-active\': viewport() == \'xl\' }">\r\n        <a href="#" data-bind="click: setXl, tooltip: \'Extra large screen\'" role="button" aria-label="Switch to extra large screen view">\r\n            <i class="paperbits-icon paperbits-desktop-screen"></i>\r\n        </a>\r\n    </div>\r\n    <div class="toolbox-btn d-none d-lg-inline-block" data-bind="css: { \'toolbox-btn-is-active\': viewport() == \'lg\' }">\r\n        <a href="#" data-bind="click: setLg, tooltip: \'Large screen\'" role="button" aria-label="Switch to large screen view">\r\n            \ud802\ude52\r\n        </a>\r\n    </div>\r\n    <div class="toolbox-btn d-none d-md-inline-block" data-bind="css: { \'toolbox-btn-is-active\': viewport() == \'md\' }">\r\n        <a href="#" data-bind="click: setMd, tooltip: \'Medium screen\'" role="button" aria-label="Switch to medium screen view">\r\n            <i class="paperbits-icon paperbits-tablet-2"></i>\r\n        </a>\r\n    </div>\r\n    <div class="toolbox-btn d-none d-sm-inline-block" data-bind="css: { \'toolbox-btn-is-active\': viewport() == \'sm\' }">\r\n        <a href="#" data-bind="click: setSm, tooltip: \'Small screen\'" role="button" aria-label="Switch to small screen view">\r\n            \ud802\ude52\r\n        </a>\r\n    </div>\r\n    <div class="toolbox-btn" data-bind="css: { \'toolbox-btn-is-active\': viewport() == \'xs\' }">\r\n        <a href="#" data-bind="click: setXs, tooltip: \'Extra small screen\'" role="button" aria-label="Switch to extra small screen view">\r\n            <i class="paperbits-icon paperbits-mobile"></i>\r\n        </a>\r\n    </div>\r\n</div>'},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(820),t),o(n(822),t)},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.LocaleSelector=void 0;const a=n(0),s=n(821),l=n(2);let c=class{constructor(e,t,n){this.eventManager=e,this.viewManager=t,this.localeService=n,this.selectedLocale=a.observable(),this.locales=a.observableArray()}initialize(){return r(this,void 0,void 0,(function*(){this.refreshLocales(),this.eventManager.addEventListener("onLocalesChange",this.refreshLocales)}))}refreshLocales(){return r(this,void 0,void 0,(function*(){const e=yield this.localeService.getLocales(),t=yield this.localeService.getCurrentLocale();this.locales(e),this.selectedLocale(e.find(e=>e.code===t))}))}selectLocale(e){this.viewManager.clearJourney(),this.localeService.setCurrentLocale(e.code),this.eventManager.dispatchEvent("onLocaleChange",e),this.selectedLocale(e)}addLocale(){return r(this,void 0,void 0,(function*(){const e={heading:"Add locale",component:{name:"locale-editor",params:{onLocaleAdded:()=>{this.viewManager.closeView()}}},resize:"vertically horizontally"};this.viewManager.openViewAsPopup(e)}))}};i([l.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],c.prototype,"initialize",null),c=i([l.Component({selector:"locale-selector",template:s.default,injectable:"localeSelector"}),o("design:paramtypes",[Object,Object,Object])],c),t.LocaleSelector=c},function(e,t,n){"use strict";n.r(t),t.default='<div class="flex flex-column">\r\n    <div role="listbox" class="list-checkboxes" data-bind="foreach: { data: locales, as: \'locale\' }, scrollable: true, focus: { childSelector: \'.list-item\' }">\r\n        <a href="#" role="option" class="list-item" data-bind="text: locale.displayName, click: $component.selectLocale, css: { \'list-item-checked\': locale === $component.selectedLocale() }">\r\n        </a>\r\n    </div>\r\n    <div class="flex-item btn-group">\r\n        <button class="btn" data-bind="click: $component.addLocale">\r\n            <i class="paperbits-icon paperbits-simple-add"></i>\r\n            Add locale\r\n        </button>\r\n    </div>\r\n</div>'},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.LocaleEditor=void 0;const a=n(0),s=n(823),l=n(2),c=n(207),u=n(824);let d=class{constructor(e,t,n){this.localeService=e,this.eventManager=t,this.viewManager=n,this.selectedLanguage=a.observable(),this.selectedLocale=a.observable(),this.locales=a.observableArray(),this.languages=a.observable(Object.keys(u.builtInLocales).map(e=>({code:e,locales:u.builtInLocales[e].locales,displayName:u.builtInLocales[e].nameNative})))}initialize(){return r(this,void 0,void 0,(function*(){this.selectedLanguage.subscribe(e=>{this.locales(null),this.selectedLocale(null),e.locales&&this.locales(Object.keys(e.locales).map(t=>({code:t,displayName:e.locales[t].nameNative})))})}))}addLocale(){return r(this,void 0,void 0,(function*(){const e=this.selectedLanguage(),t=this.selectedLocale();let n=e.code,i=e.displayName;t&&(n+="-"+t.code,i+=` (${t.displayName})`),yield this.localeService.createLocale(n,i),this.eventManager.dispatchEvent("onLocalesChange"),this.onLocaleAdded&&this.onLocaleAdded(t),this.viewManager.notifySuccess("Content localization",`Locale "${i}" was  added.`)}))}};i([l.Param(),o("design:type",Object)],d.prototype,"locale",void 0),i([l.Event(),o("design:type",Function)],d.prototype,"onLocaleAdded",void 0),i([l.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],d.prototype,"initialize",null),d=i([l.Component({selector:"locale-editor",template:s.default,injectable:"localeEditor"}),o("design:paramtypes",[c.LocaleService,Object,Object])],d),t.LocaleEditor=d},function(e,t,n){"use strict";n.r(t),t.default='<fieldset class="form" data-bind="scrollable: {}">\r\n    <div class="form-group">\r\n        <label class="form-label">\r\n            Language\r\n            <button class="btn btn-info" type="button" data-bind="tooltip: \'Locale code, e.g. en-us\'"></button>\r\n        </label>\r\n        <select id="textTransform" class="form-control" data-bind="options: languages, value: selectedLanguage, optionsText: \'displayName\'"></select>\r\n    </div>\r\n    \x3c!-- ko if: locales --\x3e\r\n    <div class="form-group">\r\n        <label class="form-label">\r\n            Display name\r\n            <button class="btn btn-info" type="button" data-bind="tooltip: \'Locale display name. e.g. English (US)\'"></button>\r\n        </label>\r\n        <select id="textTransform" class="form-control" data-bind="options: locales, value: selectedLocale, optionsText: \'displayName\'"></select>\r\n    </div>\r\n    \x3c!-- /ko --\x3e\r\n</fieldset>\r\n\r\n<div class="flex-item btn-group">\r\n    <button class="btn" data-bind="click: addLocale">\r\n        <i class="paperbits-icon paperbits-simple-add"></i>\r\n        Add locale\r\n    </button>\r\n</div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.builtInLocales=void 0,t.builtInLocales={af:{nameNative:"Afrikaans",nameEnglish:"Afrikaans",locales:{za:{nameNative:"Afrikaans",nameEnglish:"Afrikaans"}}},ar:{nameNative:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",nameEnglish:"Arabic"},bg:{nameNative:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",nameEnglish:"Bulgarian",locales:{bg:{nameNative:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",nameEnglish:"Bulgarian"}}},ca:{nameNative:"Catal\xe0",nameEnglish:"Catalan",locales:{ad:{nameNative:"Catal\xe0",nameEnglish:"Catalan"}}},cs:{nameNative:"\u010ce\u0161tina",nameEnglish:"Czech",locales:{cz:{nameNative:"\u010ce\u0161tina",nameEnglish:"Czech"}}},cy:{nameNative:"Cymraeg",nameEnglish:"Welsh",locales:{gb:{nameNative:"Cymraeg",nameEnglish:"Welsh"}}},da:{nameNative:"Dansk",nameEnglish:"Danish",locales:{dk:{nameNative:"Dansk",nameEnglish:"Danish"}}},de:{nameNative:"Deutsch",nameEnglish:"German",locales:{at:{nameNative:"\xd6sterreich",nameEnglish:"Austria"},ch:{nameNative:"Schweiz",nameEnglish:"Switzerland"},de:{nameNative:"Deutschland",nameEnglish:"Germany"}}},el:{nameNative:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",nameEnglish:"Greek",locales:{gr:{nameNative:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",nameEnglish:"Greek"}}},en:{nameNative:"English",nameEnglish:"English",locales:{gb:{nameNative:"UK",nameEnglish:"UK"},us:{nameNative:"US",nameEnglish:"US"}}},es:{nameNative:"Espa\xf1ol",nameEnglish:"Spanish",locales:{cl:{nameNative:"Chile",nameEnglish:"Chile"},es:{nameNative:"Espa\xf1a",nameEnglish:"Spain"},mx:{nameNative:"M\xe9xico",nameEnglish:"Mexico"}}},et:{nameNative:"Eesti",nameEnglish:"Estonian",locales:{ee:{nameNative:"Eesti",nameEnglish:"Estonian"}}},eu:{nameNative:"Euskara",nameEnglish:"Basque"},fa:{nameNative:"\u0641\u0627\u0631\u0633\u06cc",nameEnglish:"Persian",locales:{ir:{nameNative:"\u0641\u0627\u0631\u0633\u06cc",nameEnglish:"Persian"}}},fi:{nameNative:"Suomi",nameEnglish:"Finnish",locales:{fi:{nameNative:"Suomi",nameEnglish:"Finnish"}}},fr:{nameNative:"Fran\xe7ais",nameEnglish:"French",locales:{ca:{nameNative:"Canada",nameEnglish:"Canada"},fr:{nameNative:"France",nameEnglish:"France"}}},he:{nameNative:"\u05e2\u05d1\u05e8\u05d9\u05ea",nameEnglish:"Hebrew",locales:{il:{nameNative:"\u05e2\u05d1\u05e8\u05d9\u05ea",nameEnglish:"Hebrew"}}},hr:{nameNative:"Hrvatski",nameEnglish:"Croatian",locales:{hr:{nameNative:"Hrvatski",nameEnglish:"Croatian"}}},hu:{nameNative:"Magyar",nameEnglish:"Hungarian",locales:{hu:{nameNative:"Magyar",nameEnglish:"Hungarian"}}},id:{nameNative:"Bahasa Indonesia",nameEnglish:"Indonesian",locales:{id:{nameNative:"Bahasa Indonesia",nameEnglish:"Indonesian"}}},is:{nameNative:"\xcdslenska",nameEnglish:"Icelandic",locales:{is:{nameNative:"\xcdslenska",nameEnglish:"Icelandic"}}},it:{nameNative:"Italiano",nameEnglish:"Italian",locales:{it:{nameNative:"Italiano",nameEnglish:"Italian"}}},ja:{nameNative:"\u65e5\u672c\u8a9e",nameEnglish:"Japanese",locales:{jp:{nameNative:"\u65e5\u672c\u8a9e",nameEnglish:"Japanese"}}},km:{nameNative:"\u1797\u17b6\u179f\u17b6\u1781\u17d2\u1798\u17c2\u179a",nameEnglish:"Khmer",locales:{kh:{nameNative:"\u1797\u17b6\u179f\u17b6\u1781\u17d2\u1798\u17c2\u179a",nameEnglish:"Khmer"}}},ko:{nameNative:"\ud55c\uad6d\uc5b4",nameEnglish:"Korean",locales:{kr:{nameNative:"\ud55c\uad6d\uc5b4",nameEnglish:"Korean"}}},la:{nameNative:"Latina",nameEnglish:"Latin"},lt:{nameNative:"Lietuvi\u0173",nameEnglish:"Lithuanian",locales:{lt:{nameNative:"Lietuvi\u0173",nameEnglish:"Lithuanian"}}},lv:{nameNative:"Latvie\u0161u",nameEnglish:"Latvian",locales:{lv:{nameNative:"Latvie\u0161u",nameEnglish:"Latvian"}}},mn:{nameNative:"\u041c\u043e\u043d\u0433\u043e\u043b",nameEnglish:"Mongolian",locales:{mn:{nameNative:"\u041c\u043e\u043d\u0433\u043e\u043b",nameEnglish:"Mongolian"}}},nb:{nameNative:"Norsk bokm\xe5l",nameEnglish:"Norwegian",locales:{no:{nameEnglish:"Bokm\xe5l"}}},nl:{nameNative:"Nederlands",nameEnglish:"Dutch",locales:{nl:{nameNative:"Nederlands",nameEnglish:"Dutch"}}},nn:{nameNative:"Norsk nynorsk",nameEnglish:"Norwegian",locales:{no:{nameEnglish:"Nynorsk"}}},pl:{nameNative:"Polski",nameEnglish:"Polish",locales:{pl:{nameNative:"Polski",nameEnglish:"Polish"}}},pt:{nameNative:"Portugu\xeas",nameEnglish:"Portuguese",locales:{br:{nameNative:"Brasil",nameEnglish:"Brazil"},pt:{nameNative:"Portugal",nameEnglish:"Portugal"}}},ro:{nameNative:"Rom\xe2n\u0103",nameEnglish:"Romanian",locales:{ro:{nameNative:"Rom\xe2n\u0103",nameEnglish:"Romanian"}}},ru:{nameNative:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",nameEnglish:"Russian",locales:{ru:{nameNative:"\u0420\u043e\u0441\u0441\u0438\u044f",nameEnglish:"Russia"}}},sk:{nameNative:"Sloven\u010dina",nameEnglish:"Slovak",locales:{sk:{nameNative:"Sloven\u010dina",nameEnglish:"Slovak"}}},sl:{nameNative:"Sloven\u0161\u010dina",nameEnglish:"Slovenian",locales:{si:{nameNative:"Sloven\u0161\u010dina",nameEnglish:"Slovenian"}}},sr:{nameNative:"\u0421\u0440\u043f\u0441\u043a\u0438 / Srpski",nameEnglish:"Serbian",locales:{rs:{nameNative:"\u0421\u0440\u043f\u0441\u043a\u0438 / Srpski",nameEnglish:"Serbian"}}},sv:{nameNative:"Svenska",nameEnglish:"Swedish",locales:{se:{nameNative:"Svenska",nameEnglish:"Swedish"}}},th:{nameNative:"\u0e44\u0e17\u0e22",nameEnglish:"Thai",locales:{th:{nameNative:"\u0e44\u0e17\u0e22",nameEnglish:"Thai"}}},tr:{nameNative:"T\xfcrk\xe7e",nameEnglish:"Turkish",locales:{tr:{nameNative:"T\xfcrk\xe7e",nameEnglish:"Turkish"}}},uk:{nameNative:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",nameEnglish:"Ukrainian",locales:{ua:{nameNative:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",nameEnglish:"Ukrainian"}}},vi:{nameNative:"Ti\u1ebfng Vi\u1ec7t",nameEnglish:"Vietnamese",locales:{vn:{nameNative:"Ti\u1ebfng Vi\u1ec7t",nameEnglish:"Vietnamese"}}},zh:{nameNative:"\u4e2d\u6587",nameEnglish:"Chinese",locales:{cn:{nameNative:"\u4e2d\u56fd\u5927\u9646",nameEnglish:"PRC"},tw:{nameNative:"\u53f0\u7063",nameEnglish:"Taiwan"}}}}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(252),t),o(n(239),t),o(n(256),t),o(n(257),t),o(n(244),t),o(n(245),t),o(n(201),t),o(n(199),t),o(n(251),t),o(n(246),t),o(n(826),t),o(n(278),t),o(n(249),t),o(n(198),t),o(n(827),t),o(n(248),t),o(n(259),t),o(n(253),t),o(n(247),t),o(n(258),t),o(n(250),t),o(n(260),t),o(n(254),t),o(n(255),t),o(n(241),t),o(n(261),t)},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.HostBindingHandler=void 0;const o=n(0),r=n(45),a=n(289);t.HostBindingHandler=class{constructor(e,t,n,i,a){this.globalEventHandler=e,this.viewManager=t,this.router=n,this.siteService=i,this.mediaService=a,this.hostComponent=o.observable(),this.designTime=o.observable(!0),o.bindingHandlers.host={init:(e,t)=>{const n=t(),i=o.observable("desktop");n.block.subscribe(this.designTime),n.viewport.subscribe(e=>{switch(this.viewManager.mode=r.ViewManagerMode.selecting,e){case"zoomout":i("viewport-zoomout"),this.viewManager.mode=r.ViewManagerMode.pause;break;case"xl":i("viewport-xl");break;case"lg":i("viewport-lg");break;case"md":i("viewport-md");break;case"sm":i("viewport-sm");break;case"xs":i("viewport-xs");break;default:throw new Error("Unknown viewport")}}),o.applyBindingsToNode(e,{css:i},null);const a=this.createIFrame();e.appendChild(a)},update:(e,t)=>{const n=t();this.hostComponent(n.host())}}}createIFrame(){const e=document.createElement("iframe");e.src="/page.html?designtime=true",e.classList.add("host"),e.title="Website";const t=e=>{e.preventDefault()},n=e=>{if(!e.ctrlKey&&!e.metaKey&&this.viewManager.mode!==r.ViewManagerMode.preview)return;const t=e.target.closest("A");t&&(e.preventDefault(),this.router.navigateTo(t.href))};let o;const s=e=>{e.metadata.originatedByHost=!0,o.pushState(e,e.title,e.url)};return e.addEventListener("load",()=>i(this,void 0,void 0,(function*(){const i=e.contentDocument;this.globalEventHandler.appendDocument(i),this.setRootElement(i.body),i.addEventListener("mousedown",n,!0),i.addEventListener("click",t,!0),this.viewManager.hostDocument=i,o=e.contentDocument.defaultView.window.history;const r=o.pushState;this.router.addRouteChangeListener(s);const l=this.router.getCurrentRoute();o.pushState(l,l.title,location.href),o.pushState=(e,t,n)=>{r.call(o,e,t,n),e&&e.metadata.originatedByHost||window.history.pushState(e,e.title,e.url)};const c=yield this.siteService.getSettings(),u=null==c?void 0:c.site;if(!(null==u?void 0:u.faviconSourceKey))return;const d=yield this.mediaService.getMediaByKey(u.faviconSourceKey);d&&d.permalink&&a.MetaDataSetter.setFavIcon(d.permalink)})),!1),e.addEventListener("beforeunload",()=>{this.router.removeRouteChangeListener(s)},!1),e}setRootElement(e){return i(this,void 0,void 0,(function*(){const t=document.createElement("style");e.ownerDocument.head.appendChild(t),o.applyBindingsToNode(e,{css:{design:this.designTime}},null),o.applyBindingsToNode(t,{styleSheet:{}},null),o.applyBindingsToNode(e,{component:this.hostComponent},null)}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResizableBindingHandler=void 0;const i=n(0),o=n(828);t.ResizableBindingHandler=class{constructor(e){i.bindingHandlers.resizable={init:(t,n)=>{const r=n();let a,s;const l=e=>{"string"==typeof e?a=e:(a=e.directions,s=e.onresize),a.includes("suspended")?(t.classList.add("resize-suspended"),t.style.width=null,t.style.height=null):t.classList.remove("resize-suspended")};l(i.unwrap(r)),i.isObservable(r)&&r.subscribe(l);let c,u,d,p,h,f,m,v,g,y=!1;const b=window.getComputedStyle(t),x=b.minWidth,w=b.minHeight,S=(n,i)=>{if("none"===a)return;n.preventDefault(),n.stopImmediatePropagation(),e.addEventListener("onPointerMove",C),e.addEventListener("onPointerUp",k),y=!0;const o=t.getBoundingClientRect();h=i,c=n.clientX,u=n.clientY,d=o.width,p=o.height,f=o.left,m=o.right,v=o.top,g=o.bottom;const r=t.ownerDocument.body.clientWidth,s=t.ownerDocument.body.clientHeight;switch(h){case"left":t.style.left="unset",t.style.right=r-m+"px",t.style.width=d+"px";break;case"right":t.style.right="unset",t.style.left=f+"px",t.style.width=d+"px";break;case"top":t.style.top="unset",t.style.bottom=s-g+"px",t.style.height=p+"px";break;case"bottom":t.style.bottom="unset",t.style.top=v+"px",t.style.height=p+"px"}t.style.position="fixed"},k=t=>{y=!1,e.removeEventListener("onPointerMove",C),e.removeEventListener("onPointerUp",k),s&&s()},C=n=>{if(!y)return;let i,r;switch(h){case"left":i=d+(c-n.clientX)+"px",o.isNumber(x)&&i<x?i=x:(t.style.left="unset",t.style.width=i,t.classList.add("resized-horizontally"));break;case"right":i=d+n.clientX-c+"px",o.isNumber(x)&&i<x?i=x:(t.style.right="unset",t.style.width=i,t.classList.add("resized-horizontally"));break;case"top":r=p+(u-n.clientY)+"px",o.isNumber(w)&&r<w?r=w:(t.style.top="unset",t.style.height=r,t.classList.add("resized-vertically"));break;case"bottom":r=p+n.clientY-u+"px",o.isNumber(w)&&r<w?r=w:(t.style.bottom="unset",t.style.height=r,t.classList.add("resized-vertically"));break;default:throw new Error(`Unexpected resizing initial edge: "${h}".`)}e.dispatchEvent("onEditorResize")};if(a.includes("vertically")){const e=t.ownerDocument.createElement("div");e.classList.add("resize-handle","resize-handle-top"),t.appendChild(e),e.addEventListener("mousedown",e=>S(e,"top"));const n=t.ownerDocument.createElement("div");n.classList.add("resize-handle","resize-handle-bottom"),t.appendChild(n),n.addEventListener("mousedown",e=>S(e,"bottom"))}if(a.includes("horizontally")){const e=t.ownerDocument.createElement("div");e.classList.add("resize-handle","resize-handle-right"),t.appendChild(e),e.addEventListener("mousedown",e=>S(e,"right"));const n=t.ownerDocument.createElement("div");n.classList.add("resize-handle","resize-handle-left"),t.appendChild(n),n.addEventListener("mousedown",e=>S(e,"left"))}i.utils.domNodeDisposal.addDisposeCallback(t,()=>{e.removeEventListener("onPointerMove",C),e.removeEventListener("onPointerUp",k)})}}}}},function(e,t,n){(function(e){var i=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++)n[t[i]]=Object.getOwnPropertyDescriptor(e,t[i]);return n},o=/%[sdj%]/g;t.format=function(e){if(!g(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var i=arguments,r=i.length,a=String(e).replace(o,(function(e){if("%%"===e)return"%";if(n>=r)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(t){return"[Circular]"}default:return e}})),l=i[n];n<r;l=i[++n])m(l)||!x(l)?a+=" "+l:a+=" "+s(l);return a},t.deprecate=function(n,i){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,i).apply(this,arguments)};var o=!1;return function(){if(!o){if(e.throwDeprecation)throw new Error(i);e.traceDeprecation?console.trace(i):console.error(i),o=!0}return n.apply(this,arguments)}};var r,a={};function s(e,n){var i={seen:[],stylize:c};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),f(n)?i.showHidden=n:n&&t._extend(i,n),y(i.showHidden)&&(i.showHidden=!1),y(i.depth)&&(i.depth=2),y(i.colors)&&(i.colors=!1),y(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=l),u(i,e,i.depth)}function l(e,t){var n=s.styles[t];return n?"\x1b["+s.colors[n][0]+"m"+e+"\x1b["+s.colors[n][1]+"m":e}function c(e,t){return e}function u(e,n,i){if(e.customInspect&&n&&k(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(i,e);return g(o)||(o=u(e,o,i)),o}var r=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(g(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return v(t)?e.stylize(""+t,"number"):f(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0}(e,n);if(r)return r;var a=Object.keys(n),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),S(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return d(n);if(0===a.length){if(k(n)){var l=n.name?": "+n.name:"";return e.stylize("[Function"+l+"]","special")}if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return e.stylize(Date.prototype.toString.call(n),"date");if(S(n))return d(n)}var c,x="",C=!1,M=["{","}"];return h(n)&&(C=!0,M=["[","]"]),k(n)&&(x=" [Function"+(n.name?": "+n.name:"")+"]"),b(n)&&(x=" "+RegExp.prototype.toString.call(n)),w(n)&&(x=" "+Date.prototype.toUTCString.call(n)),S(n)&&(x=" "+d(n)),0!==a.length||C&&0!=n.length?i<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=C?function(e,t,n,i,o){for(var r=[],a=0,s=t.length;a<s;++a)P(t,String(a))?r.push(p(e,t,n,i,String(a),!0)):r.push("");return o.forEach((function(o){o.match(/^\d+$/)||r.push(p(e,t,n,i,o,!0))})),r}(e,n,i,s,a):a.map((function(t){return p(e,n,i,s,t,C)})),e.seen.pop(),function(e,t,n){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(c,x,M)):M[0]+x+M[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,i,o,r){var a,s,l;if((l=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),P(i,o)||(a="["+o+"]"),s||(e.seen.indexOf(l.value)<0?(s=m(n)?u(e,l.value,null):u(e,l.value,n-1)).indexOf("\n")>-1&&(s=r?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),y(a)){if(r&&o.match(/^\d+$/))return s;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function h(e){return Array.isArray(e)}function f(e){return"boolean"==typeof e}function m(e){return null===e}function v(e){return"number"==typeof e}function g(e){return"string"==typeof e}function y(e){return void 0===e}function b(e){return x(e)&&"[object RegExp]"===C(e)}function x(e){return"object"==typeof e&&null!==e}function w(e){return x(e)&&"[object Date]"===C(e)}function S(e){return x(e)&&("[object Error]"===C(e)||e instanceof Error)}function k(e){return"function"==typeof e}function C(e){return Object.prototype.toString.call(e)}function M(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(y(r)&&(r=e.env.NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(r)){var i=e.pid;a[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,i,e)}}else a[n]=function(){};return a[n]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=f,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=v,t.isString=g,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=y,t.isRegExp=b,t.isObject=x,t.isDate=w,t.isError=S,t.isFunction=k,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(829);var _=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function O(){var e=new Date,t=[M(e.getHours()),M(e.getMinutes()),M(e.getSeconds())].join(":");return[e.getDate(),_[e.getMonth()],t].join(" ")}function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",O(),t.format.apply(t,arguments))},t.inherits=n(830),t._extend=function(e,t){if(!t||!x(t))return e;for(var n=Object.keys(t),i=n.length;i--;)e[n[i]]=t[n[i]];return e};var E="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function T(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(E&&e[E]){var t;if("function"!=typeof(t=e[E]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,E,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,i=new Promise((function(e,i){t=e,n=i})),o=[],r=0;r<arguments.length;r++)o.push(arguments[r]);o.push((function(e,i){e?n(e):t(i)}));try{e.apply(this,o)}catch(a){n(a)}return i}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),E&&Object.defineProperty(t,E,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,i(e))},t.promisify.custom=E,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],i=0;i<arguments.length;i++)n.push(arguments[i]);var o=n.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var r=this,a=function(){return o.apply(r,arguments)};t.apply(this,n).then((function(t){e.nextTick(a,null,t)}),(function(t){e.nextTick(T,t,a)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,i(t)),n}}).call(this,n(88))},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.HyperlinkSelector=void 0;const a=n(0),s=n(832),l=n(2);let c=class{constructor(e){this.hyperlinkProviders=e,this.hyperlink=a.observable(),this.hyperlinkProvider=a.observable(null),this.target=a.observable("_self"),this.selection=a.computed(()=>{const e=a.unwrap(this.hyperlink);return e?`${e.title}${e.anchorName?" ("+e.anchorName+")":""}`:"No link"})}onMounted(){this.updateHyperlinkState(this.hyperlink()),this.hyperlinkProvider.subscribe(this.onResourcePickerChange),this.target.subscribe(this.targetChanged)}onResourcePickerChange(e){null===e&&(this.hyperlink(null),this.onChange(null))}onHyperlinkSelected(e){if(this.hyperlink(e),e){e.target=this.target();const t=this.hyperlinkProviders.find(t=>t.canHandleHyperlink(e.targetKey));this.hyperlinkProvider(t)}this.onChange&&this.onChange(e)}targetChanged(){const e=this.hyperlink();e.target=this.target(),this.hyperlink(e),this.onChange&&this.onChange(e)}selectProvider(e){this.hyperlinkProvider(e),e||this.hyperlink(null)}getCurrentSelection(){const e=this.hyperlink();return this.hyperlinkProvider()&&e?`${this.hyperlinkProvider().name}: ${e.title} ${e.anchorName?"("+e.anchorName+")":""}`:"Not selected"}clearProvider(){this.hyperlinkProvider(null)}updateHyperlinkState(e){return r(this,void 0,void 0,(function*(){if(!e)return void this.hyperlinkProvider(null);let t;e.targetKey&&(t=this.hyperlinkProviders.find(t=>t.canHandleHyperlink(e.targetKey))),this.hyperlink(e),this.target(e.target||"_self"),this.hyperlinkProvider(t)}))}};i([l.Param(),o("design:type",Function)],c.prototype,"hyperlink",void 0),i([l.Event(),o("design:type",Function)],c.prototype,"onChange",void 0),i([l.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],c.prototype,"onMounted",null),c=i([l.Component({selector:"hyperlink-selector",template:s.default}),o("design:paramtypes",[Array])],c),t.HyperlinkSelector=c},function(e,t,n){"use strict";n.r(t),t.default='<div class="editor" data-bind="scrollable: {}">\r\n    <h1>Hyperlink</h1>\r\n    <hr>\r\n\r\n    <div class="tabs" role="tablist">\r\n        <div class="tab" role="presentation" data-bind="css: { \'tab-is-active\': !hyperlinkProvider() }, attr: { \'aria-selected\': !hyperlinkProvider() }">\r\n            <a href="#" data-bind="click: clearProvider, focus: true" title="Clear hyperlink" role="tab" aria-label="Clear hyperlink">\r\n                <i class="paperbits-icon paperbits-ban"></i>\r\n            </a>\r\n        </div>\r\n\r\n        \x3c!--ko foreach: { data: hyperlinkProviders, as: \'hyperlinkProvider\' } --\x3e\r\n        \x3c!--ko if: hyperlinkProvider.componentName !== \'blog-selector\' --\x3e\r\n        <div class="tab" role="presentation" data-bind="css: { \'tab-is-active\': $component.hyperlinkProvider() && hyperlinkProvider.componentName === $component.hyperlinkProvider().componentName }, attr: { \'title\': hyperlinkProvider.name, \'aria-selected\': $parent.hyperlinkProvider() && hyperlinkProvider.componentName === $parent.hyperlinkProvider().componentName }">\r\n            <a href="#" role="tab" data-bind="balloon: { component: { name: hyperlinkProvider.componentName, params: { onHyperlinkSelect: $component.onHyperlinkSelected } }, closeOn: $component.hyperlink }">\r\n                <i data-bind="css: hyperlinkProvider.iconClass"></i>\r\n            </a>\r\n        </div>\r\n        \x3c!--/ko--\x3e\r\n        \x3c!--/ko--\x3e\r\n    </div>\r\n\r\n    \x3c!--ko if: hyperlink --\x3e\r\n    <div class="form-group">\r\n        <label for="hyperlink"> \r\n            Link points to:\r\n        </label>\r\n        <div class="max-w300 text-overflow">\r\n            <b id="hyperlink" data-bind="text: $component.selection, attr: { title: selection }"></b>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="form-group">\r\n        <label for="targetValue" class="form-label">\r\n            Link opens in:\r\n        </label>\r\n        <label class="form-label">\r\n            <input type="radio" name="target" value="_self" data-bind="checked: target"> Same window\r\n        </label>\r\n        <label class="form-label">\r\n            <input type="radio" name="target" value="_blank" data-bind="checked: target"> New window\r\n        </label>\r\n    </div>\r\n    \x3c!--/ko--\x3e\r\n\r\n    \x3c!-- ko ifnot: hyperlink --\x3e\r\n    <div class="flex flex-column">\r\n        <div class="flex flex-column flex-item-grow tab-panel" role="tabpanel">\r\n            <label>No link selected.</label>\r\n        </div>\r\n    </div>\r\n    \x3c!--/ko--\x3e\r\n</div>'},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetSelector=void 0;const a=n(0),s=n(834),l=n(835),c=n(2);let u=class{constructor(e){this.widgetService=e,this.onMounted=this.onMounted.bind(this),this.selectWidget=this.selectWidget.bind(this),this.working=a.observable(!0),this.categories=a.observable()}onMounted(){this.loadWidgetOrders()}loadWidgetOrders(){return r(this,void 0,void 0,(function*(){this.working(!0);const e=new Array,t=yield this.widgetService.getWidgetOrders(),n=this.onRequest();t.filter(e=>!e.requires||e.requires.every(e=>n.includes(e))).forEach(t=>{const n=new l.WidgetItem;n.css=""+t.iconClass,n.displayName=t.displayName,n.category=t.category||"",n.widgetOrder=t,e.push(n)});const i=e.reduce((e,t)=>((e[t.category]=e[t.category]||[]).push(t),e),{}),o=Object.keys(i).map(e=>({name:e,items:i[e]}));this.categories(o),this.working(!1)}))}selectWidget(e){return r(this,void 0,void 0,(function*(){const t=yield e.widgetOrder.createModel();this.onSelect(t)}))}};i([c.Event(),o("design:type",Function)],u.prototype,"onSelect",void 0),i([c.Event(),o("design:type",Function)],u.prototype,"onRequest",void 0),i([c.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],u.prototype,"onMounted",null),u=i([c.Component({selector:"widget-selector",template:s.default}),o("design:paramtypes",[Object])],u),t.WidgetSelector=u},function(e,t,n){"use strict";n.r(t),t.default='<div class="editor">\r\n    <h1>\r\n        Add widget\r\n    </h1>\r\n    <hr>\r\n\r\n    \x3c!-- ko if: working() --\x3e\r\n    <spinner></spinner>\r\n    \x3c!-- /ko --\x3e\r\n\r\n    \x3c!-- ko ifnot: working() --\x3e\r\n    <div role="list" class="flex flex-column list" data-bind="scrollable: true, focus: { childSelector: \'.list-item\' }">\r\n        \x3c!-- ko foreach: { data: categories, as: \'category\'  } --\x3e\r\n        \x3c!-- ko if: category.name --\x3e\r\n        <h2 class="text-center" data-bind="text: category.name"></h2>\r\n        <hr>\r\n        \x3c!-- /ko --\x3e\r\n        <div data-bind="foreach: category.items">\r\n            <a href="#" role="listitem" class="list-item list-item-large" data-bind="click: $component.selectWidget">\r\n                <i class="paperbits-icon" data-bind="css: css"></i>\r\n                <span data-bind="text: displayName"></span>\r\n            </a>\r\n        </div>\r\n        \x3c!-- /ko --\x3e\r\n    </div>\r\n    \x3c!-- /ko --\x3e\r\n</div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetItem=void 0,t.WidgetItem=class{}},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.UrlSelector=void 0;const a=n(0),s=n(837),l=n(838),c=n(2),u=n(17),d=n(23);let p=class{constructor(e){this.urlService=e,this.uri=a.observable("https://"),this.urls=a.observableArray(),this.selectedUrl=a.observable(),this.searchPattern=a.observable(),this.working=a.observable(!1)}onMounted(){return r(this,void 0,void 0,(function*(){yield this.searchUrls(),this.searchPattern.extend(u.ChangeRateLimit).subscribe(this.searchUrls)}))}searchUrls(e=""){return r(this,void 0,void 0,(function*(){this.working(!0),this.urls([]);const t=d.Query.from().orderBy("title");e&&t.where("title",d.Operator.contains,e);const n=yield this.urlService.search(t);this.currentPage=n;const i=n.value.map(e=>new l.UrlItem(e));this.urls.push(...i),this.working(!1)}))}loadNextPage(){var e;return r(this,void 0,void 0,(function*(){if(!(null===(e=this.currentPage)||void 0===e?void 0:e.takeNext)||this.working())return;this.working(!0),this.currentPage=yield this.currentPage.takeNext();const t=this.currentPage.value.map(e=>new l.UrlItem(e));this.urls.push(...t),this.working(!1)}))}selectUrl(e){return r(this,void 0,void 0,(function*(){const t=this.selectedUrl();t&&t.hasFocus(!1),e.hasFocus(!0),this.selectedUrl(e),this.onSelect&&this.onSelect(e.toContract()),this.onHyperlinkSelect&&this.onHyperlinkSelect(e.getHyperlink())}))}createUrl(){return r(this,void 0,void 0,(function*(){const e=this.uri(),t=yield this.urlService.createUrl(e,e),n=new l.UrlItem(t);this.onHyperlinkSelect&&this.onHyperlinkSelect(n.getHyperlink())}))}deleteUrl(){return r(this,void 0,void 0,(function*(){const e=this.selectedUrl();e&&(yield this.urlService.deleteUrl(e.toContract())),this.uri("https://"),yield this.searchUrls()}))}};i([c.Event(),o("design:type",Function)],p.prototype,"onSelect",void 0),i([c.Event(),o("design:type",Function)],p.prototype,"onHyperlinkSelect",void 0),i([c.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],p.prototype,"onMounted",null),p=i([c.Component({selector:"url-selector",template:s.default}),o("design:paramtypes",[Object])],p),t.UrlSelector=p},function(e,t,n){"use strict";n.r(t),t.default='<div class="editor flex flex-column">\r\n    <h1>\r\n        URLs\r\n    </h1>\r\n    <hr>\r\n    <fieldset class="flex-item form">\r\n        <div class="form-group">\r\n            <input class="form-control" type="search" role="searchbox" data-bind="textInput: searchPattern, valueUpdate: \'keyup\', focus: true" placeholder="Search URLs..." aria-label="Search URL" aria-controls="searchResult">\r\n            <p id="searchResult" class="text-hide" role="region" aria-live="polite" data-bind="text: `URLs found: ${urls().length}`">\r\n            </p>\r\n        </div>\r\n    </fieldset>\r\n\r\n    \x3c!-- ko if: !working() && urls().length === 0 --\x3e\r\n    <div class="flex flex-column flex-item flex-item-grow list">\r\n        \x3c!-- ko if: searchPattern() === "" --\x3e\r\n        <p class="flex-item flex-item-grow text-center">\r\n            It seems that you don\'t have URLs yet.\r\n        </p>\r\n        \x3c!-- /ko --\x3e\r\n\r\n        \x3c!-- ko if: searchPattern() !== ""  --\x3e\r\n        <p class="flex-item flex-item-grow text-center">\r\n            Could not find anything. Try to change search criteria.</p>\r\n        \x3c!-- /ko --\x3e\r\n    </div>\r\n    \x3c!-- /ko --\x3e\r\n\r\n    <div class="list flex flex-column flex-item flex-item-grow">\r\n        <div class="flex-item flex-item-grow" role="list" data-bind="scrollable: true">\r\n            \x3c!-- ko foreach: { data: urls, as: \'url\' } --\x3e\r\n            <a href="#" role="listitem" class="list-item" data-bind="click: $component.selectUrl, event: { keydown: $component.keydown }, attr: { title: url.title }">\r\n                <i class="paperbits-icon paperbits-link-69-2"></i>\r\n                <span class="list-item-label" data-bind="text: url.title"></span>\r\n            </a>\r\n            \x3c!-- /ko --\x3e\r\n            \x3c!-- ko if: $component.working --\x3e\r\n            <spinner></spinner>\r\n            \x3c!-- /ko --\x3e\r\n            \x3c!-- ko ifnot: $component.working --\x3e\r\n            <div class="list-edge" data-bind="whenInView: $component.loadNextPage"></div>\r\n            \x3c!-- /ko --\x3e\r\n        </div>\r\n\r\n        <div class="flex-item btn-group">\r\n            <div class="input-group">\r\n                <input type="text" class="form-control" data-bind="textInput: $component.uri" placeholder="e.g. https://www.example.com" maxlength="2096" spellcheck="false">\r\n            </div>\r\n            <button class="btn" data-bind="click: $component.createUrl">\r\n                <i class="paperbits-icon paperbits-simple-add"></i> Add\r\n            </button>\r\n            \x3c!--ko if: selectedUrl()--\x3e\r\n            <button class="btn" data-bind="click: $component.deleteUrl">\r\n                <i class="paperbits-icon paperbits-simple-remove"></i> Delete\r\n            </button>\r\n            \x3c!--/ko--\x3e\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UrlItem=void 0;const i=n(0),o=n(57);t.UrlItem=class{constructor(e){this.key=e.key,this.title=i.observable(e.title),this.description=i.observable(e.description),this.permalink=i.observable(e.permalink),this.hasFocus=i.observable(!1)}toContract(){return{key:this.key,title:this.title(),description:this.description(),permalink:this.permalink()}}getHyperlink(){const e=new o.HyperlinkModel;return e.title=this.title(),e.targetKey=this.key,e.href=this.permalink(),e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LayoutDesignModule=void 0;const i=n(840);t.LayoutDesignModule=class{register(e){e.bindModule(new i.LayoutWorkshopModule)}}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(841),t),o(n(292),t),o(n(107),t),o(n(291),t),o(n(293),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LayoutWorkshopModule=void 0;const i=n(291),o=n(292),r=n(293),a=n(845),s=n(846);t.LayoutWorkshopModule=class{register(e){e.bind("layoutHost",s.LayoutHost),e.bind("layoutsWorkshop",i.LayoutsWorkshop),e.bind("layoutDetails",o.LayoutDetails),e.bind("layoutSelector",r.LayoutSelector),e.bindToCollection("workshopSections",a.LayoutsToolButton)}}},function(e,t,n){"use strict";n.r(t),t.default='\x3c!--ko if: working()--\x3e\r\n<spinner></spinner>\r\n\x3c!--/ko--\x3e\r\n\r\n<div class="flex flex-column fit">\r\n    <fieldset class="flex-item form">\r\n        <div class="form-group">\r\n            <input class="form-control" type="search" role="searchbox" data-bind="textInput: searchPattern, valueUpdate: \'keyup\', focus: true" placeholder="Search layouts..." aria-label="Search layouts" aria-controls="searchResult">\r\n\r\n            <p id="searchResult" class="text-hide" role="region" aria-live="polite" data-bind="text: `Layouts found: ${layouts().length}`">\r\n            </p>\r\n        </div>\r\n    </fieldset>\r\n\r\n    \x3c!-- ko if: !working() && layouts().length === 0 --\x3e\r\n\r\n    \x3c!-- ko if: searchPattern() === "" --\x3e\r\n    <p class="flex-item flex-item-grow text-center">It seems that you don\'t have layouts yet. Would you like to\r\n        <a href="#" class="btn-link" data-bind="click: addLayout">create one</a>?\r\n    </p>\r\n    \x3c!-- /ko --\x3e\r\n\r\n    \x3c!-- ko if: searchPattern() !== "" --\x3e\r\n    <p class="flex-item flex-item-grow text-center" aria-label="Search result">\r\n        Could not find anything. Try to change search criteria.\r\n    </p>\r\n    \x3c!-- /ko --\x3e\r\n\r\n    \x3c!-- /ko --\x3e\r\n\r\n    <div class="flex flex-column flex-item flex-item-grow" role="list" data-bind="scrollable: true">\r\n        \x3c!-- ko foreach: { data: layouts, as: \'layout\' } --\x3e\r\n        <a href="#" role="listitem" class="list-item" data-bind="css: { selected:  $component.isSelected(layout) }, attr: { title: layout.title }, activate: $component.selectLayout, selectable: true">\r\n            <i class="paperbits-icon paperbits-layout-11-2"></i>\r\n            <span data-bind="text: layout.title"></span>\r\n        </a>\r\n        \x3c!--/ko--\x3e\r\n        \x3c!--ko if: $component.working()--\x3e\r\n        <spinner></spinner>\r\n        \x3c!--/ko--\x3e\r\n        \x3c!-- ko ifnot: $component.working --\x3e\r\n        <div class="list-edge" data-bind="whenInView: $component.loadNextPage"></div>\r\n        \x3c!-- /ko --\x3e\r\n    </div>\r\n\r\n    <div class="flex-item btn-group">\r\n        <button class="btn" data-bind="click: addLayout">\r\n            <i class="paperbits-icon paperbits-simple-add"></i>\r\n            Add layout\r\n        </button>\r\n    </div>\r\n</div>'},function(e,t,n){"use strict";n.r(t),t.default='<div class="flex flex-column fit">\r\n    <fieldset class="flex-item flex-item-grow form" data-bind="scrollable: true">\r\n        <div class="form-group">\r\n            <label for="title" class="form-label">Title</label>\r\n            <div class="input-group">\r\n                <input type="text" id="title" class="form-control" data-bind="textInput: layoutItem.title, validationElement: layoutItem.title, focus: true" placeholder="i.e. Orders" maxlength="256">\r\n                <button class="btn btn-danger input-group-btn" data-bind="validationMessageToggle: layoutItem.title" type="button">!</button>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="form-group">\r\n            <label for="permalinkTemplate" class="form-label">\r\n                Permalink template\r\n                <button class="btn btn-info" type="button" data-bind="tooltip: \'<p>Permalink template determines which layout is applied to a page. Examples:</p><p><b>/blogs</b> - exact URL</p><p><b>/blogs/{blogId}</b> - variable segment</p><p><b>/blogs/*</b> - anything afterwards</p>\'"></button>\r\n            </label>\r\n            <div class="input-group">\r\n                <input type="text" id="permalinkTemplate" class="form-control" data-bind="textInput: $component.permalinkTemplate, validationElement: $component.permalinkTemplate, disable: isDefaultLayout" placeholder="/" maxlength="2000">\r\n                <button class="btn btn-danger input-group-btn" data-bind="validationMessageToggle: $component.permalinkTemplate" type="button">!</button>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="form-group">\r\n            <label for="description" class="form-label">Description</label>\r\n            <textarea id="description" class="form-control" data-bind="textInput: layoutItem.description"></textarea>\r\n        </div>\r\n    </fieldset>\r\n\r\n    \x3c!-- ko if: canDelete --\x3e\r\n    <div class="flex-item btn-group">\r\n        <button class="btn" data-bind="confirm: { message: \'Are you sure you want to delete this layout?\', onConfirm: deleteLayout }">\r\n            <i class="paperbits-icon paperbits-simple-remove"></i>\r\n            Delete layout\r\n        </button>\r\n        <button class="btn" data-bind="click: copyLayout">\r\n            <i class="paperbits-icon paperbits-single-copy-04"></i>\r\n            Copy layout\r\n        </button>\r\n    </div>\r\n    \x3c!-- /ko --\x3e\r\n</div>'},function(e,t,n){"use strict";n.r(t),t.default='<div class="flex flex-column flex-item flex-item-grow" data-bind="scrollable: true" role="list">\r\n    \x3c!-- ko foreach: { data: layouts, as: \'layout\' } --\x3e\r\n    <a href="#" role="listitem" class="list-item" data-bind="css: { selected:  $component.isSelected(layout) }, attr: { title: layout.title }, activate: $component.selectLayout, selectable: true">\r\n        <i class="paperbits-icon paperbits-layout-11-2"></i>\r\n        <span data-bind="text: layout.title"></span>\r\n    </a>\r\n    \x3c!--/ko--\x3e\r\n    \x3c!--ko if: $component.working()--\x3e\r\n    <spinner></spinner>\r\n    \x3c!--/ko--\x3e\r\n    \x3c!-- ko ifnot: $component.working --\x3e\r\n    <div class="list-edge" data-bind="whenInView: $component.loadNextPage"></div>\r\n    \x3c!-- /ko --\x3e\r\n</div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LayoutsToolButton=void 0,t.LayoutsToolButton=class{constructor(e){this.viewManager=e,this.iconClass="paperbits-icon paperbits-layout-11-2",this.title="Layouts"}onActivate(){this.viewManager.clearJourney();const e={heading:this.title,helpText:"<h1>Layouts</h1><p>Add or edit layouts. Layouts let you centralize common content (e.g., navigation bar, footer), which will be applied to pages. Each page is automatically matched with a layout based on the URL template.</p>",component:{name:"layouts"}};this.viewManager.openViewAsWorkshop(e)}}},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.LayoutHost=void 0;const a=n(0),s=n(100),l=n(2),c=n(45),u=n(8);let d=class{constructor(e,t,n,i,o,r){this.contentViewModelBinder=e,this.router=t,this.eventManager=n,this.viewManager=i,this.layoutService=o,this.styleCompiler=r,this.contentViewModel=a.observable(),this.layoutKey=a.observable()}initialize(){return r(this,void 0,void 0,(function*(){yield this.refreshContent(),this.eventManager.addEventListener("onDataPush",()=>this.onDataPush()),this.eventManager.addEventListener("onLocaleChange",()=>this.onLocaleUpdate())}))}onDataPush(){return r(this,void 0,void 0,(function*(){this.viewManager.mode!==c.ViewManagerMode.selecting&&this.viewManager.mode!==c.ViewManagerMode.selected||(yield this.refreshContent())}))}onLocaleUpdate(){return r(this,void 0,void 0,(function*(){yield this.refreshContent()}))}refreshContent(){return r(this,void 0,void 0,(function*(){this.viewManager.setShutter();const e=this.router.getCurrentRoute(),t=yield this.layoutService.getLayoutContent(this.layoutKey()),n=new u.StyleManager(this.eventManager),i=yield this.styleCompiler.getStyleSheet();n.setStyleSheet(i);const o={styleManager:n,navigationPath:e.path,routeKind:"layout",template:{layout:{value:t,onValueUpdate:e=>r(this,void 0,void 0,(function*(){yield this.layoutService.updateLayoutContent(this.layoutKey(),e)}))}}},a=yield this.contentViewModelBinder.getContentViewModelByKey(t,o);a.widgetBinding.provides=["html","js","interaction"],this.contentViewModel(a),this.viewManager.removeShutter()}))}};i([l.Param(),o("design:type",Function)],d.prototype,"layoutKey",void 0),i([l.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],d.prototype,"initialize",null),d=i([l.Component({selector:"layout-host",template:"\x3c!-- ko if: contentViewModel --\x3e\x3c!-- ko widget: contentViewModel, grid: {} --\x3e\x3c!-- /ko --\x3e\x3c!-- /ko --\x3e"}),o("design:paramtypes",[s.ContentViewModelBinder,Object,Object,Object,Object,Object])],d),t.LayoutHost=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DragManager=void 0;const i=n(6),o=n(294),r=n(200);t.DragManager=class{constructor(e,t){this.eventManager=e,this.viewManager=t,this.startDragging=this.startDragging.bind(this),this.completeDragging=this.completeDragging.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.setAcceptor=this.setAcceptor.bind(this),this.registerDragSource=this.registerDragSource.bind(this),this.registerDragTarget=this.registerDragTarget.bind(this),this.resetDraggedElementPosition=this.resetDraggedElementPosition.bind(this),this.inertia=this.inertia.bind(this),this.eventManager.addEventListener("onPointerMove",this.onPointerMove),this.eventManager.addEventListener("onPointerUp",this.onPointerUp)}onPointerMove(e){this.viewManager.mode!=r.ViewManagerMode.preview&&this.isDragged&&(1===e.which?(this.previousX=this.positionX,this.previousY=this.positionY,this.pointerX=e.clientX,this.pointerY=e.clientY,this.positionX=this.pointerX-this.initialOffsetX,this.positionY=this.pointerY-this.initialOffsetY,this.source.configuration.sticky||(this.positionX>this.bounds.width-this.draggedClientRect.width&&(this.positionX=this.bounds.width-this.draggedClientRect.width),this.positionX<0&&(this.positionX=0),this.positionY>this.bounds.height-this.draggedClientRect.height&&(this.positionY=this.bounds.height-this.draggedClientRect.height),this.positionY<0&&(this.positionY=0),this.velocityX=this.positionX-this.previousX,this.velocityY=this.positionY-this.previousY),this.target&&this.target.element.classList.contains("accepting")&&this.target.element.classList.remove("accepting"),this.resetDraggedElementPosition()):this.cancelDragging())}resetDraggedElementPosition(){this.dragged.style.left=this.positionX+"px",this.dragged.style.top=this.positionY+"px"}startDragging(e){if(this.velocityX=0,this.velocityY=0,this.isDragged=!0,this.dragged=e.element,this.sourceData=e.configuration.sourceData,this.source=e,this.initialOffsetX=this.source.initialOffsetX,this.initialOffsetY=this.source.initialOffsetY,this.pointerX=this.source.initialPointerX,this.pointerY=this.source.initialPointerY,this.positionX=this.pointerX-this.initialOffsetX,this.positionY=this.pointerY-this.initialOffsetY,this.bounds={top:0,left:0,width:document.body.clientWidth,height:document.body.clientHeight},e.configuration.sticky&&(this.dragged.style.width=this.dragged.clientWidth+"px",this.dragged.style.height=this.dragged.clientHeight+"px"),e.configuration.ondragstart){const t=e.configuration.ondragstart(e.configuration.sourceData,e.element);t&&(this.dragged=t)}this.dragged.parentElement||document.body.appendChild(this.dragged),this.dragged.classList.add("dragged"),this.draggedClientRect=e.element.getBoundingClientRect(),this.resetDraggedElementPosition(),this.viewManager.mode=r.ViewManagerMode.dragging}cancelDragging(){this.viewManager.mode!=r.ViewManagerMode.preview&&(this.target=null,this.completeDragging())}completeDragging(){if(this.isDragged=!1,this.target){this.target.element.classList.remove("accepting");const e=i.pointerToClientQuadrant(this.pointerX,this.pointerY,this.target.element);this.target.config.ondrop&&this.target.config.ondrop(this.sourceData,this.target.config.targetData,e),this.target.config.ondropbefore&&this.acceptBefore&&this.target.config.ondropbefore(this.source.configuration.sourceData,this.source.element),this.target.config.ondropafter&&!this.acceptBefore&&this.target.config.ondropafter(this.source.configuration.sourceData,this.source.element)}this.dragged.classList.remove("dragged"),this.source.configuration.ondragend&&(this.source.configuration.ondragend(this.source.configuration.sourceData,this.source.element),this.eventManager.dispatchEvent("virtualDragEnd")),this.source.configuration.sticky?(this.dragged.style.removeProperty("left"),this.dragged.style.removeProperty("top"),this.dragged.style.removeProperty("width"),this.dragged.style.removeProperty("height")):this.source.configuration.inertia&&this.inertia(),this.sourceData=null,this.source=null,this.target=null}onPointerUp(e){this.viewManager.mode!=r.ViewManagerMode.preview&&(clearTimeout(this.startDraggingTimeout),this.isDragged&&this.completeDragging())}registerDragSource(e,t){new o.DragSource(e,t,this)}registerDragTarget(e,t){new o.DragTarget(e,t,this)}onPointerDown(e){this.viewManager.mode!=r.ViewManagerMode.preview&&(e.configuration.sticky?(clearTimeout(this.startDraggingTimeout),this.startDraggingTimeout=setTimeout(()=>this.startDragging(e),300)):this.startDragging(e))}setAcceptor(e,t){this.target=e,this.target.element.classList.contains("accepting")||this.target.element.classList.add("accepting"),this.acceptBefore=t}inertia(){this.isDragged||((Math.abs(this.velocityX)>.005||Math.abs(this.velocityY)>.005)&&requestAnimationFrame(this.inertia),this.positionX+=this.velocityX,this.positionY+=this.velocityY,this.velocityX*=.85,this.velocityY*=.85,this.positionX>this.bounds.width-this.draggedClientRect.width&&(this.velocityX*=-.4,this.positionX=this.bounds.width-this.draggedClientRect.width),this.positionX<0&&(this.velocityX*=-.4,this.positionX=0),this.positionY>this.bounds.height-this.draggedClientRect.height&&(this.velocityY*=-.4,this.positionY=this.bounds.height-this.draggedClientRect.height),this.positionY<0&&(this.velocityY*=-.4,this.positionY=0),this.resetDraggedElementPosition())}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DragSource=void 0,t.DragSource=class{constructor(e,t,n){this.element=e,this.configuration=t,this.dragManager=n,this.onPointerDown=this.onPointerDown.bind(this),e.addEventListener("mousedown",this.onPointerDown),e.dragSource=this}onPointerDown(e){if(1!==e.buttons||e.handled)return;e.handled=!0;const t=e.target;this.beginDrag(t,e.clientX,e.clientY)}beginDrag(e,t,n){if(this.configuration.preventDragging&&this.configuration.preventDragging(e))return;const i=this.element.getBoundingClientRect();this.initialOffsetX=t-i.left,this.initialOffsetY=n-i.top,this.initialPointerX=t,this.initialPointerY=n,this.dragManager.onPointerDown(this)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DragTarget=void 0,t.DragTarget=class{constructor(e,t,n){this.element=e,this.config=t,this.dragManager=n,this.onPointerMove=this.onPointerMove.bind(this),e.addEventListener("mousemove",this.onPointerMove,!1)}onPointerMove(e){if(e.stopPropagation(),!this.dragManager.dragged)return;const t=this.element.getBoundingClientRect(),n=window.scrollY|document.documentElement.scrollTop,i=window.scrollX|document.documentElement.scrollLeft;if(e.pageX>t.left+i&&e.pageX<t.right+i&&e.pageY>t.top+n&&e.pageY<t.bottom+n&&this.config.accept&&this.config.accept(this.dragManager.sourceData,this.dragManager.dragged)){let n=!1;"vertical"===this.config.flow&&(n=e.pageY+t.height/2<t.bottom,n&&this.config.onacceptbefore&&this.config.onacceptbefore(this.dragManager.dragged,this.element,this.dragManager.sourceData),!n&&this.config.onacceptafter&&this.config.onacceptafter(this.dragManager.dragged,this.element,this.dragManager.sourceData)),"horizontal"===this.config.flow&&(n=e.pageX+t.width/2<t.right,n&&this.config.onacceptbefore&&this.config.onacceptbefore(this.dragManager.dragged,this.element,this.dragManager.sourceData),!n&&this.config.onacceptafter&&this.config.onacceptafter(this.dragManager.dragged,this.element,this.dragManager.sourceData)),this.dragManager.setAcceptor(this,n)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(854),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnhandledErrorHandler=void 0,t.UnhandledErrorHandler=class{constructor(e,t,n){this.eventManager=e,this.viewManager=t,this.logger=n,this.eventManager.addEventListener("onError",this.handlerError.bind(this)),this.eventManager.addEventListener("onUnhandledRejection",this.handlerPromiseRejection.bind(this))}handlerError(e){try{if(!(null==e?void 0:e.error)){let t;return e.target?(t="Unparsable error for element: "+e.target.toString(),navigator.sendBeacon&&e.target.src&&navigator.sendBeacon(e.target.src)):t="Unparsable error thrown.",void this.logger.trackError(new Error(t))}this.viewManager.notifyError("Oops, something went wrong.","We are unable to complete your operation this time. Please try again later."),this.logger.trackError(e.error.stack||e.error)}catch(t){console.error("Unable to log error. "+(t.stack||t.message))}}handlerPromiseRejection(e){try{if(!(null==e?void 0:e.reason)){const t=e.target?"Unhandled rejection for target: "+e.target.toString():"Unhandled rejection.";return void this.logger.trackError(new Error(t))}this.viewManager.notifyError("Oops, something went wrong.","We are unable to complete your operation this time. Please try again later."),this.logger.trackError(new Error("Unhandled rejection: "+(e.reason.stack||e.reason)))}catch(t){console.error("Unable to log error. "+(t.stack||t.message))}}}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(856),t),o(n(858),t)},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.Tooltip=void 0;const r=n(857),a=n(0),s=n(2);let l=class{constructor(){this.observableText=a.observable()}init(){this.text&&this.observableText(this.text)}};i([s.Param(),o("design:type",Object)],l.prototype,"text",void 0),i([s.Param(),o("design:type",Object)],l.prototype,"observableText",void 0),i([s.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],l.prototype,"init",null),l=i([s.Component({selector:"tooltip",template:r.default}),o("design:paramtypes",[])],l),t.Tooltip=l},function(e,t,n){"use strict";n.r(t),t.default='<span class="tooltip" data-bind="html: observableText"></span>'},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultViewManager=void 0;const a=n(85),s=n(0),l=n(222),c=n(6),u=n(859);n(133);const d=n(46),p=n(45),h=n(2),f=n(58),m=n(295),v=n(296);let g=class{constructor(e,t,n,i,o,r){this.eventManager=e,this.globalEventHandler=t,this.designerUserService=n,this.settingsProvider=i,this.router=o,this.viewStack=r,this.contextualEditorsBag={},this.designTime=s.observable(!1),this.previewable=s.observable(!0),this.block=s.computed(()=>this.designTime()&&this.previewable()),this.mode=p.ViewManagerMode.selecting,this.toasts=s.observableArray(),this.journey=s.observableArray(),this.journeyName=s.pureComputed(()=>0===this.journey().length?null:this.journey()[0].heading),this.widgetEditor=s.observable(),this.contextualEditors=s.observableArray([]),this.highlightedElement=s.observable(),this.splitterElement=s.observable(),this.selectedElement=s.observable(),this.selectedElementContextualEditor=s.observable(),this.viewport=s.observable("xl"),this.locale=s.observable("en-us"),this.rolesScope=s.observableArray([f.BuiltInRoles.anonymous]),this.host=s.observable(),this.shutter=s.observable(!0),this.dragSession=s.observable(),this.primaryToolboxVisible=s.observable(!1),this.websitePreviewEnabled=s.observable(!1),this.canPreview=s.pureComputed(()=>{var e;return this.websitePreviewEnabled()&&"page-host"===(null===(e=this.host())||void 0===e?void 0:e.name)})}initialize(){return r(this,void 0,void 0,(function*(){this.globalEventHandler.addDragEnterListener(this.hideToolboxes.bind(this)),this.globalEventHandler.addDragDropListener(this.onDragEnd.bind(this)),this.globalEventHandler.addDragEndListener(this.onDragEnd.bind(this)),this.globalEventHandler.addDragLeaveScreenListener(this.showToolboxes.bind(this)),this.eventManager.addEventListener("virtualDragEnd",this.onDragEnd.bind(this)),this.router.addRouteChangeListener(this.onRouteChange.bind(this)),this.globalEventHandler.appendDocument(document),this.eventManager.addEventListener("onTopLevelEscape",this.onEscape.bind(this)),this.eventManager.addEventListener("onKeyDown",this.onKeyDown.bind(this)),this.eventManager.addEventListener("onKeyUp",this.onKeyUp.bind(this));const e=yield this.settingsProvider.getSetting("websitePreviewEnabled");this.websitePreviewEnabled(e||!1)}))}onKeyDown(e){this.getOpenView()||(e.ctrlKey||e.metaKey)&&this.designTime(!1)}onKeyUp(e){this.getOpenView()||e.ctrlKey||e.metaKey||this.mode!==p.ViewManagerMode.preview&&this.designTime(!0)}setHost(e){const t=this.host();t&&t.name===e.name&&!t.params||(this.clearContextualEditors(),this.host(e),this.previewable("style-guide"!==e.name))}getHost(){return this.host()}getHostDocument(){return this.hostDocument}onRouteChange(){this.clearContextualEditors(),this.closeView()}getCurrentJourney(){return this.journeyName()}addToast(e,t,n){const i=new p.Toast(e,t,"info",null,n);return this.toasts.push(i),i}removeToast(e){this.toasts.splice(this.toasts().indexOf(e),1)}notifySuccess(e,t){const n=new p.Toast(e,t,"success");this.toasts.push(n),this.scheduleToastRemoval(n)}notifyInfo(e,t,n){const i=new p.Toast(e,t,"info",null,n);this.toasts.push(i),this.scheduleToastRemoval(i)}notifyError(e,t){const n=new p.Toast(e,t,"error");this.toasts.push(n),this.scheduleToastRemoval(n)}notifyProgress(e,t,n){const i=new p.Toast(t,n);this.toasts.push(i),e.progress&&e.progress(i.progress),e.then(()=>{i.progress(100)}),e.then(()=>{this.scheduleToastRemoval(i)})}updateJourneyComponent(e){let t=this.journey();const n=t.find(t=>t.component.name===e.component.name);n&&(t=t.splice(0,t.indexOf(n))),t.push(e),this.journey(t)}clearJourney(){this.journey([]),this.widgetEditor(null)}hideToolboxes(){this.journey([]),this.primaryToolboxVisible(!1),this.mode!==p.ViewManagerMode.preview&&(this.mode=p.ViewManagerMode.dragging),this.clearContextualEditors()}showToolboxes(){this.primaryToolboxVisible(!0),this.mode=p.ViewManagerMode.selecting}openViewAsWorkshop(e){this.viewStack.clear(),this.clearContextualEditors(),this.updateJourneyComponent(e),this.mode=p.ViewManagerMode.configure}closeWorkshop(e){const t=this.journey();let n;n="string"==typeof e?t.find(t=>t.component.name===e):e;const i=t.indexOf(n);t.splice(i),this.journey(t),this.mode=p.ViewManagerMode.selecting}scheduleToastRemoval(e){setTimeout(()=>{this.toasts(a.without(this.toasts(),e))},8e3)}openUploadDialog(){return uploadDialog.click(),new Promise(e=>{uploadDialog.onchange=()=>{const t=l.coerce(uploadDialog.files);uploadDialog.value="",e(t)}})}openViewAsPopup(e){this.viewStack.clear(),this.widgetEditor()!==e&&(e.hitTest=e=>!!c.closest(e,e=>e.getAttribute&&!!e.getAttribute("contentEditable")||(null==e?void 0:e.classList)&&l.coerce(e.classList).includes("toolbox")),e.close=()=>this.closeView(),e.component.params.onClose=()=>this.closeView(),this.clearContextualEditors(),this.closeView(),this.widgetEditor(e),this.mode=p.ViewManagerMode.configure,this.designTime(!1),this.viewStack.pushView(e))}getOpenView(){return this.widgetEditor()}onEscape(){const e=this.host();if(0===this.viewStack.getViews().length&&this.journey().length>0){const e=this.journey();return e.pop(),void this.journey(e)}!this.getOpenView()&&0===this.journey().length&&e&&"page-host"!==e.name&&this.setHost({name:"page-host"})}closeEditors(){this.closeView(),this.clearJourney()}openWidgetEditor(e){const t={component:{name:e.editor,params:{model:e.model,onChange:e.applyChanges}},heading:e.displayName,resize:e.editorResize||"vertically horizontally"};this.openViewAsPopup(t)}closeView(){if(this.mode===p.ViewManagerMode.preview)return;const e=this.widgetEditor();e&&this.viewStack.removeView(e),this.widgetEditor(null),this.eventManager.dispatchEvent("onWidgetEditorClose"),this.clearContextualEditors(),this.mode=p.ViewManagerMode.selecting,this.primaryToolboxVisible(!0),this.designTime(!0)}setContextualEditor(e,t){this.contextualEditorsBag[e]=t;const n=Object.keys(this.contextualEditorsBag).map(e=>this.contextualEditorsBag[e]);this.contextualEditors(n)}removeContextualEditor(e){if(!this.contextualEditorsBag[e])return;delete this.contextualEditorsBag[e];const t=Object.keys(this.contextualEditorsBag).map(e=>this.contextualEditorsBag[e]);this.contextualEditors(t)}clearContextualEditors(){this.mode!==p.ViewManagerMode.configure&&(this.contextualEditorsBag={},this.contextualEditors([]),this.highlightedElement(null),this.setSplitter(null),this.selectedElement(null),this.selectedElementContextualEditor(null),this.mode!==p.ViewManagerMode.preview&&(this.designTime(!0),this.mode=p.ViewManagerMode.selecting))}setHighlight(e){this.mode!==p.ViewManagerMode.preview&&(this.highlightedElement(null),this.setSplitter(null),this.highlightedElement(e))}setSplitter(e){this.mode!==p.ViewManagerMode.preview&&(this.splitterElement(null),this.splitterElement(e))}setSelectedElement(e,t){this.mode!==p.ViewManagerMode.preview&&(this.clearContextualEditors(),this.closeView(),this.selectedElement(null),this.selectedElement(e),this.selectedElementContextualEditor(t),this.mode!==p.ViewManagerMode.configure&&(this.mode=p.ViewManagerMode.selected),this.clearJourney())}getSelectedElement(){return this.selectedElement()}setViewport(e){this.clearContextualEditors(),this.viewport(e)}getViewport(){return this.viewport()}setViewRoles(e){this.rolesScope(e),this.designerUserService.setUserRoles(e.map(e=>e.key)),this.eventManager.dispatchEvent("onUserRoleChange",e)}getViewRoles(){return this.rolesScope()}setShutter(){this.previousMode=this.mode,this.mode=p.ViewManagerMode.pause,this.shutter(!0)}removeShutter(){this.mode=this.previousMode,this.shutter(!1)}onHoverCommandActivate(){this.mode=p.ViewManagerMode.pause,this.highlightedElement(null),this.selectedElement(null)}onHoverCommandDeactivate(){this.mode=p.ViewManagerMode.selecting}beginDrag(e){this.clearContextualEditors(),this.closeView(),this.dragSession(e),this.hideToolboxes()}getDragSession(){return this.dragSession()}onDragEnd(){this.mode!==p.ViewManagerMode.preview&&this.showToolboxes(),this.highlightedElement(null),this.selectedElement(null)}enablePreviewMode(){this.previousMode=this.mode,this.clearJourney(),this.hideToolboxes(),this.designTime(!1),this.toasts().forEach(e=>{this.removeToast(e)}),this.mode=p.ViewManagerMode.preview}disablePreviewMode(){this.showToolboxes(),this.designTime(!0),this.mode=this.previousMode}dispose(){}};i([h.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],g.prototype,"initialize",null),i([h.OnDestroyed(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],g.prototype,"dispose",null),g=i([h.Component({selector:"view-manager",template:u.default}),o("design:paramtypes",[Object,d.GlobalEventHandler,m.DesignerUserService,Object,Object,v.ViewStack])],g),t.DefaultViewManager=g},function(e,t,n){"use strict";n.r(t),t.default='\r\n<workshops></workshops>\r\n<dropbucket></dropbucket>\r\n\r\n\x3c!-- ko if: host --\x3e\r\n<div class="viewport" data-bind="host: { viewport: viewport, host: host, block: block }"></div>\r\n\r\n<div class="shutter" data-bind="css: { \'active\': shutter }">\r\n    <spinner class="fit"></spinner>\r\n</div>\r\n\x3c!-- /ko --\x3e\r\n\r\n<div class="toasts" data-bind="foreach: toasts">\r\n    <div class="toast" role="alert" aria-live="assertive" aria-atomic="true">\r\n        <div class="toast-indicator">\r\n            <i data-bind="css: state"></i>\r\n        </div>\r\n        <div class="toast-container">\r\n            <div class="toast-header" data-bind="text: title"></div>\r\n            <div class="toast-body" data-bind="html: content"></div>\r\n\r\n            \x3c!-- ko if: commands().length > 0 --\x3e\r\n            <div class="flex-item btn-group" data-bind="foreach: { data: commands, as: \'command\' }">\r\n                <button class="btn" data-bind="click: command.action">\r\n                    \x3c!-- ko if: command.iconClass --\x3e\r\n                    <i class="paperbits-icon" data-bind="css: command.iconClass"></i>\r\n                    \x3c!-- /ko --\x3e\r\n                    <span data-bind="text: command.title"></span>\r\n                </button>\r\n            </div>\r\n            \x3c!-- /ko --\x3e\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\x3c!-- ko with: widgetEditor() --\x3e\r\n<div class="toolbox toolbox-popup toolbox-position-left-offset" data-bind="resizable: resize, surface: $data, dialog: {}">\r\n    <div class="editor resizable-content flex flex-column">\r\n        <h1>\r\n            <span data-bind="text: heading"></span>\r\n        </h1>\r\n        <button class="btn btn-dismiss" aria-label="Close" data-bind="click: $component.closeView">\r\n            <i class="paperbits-icon paperbits-simple-remove"></i>\r\n        </button>\r\n        <hr>\r\n        \x3c!-- ko component: { name: component.name, params: component.params, oncreate: component.oncreate } --\x3e\r\n        \x3c!--/ko --\x3e\r\n    </div>\r\n</div>\r\n\x3c!-- /ko --\x3e\r\n\r\n\x3c!-- ko if: $component.designTime --\x3e\r\n\r\n\x3c!-- ko foreach: { data: contextualEditors, as: \'contextualEditor\' } --\x3e\r\n\x3c!-- ko foreach: { data: contextualEditor.hoverCommands, as: \'command\' } --\x3e\r\n<button class="fixed btn-standalone" data-bind="stickTo: { target: contextualEditor.element, position: command.position }, balloon: { component: command.component, onOpen: $component.onHoverCommandActivate, onClose: $component.onHoverCommandDeactivate }, background: { color: command.color }, attr: { title: command.tooltip }">\r\n    <i class="paperbits-icon paperbits-simple-add"></i>\r\n</button>\r\n\x3c!-- /ko --\x3e\r\n\x3c!-- /ko --\x3e\r\n\r\n\x3c!-- ko if: highlightedElement --\x3e\r\n<div class="layout-editor-selection" data-bind="highlight: highlightedElement">\r\n    <svg alignment="top left">\r\n        <path d="M0,0 L14,0 L14,14 L12,14 L12,2 L0,2 Z" stroke="rgba(255,255,255,.5)" stroke-width="1" data-bind="attr: { fill: highlightedElement().color }"/>\r\n    </svg>\r\n    <svg alignment="top right">\r\n        <path d="M0,0 L14,0 L14,14 L12,14 L12,2 L0,2 Z" stroke="rgba(255,255,255,.5)" stroke-width="1" data-bind="attr: { fill: highlightedElement().color }"/>\r\n    </svg>\r\n    <svg alignment="bottom left">\r\n        <path d="M0,0 L14,0 L14,14 L12,14 L12,2 L0,2 Z" stroke="rgba(255,255,255,.5)" stroke-width="1" data-bind="attr: { fill: highlightedElement().color }"/>\r\n    </svg>\r\n    <svg alignment="bottom right">\r\n        <path d="M0,0 L14,0 L14,14 L12,14 L12,2 L0,2 Z" stroke="rgba(255,255,255,.5)" stroke-width="1" data-bind="attr: { fill: highlightedElement().color }"/>\r\n    </svg>\r\n</div>\r\n\x3c!-- /ko --\x3e\r\n\r\n\x3c!-- ko if: splitterElement --\x3e\r\n<div class="layout-editor-splitter" data-bind="splitter: splitterElement"></div>\r\n\x3c!-- /ko --\x3e\r\n\r\n\x3c!-- ko if: selectedElement --\x3e\r\n<div class="layout-editor-selection" data-bind="highlight: selectedElement">\r\n    <svg alignment="top left">\r\n        <path d="M0,0 L14,0 L14,14 L12,14 L12,2 L0,2 Z" stroke="rgba(255,255,255,.5)" stroke-width="1" data-bind="attr: { fill: selectedElement().color }"/>\r\n    </svg>\r\n    <svg alignment="top right">\r\n        <path d="M0,0 L14,0 L14,14 L12,14 L12,2 L0,2 Z" stroke="rgba(255,255,255,.5)" stroke-width="1" data-bind="attr: { fill: selectedElement().color }"/>\r\n    </svg>\r\n    <svg alignment="bottom left">\r\n        <path d="M0,0 L14,0 L14,14 L12,14 L12,2 L0,2 Z" stroke="rgba(255,255,255,.5)" stroke-width="1" data-bind="attr: { fill: selectedElement().color }"/>\r\n    </svg>\r\n    <svg alignment="bottom right">\r\n        <path d="M0,0 L14,0 L14,14 L12,14 L12,2 L0,2 Z" stroke="rgba(255,255,255,.5)" stroke-width="1" data-bind="attr: { fill: selectedElement().color }"/>\r\n    </svg>\r\n</div>\r\n\r\n\x3c!-- ko with: selectedElementContextualEditor() --\x3e\r\n<div class="fixed" data-bind="stickTo: { target: element, position: \'top right\' }">\r\n    \x3c!-- ko foreach: { data: selectCommands, as: \'command\' } --\x3e\r\n    <button class="btn-standalone" data-bind="gridCommand: command">\r\n        <i class="paperbits-icon" data-bind="css: command.iconClass"></i>\r\n    </button>\r\n    \x3c!-- ko if: command.component --\x3e\r\n    <div class="balloon" data-bind="component: command.component"></div>\r\n    \x3c!-- /ko --\x3e\r\n    \x3c!-- /ko --\x3e\r\n\r\n    \x3c!-- ko if: deleteCommand --\x3e\r\n    <button class="btn-standalone" data-bind="command: deleteCommand">\r\n        <i class="paperbits-icon paperbits-trash-simple"></i>\r\n    </button>\r\n    \x3c!-- /ko --\x3e\r\n</div>\r\n\x3c!-- /ko --\x3e\r\n\r\n\x3c!-- /ko --\x3e\r\n\r\n\x3c!-- /ko --\x3e\r\n\r\n<tray class="toolbox toolbox-position-left-bottom" data-bind="visible: primaryToolboxVisible"></tray>\r\n\r\n<input id="uploadDialog" type="file" multiple="multiple" aria-hidden="true" class="d-none">\r\n\r\n\x3c!-- ko if: canPreview --\x3e\r\n<div class="toolbox toolbox-position-right-top">\r\n    <button class="toolbox-btn" data-bind="visible: primaryToolboxVisible(), click: $component.enablePreviewMode, tooltip: { message: \'<h1>Preview</h1><p>See the website live before publishing.<p>\', position: \'left\' }">\r\n        <i class="paperbits-icon paperbits-l-search"></i>\r\n    </button>\r\n\r\n    <button class="toolbox-btn" data-bind="visible: !primaryToolboxVisible(), click: $component.disablePreviewMode, tooltip: { message: \'<h1>Exit preview</h1><p>Return to editing the content.<p>\', position: \'left\' }">\r\n        <i class="paperbits-icon paperbits-ban"></i>\r\n    </button>\r\n</div>\r\n\x3c!-- /ko --\x3e\r\n'},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.KnockoutValidation=void 0;const o=n(0),r=n(861);t.KnockoutValidation=class{constructor(e,t,n,a){this.permalinkService=e,this.permalinkResolver=t,this.layoutService=n,this.reservedPermalinks=a,r.init({errorElementClass:"is-invalid",decorateInputElement:!0,insertMessages:!1},!0),o.extenders.onlyValid=(e,t)=>{const n=o.observable(e());return e.subscribe(t=>{if(e.isValidating&&e.isValidating()){const i=e.isValidating.subscribe(o=>{i.dispose(),e.isValid()&&n(t)})}else e.isValid()&&n(t)}),n},r.rules.validPermalink={async:!0,validator:(e,t,n)=>i(this,void 0,void 0,(function*(){if(!e)return!1;const i=yield this.permalinkService.getPermalink(e),o=!!i&&i.targetKey!==t;n(!o)})),message:"This permalink is reserved or already in use."},r.rules.uniqueLayoutUri={async:!0,validator:(e,t,n)=>i(this,void 0,void 0,(function*(){if(!e)return void n(!1);const i=yield this.layoutService.getLayoutByPermalinkTemplate(e),o=i&&i.key!==t;n(!o)})),message:"This permalink template is already in use."},r.registerExtenders()}}},function(e,t,n){!function(e,t){if(void 0===e)throw new Error("Knockout is required, please ensure it is loaded before loading this validation plug-in");e.validation=t;var n,i,o=e.validation,r=e.utils,a=r.unwrapObservable,s=r.arrayForEach,l=r.extend,c={registerExtenders:!0,messagesOnModified:!0,errorsAsTitle:!0,errorsAsTitleOnModified:!1,messageTemplate:null,insertMessages:!0,parseInputAttributes:!1,writeInputAttributes:!1,decorateInputElement:!1,decorateElementOnModified:!0,errorClass:null,errorElementClass:"validationElement",errorMessageClass:"validationMessage",allowHtmlMessages:!1,grouping:{deep:!1,observable:!0,live:!1},validate:{}},u=l({},c);u.html5Attributes=["required","pattern","min","max","step"],u.html5InputTypes=["email","number","date"],u.reset=function(){l(u,c)},o.configuration=u,o.utils=(n=(new Date).getTime(),i={},"__ko_validation__",{isArray:function(e){return e.isArray||"[object Array]"===Object.prototype.toString.call(e)},isObject:function(e){return null!==e&&"object"==typeof e},isNumber:function(e){return!isNaN(e)},isObservableArray:function(e){return!!e&&"function"==typeof e.remove&&"function"==typeof e.removeAll&&"function"==typeof e.destroy&&"function"==typeof e.destroyAll&&"function"==typeof e.indexOf&&"function"==typeof e.replace},values:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t},getValue:function(e){return"function"==typeof e?e():e},hasAttribute:function(e,t){return null!==e.getAttribute(t)},getAttribute:function(e,t){return e.getAttribute(t)},setAttribute:function(e,t,n){return e.setAttribute(t,n)},isValidatable:function(e){return!!(e&&e.rules&&e.isValid&&e.isModified)},insertAfter:function(e,t){e.parentNode.insertBefore(t,e.nextSibling)},newId:function(){return n+=1},getConfigOptions:function(e){return o.utils.contextFor(e)||o.configuration},setDomData:function(e,t){var n=e.__ko_validation__;n||(e.__ko_validation__=n=o.utils.newId()),i[n]=t},getDomData:function(e){var t=e.__ko_validation__;if(t)return i[t]},contextFor:function(e){switch(e.nodeType){case 1:case 8:var t=o.utils.getDomData(e);if(t)return t;if(e.parentNode)return o.utils.contextFor(e.parentNode)}},isEmptyVal:function(e){return null==e||""===e},getOriginalElementTitle:function(e){var t=o.utils.getAttribute(e,"data-orig-title"),n=e.title;return o.utils.hasAttribute(e,"data-orig-title")?t:n},async:function(e){window.setImmediate?window.setImmediate(e):window.setTimeout(e,0)},forEach:function(e,t){if(o.utils.isArray(e))return s(e,t);for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}});var d=function(){var t=0,n=o.configuration,i=o.utils;function c(e){s(e.subscriptions,(function(e){e.dispose()})),e.subscriptions=[]}function u(t,n){n.validatables=[],c(n),function t(n,o,r){var a=[],s=n.peek?n.peek():n;!0!==n.__kv_traversed&&(o.options.deep&&(n.__kv_traversed=!0,o.flagged.push(n)),r=void 0!==r?r:o.options.deep?1:-1,e.isObservable(n)&&(n.errors||i.isValidatable(n)||n.extend({validatable:!0}),o.validatables.push(n),o.options.live&&i.isObservableArray(n)&&o.subscriptions.push(n.subscribe((function(){o.graphMonitor.valueHasMutated()})))),s&&!s._destroy&&(i.isArray(s)?a=s:i.isObject(s)&&(a=i.values(s))),0!==r&&i.forEach(a,(function(n){!n||n.nodeType||e.isComputed(n)&&!n.rules||t(n,o,r+1)})))}(t,n),function(e){e.options.deep&&(s(e.flagged,(function(e){delete e.__kv_traversed})),e.flagged.length=0),e.options.live||c(e)}(n)}function d(e){var t=[];return s(e,(function(e){i.isValidatable(e)&&!e.isValid()&&t.push(e.error.peek())})),t}return{init:function(e,i){t>0&&!i||((e=e||{}).errorElementClass=e.errorElementClass||e.errorClass||n.errorElementClass,e.errorMessageClass=e.errorMessageClass||e.errorClass||n.errorMessageClass,l(n,e),n.registerExtenders&&o.registerExtenders(),t=1)},reset:o.configuration.reset,group:function(t,o){var a={options:o=l(l({},n.grouping),o),graphMonitor:e.observable(),flagged:[],subscriptions:[],validatables:[]},c=null;return(c=o.observable?e.computed((function(){return a.graphMonitor(),u(t,a),d(a.validatables)})):function(){return u(t,a),d(a.validatables)}).showAllMessages=function(e){void 0===e&&(e=!0),c.forEach((function(t){i.isValidatable(t)&&t.isModified(e)}))},c.isAnyMessageShown=function(){return!!c.find((function(e){return i.isValidatable(e)&&!e.isValid()&&e.isModified()}))},c.filter=function(e){return e=e||function(){return!0},c(),r.arrayFilter(a.validatables,e)},c.find=function(e){return e=e||function(){return!0},c(),r.arrayFirst(a.validatables,e)},c.forEach=function(e){e=e||function(){},c(),s(a.validatables,e)},c.map=function(e){return e=e||function(e){return e},c(),r.arrayMap(a.validatables,e)},c._updateState=function(e){if(!i.isObject(e))throw new Error("An object is required.");if(t=e,!o.observable)return u(e,a),d(a.validatables);a.graphMonitor.valueHasMutated()},c},formatMessage:function(e,t,n){if(i.isObject(t)&&t.typeAttr&&(t=t.value),"function"==typeof e)return e(t,n);var o=a(t);return null==o&&(o=[]),i.isArray(o)||(o=[o]),e.replace(/{(\d+)}/gi,(function(e,t){return void 0!==o[t]?o[t]:e}))},addRule:function(e,t){return e.extend({validatable:!0}),!!r.arrayFirst(e.rules(),(function(e){return e.rule&&e.rule===t.rule}))||e.rules.push(t),e},addAnonymousRule:function(e,t){void 0===t.message&&(t.message="Error"),t.onlyIf&&(t.condition=t.onlyIf),o.addRule(e,t)},addExtender:function(t){e.extenders[t]=function(e,n){return n&&(n.message||n.onlyIf)?o.addRule(e,{rule:t,message:n.message,params:!!i.isEmptyVal(n.params)||n.params,condition:n.onlyIf}):o.addRule(e,{rule:t,params:n})}},registerExtenders:function(){if(n.registerExtenders)for(var t in o.rules)o.rules.hasOwnProperty(t)&&(e.extenders[t]||o.addExtender(t))},insertValidationMessage:function(e){var t=document.createElement("SPAN");return t.className=i.getConfigOptions(e).errorMessageClass,i.insertAfter(e,t),t},parseInputValidationAttributes:function(e,t){s(o.configuration.html5Attributes,(function(n){if(i.hasAttribute(e,n)){var r=e.getAttribute(n)||!0;if("min"===n||"max"===n){var a=e.getAttribute("type");void 0!==a&&a||(a="text"),r={typeAttr:a,value:r}}o.addRule(t(),{rule:n,params:r})}}));var n=e.getAttribute("type");s(o.configuration.html5InputTypes,(function(e){e===n&&o.addRule(t(),{rule:"date"===e?"dateISO":e,params:!0})}))},writeInputValidationAttributes:function(t,n){var i=n();if(i&&i.rules){var a=i.rules();s(o.configuration.html5Attributes,(function(n){var i=r.arrayFirst(a,(function(e){return e.rule&&e.rule.toLowerCase()===n.toLowerCase()}));i&&e.computed({read:function(){var o=e.unwrap(i.params);"pattern"===i.rule&&o instanceof RegExp&&(o=o.source),t.setAttribute(n,o)},disposeWhenNodeIsRemoved:t})})),a=null}},makeBindingHandlerValidatable:function(t){var n=e.bindingHandlers[t].init;e.bindingHandlers[t].init=function(t,i,o,r,a){return n(t,i,o,r,a),e.bindingHandlers.validationCore.init(t,i,o,r,a)}},setRules:function(t,n){var r=function(t,n){if(t&&n)for(var s in n)if(n.hasOwnProperty(s)){var l=n[s];if(t[s]){var c=t[s],u=a(c),d={},p={};for(var h in l)l.hasOwnProperty(h)&&(o.rules[h]?d[h]=l[h]:p[h]=l[h]);if(e.isObservable(c)&&c.extend(d),u&&i.isArray(u))for(var f=0;f<u.length;f++)r(u[f],p);else r(u,p)}}};r(t,n)}}}();function p(e){var t="max"===e;return function(n,i){if(o.utils.isEmptyVal(n))return!0;var r,a,s,l,c;switch(void 0===i.typeAttr?(a="text",r=i):(a=i.typeAttr,r=i.value),isNaN(r)||r instanceof Date||(a="number"),a.toLowerCase()){case"week":if(s=/^(\d{4})-W(\d{2})$/,null===(l=n.match(s)))throw new Error("Invalid value for "+e+" attribute for week input.  Should look like '2000-W33' http://www.w3.org/TR/html-markup/input.week.html#input.week.attrs.min");return!!(c=r.match(s))&&(t?l[1]<c[1]||l[1]===c[1]&&l[2]<=c[2]:l[1]>c[1]||l[1]===c[1]&&l[2]>=c[2]);case"month":if(s=/^(\d{4})-(\d{2})$/,null===(l=n.match(s)))throw new Error("Invalid value for "+e+" attribute for month input.  Should look like '2000-03' http://www.w3.org/TR/html-markup/input.month.html#input.month.attrs.min");return!!(c=r.match(s))&&(t?l[1]<c[1]||l[1]===c[1]&&l[2]<=c[2]:l[1]>c[1]||l[1]===c[1]&&l[2]>=c[2]);case"number":case"range":return t?!isNaN(n)&&parseFloat(n)<=parseFloat(r):!isNaN(n)&&parseFloat(n)>=parseFloat(r);default:return t?n<=r:n>=r}}}function h(e,t,n){return!!t.validator(e(),void 0===n.params||a(n.params))||(e.setError(o.formatMessage(n.message||t.message,a(n.params),e)),!1)}function f(e,t,n){e.isValidating(!0);var i=function(i){var r=!1,s="";e.__valid__()?(i.message?(r=i.isValid,s=i.message):r=i,r||(e.error(o.formatMessage(s||n.message||t.message,a(n.params),e)),e.__valid__(r)),e.isValidating(!1)):e.isValidating(!1)};o.utils.async((function(){t.validator(e(),void 0===n.params||a(n.params),i)}))}l(e.validation,d),o.rules={},o.rules.required={validator:function(e,t){var n;return null==e?!t:(n=e,"string"==typeof e&&(n=String.prototype.trim?e.trim():e.replace(/^\s+|\s+$/g,"")),!t||(n+"").length>0)},message:"This field is required."},o.rules.min={validator:p("min"),message:"Please enter a value greater than or equal to {0}."},o.rules.max={validator:p("max"),message:"Please enter a value less than or equal to {0}."},o.rules.minLength={validator:function(e,t){return!!o.utils.isEmptyVal(e)||(o.utils.isNumber(e)?""+e:e).length>=t},message:"Please enter at least {0} characters."},o.rules.maxLength={validator:function(e,t){return!!o.utils.isEmptyVal(e)||(o.utils.isNumber(e)?""+e:e).length<=t},message:"Please enter no more than {0} characters."},o.rules.pattern={validator:function(e,t){return o.utils.isEmptyVal(e)||null!==e.toString().match(t)},message:"Please check this value."},o.rules.step={validator:function(e,t){if(o.utils.isEmptyVal(e)||"any"===t)return!0;var n=100*e%(100*t);return Math.abs(n)<1e-5||Math.abs(1-n)<1e-5},message:"The value must increment by {0}."},o.rules.email={validator:function(e,t){return!t||o.utils.isEmptyVal(e)||t&&/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(e)},message:"Please enter a proper email address."},o.rules.date={validator:function(e,t){return!t||o.utils.isEmptyVal(e)||t&&!/Invalid|NaN/.test(new Date(e))},message:"Please enter a proper date."},o.rules.dateISO={validator:function(e,t){return!t||o.utils.isEmptyVal(e)||t&&/^\d{4}[-/](?:0?[1-9]|1[012])[-/](?:0?[1-9]|[12][0-9]|3[01])$/.test(e)},message:"Please enter a proper date."},o.rules.number={validator:function(e,t){return!t||o.utils.isEmptyVal(e)||t&&/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},message:"Please enter a number."},o.rules.digit={validator:function(e,t){return!t||o.utils.isEmptyVal(e)||t&&/^\d+$/.test(e)},message:"Please enter a digit."},o.rules.phoneUS={validator:function(e,t){return!t||!!o.utils.isEmptyVal(e)||"string"==typeof e&&(e=e.replace(/\s+/g,""),t&&e.length>9&&e.match(/^(1-?)?(\([2-9]\d{2}\)|[2-9]\d{2})-?[2-9]\d{2}-?\d{4}$/))},message:"Please specify a valid phone number."},o.rules.equal={validator:function(e,t){var n=t;return e===o.utils.getValue(n)},message:"Values must equal."},o.rules.notEqual={validator:function(e,t){var n=t;return e!==o.utils.getValue(n)},message:"Please choose another value."},o.rules.unique={validator:function(e,t){var n=o.utils.getValue(t.collection),i=o.utils.getValue(t.externalValue),a=0;return!e||!n||(r.arrayFilter(n,(function(n){e===(t.valueAccessor?t.valueAccessor(n):n)&&a++})),a<(i?1:2))},message:"Please make sure the value is unique."},o.registerExtenders(),e.bindingHandlers.validationCore={init:function(t,n,i,r,a){var s=o.utils.getConfigOptions(t),l=n();if(s.parseInputAttributes&&o.utils.async((function(){o.parseInputValidationAttributes(t,n)})),s.insertMessages&&o.utils.isValidatable(l)){var c=o.insertValidationMessage(t);s.messageTemplate?e.renderTemplate(s.messageTemplate,{field:l},null,c,"replaceNode"):e.applyBindingsToNode(c,{validationMessage:l})}s.writeInputAttributes&&o.utils.isValidatable(l)&&o.writeInputValidationAttributes(t,n),s.decorateInputElement&&o.utils.isValidatable(l)&&e.applyBindingsToNode(t,{validationElement:l})}},o.makeBindingHandlerValidatable("value"),o.makeBindingHandlerValidatable("checked"),e.bindingHandlers.textInput&&o.makeBindingHandlerValidatable("textInput"),o.makeBindingHandlerValidatable("selectedOptions"),e.bindingHandlers.validationMessage={update:function(t,n){var i,s=n(),l=o.utils.getConfigOptions(t),c=a(s);if(null==s)throw new Error("Cannot bind validationMessage to undefined value. data-bind expression: "+t.getAttribute("data-bind"));c=s.isModified&&s.isModified(),i=s.isValid&&s.isValid();var u=null;l.messagesOnModified&&!c||(u=i?null:s.error);var d=!(l.messagesOnModified&&!c||i),p="none"!==t.style.display;l.allowHtmlMessages?r.setHtml(t,u):e.bindingHandlers.text.update(t,(function(){return u})),p&&!d?t.style.display="none":!p&&d&&(t.style.display="")}},e.bindingHandlers.validationElement={update:function(t,n,i){var r,s=n(),l=o.utils.getConfigOptions(t),c=a(s);if(null==s)throw new Error("Cannot bind validationElement to undefined value. data-bind expression: "+t.getAttribute("data-bind"));c=s.isModified&&s.isModified(),r=s.isValid&&s.isValid();e.bindingHandlers.css.update(t,(function(){var e={},t=!(l.decorateElementOnModified&&!c||r);return e[l.errorElementClass]=t,e}),i),l.errorsAsTitle&&e.bindingHandlers.attr.update(t,(function(){var e=!l.errorsAsTitleOnModified||c,n=o.utils.getOriginalElementTitle(t);return e&&!r?{title:s.error,"data-orig-title":n}:!e||r?{title:n,"data-orig-title":null}:void 0}))}},e.bindingHandlers.validationOptions={init:function(e,t,n,i,r){var s=a(t());if(s){var c=l({},o.configuration);l(c,s),o.utils.setDomData(e,c)}}},e.extenders.validation=function(e,t){return s(o.utils.isArray(t)?t:[t],(function(t){o.addAnonymousRule(e,t)})),e},e.extenders.validatable=function(t,n){if(o.utils.isObject(n)||(n={enable:n}),"enable"in n||(n.enable=!0),n.enable&&!o.utils.isValidatable(t)){var i=o.configuration.validate||{},r={throttleEvaluation:n.throttle||i.throttle};t.error=e.observable(null),t.rules=e.observableArray(),t.isValidating=e.observable(!1),t.__valid__=e.observable(!0),t.isModified=e.observable(!1),t.isValid=e.computed(t.__valid__),t.setError=function(e){var n=t.error.peek(),i=t.__valid__.peek();t.error(e),t.__valid__(!1),n===e||i||t.isValid.notifySubscribers()},t.clearError=function(){return t.error(null),t.__valid__(!0),t};var a=t.subscribe((function(){t.isModified(!0)})),s=e.computed(l({read:function(){return t(),t.rules(),o.validateObservable(t),!0}},r));l(s,r),t._disposeValidation=function(){t.isValid.dispose(),t.rules.removeAll(),a.dispose(),s.dispose(),delete t.rules,delete t.error,delete t.isValid,delete t.isValidating,delete t.__valid__,delete t.isModified,delete t.setError,delete t.clearError,delete t._disposeValidation}}else!1===n.enable&&t._disposeValidation&&t._disposeValidation();return t},o.validateObservable=function(e){for(var t,n,i=0,r=e.rules(),a=r.length;i<a;i++)if(!(n=r[i]).condition||n.condition())if((t=n.rule?o.rules[n.rule]:n).async||n.async)f(e,t,n);else if(!h(e,t,n))return!1;return e.clearError(),!0};var m,v={};o.defineLocale=function(e,t){return e&&t?(v[e.toLowerCase()]=t,t):null},o.locale=function(e){if(e){if(e=e.toLowerCase(),!v.hasOwnProperty(e))throw new Error("Localization "+e+" has not been loaded.");o.localize(v[e]),m=e}return m},o.localize=function(e){var t=o.rules;for(var n in e)t.hasOwnProperty(n)&&(t[n].message=e[n])},function(){var e={},t=o.rules;for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n].message);o.defineLocale("en-us",e)}(),m="en-us",e.applyBindingsWithValidation=function(t,n,i){var r,a=document.body;n&&n.nodeType?(a=n,r=i):r=n,o.init(),r&&(r=l(l({},o.configuration),r),o.utils.setDomData(a,r)),e.applyBindings(t,a)};var g=e.applyBindings;e.applyBindings=function(){o.init(),g.apply(this,arguments)},e.validatedObservable=function(t,n){if(!n&&!o.utils.isObject(t))return e.observable(t).extend({validatable:!0});var i=e.observable(t);return i.errors=o.group(o.utils.isObject(t)?t:{},n),i.isValid=e.observable(0===i.errors().length),e.isObservable(i.errors)?i.errors.subscribe((function(e){i.isValid(0===e.length)})):e.computed(i.errors).subscribe((function(e){i.isValid(0===e.length)})),i.subscribe((function(e){o.utils.isObject(e)||(e={}),i.errors._updateState(e),i.isValid(0===i.errors().length)})),i}}(n(0),t)},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(863),t)},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.GridEditor=void 0;const o=n(6),r=n(45),a=n(66),s=n(232);t.GridEditor=class{constructor(e,t,n){this.viewManager=e,this.widgetService=t,this.eventManager=n,this.rerenderEditors=this.rerenderEditors.bind(this),this.onPointerDown=this.onPointerDown.bind(this),this.attach=this.attach.bind(this),this.detach=this.detach.bind(this),this.onDelete=this.onDelete.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onWindowScroll=this.onWindowScroll.bind(this),this.actives={}}isModelBeingEdited(e){const t=this.viewManager.getOpenView();return!!t&&t.component.name===e.editor}getContextualEditor(e,t){const n=a.GridHelper.getParentWidgetBindings(e).filter(e=>!!e.provides).map(e=>e.provides).reduce((e,t)=>e.concat(t),[]);let i,o,r;e&&(i=a.GridHelper.getModel(e),o=a.GridHelper.getWidgetBinding(e));const s=a.GridHelper.getParentWidgetBinding(e);s&&(r=s.model);const l={parentModel:r,parentBinding:s,model:i,binding:o,half:t,providers:n,switchToParent:t=>{const n=a.GridHelper.getWidgetStack(e).find(e=>e.binding.model instanceof t);if(!n)return;const i=this.getContextualEditor(n.element,"top");if(!i)return;const o={element:n.element,text:n.binding.displayName,color:i.color};this.viewManager.setSelectedElement(o,i),this.selectedContextualEditor=i}};let c;if(l.binding.handler){const e=this.widgetService.getWidgetHandler(l.binding.handler);e.getContextualEditor&&(c=e.getContextualEditor(l))}return c||(c=this.getWidgetContextualEditor(l)),c.element=e,c.selectCommands=c.selectCommands||null,c.hoverCommands=c.hoverCommands||null,c.deleteCommand=c.deleteCommand||null,c}isModelSelected(e){const t=this.viewManager.getSelectedElement();return!!t&&e===a.GridHelper.getWidgetBinding(t.element)}onPointerDown(e){if(e.ctrlKey)return;if(this.viewManager.mode===r.ViewManagerMode.pause)return e.preventDefault(),void e.stopPropagation();if(1!==e.which)return;if(this.viewManager.mode!==r.ViewManagerMode.selecting&&this.viewManager.mode!==r.ViewManagerMode.selected&&this.viewManager.mode!==r.ViewManagerMode.configure)return;const t=this.activeHighlightedElement,n=a.GridHelper.getParentWidgetBindings(t).some(e=>e.model instanceof s.ContentModel||"email-layout"===e.name),i="layout-host"===this.viewManager.getHost().name;if(!n&&!i)return e.preventDefault(),e.stopPropagation(),void this.eventManager.dispatchEvent("InactiveLayoutHint");const o=a.GridHelper.getWidgetBinding(t);if(o&&!o.readonly&&("html-editor"!==o.editor&&e.preventDefault(),!this.isModelBeingEdited(o)))if(this.isModelSelected(o))o.editor&&this.viewManager.openWidgetEditor(o);else{e.preventDefault(),t.dragSource&&t.dragSource.beginDrag(t,this.pointerX,this.pointerY);const n=this.getContextualEditor(t,"top");if(!n)return;const i={element:this.activeHighlightedElement,text:o.displayName,color:n.color};this.viewManager.setSelectedElement(i,n),this.selectedContextualEditor=n}}onPointerMove(e){if(this.viewManager.mode===r.ViewManagerMode.pause)return e.preventDefault(),void e.stopPropagation();if(this.pointerX=e.clientX,this.pointerY=e.clientY,0!==this.getUnderlyingElements().length)switch(this.viewManager.mode){case r.ViewManagerMode.selecting:case r.ViewManagerMode.selected:case r.ViewManagerMode.configure:this.renderHighlightedElements();break;case r.ViewManagerMode.dragging:this.renderDropHandlers()}}renderDropHandlers(){const e=this.viewManager.getDragSession();if(!e)return;const t=this.getUnderlyingElements();if(0===t.length)return;const n=a.GridHelper.getWidgetStack(t[1]),i=n.find(t=>{if(!t.binding.handler)return!1;const n=this.widgetService.getWidgetHandler(t.binding.handler);return!!(n&&n.canAccept&&n.canAccept(e))});if(!i||t.some(e=>e.classList.contains("dragged-origin")))return delete e.targetElement,delete e.targetBinding,void this.viewManager.setSplitter(null);e.targetElement=i.element,e.targetBinding=a.GridHelper.getWidgetBinding(i.element);const r=n.find(e=>e.element.parentElement===i.element);if(r){const t=o.pointerToClientQuadrant(this.pointerX,this.pointerY,r.element),n=e.sourceBinding.flow||"inline";e.insertIndex=i.binding.model.widgets.indexOf(r.binding.model);const a=r.binding.flow||"inline";"inline"===n&&"inline"===a?("right"===t.horizontal&&e.insertIndex++,this.viewManager.setSplitter({element:r.element,side:t.horizontal,where:"outside"})):("bottom"===t.vertical&&e.insertIndex++,this.viewManager.setSplitter({element:r.element,side:t.vertical,where:"outside"}))}else{const t=o.pointerToClientQuadrant(this.pointerX,this.pointerY,i.element);if(0===i.binding.model.widgets.length)return e.insertIndex=0,void this.viewManager.setSplitter({element:i.element,side:t.vertical,where:"inside"});{const n=Array.prototype.slice.call(i.element.children);if("top"===t.vertical){e.insertIndex=0;const t=n[0];this.viewManager.setSplitter({element:t,side:"top",where:"outside"})}else{e.insertIndex=n.length;const t=n[e.insertIndex];this.viewManager.setSplitter({element:t,side:"bottom",where:"outside"})}}}}onDelete(){this.viewManager.mode===r.ViewManagerMode.selected&&this.selectedContextualEditor&&this.selectedContextualEditor.deleteCommand&&this.selectedContextualEditor.deleteCommand.callback()}onWindowScroll(){this.viewManager.mode!==r.ViewManagerMode.dragging&&this.viewManager.mode!==r.ViewManagerMode.pause&&(this.scrolling||this.viewManager.clearContextualEditors(),this.scrolling=!0,this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(this.resetScrolling.bind(this),400))}resetScrolling(){this.scrolling=!1,this.renderHighlightedElements()}getUnderlyingElements(){const e=o.elementsFromPoint(this.ownerDocument,this.pointerX,this.pointerY),t=e.findIndex(e=>e.classList.contains("backdrop"));return t>=0&&e.splice(t),e}renderHighlightedElements(){if(this.scrolling)return;const e=this.getUnderlyingElements();e.length>0&&e.some(e=>e.classList.contains("editor")||e.classList.contains("balloon")||"BUTTON"===e.nodeName)||this.rerenderEditors(this.pointerX,this.pointerY,e)}getWidgetContextualEditor(e){return{color:"#607d8b",hoverCommands:[{color:"#607d8b",position:e.half,tooltip:"Add widget",component:{name:"widget-selector",params:{onRequest:()=>e.providers,onSelect:t=>{let n=e.parentModel.widgets.indexOf(e.model);"bottom"===e.half&&n++,e.parentBinding.model.widgets.splice(n,0,t),e.parentBinding.applyChanges(),this.viewManager.clearContextualEditors()}}}}],deleteCommand:{tooltip:"Delete widget",color:"#607d8b",callback:()=>{e.parentModel.widgets.remove(e.model),e.parentBinding.applyChanges(),this.viewManager.clearContextualEditors()}},selectCommands:e.binding.editor&&e.binding.applyChanges&&[{tooltip:"Edit widget",iconClass:"paperbits-edit-72",position:"top right",color:"#607d8b",callback:()=>this.viewManager.openWidgetEditor(e.binding)}]}}rerenderEditors(e,t,n){return i(this,void 0,void 0,(function*(){let i,r,s;const l=Object.keys(this.actives);let c=null;for(let u=n.length-1;u>=0;u--){const d=n[u],p=a.GridHelper.getWidgetBinding(d);if(!p)continue;if(!p||p.readonly||p===c)continue;const h=l.indexOf(p.name);l.splice(h,1),i=d,r=p.displayName,c=p;const f=o.pointerToClientQuadrant(e,t,d),m=f.vertical,v=this.actives[p.name],g=this.getContextualEditor(d,m);s=g.color,v&&d===v.element&&m===v.half||(this.viewManager.setContextualEditor(p.name,g),this.actives[p.name]={element:d,half:f.vertical})}l.forEach(e=>{this.viewManager.removeContextualEditor(e),delete this.actives[e]}),this.activeHighlightedElement!==i&&(this.activeHighlightedElement=i,this.viewManager.setHighlight({element:i,text:r,color:s}))}))}attach(e){this.ownerDocument=e,this.ownerDocument.addEventListener("mousemove",this.onPointerMove,!0),this.ownerDocument.addEventListener("scroll",this.onWindowScroll),this.ownerDocument.addEventListener("mousedown",this.onPointerDown,!0),this.eventManager.addEventListener("onDelete",this.onDelete)}detach(){this.ownerDocument.removeEventListener("mousemove",this.onPointerMove,!0),this.ownerDocument.removeEventListener("scroll",this.onWindowScroll),this.ownerDocument.removeEventListener("mousedown",this.onPointerDown,!0),this.eventManager.removeEventListener("onDelete",this.onDelete)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CardEditorModule=void 0;const i=n(865),o=n(215);t.CardEditorModule=class{register(e){e.bind("cardEditor",i.CardEditor);e.bindInstanceToCollection("styleGroups",{key:"card",name:"components_card",groupName:"Cards",selectorTemplate:void 0,styleTemplate:'<div class="no-pointer-events" data-bind="stylePreview: variation.key" style="width: 340px"><h1>Card</h1><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor...</p></div>'}),e.bindToCollection("widgetHandlers",o.CardHandlers,"cardHandler")}}},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.CardEditor=void 0;const a=n(0),s=n(30),l=n(866),c=n(47),u=n(2),d=n(96);let p=class{constructor(e,t,n){this.viewManager=e,this.styleService=t,this.eventManager=n,this.appearanceStyles=a.observableArray(),this.appearanceStyle=a.observable(),this.containerConfig=a.observable(),this.background=a.observable()}initialize(){return r(this,void 0,void 0,(function*(){const e=yield this.styleService.getComponentVariations("card");this.appearanceStyles(e.filter(e=>"appearance"===e.category)),this.updateObservables(),this.appearanceStyle.subscribe(this.onAppearanceChange),this.eventManager.addEventListener("onViewportChange",this.updateObservables)}))}updateObservables(){const e=this.viewManager.getViewport(),t=c.StyleHelper.getPluginConfigForLocalStyles(this.model.styles,"container",e);this.containerConfig(t);const n=c.StyleHelper.getPluginConfigForLocalStyles(this.model.styles,"background",e);this.background(n),this.appearanceStyle(this.model.styles.appearance)}onContainerChange(e){const t=this.viewManager.getViewport();c.StyleHelper.setPluginConfigForLocalStyles(this.model.styles,"container",e,t),this.onChange(this.model)}onBackgroundChange(e){c.StyleHelper.setPluginConfigForLocalStyles(this.model.styles,"background",e),this.onChange(this.model)}onAppearanceChange(){s.setValue("styles/appearance",this.model,this.appearanceStyle()),this.onChange(this.model)}};i([u.Param(),o("design:type",d.CardModel)],p.prototype,"model",void 0),i([u.Event(),o("design:type",Function)],p.prototype,"onChange",void 0),i([u.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],p.prototype,"initialize",null),p=i([u.Component({selector:"card-editor",template:l.default}),o("design:paramtypes",[Object,c.StyleService,Object])],p),t.CardEditor=p},function(e,t,n){"use strict";n.r(t),t.default='<fieldset class="form flex-item flex-item-grow" data-bind="scrollable: true">\r\n    <background params="{ background: background, onUpdate: onBackgroundChange }"></background>\r\n\r\n    <container params="{ container: containerConfig, onUpdate: onContainerChange }"></container>\r\n\r\n    <div class="form-group form-group-collapsible">\r\n        <label class="form-label">\r\n            <a href="#" class="form-group-toggle" title="Toggle section" data-bind="collapse: \'#miscellaneousCollapse\'"></a>\r\n            <b>Styling</b>\r\n        </label>\r\n        <div id="miscellaneousCollapse" class="collapse form-group-collapse">\r\n            <div class="form-group">\r\n                <label for="appearanceStyle" class="form-label">\r\n                    Appearance\r\n                    <button class="btn btn-info" type="button" data-bind="tooltip: \'Predefined appearance from style guide.\'"></button>\r\n                </label>\r\n                <select id="appearanceStyle" class="form-control" data-bind="options: appearanceStyles, value: appearanceStyle, optionsText: \'displayName\', optionsValue: \'key\'"></select>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</fieldset>'},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.MediaPermalinkResolver=void 0,t.MediaPermalinkResolver=class{constructor(e){this.mediaService=e}canHandleTarget(e){return e.startsWith("uploads/")}getUrlByTargetKey(e){return i(this,void 0,void 0,(function*(){if(!e)throw new Error('Parameter "mediaKey" not specified.');const t=yield this.mediaService.getMediaByKey(e);return t?t.downloadUrl:null}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GridEditorModule=void 0;const i=n(297),o=n(147);t.GridEditorModule=class{register(e){e.bind("gridLayoutSelector",i.GridLayoutSelector),e.bindToCollection("widgetHandlers",o.GridHandlers,"gridHandler")}}},function(e,t,n){"use strict";n.r(t),t.default='<div class="editor row-layout-selector">\r\n    <h1>\r\n        Add section\r\n    </h1>\r\n    <hr>\r\n\r\n    <div class="tabs" role="tablist">\r\n        <div class="tab" data-bind="css: { \'tab-is-active\': !selected() }, attr: { \'aria-selected\': !selected() }">\r\n            <a href="#" data-bind="click: selected.bind($data,undefined), focus: true" title="New section" role="tab" aria-label="add empty section">\r\n                Empty\r\n            </a>\r\n        </div>\r\n        \x3c!-- ko if: isBlocksEnabled --\x3e\r\n        <div class="tab" data-bind="css: { \'tab-is-active\': selected() === \'blocks\' }, attr: { \'aria-selected\': selected() === \'blocks\' }">\r\n            <a href="#" data-bind="click: selected.bind($data,\'blocks\')" title="Blocks" role="tab" aria-label="add from blocks">\r\n                Blocks\r\n            </a>\r\n        </div>\r\n        \x3c!-- /ko --\x3e\r\n        <div class="tab" data-bind="css: { \'tab-is-active\': selected() === \'saved\' }, attr: { \'aria-selected\': selected() === \'saved\' }">\r\n            <a href="#" data-bind="click: selected.bind($data,\'saved\')" title="From library" role="tab" aria-label="Add from library">\r\n                Saved\r\n            </a>\r\n        </div>\r\n    </div>\r\n    \x3c!-- ko if: !selected() --\x3e\r\n\r\n    <div role="tabpanel" class="flex flex-column flex-grow" data-bind="scrollable: true, focus: { childSelector: \'.list-item\' }">\r\n        <div role="list" data-bind="foreach: { data: $component.snippets, as: \'snippet\' }">\r\n            <a href="#" class="snippet-grid list-item" role="listitem" data-bind="click: $component.selectLayout, styledInPlace: snippet.styles">\r\n                \x3c!-- ko foreach: { data: snippet.widgets, as: \'widget\' } --\x3e\r\n                <div class="snippet-grid-cell" data-bind="styledInPlace: widget.styles, attr: { role: widget.role }">\r\n                </div>\r\n                \x3c!-- /ko --\x3e\r\n            </a>\r\n        </div>\r\n    </div>\r\n\r\n    \x3c!-- /ko --\x3e\r\n\r\n    \x3c!-- ko if: selected() === \'saved\' --\x3e\r\n    <div role="tabpanel" class="flex flex-column add-block-container">\r\n        <block-selector class="flex flex-column" params="{ blockType: \'layout-section\', onSelect: $component.onBlockSelected }">\r\n        </block-selector>\r\n    </div>\r\n    \x3c!-- /ko --\x3e\r\n\r\n    \x3c!-- ko if: selected() === \'blocks\' --\x3e\r\n    <div role="tabpanel" class="flex flex-column add-block-container">\r\n        <block-selector class="flex flex-column" params="{ blockType: \'blocks-section\', onSelect: $component.onBlockSelected }">\r\n        </block-selector>\r\n    </div>\r\n    \x3c!-- /ko --\x3e\r\n</div>'},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(147),t),o(n(146),t),o(n(237),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.presets=void 0,t.presets=[{type:"grid",styles:{instance:{grid:{md:{rows:["auto","1fr"],cols:["1fr","1fr","1fr"]},xs:{rows:["auto","auto","1fr"],cols:["1fr","1fr"]}}}},nodes:[{type:"grid-cell",role:"aside",styles:{instance:{"grid-cell":{md:{position:{col:1,row:1},span:{cols:1,rows:2},alignment:{vertical:"center",horizontal:"center"}},xs:{position:{col:1,row:1},span:{cols:2,rows:1},alignment:{vertical:"center",horizontal:"center"}}}}}},{type:"grid-cell",role:"header",styles:{instance:{"grid-cell":{md:{position:{col:2,row:1},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}},xs:{position:{col:1,row:2},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}}}}}},{type:"grid-cell",role:"header",styles:{instance:{"grid-cell":{md:{position:{col:3,row:1},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}},xs:{position:{col:2,row:2},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}}}}}},{type:"grid-cell",role:"article",styles:{instance:{"grid-cell":{xs:{position:{col:1,row:3},span:{cols:2,rows:1},alignment:{vertical:"center",horizontal:"center"}},md:{position:{col:2,row:2},span:{cols:2,rows:1},alignment:{vertical:"center",horizontal:"center"}}}}}}]},{type:"grid",styles:{instance:{grid:{md:{rows:["auto","1fr"],cols:["33.1fr","33.1fr","33.1fr"]},xs:{rows:["auto","auto","1fr"],cols:["1fr","1fr"]}}}},nodes:[{type:"grid-cell",role:"aside",styles:{instance:{"grid-cell":{md:{position:{col:3,row:1},span:{cols:1,rows:2},alignment:{vertical:"center",horizontal:"center"}},xs:{position:{col:1,row:1},span:{cols:2,rows:1},alignment:{vertical:"center",horizontal:"center"}}}}}},{type:"grid-cell",role:"header",styles:{instance:{"grid-cell":{md:{position:{col:1,row:1},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}},xs:{position:{col:1,row:2},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}}}}}},{type:"grid-cell",role:"header",styles:{instance:{"grid-cell":{md:{position:{col:2,row:1},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}},xs:{position:{col:2,row:2},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}}}}}},{type:"grid-cell",role:"article",styles:{instance:{"grid-cell":{md:{position:{col:1,row:2},span:{cols:2,rows:1},alignment:{vertical:"center",horizontal:"center"}},xs:{position:{col:1,row:3},span:{cols:2,rows:1},alignment:{vertical:"center",horizontal:"center"}}}}}}]},{type:"grid",styles:{instance:{grid:{md:{rows:["1fr","auto"],cols:["1fr","1fr","1fr"]},xs:{rows:["auto","1fr","auto"],cols:["1fr","1fr"]}}}},nodes:[{type:"grid-cell",role:"aside",styles:{instance:{"grid-cell":{md:{position:{col:1,row:1},span:{cols:1,rows:2},alignment:{vertical:"center",horizontal:"center"}},xs:{position:{col:1,row:1},span:{cols:2,rows:1},alignment:{vertical:"center",horizontal:"center"}}}}}},{type:"grid-cell",role:"footer",styles:{instance:{"grid-cell":{md:{position:{col:2,row:2},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}},xs:{position:{col:1,row:3},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}}}}}},{type:"grid-cell",role:"footer",styles:{instance:{"grid-cell":{md:{position:{col:3,row:2},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}},xs:{position:{col:2,row:3},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}}}}}},{type:"grid-cell",role:"article",styles:{instance:{"grid-cell":{md:{position:{col:2,row:1},span:{cols:2,rows:1},alignment:{vertical:"center",horizontal:"center"}},xs:{position:{col:1,row:2},span:{cols:2,rows:1},alignment:{vertical:"center",horizontal:"center"}}}}}}]},{type:"grid",styles:{instance:{grid:{md:{rows:["1fr","auto"],cols:["1fr","1fr","1fr"]},xs:{rows:["auto","1fr","auto"],cols:["1fr","1fr"]}}}},nodes:[{type:"grid-cell",role:"article",styles:{instance:{"grid-cell":{md:{position:{col:1,row:1},span:{cols:2,rows:1},alignment:{vertical:"center",horizontal:"center"}},xs:{position:{col:1,row:2},span:{cols:2,rows:1}}}}}},{type:"grid-cell",role:"aside",styles:{instance:{"grid-cell":{md:{position:{col:3,row:1},span:{cols:1,rows:2}},xs:{position:{col:1,row:1},span:{cols:2,rows:1}}}}}},{type:"grid-cell",role:"footer",styles:{instance:{"grid-cell":{md:{position:{col:1,row:2},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}},xs:{position:{col:1,row:3},span:{cols:1,rows:1}}}}}},{type:"grid-cell",role:"footer",styles:{instance:{"grid-cell":{md:{position:{col:2,row:2},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}},xs:{position:{col:2,row:3},span:{cols:1,rows:1}}}}}}]},{type:"grid",styles:{instance:{grid:{md:{rows:["auto","1fr"],cols:["1fr","1fr","1fr"]},xs:{rows:["auto","auto","auto","auto"],cols:["1fr"]}}}},nodes:[{type:"grid-cell",role:"header",styles:{instance:{"grid-cell":{md:{position:{col:1,row:1},span:{cols:1,rows:1}},xs:{position:{col:1,row:1},span:{cols:1,rows:1}}}}}},{type:"grid-cell",role:"header",styles:{instance:{"grid-cell":{md:{position:{col:2,row:1},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}},xs:{position:{col:1,row:2},span:{cols:1,rows:1}}}}}},{type:"grid-cell",role:"header",styles:{instance:{"grid-cell":{md:{position:{col:3,row:1},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}},xs:{position:{col:1,row:3},span:{cols:1,rows:1}}}}}},{type:"grid-cell",role:"article",styles:{instance:{"grid-cell":{xs:{position:{col:1,row:4},span:{cols:3,rows:1}}}}}}]},{type:"grid",styles:{instance:{grid:{md:{rows:["auto","auto"],cols:["1fr","1fr","1fr"]},xs:{rows:["auto","auto","auto","auto"],cols:["1fr"]}}}},nodes:[{type:"grid-cell",role:"article",styles:{instance:{"grid-cell":{md:{position:{col:1,row:1},span:{cols:3,rows:1}},xs:{position:{col:1,row:1},span:{cols:1,rows:1}}}}}},{type:"grid-cell",role:"footer",styles:{instance:{"grid-cell":{md:{position:{col:1,row:2},span:{cols:1,rows:1}},xs:{position:{col:1,row:2},span:{cols:1,rows:1}}}}}},{type:"grid-cell",role:"footer",styles:{instance:{"grid-cell":{md:{position:{col:2,row:2},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}},xs:{position:{col:1,row:3},span:{cols:1,rows:1}}}}}},{type:"grid-cell",role:"footer",styles:{instance:{"grid-cell":{md:{position:{col:3,row:2},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}},xs:{position:{col:1,row:4},span:{cols:1,rows:1}}}}}}]},{type:"grid",styles:{instance:{grid:{md:{rows:["auto","1fr"],cols:["1fr","1fr","1fr"]},xs:{rows:["auto","auto","auto","auto"],cols:["1fr"]}}}},nodes:[{type:"grid-cell",role:"article",styles:{instance:{"grid-cell":{md:{position:{col:2,row:1},span:{cols:2,rows:2}},xs:{position:{col:1,row:1},span:{cols:1,rows:1}}}}}},{type:"grid-cell",role:"aside",styles:{instance:{"grid-cell":{md:{position:{col:1,row:1},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}},xs:{position:{col:1,row:2},span:{cols:1,rows:1}}}}}},{type:"grid-cell",role:"aside",styles:{instance:{"grid-cell":{md:{position:{col:1,row:2},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}},xs:{position:{col:1,row:3},span:{cols:1,rows:1}}}}}}]},{type:"grid",styles:{instance:{grid:{md:{rows:["auto","2fr"],cols:["1fr","1fr","1fr"]},xs:{rows:["auto","auto","auto","auto"],cols:["1fr"]}}}},nodes:[{type:"grid-cell",role:"article",styles:{instance:{"grid-cell":{md:{position:{col:1,row:1},span:{cols:2,rows:2}},xs:{position:{col:1,row:1},span:{cols:1,rows:1}}}}}},{type:"grid-cell",role:"aside",styles:{instance:{"grid-cell":{md:{position:{col:3,row:1},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}},xs:{position:{col:1,row:2},span:{cols:1,rows:1}}}}}},{type:"grid-cell",role:"aside",styles:{instance:{"grid-cell":{md:{position:{col:3,row:2},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}},xs:{position:{col:1,row:3},span:{cols:1,rows:1}}}}}}]},{type:"grid",styles:{instance:{grid:{md:{rows:["1fr","auto"],cols:["1fr","1fr"]},xs:{rows:["auto","auto","auto"],cols:["1fr"]}}}},nodes:[{type:"grid-cell",role:"article",styles:{instance:{"grid-cell":{md:{position:{col:1,row:1},span:{cols:2,rows:1}},xs:{position:{col:1,row:1},span:{cols:1,rows:1}}}}}},{type:"grid-cell",role:"footer",styles:{instance:{"grid-cell":{md:{position:{col:1,row:2},span:{cols:1,rows:1}},xs:{position:{col:1,row:3},span:{cols:1,rows:1}}}}}},{type:"grid-cell",role:"footer",styles:{instance:{"grid-cell":{md:{position:{col:2,row:2},span:{cols:1,rows:1}},xs:{position:{col:1,row:4},span:{cols:1,rows:1}}}}}}]},{type:"grid",styles:{instance:{grid:{md:{rows:["auto","1fr"],cols:["1fr","1fr"]},xs:{rows:["auto","auto","auto"],cols:["1fr"]}}}},nodes:[{type:"grid-cell",role:"header",styles:{instance:{"grid-cell":{md:{position:{col:1,row:1},span:{cols:1,rows:1}},xs:{position:{col:1,row:1},span:{cols:1,rows:1}}}}}},{type:"grid-cell",role:"header",styles:{instance:{"grid-cell":{md:{position:{col:2,row:1},span:{cols:1,rows:1}},xs:{position:{col:1,row:2},span:{cols:1,rows:1}}}}}},{type:"grid-cell",role:"article",styles:{instance:{"grid-cell":{md:{position:{col:1,row:2},span:{cols:2,rows:1}},xs:{position:{col:1,row:3},span:{cols:1,rows:1}}}}}}]},{type:"grid",styles:{instance:{grid:{xs:{rows:["auto","auto"],cols:["1fr","1fr"]}}}},nodes:[{type:"grid-cell",role:"article",styles:{instance:{"grid-cell":{xs:{position:{col:1,row:2},span:{cols:2,rows:1},alignment:{vertical:"center",horizontal:"center"}}}}}},{type:"grid-cell",role:"article",styles:{instance:{"grid-cell":{xs:{position:{col:1,row:1},span:{cols:2,rows:1},alignment:{vertical:"center",horizontal:"center"}}}}}}]},{type:"grid",styles:{instance:{grid:{md:{rows:["auto","1fr"],cols:["1fr","1fr","1fr"]},xs:{rows:["auto","auto","auto"],cols:["1fr"]}}}},nodes:[{type:"grid-cell",role:"header",styles:{instance:{"grid-cell":{md:{position:{col:1,row:1},span:{cols:3,rows:1},alignment:{vertical:"center",horizontal:"center"}},xs:{position:{col:1,row:1},span:{cols:1,rows:1}}}}}},{type:"grid-cell",role:"article",styles:{instance:{"grid-cell":{md:{position:{col:1,row:2},span:{cols:2,rows:1}},xs:{position:{col:1,row:3},span:{cols:1,rows:1}}}}}},{type:"grid-cell",role:"aside",styles:{instance:{"grid-cell":{md:{position:{col:3,row:2},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}},xs:{position:{col:1,row:2},span:{cols:1,rows:1}}}}}}]},{type:"grid",styles:{instance:{grid:{md:{rows:["auto","1fr"],cols:["1fr","1fr","1fr"]},xs:{rows:["auto","auto","auto"],cols:["1fr"]}}}},nodes:[{type:"grid-cell",role:"header",styles:{instance:{"grid-cell":{md:{position:{col:1,row:1},span:{cols:3,rows:1}},xs:{position:{col:1,row:1},span:{cols:1,rows:1}}}}}},{type:"grid-cell",role:"article",styles:{instance:{"grid-cell":{md:{position:{col:2,row:2},span:{cols:2,rows:1},alignment:{vertical:"center",horizontal:"center"}},xs:{position:{col:1,row:3},span:{cols:1,rows:1}}}}}},{type:"grid-cell",role:"aside",styles:{instance:{"grid-cell":{md:{position:{col:1,row:2},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}},xs:{position:{col:1,row:2},span:{cols:1,rows:1}}}}}}]},{type:"grid",styles:{instance:{grid:{md:{rows:["auto","auto"],cols:["1fr","1fr"]},xs:{rows:["auto","auto","auto","auto"],cols:["1fr"]}}}},nodes:[{type:"grid-cell",role:"aside",styles:{instance:{"grid-cell":{md:{position:{col:1,row:1},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}},xs:{position:{col:1,row:1},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}}}}}},{type:"grid-cell",role:"article",styles:{instance:{"grid-cell":{md:{position:{col:2,row:1},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}},xs:{position:{col:1,row:2},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}}}}}},{type:"grid-cell",role:"article",styles:{instance:{"grid-cell":{md:{position:{col:1,row:2},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}},xs:{position:{col:1,row:4},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}}}}}},{type:"grid-cell",role:"aside",styles:{instance:{"grid-cell":{md:{position:{col:2,row:2},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}},xs:{position:{col:1,row:3},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}}}}}}]},{type:"grid",styles:{instance:{grid:{md:{rows:["auto"],cols:["1fr","1fr","1fr"]},xs:{rows:["auto","auto","auto"],cols:["1fr"]}}}},nodes:[{type:"grid-cell",role:"article",styles:{instance:{"grid-cell":{md:{position:{col:1,row:1},span:{cols:1,rows:1}},xs:{position:{col:1,row:1},span:{cols:1,rows:1}}}}}},{type:"grid-cell",role:"article",styles:{instance:{"grid-cell":{md:{position:{col:2,row:1},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}},xs:{position:{col:1,row:2},span:{cols:1,rows:1}}}}}},{type:"grid-cell",role:"article",styles:{instance:{"grid-cell":{md:{position:{col:3,row:1},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}},xs:{position:{col:1,row:3},span:{cols:1,rows:1}}}}}}]},{type:"grid",styles:{instance:{grid:{md:{rows:["auto"],cols:["3fr","6fr","3fr"]},xs:{rows:["auto","auto","auto"],cols:["1fr"]}}}},nodes:[{type:"grid-cell",role:"aside",styles:{instance:{"grid-cell":{md:{position:{col:1,row:1},span:{cols:1,rows:1}},xs:{position:{col:1,row:1},span:{cols:1,rows:1}}}}}},{type:"grid-cell",role:"article",styles:{instance:{"grid-cell":{md:{position:{col:2,row:1},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}},xs:{position:{col:1,row:3},span:{cols:1,rows:1}}}}}},{type:"grid-cell",role:"aside",styles:{instance:{"grid-cell":{md:{position:{col:3,row:1},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}},xs:{position:{col:1,row:2},span:{cols:1,rows:1}}}}}}]},{type:"grid",styles:{instance:{grid:{md:{rows:["auto"],cols:["4fr","8fr"]},xs:{rows:["auto","auto"],cols:["1fr"]}}}},nodes:[{type:"grid-cell",role:"aside",styles:{instance:{"grid-cell":{md:{position:{col:1,row:1},span:{cols:1,rows:1}},xs:{position:{col:1,row:1},span:{cols:1,rows:1}}}}}},{type:"grid-cell",role:"article",styles:{instance:{"grid-cell":{md:{position:{col:2,row:1},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}},xs:{position:{col:1,row:2},span:{cols:1,rows:1}}}}}}]},{type:"grid",styles:{instance:{grid:{md:{rows:["auto"],cols:["8fr","4fr"]},xs:{rows:["auto","auto"],cols:["1fr"]}}}},nodes:[{type:"grid-cell",role:"aside",styles:{instance:{"grid-cell":{md:{position:{col:2,row:1},span:{cols:1,rows:1}},xs:{position:{col:1,row:1},span:{cols:1,rows:1}}}}}},{type:"grid-cell",role:"article",styles:{instance:{"grid-cell":{md:{position:{col:1,row:1},span:{cols:1,rows:1}},xs:{position:{col:1,row:2},span:{cols:1,rows:1}}}}}}]},{type:"grid",styles:{instance:{grid:{md:{rows:["auto"],cols:["3fr","1fr"]},xs:{rows:["auto","auto"],cols:["1fr"]}}}},nodes:[{type:"grid-cell",role:"aside",styles:{instance:{"grid-cell":{md:{position:{col:2,row:1},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}},xs:{position:{col:1,row:1},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}}}}}},{type:"grid-cell",role:"article",styles:{instance:{"grid-cell":{md:{position:{col:1,row:1},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}},xs:{position:{col:1,row:2},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}}}}}}]},{type:"grid",styles:{instance:{grid:{md:{rows:["auto"],cols:["1fr","3fr"]},xs:{rows:["auto","auto"],cols:["1fr"]}}}},nodes:[{type:"grid-cell",role:"aside",styles:{instance:{"grid-cell":{md:{position:{col:1,row:1},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}},xs:{position:{col:1,row:1},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}}}}}},{type:"grid-cell",role:"article",styles:{instance:{"grid-cell":{md:{position:{col:2,row:1},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}},xs:{position:{col:1,row:2},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}}}}}}]},{type:"grid",styles:{instance:{grid:{md:{rows:["auto"],cols:["1fr","1fr"]},xs:{rows:["auto","auto"],cols:["1fr"]}}}},nodes:[{type:"grid-cell",role:"aside",styles:{instance:{"grid-cell":{md:{position:{col:2,row:1},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}},xs:{position:{col:1,row:1},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}}}}}},{type:"grid-cell",role:"article",styles:{instance:{"grid-cell":{md:{position:{col:1,row:1},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}},xs:{position:{col:1,row:2},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}}}}}}]},{type:"grid",styles:{instance:{grid:{md:{rows:["auto"],cols:["1fr","1fr"]},xs:{rows:["auto","auto"],cols:["1fr"]}}}},nodes:[{type:"grid-cell",role:"aside",styles:{instance:{"grid-cell":{md:{position:{col:1,row:1},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}},xs:{position:{col:1,row:1},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}}}}}},{type:"grid-cell",role:"article",styles:{instance:{"grid-cell":{md:{position:{col:2,row:1},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}},xs:{position:{col:1,row:2},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}}}}}}]},{type:"grid",styles:{instance:{grid:{md:{rows:["auto"],cols:["1fr","1fr","1fr","1fr"]},xs:{rows:["auto","auto","auto","auto"],cols:["1fr"]}}}},nodes:[{type:"grid-cell",role:"article",styles:{instance:{"grid-cell":{md:{position:{col:1,row:1},span:{cols:1,rows:1}},xs:{position:{col:1,row:1},span:{cols:1,rows:1}}}}}},{type:"grid-cell",role:"article",styles:{instance:{"grid-cell":{md:{position:{col:2,row:1},span:{cols:1,rows:1}},xs:{position:{col:1,row:2},span:{cols:1,rows:1}}}}}},{type:"grid-cell",role:"article",styles:{instance:{"grid-cell":{md:{position:{col:3,row:1},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}},xs:{position:{col:1,row:3},span:{cols:1,rows:1}}}}}},{type:"grid-cell",role:"article",styles:{instance:{"grid-cell":{md:{position:{col:4,row:1},span:{cols:1,rows:1}},xs:{position:{col:1,row:4},span:{cols:1,rows:1}}}}}}]},{type:"grid",styles:{instance:{grid:{xs:{rows:["auto"],cols:["1fr"]}}}},nodes:[{type:"grid-cell",role:"article",styles:{instance:{"grid-cell":{xs:{position:{col:1,row:1},span:{cols:1,rows:1},alignment:{vertical:"center",horizontal:"center"}}}}}}]}]},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(236),t),o(n(297),t),o(n(145),t),o(n(238),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GridCellEditorModule=void 0;const i=n(874),o=n(233);t.GridCellEditorModule=class{register(e){e.bind("gridCellEditor",i.GridCellEditor),e.bindToCollection("widgetHandlers",o.GridCellHandlers,"gridCellHandler")}}},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.GridCellEditor=void 0;const r=n(0),a=n(6),s=n(30),l=n(875),c=n(2),u=n(143);let d=class{constructor(e,t){this.viewManager=e,this.eventManager=t,this.container=r.observable(),this.box=r.observable()}initialize(){this.updateObservables(),this.eventManager.addEventListener("onViewportChange",this.updateObservables)}updateObservables(){const e=s.getObjectAt("styles/instance/grid-cell",this.model);if(!e)return;const t=this.viewManager.getViewport(),n=e[a.getClosestBreakpoint(e,t)],i={alignment:n.alignment,overflow:n.overflow};this.container(i);const o=s.getObjectAt("styles/instance/padding/"+t,this.model);this.box({padding:o})}onContainerUpdate(e){const t=this.viewManager.getViewport();s.setValue(`styles/instance/grid-cell/${t}/alignment`,this.model,e.alignment),s.setValue(`styles/instance/grid-cell/${t}/overflow`,this.model,e.overflow),this.onChange(this.model)}onBoxUpdate(e){const t=this.viewManager.getViewport();s.setValue("styles/instance/padding/"+t,this.model,e.padding),this.onChange(this.model)}};i([c.Param(),o("design:type",u.GridCellModel)],d.prototype,"model",void 0),i([c.Event(),o("design:type",Function)],d.prototype,"onChange",void 0),i([c.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],d.prototype,"initialize",null),d=i([c.Component({selector:"grid-cell-editor",template:l.default}),o("design:paramtypes",[Object,Object])],d),t.GridCellEditor=d},function(e,t,n){"use strict";n.r(t),t.default='<fieldset class="form flex-item flex-item-grow" data-bind="scrollable: true">\r\n    <container params="{ container: container, onUpdate: onContainerUpdate, overflowControls: true }"></container>\r\n\r\n    <div class="form-group form-group-collapsible">\r\n        <label class="form-label">\r\n            <a href="#" class="form-group-toggle" title="Toggle section" data-bind="collapse: \'#boxCollapse\'"></a>\r\n            <b>Box</b>\r\n        </label>\r\n        <div id="boxCollapse" class="collapse form-group-collapse">\r\n            <box params="{ features: \'padding\', box: box, onUpdate: onBoxUpdate }"></box>\r\n        </div>\r\n    </div>\r\n</fieldset>'},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Tray=void 0;const a=n(0),s=n(877),l=n(2);let c=class{constructor(e,t,n,i){this.trayCommands=e,this.roleService=t,this.viewManager=n,this.settingsProvider=i,this.buttons=a.observableArray(e),this.availableRoles=a.observableArray(),this.selectedRoles=a.observableArray(),this.localizationEnabled=a.observable()}initialize(){return r(this,void 0,void 0,(function*(){this.buttons(this.trayCommands);const e=yield this.roleService.getRoles();this.availableRoles(e.slice(1)),this.selectedRoles(this.viewManager.getViewRoles());const t=yield this.settingsProvider.getSetting("localizationEnabled");this.localizationEnabled(!!t)}))}onRoleSelect(e){this.selectedRoles(e),this.viewManager.setViewRoles(e)}};i([l.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],c.prototype,"initialize",null),c=i([l.Component({selector:"tray",template:s.default}),o("design:paramtypes",[Array,Object,Object,Object])],c),t.Tray=c},function(e,t,n){"use strict";n.r(t),t.default='<div class="toolbox-btn">\r\n    <a href="#" role="button" data-bind="tooltip: \'<h1>Form factors</h1><p>See and adjust the content for<br/> devices of different sizes.</p>\', balloon: { component: { name: \'viewport-selector\' }, position: \'top\' }" aria-label="Form factors">\r\n        <i class="paperbits-icon paperbits-mirror-2"></i>\r\n    </a>\r\n</div>\r\n\r\n\x3c!-- ko if: localizationEnabled --\x3e\r\n<div class="toolbox-btn">\r\n    <a href="#" role="button" data-bind="tooltip: \'<h1>Locales</h1><p>See and adjust the content for<br/> specific languages and locales.</p>\', balloon: { component: { name: \'locale-selector\' }, position: \'top\' }" aria-label="Locale selection">\r\n        <i class="paperbits-icon paperbits-world"></i>\r\n    </a>\r\n</div>\r\n\x3c!-- /ko --\x3e\r\n\r\n<div class="toolbox-btn">\r\n    <a href="#" role="button" data-bind="tooltip: \'<h1>Roles</h1><p>See how the content looks like<br/> for users in a particular role.</p>\', balloon: { component: { name: \'role-selector\', params: { availableRoles: availableRoles, selectedRoles: selectedRoles, onSelect: onRoleSelect } }, position: \'top\' }" aria-label="Roles">\r\n        <i class="paperbits-icon paperbits-single-02"></i>\r\n    </a>\r\n</div>\r\n\r\n\x3c!-- ko foreach: { data: buttons, as: \'button\' } --\x3e\r\n<button role="button" class="toolbox-btn" data-bind="attr: { \'aria-label\': button.title }, tooltip: button.tooltip, click: button.onActivate, disable: button.disabled">\r\n    <i data-bind="css: button.iconClass"></i>\r\n</button>\r\n\x3c!-- /ko --\x3e'},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(879),t),o(n(242),t),o(n(243),t),o(n(148),t),o(n(880),t)},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.Spinner=void 0;const o=n(2);let r=class{};r=i([o.Component({selector:"spinner",template:"<div></div><div></div><div></div>"})],r),t.Spinner=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(882),t),o(n(884),t)},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.RoleSelector=void 0;const r=n(0),a=n(883),s=n(2);let l=class{constructor(){this.availableRoles=r.observableArray(),this.selectedRoles=r.observableArray()}selectRole(e){const t=[e];this.selectedRoles(t),this.onSelect&&this.onSelect(t)}isSelected(e){return this.selectedRoles().some(t=>t.key===e.key)}};i([s.Param(),o("design:type",Function)],l.prototype,"availableRoles",void 0),i([s.Param(),o("design:type",Function)],l.prototype,"selectedRoles",void 0),i([s.Event(),o("design:type",Function)],l.prototype,"onSelect",void 0),l=i([s.Component({selector:"role-selector",template:a.default}),o("design:paramtypes",[])],l),t.RoleSelector=l},function(e,t,n){"use strict";n.r(t),t.default='<div class="toolbox">\r\n    <div role="listbox" class="list-checkboxes" data-bind="foreach: { data: availableRoles, as: \'role\'  }, scrollable: true, focus: { childSelector: \'.list-item\' }">\r\n        <a href="#" role="option" class="list-item" data-bind="text: role.name, click: $component.selectRole, css: { \'list-item-checked\': $component.isSelected(role) }">\r\n        </a>\r\n    </div>\r\n</div>'},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.RoleInput=void 0;const a=n(0),s=n(885),l=n(2),c=n(58);let u=class{constructor(e){this.roleService=e,this.availableRoles=a.observableArray(),this.selectedRoles=a.observableArray(),this.selectedRolesDisplay=a.observable()}initialize(){return r(this,void 0,void 0,(function*(){const e=yield this.roleService.getRoles();this.availableRoles(e);const t=this.selection?e.filter(e=>this.selection.includes(e.key)):[c.BuiltInRoles.everyone];this.selectedRoles(t),this.updateDisplay(t)}))}updateDisplay(e){return this.selectedRolesDisplay(e.map(e=>e.name).sort().join(", "))}onSelectionChange(e){this.updateDisplay(e),this.selectedRoles(e),this.selection=e.map(e=>e.key),this.onChange&&this.onChange(this.selection)}};i([l.Param(),o("design:type",Array)],u.prototype,"selection",void 0),i([l.Event(),o("design:type",Function)],u.prototype,"onChange",void 0),i([l.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],u.prototype,"initialize",null),u=i([l.Component({selector:"role-input",template:s.default}),o("design:paramtypes",[Object])],u),t.RoleInput=u},function(e,t,n){"use strict";n.r(t),t.default='<div class="form-group">\r\n    <label for="layout" class="form-label">\r\n        Visibile to\r\n    </label>\r\n\r\n    <div class="input-group">\r\n        <a href="#" class="form-control" data-bind="text: selectedRolesDisplay, balloon: { component: { name: \'role-selector\', params: { availableRoles: availableRoles, selectedRoles: selectedRoles, onSelect: onSelectionChange } }, position: \'top\' }">\r\n        </a>\r\n        <div class="input-group-addon">\r\n            <i class="paperbits-icon paperbits-single-02"></i>\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0);i.bindingHandlers.command={init(e,t){const n=t(),o={background:{color:n.color},attr:{title:n.tooltip}};n.component?o.balloon={component:n.component}:n.callback&&(o.click=n.callback),i.applyBindingsToNode(e,o,null)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),o=n(19);i.bindingHandlers.dialog={init(e){setTimeout(()=>{const t=e.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])'),n=t[0],r=t[t.length-1],a=e=>{e.keyCode===o.Keys.Tab&&(e.shiftKey?document.activeElement===n&&(r.focus(),e.preventDefault()):document.activeElement===r&&(n.focus(),e.preventDefault()))};e.addEventListener("keydown",a),i.utils.domNodeDisposal.addDisposeCallback(e,()=>{e.removeEventListener("keydown",a)})},100)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),o=n(19);i.bindingHandlers.activate={init:(e,t)=>{const n=t(),r=i.dataFor(e),a=e=>{e.preventDefault(),e.stopImmediatePropagation(),n(r)},s=e=>{e.keyCode!==o.Keys.Enter&&e.keyCode!==o.Keys.Space||(e.preventDefault(),e.stopImmediatePropagation(),n(r))};e.addEventListener("keydown",s),e.addEventListener("click",a),i.utils.domNodeDisposal.addDisposeCallback(e,()=>{e.removeEventListener("click",a),e.removeEventListener("keydown",s)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0);i.bindingHandlers.whenInView={init:(e,t)=>{const n=t(),o=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&n&&n()})});o.observe(e),i.utils.domNodeDisposal.addDisposeCallback(e,()=>{o.disconnect()})}}},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.MediaDisplay=void 0;const r=n(891),a=n(2),s=n(87);let l=class{};i([a.Param(),o("design:type",s.MediaItem)],l.prototype,"item",void 0),l=i([a.Component({selector:"media-display",template:r.default})],l),t.MediaDisplay=l},function(e,t,n){"use strict";n.r(t),t.default='<div class="flex flex-column media-preview-box">\r\n    <div class="flex flex-item flex-item-grow">\r\n        \x3c!-- ko if: item --\x3e\r\n        <img id="pictureThumbnail" class="lightbox-image" data-bind="attr: { src: item.thumbnailUrl }, lightbox: { url: item.thumbnailUrl, fileName: item.fileName }">\r\n        \x3c!-- /ko --\x3e\r\n    </div>\r\n    <div class="flex-item btn-group">\r\n        <label for="pictureThumbnail" class="text-center text-overflow" data-bind="text: item.fileName"></label>\r\n    </div>\r\n</div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Lightbox=void 0;const i=n(893);t.Lightbox=class{show(e,t){i.create(`\n            <img class="lightbox-img" src="${e}">\n            <div class="lightbox-title">${t}</div>\n        `).show()}}},function(e,t,n){e.exports=function e(t,n,i){function o(a,s){if(!n[a]){if(!t[a]){if(r)return r(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){return o(t[a][1][e]||e)}),c,c.exports,e,t,n,i)}return n[a].exports}for(var r=!1,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.visible=void 0;var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=document.createElement("div");return n.innerHTML=e.trim(),!0===t?n.children:n.firstChild},o=function(e,t){var n=e.children;return 1===n.length&&n[0].tagName===t},r=function(e){return null!=(e=e||document.querySelector(".basicLightbox"))&&!0===e.ownerDocument.body.contains(e)};n.visible=r,n.create=function(e,t){var n=function(e,t){var n=i('\n\t\t<div class="basicLightbox '.concat(t.className,'">\n\t\t\t<div class="basicLightbox__placeholder" role="dialog"></div>\n\t\t</div>\n\t')),r=n.querySelector(".basicLightbox__placeholder");e.forEach((function(e){return r.appendChild(e)}));var a=o(r,"IMG"),s=o(r,"VIDEO"),l=o(r,"IFRAME");return!0===a&&n.classList.add("basicLightbox--img"),!0===s&&n.classList.add("basicLightbox--video"),!0===l&&n.classList.add("basicLightbox--iframe"),n}(e=function(e){var t="string"==typeof e,n=e instanceof HTMLElement==1;if(!1===t&&!1===n)throw new Error("Content must be a DOM element/node or string");return!0===t?Array.from(i(e,!0)):"TEMPLATE"===e.tagName?[e.content.cloneNode(!0)]:Array.from(e.children)}(e),t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null==(e=Object.assign({},e)).closable&&(e.closable=!0),null==e.className&&(e.className=""),null==e.onShow&&(e.onShow=function(){}),null==e.onClose&&(e.onClose=function(){}),"boolean"!=typeof e.closable)throw new Error("Property `closable` must be a boolean");if("string"!=typeof e.className)throw new Error("Property `className` must be a string");if("function"!=typeof e.onShow)throw new Error("Property `onShow` must be a function");if("function"!=typeof e.onClose)throw new Error("Property `onClose` must be a function");return e}(t)),a=function(e){return!1!==t.onClose(s)&&function(e,t){return e.classList.remove("basicLightbox--visible"),setTimeout((function(){return!1===r(e)||e.parentElement.removeChild(e),t()}),410),!0}(n,(function(){if("function"==typeof e)return e(s)}))};!0===t.closable&&n.addEventListener("click",(function(e){e.target===n&&a()}));var s={element:function(){return n},visible:function(){return r(n)},show:function(e){return!1!==t.onShow(s)&&function(e,t){return document.body.appendChild(e),setTimeout((function(){requestAnimationFrame((function(){return e.classList.add("basicLightbox--visible"),t()}))}),10),!0}(n,(function(){if("function"==typeof e)return e(s)}))},close:a};return s}},{}]},{},[1])(1)},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(895),t),o(n(896),t),o(n(897),t),o(n(898),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.LocalStorageCache=void 0,t.LocalStorageCache=class{constructor(e){this.settingsProvider=e}initialize(){return this.initializePromise||(this.initializePromise=new Promise(e=>i(this,void 0,void 0,(function*(){this.containerId=(yield this.settingsProvider.getSetting("cacheContainerId"))||"default",e()})))),this.initializePromise}getKeys(){return i(this,void 0,void 0,(function*(){return yield this.initialize(),Object.keys(localStorage)}))}setItem(e,t){return i(this,void 0,void 0,(function*(){yield this.initialize(),localStorage.setItem(`${this.containerId}/${e}`,JSON.stringify(t))}))}getItem(e){return i(this,void 0,void 0,(function*(){return yield this.initialize(),JSON.parse(localStorage.getItem(`${this.containerId}/${e}`))}))}estimateSize(e){return i(this,void 0,void 0,(function*(){yield this.initialize();const t=[],n=[e];let i=0;for(;n.length;){const e=n.pop();if(e)if("boolean"==typeof e)i+=4;else if("string"==typeof e)i+=2*e.length;else if("number"==typeof e)i+=8;else if("object"==typeof e&&-1===t.indexOf(e)){t.push(e);for(const t in e)e.hasOwnProperty(t)&&n.push(e[t])}}return i}))}getOccupiedSpace(){return i(this,void 0,void 0,(function*(){return 0}))}getRemainingSpace(){return i(this,void 0,void 0,(function*(){return 0}))}addChangeListener(e){}removeItem(e){return i(this,void 0,void 0,(function*(){yield this.initialize(),localStorage.removeItem(`${this.containerId}/${e}`)}))}clear(){return i(this,void 0,void 0,(function*(){localStorage.clear()}))}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.MemoryCache=void 0;const o=n(30);t.MemoryCache=class{constructor(){this.cacheObject={}}getKeys(){return i(this,void 0,void 0,(function*(){return Object.keys(this.cacheObject)}))}setItem(e,t){return i(this,void 0,void 0,(function*(){this.cacheObject[e]=JSON.stringify(t)}))}getItem(e){return i(this,void 0,void 0,(function*(){const t=this.cacheObject[e];return t?o.clone(t):null}))}getOccupiedSpace(){return i(this,void 0,void 0,(function*(){return 0}))}getRemainingSpace(){return i(this,void 0,void 0,(function*(){return 0}))}addChangeListener(e){}removeItem(e){return i(this,void 0,void 0,(function*(){delete this.cacheObject[e]}))}clear(){return i(this,void 0,void 0,(function*(){this.cacheObject={}}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LruCache=void 0,t.LruCache=class{constructor(e=1e4,t){this.maxSize=e,this.onevict=t,this.nodeMap={}}getItem(e){const t=this.nodeMap[e];return t?(this.pop(t),t.value):null}setItem(e,t){const n=this.nodeMap[e];n?(n.value=t,this.pop(n)):this.insert(e,t)}clear(){this.head=null,this.nodeMap={}}removeItem(e){let t=this.nodeMap[e];this.remove(t)}removeWhere(e){let t=this.head;if(t)do{e(t.key,t.value)&&this.removeItem(t.key)}while(null!=(t=t.next))}getKeys(){const e=new Array;let t=this.head;if(!t)return e;do{e.push(t.key)}while(null!==(t=t.next));return e}size(){return Object.keys(this.nodeMap).length}pop(e){e!==this.head&&(e.prev.next=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.next=this.head,this.head.prev=e,e.prev=null,this.head=e)}insert(e,t){if(Object.keys(this.nodeMap).length===this.maxSize){const e=this.tail;this.remove(e),this.onevict(e.key,e.value)}this.head?(this.head={key:e,value:t,prev:null,next:this.head},this.head.next.prev=this.head):(this.head={key:e,value:t,prev:null,next:null},this.tail=this.head),this.nodeMap[e]=this.head}remove(e){if(e&&(delete this.nodeMap[e.key],this.head)){if(this.head===e)return this.head=e.next,void(this.head.prev=null);if(this.tail===e)return this.tail=this.tail.prev,void(this.tail.next=null);e.prev.next=e.next,e.next.prev=e.prev}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StylesDesignModule=void 0,n(900),n(902),n(903),n(904),n(298);const i=n(905),o=n(906),r=n(909),a=n(911),s=n(913),l=n(916),c=n(921),u=n(929),d=n(932),p=n(943),h=n(946),f=n(948),m=n(955),v=n(958),g=n(300),y=n(138),b=n(961),x=n(962),w=n(301),S=n(963),k=n(965),C=n(967),M=n(969),_=n(302),O=n(971),P=n(973),E=n(975),T=n(976),j=n(978);t.StylesDesignModule=class{register(e){e.bindModule(new i.StyleModule),e.bind("fontSelector",u.FontSelector),e.bind("googleFonts",d.GoogleFonts),e.bind("typography",m.Typography),e.bind("container",C.Container),e.bind("background",v.Background),e.bind("transform",S.Transform),e.bind("transition",k.Transition),e.bind("boxEditor",a.BoxEditor),e.bind("sizeEditor",j.SizeEditor),e.bind("borderEditor",s.BorderEditor),e.bind("optionSelectorEditor",T.OptionSelectorEditor),e.bind("colorSelector",l.ColorSelector),e.bind("colorEditor",l.ColorEditor),e.bind("colorPickerView",c.ColorStopEditor),e.bind("gradientSelector",c.GradientSelector),e.bind("gradientEditor",c.GradientEditor),e.bind("shadowSelector",f.ShadowSelector),e.bind("shadowEditor",f.ShadowEditor),e.bind("shadowEditorGroup",f.ShadowEditorGroup),e.bind("animationSelector",p.AnimationSelector),e.bind("animationEditor",h.AnimationEditor),e.bind("styleEditor",o.StyleEditor),e.bind("styleGuide",r.StyleGuide),e.bind("stylePlugin",y.StylePlugin),e.bind("styleSnippet",O.StyleSnippet),e.bind("styleSnippetSelector",M.StyleSnippetSelector),e.bind("styleVariationSelector",P.StyleVariationSelector),e.bindSingleton("styleSnippetService",_.StyleSnippetService),e.bindToCollection("autostart",g.StylesheetBindingHandler),e.bindToCollection("autostart",x.StylePreviewBindingHandler),e.bindToCollection("autostart",w.StylableBindingHandler),e.bindToCollection("workshopSections",b.StylesWorkshopSection),e.bindToCollection("autostart",E.StyledBindingHandler)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),o=n(901);i.bindingHandlers.colorPicker={init:(e,t)=>{const n=t();o.create({el:e,theme:"classic",container:e.parentElement,default:n.selectedColor(),defaultRepresentation:"HEX",showAlways:!0,useAsButton:!1,inline:!0,components:{preview:!0,opacity:!0,hue:!0,interaction:{hex:!1,rgba:!1,hsva:!1,input:!0,clear:!1,save:!1}}}).on("change",e=>{n.selectedColor&&n.selectedColor(e.toRGBA().toString())})}}},function(e,t,n){window,e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e){e.exports=JSON.parse('{"a":"1.7.4"}')},function(e,t,n){"use strict";n.r(t);var i={};function o(e,t,n,i,o={}){t instanceof HTMLCollection||t instanceof NodeList?t=Array.from(t):Array.isArray(t)||(t=[t]),Array.isArray(n)||(n=[n]);for(const r of t)for(const t of n)r[e](t,i,{capture:!1,...o});return Array.prototype.slice.call(arguments,1)}n.r(i),n.d(i,"on",(function(){return r})),n.d(i,"off",(function(){return a})),n.d(i,"createElementFromString",(function(){return s})),n.d(i,"createFromTemplate",(function(){return l})),n.d(i,"eventPath",(function(){return c})),n.d(i,"resolveElement",(function(){return u})),n.d(i,"adjustableInputNumbers",(function(){return d}));const r=o.bind(null,"addEventListener"),a=o.bind(null,"removeEventListener");function s(e){const t=document.createElement("div");return t.innerHTML=e.trim(),t.firstElementChild}function l(e){const t=(e,t)=>{const n=e.getAttribute(t);return e.removeAttribute(t),n},n=(e,i={})=>{const o=t(e,":obj"),r=t(e,":ref"),a=o?i[o]={}:i;r&&(i[r]=e);for(const s of Array.from(e.children)){const e=t(s,":arr"),i=n(s,e?{}:a);e&&(a[e]||(a[e]=[])).push(Object.keys(i).length?i:s)}return i};return n(s(e))}function c(e){let t=e.path||e.composedPath&&e.composedPath();if(t)return t;let n=e.target.parentElement;for(t=[e.target,n];n=n.parentElement;)t.push(n);return t.push(document,window),t}function u(e){return e instanceof Element?e:"string"==typeof e?e.split(/>>/g).reduce((e,t,n,i)=>(e=e.querySelector(t),n<i.length-1?e.shadowRoot:e),document):null}function d(e,t=(e=>e)){function n(n){const i=[.001,.01,.1][Number(n.shiftKey||2*n.ctrlKey)]*(n.deltaY<0?1:-1);let o=0,r=e.selectionStart;e.value=e.value.replace(/[\d.]+/g,(e,n)=>n<=r&&n+e.length>=r?(r=n,t(Number(e),i,o)):(o++,e)),e.focus(),e.setSelectionRange(r,r),n.preventDefault(),e.dispatchEvent(new Event("input"))}r(e,"focus",()=>r(window,"wheel",n,{passive:!1})),r(e,"blur",()=>a(window,"wheel",n))}var p=n(0);const{min:h,max:f,floor:m,round:v}=Math;function g(e,t,n){t/=100,n/=100;const i=m(e=e/360*6),o=e-i,r=n*(1-t),a=n*(1-o*t),s=n*(1-(1-o)*t),l=i%6;return[255*[n,a,r,r,s,n][l],255*[s,n,n,a,r,r][l],255*[r,r,s,n,n,a][l]]}function y(e,t,n){const i=(2-(t/=100))*(n/=100)/2;return 0!==i&&(t=1===i?0:i<.5?t*n/(2*i):t*n/(2-2*i)),[e,100*t,100*i]}function b(e,t,n){const i=h(e/=255,t/=255,n/=255),o=f(e,t,n),r=o-i;let a,s;if(0===r)a=s=0;else{s=r/o;const i=((o-e)/6+r/2)/r,l=((o-t)/6+r/2)/r,c=((o-n)/6+r/2)/r;e===o?a=c-l:t===o?a=1/3+i-c:n===o&&(a=2/3+l-i),a<0?a+=1:a>1&&(a-=1)}return[360*a,100*s,100*o]}function x(e,t,n,i){return t/=100,n/=100,[...b(255*(1-h(1,(e/=100)*(1-(i/=100))+i)),255*(1-h(1,t*(1-i)+i)),255*(1-h(1,n*(1-i)+i)))]}function w(e,t,n){t/=100;const i=2*(t*=(n/=100)<.5?n:1-n)/(n+t)*100,o=100*(n+t);return[e,isNaN(i)?0:i,o]}function S(e){return b(...e.match(/.{2}/g).map(e=>parseInt(e,16)))}function k(e=0,t=0,n=0,i=1){const o=(e,t)=>(n=-1)=>t(~n?e.map(e=>Number(e.toFixed(n))):e),r={h:e,s:t,v:n,a:i,toHSVA(){const e=[r.h,r.s,r.v,r.a];return e.toString=o(e,e=>"hsva(".concat(e[0],", ").concat(e[1],"%, ").concat(e[2],"%, ").concat(r.a,")")),e},toHSLA(){const e=[...y(r.h,r.s,r.v),r.a];return e.toString=o(e,e=>"hsla(".concat(e[0],", ").concat(e[1],"%, ").concat(e[2],"%, ").concat(r.a,")")),e},toRGBA(){const e=[...g(r.h,r.s,r.v),r.a];return e.toString=o(e,e=>"rgba(".concat(e[0],", ").concat(e[1],", ").concat(e[2],", ").concat(r.a,")")),e},toCMYK(){const e=function(e,t,n){const i=g(e,t,n),o=i[0]/255,r=i[1]/255,a=i[2]/255,s=h(1-o,1-r,1-a);return[100*(1===s?0:(1-o-s)/(1-s)),100*(1===s?0:(1-r-s)/(1-s)),100*(1===s?0:(1-a-s)/(1-s)),100*s]}(r.h,r.s,r.v);return e.toString=o(e,e=>"cmyk(".concat(e[0],"%, ").concat(e[1],"%, ").concat(e[2],"%, ").concat(e[3],"%)")),e},toHEXA(){const e=function(e,t,n){return g(e,t,n).map(e=>v(e).toString(16).padStart(2,"0"))}(r.h,r.s,r.v),t=r.a>=1?"":Number((255*r.a).toFixed(0)).toString(16).toUpperCase().padStart(2,"0");return t&&e.push(t),e.toString=()=>"#".concat(e.join("").toUpperCase()),e},clone:()=>k(r.h,r.s,r.v,r.a)};return r}const C=e=>Math.max(Math.min(e,1),0);function M(e){const t={options:Object.assign({lock:null,onchange:()=>0,onstop:()=>0},e),_keyboard(e){const{options:n}=t,{type:i,key:o}=e;if(document.activeElement===n.wrapper){const{lock:n}=t.options,r="ArrowUp"===o,a="ArrowRight"===o,s="ArrowDown"===o,l="ArrowLeft"===o;if("keydown"===i&&(r||a||s||l)){let i=0,o=0;"v"===n?i=r||a?1:-1:"h"===n?i=r||a?-1:1:(o=r?-1:s?1:0,i=l?-1:a?1:0),t.update(C(t.cache.x+.01*i),C(t.cache.y+.01*o)),e.preventDefault()}else o.startsWith("Arrow")&&(t.options.onstop(),e.preventDefault())}},_tapstart(e){r(document,["mouseup","touchend","touchcancel"],t._tapstop),r(document,["mousemove","touchmove"],t._tapmove),e.cancelable&&e.preventDefault(),t._tapmove(e)},_tapmove(e){const{options:n,cache:i}=t,{lock:o,element:r,wrapper:a}=n,s=a.getBoundingClientRect();let l=0,c=0;if(e){const t=e&&e.touches&&e.touches[0];l=e?(t||e).clientX:0,c=e?(t||e).clientY:0,l<s.left?l=s.left:l>s.left+s.width&&(l=s.left+s.width),c<s.top?c=s.top:c>s.top+s.height&&(c=s.top+s.height),l-=s.left,c-=s.top}else i&&(l=i.x*s.width,c=i.y*s.height);"h"!==o&&(r.style.left="calc(".concat(l/s.width*100,"% - ").concat(r.offsetWidth/2,"px)")),"v"!==o&&(r.style.top="calc(".concat(c/s.height*100,"% - ").concat(r.offsetHeight/2,"px)")),t.cache={x:l/s.width,y:c/s.height};const u=C(l/s.width),d=C(c/s.height);switch(o){case"v":return n.onchange(u);case"h":return n.onchange(d);default:return n.onchange(u,d)}},_tapstop(){t.options.onstop(),a(document,["mouseup","touchend","touchcancel"],t._tapstop),a(document,["mousemove","touchmove"],t._tapmove)},trigger(){t._tapmove()},update(e=0,n=0){const{left:i,top:o,width:r,height:a}=t.options.wrapper.getBoundingClientRect();"h"===t.options.lock&&(n=e),t._tapmove({clientX:i+r*e,clientY:o+a*n})},destroy(){const{options:e,_tapstart:n,_keyboard:i}=t;a(document,["keydown","keyup"],i),a([e.wrapper,e.element],"mousedown",n),a([e.wrapper,e.element],"touchstart",n,{passive:!1})}},{options:n,_tapstart:i,_keyboard:o}=t;return r([n.wrapper,n.element],"mousedown",i),r([n.wrapper,n.element],"touchstart",i,{passive:!1}),r(document,["keydown","keyup"],o),t}function _(e={}){e=Object.assign({onchange:()=>0,className:"",elements:[]},e);const t=r(e.elements,"click",t=>{e.elements.forEach(n=>n.classList[t.target===n?"add":"remove"](e.className)),e.onchange(t),t.stopPropagation()});return{destroy:()=>a(...t)}}const O={variantFlipOrder:{start:"sme",middle:"mse",end:"ems"},positionFlipOrder:{top:"tbrl",right:"rltb",bottom:"btrl",left:"lrbt"},position:"bottom",margin:8};function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class E{constructor(e){P(this,"_initializingActive",!0),P(this,"_recalc",!0),P(this,"_nanopop",null),P(this,"_root",null),P(this,"_color",k()),P(this,"_lastColor",k()),P(this,"_swatchColors",[]),P(this,"_eventListener",{init:[],save:[],hide:[],show:[],clear:[],change:[],changestop:[],cancel:[],swatchselect:[]}),this.options=e=Object.assign({...E.DEFAULT_OPTIONS},e);const{swatches:t,components:n,theme:i,sliders:o,lockOpacity:r,padding:a}=e;["nano","monolith"].includes(i)&&!o&&(e.sliders="h"),n.interaction||(n.interaction={});const{preview:s,opacity:l,hue:c,palette:u}=n;n.opacity=!r&&l,n.palette=u||s||l||c,this._preBuild(),this._buildComponents(),this._bindEvents(),this._finalBuild(),t&&t.length&&t.forEach(e=>this.addSwatch(e));const{button:d,app:p}=this._root;this._nanopop=((e,t,n)=>{const i="object"!=typeof e||e instanceof HTMLElement?{reference:e,popper:t,...n}:e;return{update(e=i){const{reference:t,popper:n}=Object.assign(i,e);if(!n||!t)throw new Error("Popper- or reference-element missing.");return((e,t,n)=>{const{container:i,margin:o,position:r,variantFlipOrder:a,positionFlipOrder:s}={container:document.documentElement.getBoundingClientRect(),...O,...n},{left:l,top:c}=t.style;t.style.left="0",t.style.top="0";const u=e.getBoundingClientRect(),d=t.getBoundingClientRect(),p={t:u.top-d.height-o,b:u.bottom+o,r:u.right+o,l:u.left-d.width-o},h={vs:u.left,vm:u.left+u.width/2+-d.width/2,ve:u.left+u.width-d.width,hs:u.top,hm:u.bottom-u.height/2-d.height/2,he:u.bottom-d.height},[f,m="middle"]=r.split("-"),v=s[f],g=a[m],{top:y,left:b,bottom:x,right:w}=i;for(const S of v){const e="t"===S||"b"===S,n=p[S],[i,o]=e?["top","left"]:["left","top"],[r,a]=e?[d.height,d.width]:[d.width,d.height],[s,l]=e?[x,w]:[w,x],[c,u]=e?[y,b]:[b,y];if(!(n<c||n+r>s))for(const p of g){const r=h[(e?"v":"h")+p];if(!(r<u||r+a>l))return t.style[o]=r-d[o]+"px",t.style[i]=n-d[i]+"px",S+p}}return t.style.left=l,t.style.top=c,null})(t,n,i)}}})(d,p,{margin:a}),d.setAttribute("role","button"),d.setAttribute("aria-label",this._t("btn:toggle"));const h=this;requestAnimationFrame((function t(){if(!p.offsetWidth)return requestAnimationFrame(t);h.setColor(e.default),h._rePositioningPicker(),e.defaultRepresentation&&(h._representation=e.defaultRepresentation,h.setColorRepresentation(h._representation)),e.showAlways&&h.show(),h._initializingActive=!1,h._emit("init")}))}_preBuild(){const{options:e}=this;for(const t of["el","container"])e[t]=u(e[t]);this._root=(e=>{const{components:t,useAsButton:n,inline:i,appClass:o,theme:r,lockOpacity:a}=e.options,s=e=>e?"":'style="display:none" hidden',c=t=>e._t(t),u=l('\n      <div :ref="root" class="pickr">\n\n        '.concat(n?"":'<button type="button" :ref="button" class="pcr-button"></button>','\n\n        <div :ref="app" class="pcr-app ').concat(o||"",'" data-theme="').concat(r,'" ').concat(i?'style="position: unset"':"",' aria-label="').concat(c("ui:dialog"),'" role="window">\n          <div class="pcr-selection" ').concat(s(t.palette),'>\n            <div :obj="preview" class="pcr-color-preview" ').concat(s(t.preview),'>\n              <button type="button" :ref="lastColor" class="pcr-last-color" aria-label="').concat(c("btn:last-color"),'"></button>\n              <div :ref="currentColor" class="pcr-current-color"></div>\n            </div>\n\n            <div :obj="palette" class="pcr-color-palette">\n              <div :ref="picker" class="pcr-picker"></div>\n              <div :ref="palette" class="pcr-palette" tabindex="0" aria-label="').concat(c("aria:palette"),'" role="listbox"></div>\n            </div>\n\n            <div :obj="hue" class="pcr-color-chooser" ').concat(s(t.hue),'>\n              <div :ref="picker" class="pcr-picker"></div>\n              <div :ref="slider" class="pcr-hue pcr-slider" tabindex="0" aria-label="').concat(c("aria:hue"),'" role="slider"></div>\n            </div>\n\n            <div :obj="opacity" class="pcr-color-opacity" ').concat(s(t.opacity),'>\n              <div :ref="picker" class="pcr-picker"></div>\n              <div :ref="slider" class="pcr-opacity pcr-slider" tabindex="0" aria-label="').concat(c("aria:opacity"),'" role="slider"></div>\n            </div>\n          </div>\n\n          <div class="pcr-swatches ').concat(t.palette?"":"pcr-last",'" :ref="swatches"></div>\n\n          <div :obj="interaction" class="pcr-interaction" ').concat(s(Object.keys(t.interaction).length),'>\n            <input :ref="result" class="pcr-result" type="text" spellcheck="false" ').concat(s(t.interaction.input),' aria-label="').concat(c("aria:input"),'">\n\n            <input :arr="options" class="pcr-type" data-type="HEXA" value="').concat(a?"HEX":"HEXA",'" type="button" ').concat(s(t.interaction.hex),'>\n            <input :arr="options" class="pcr-type" data-type="RGBA" value="').concat(a?"RGB":"RGBA",'" type="button" ').concat(s(t.interaction.rgba),'>\n            <input :arr="options" class="pcr-type" data-type="HSLA" value="').concat(a?"HSL":"HSLA",'" type="button" ').concat(s(t.interaction.hsla),'>\n            <input :arr="options" class="pcr-type" data-type="HSVA" value="').concat(a?"HSV":"HSVA",'" type="button" ').concat(s(t.interaction.hsva),'>\n            <input :arr="options" class="pcr-type" data-type="CMYK" value="CMYK" type="button" ').concat(s(t.interaction.cmyk),'>\n\n            <input :ref="save" class="pcr-save" value="').concat(c("btn:save"),'" type="button" ').concat(s(t.interaction.save),' aria-label="').concat(c("aria:btn:save"),'">\n            <input :ref="cancel" class="pcr-cancel" value="').concat(c("btn:cancel"),'" type="button" ').concat(s(t.interaction.cancel),' aria-label="').concat(c("aria:btn:cancel"),'">\n            <input :ref="clear" class="pcr-clear" value="').concat(c("btn:clear"),'" type="button" ').concat(s(t.interaction.clear),' aria-label="').concat(c("aria:btn:clear"),'">\n          </div>\n        </div>\n      </div>\n    ')),d=u.interaction;return d.options.find(e=>!e.hidden&&!e.classList.add("active")),d.type=()=>d.options.find(e=>e.classList.contains("active")),u})(this),e.useAsButton&&(this._root.button=e.el),e.container.appendChild(this._root.root)}_finalBuild(){const e=this.options,t=this._root;if(e.container.removeChild(t.root),e.inline){const n=e.el.parentElement;e.el.nextSibling?n.insertBefore(t.app,e.el.nextSibling):n.appendChild(t.app)}else e.container.appendChild(t.app);e.useAsButton?e.inline&&e.el.remove():e.el.parentNode.replaceChild(t.root,e.el),e.disabled&&this.disable(),e.comparison||(t.button.style.transition="none",e.useAsButton||(t.preview.lastColor.style.transition="none")),this.hide()}_buildComponents(){const e=this,t=this.options.components,n=(e.options.sliders||"v").repeat(2),[i,o]=n.match(/^[vh]+$/g)?n:[],r=()=>this._color||(this._color=this._lastColor.clone()),a={palette:M({element:e._root.palette.picker,wrapper:e._root.palette.palette,onstop:()=>e._emit("changestop",e),onchange(n,i){if(!t.palette)return;const o=r(),{_root:a,options:s}=e,{lastColor:l,currentColor:c}=a.preview;e._recalc&&(o.s=100*n,o.v=100-100*i,o.v<0&&(o.v=0),e._updateOutput());const u=o.toRGBA().toString(0);this.element.style.background=u,this.wrapper.style.background="\n                        linear-gradient(to top, rgba(0, 0, 0, ".concat(o.a,"), transparent),\n                        linear-gradient(to left, hsla(").concat(o.h,", 100%, 50%, ").concat(o.a,"), rgba(255, 255, 255, ").concat(o.a,"))\n                    "),s.comparison?s.useAsButton||e._lastColor||(l.style.color=u):(a.button.style.color=u,a.button.classList.remove("clear"));const d=o.toHEXA().toString();for(const{el:t,color:r}of e._swatchColors)t.classList[d===r.toHEXA().toString()?"add":"remove"]("pcr-active");c.style.color=u}}),hue:M({lock:"v"===o?"h":"v",element:e._root.hue.picker,wrapper:e._root.hue.slider,onstop:()=>e._emit("changestop",e),onchange(n){if(!t.hue||!t.palette)return;const i=r();e._recalc&&(i.h=360*n),this.element.style.backgroundColor="hsl(".concat(i.h,", 100%, 50%)"),a.palette.trigger()}}),opacity:M({lock:"v"===i?"h":"v",element:e._root.opacity.picker,wrapper:e._root.opacity.slider,onstop:()=>e._emit("changestop",e),onchange(n){if(!t.opacity||!t.palette)return;const i=r();e._recalc&&(i.a=Math.round(100*n)/100),this.element.style.background="rgba(0, 0, 0, ".concat(i.a,")"),a.palette.trigger()}}),selectable:_({elements:e._root.interaction.options,className:"active",onchange(t){e._representation=t.target.getAttribute("data-type").toUpperCase(),e._recalc&&e._updateOutput()}})};this._components=a}_bindEvents(){const{_root:e,options:t}=this,n=[r(e.interaction.clear,"click",()=>this._clearColor()),r([e.interaction.cancel,e.preview.lastColor],"click",()=>{this._emit("cancel",this),this.setHSVA(...(this._lastColor||this._color).toHSVA(),!0)}),r(e.interaction.save,"click",()=>{!this.applyColor()&&!t.showAlways&&this.hide()}),r(e.interaction.result,["keyup","input"],e=>{this.setColor(e.target.value,!0)&&!this._initializingActive&&this._emit("change",this._color),e.stopImmediatePropagation()}),r(e.interaction.result,["focus","blur"],e=>{this._recalc="blur"===e.type,this._recalc&&this._updateOutput()}),r([e.palette.palette,e.palette.picker,e.hue.slider,e.hue.picker,e.opacity.slider,e.opacity.picker],["mousedown","touchstart"],()=>this._recalc=!0,{passive:!0})];if(!t.showAlways){const i=t.closeWithKey;n.push(r(e.button,"click",()=>this.isOpen()?this.hide():this.show()),r(document,"keyup",e=>this.isOpen()&&(e.key===i||e.code===i)&&this.hide()),r(document,["touchstart","mousedown"],t=>{this.isOpen()&&!c(t).some(t=>t===e.app||t===e.button)&&this.hide()},{capture:!0}))}if(t.adjustableNumbers){const t={rgba:[255,255,255,1],hsva:[360,100,100,1],hsla:[360,100,100,1],cmyk:[100,100,100,100]};d(e.interaction.result,(e,n,i)=>{const o=t[this.getColorRepresentation().toLowerCase()];if(o){const t=o[i],r=e+(t>=100?1e3*n:n);return r<=0?0:Number((r<t?r:t).toPrecision(3))}return e})}if(t.autoReposition&&!t.inline){let e=null;const i=this;n.push(r(window,["scroll","resize"],()=>{i.isOpen()&&(t.closeOnScroll&&i.hide(),null===e?(e=setTimeout(()=>e=null,100),requestAnimationFrame((function t(){i._rePositioningPicker(),null!==e&&requestAnimationFrame(t)}))):(clearTimeout(e),e=setTimeout(()=>e=null,100)))},{capture:!0}))}this._eventBindings=n}_rePositioningPicker(){const{options:e}=this;if(!e.inline&&!this._nanopop.update({container:document.body.getBoundingClientRect(),position:e.position})){const e=this._root.app,t=e.getBoundingClientRect();e.style.top="".concat((window.innerHeight-t.height)/2,"px"),e.style.left="".concat((window.innerWidth-t.width)/2,"px")}}_updateOutput(){const{_root:e,_color:t,options:n}=this;if(e.interaction.type()){const i="to".concat(e.interaction.type().getAttribute("data-type"));e.interaction.result.value="function"==typeof t[i]?t[i]().toString(n.outputPrecision):""}!this._initializingActive&&this._recalc&&this._emit("change",t)}_clearColor(e=!1){const{_root:t,options:n}=this;n.useAsButton||(t.button.style.color="rgba(0, 0, 0, 0.15)"),t.button.classList.add("clear"),n.showAlways||this.hide(),this._lastColor=null,this._initializingActive||e||(this._emit("save",null),this._emit("clear",this))}_parseLocalColor(e){const{values:t,type:n,a:i}=function(e){e=e.match(/^[a-zA-Z]+$/)?function(e){if("black"===e.toLowerCase())return"#000";const t=document.createElement("canvas").getContext("2d");return t.fillStyle=e,"#000"===t.fillStyle?null:t.fillStyle}(e):e;const t={cmyk:/^cmyk[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)/i,rgba:/^((rgba)|rgb)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]*?([\d.]+|$)/i,hsla:/^((hsla)|hsl)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]*?([\d.]+|$)/i,hsva:/^((hsva)|hsv)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]*?([\d.]+|$)/i,hexa:/^#?(([\dA-Fa-f]{3,4})|([\dA-Fa-f]{6})|([\dA-Fa-f]{8}))$/i},n=e=>e.map(e=>/^(|\d+)\.\d+|\d+$/.test(e)?Number(e):void 0);let i;e:for(const o in t){if(!(i=t[o].exec(e)))continue;const r=e=>!!i[2]==("number"==typeof e);switch(o){case"cmyk":{const[,e,t,r,a]=n(i);if(e>100||t>100||r>100||a>100)break e;return{values:x(e,t,r,a),type:o}}case"rgba":{const[,,,e,t,a,s]=n(i);if(e>255||t>255||a>255||s<0||s>1||!r(s))break e;return{values:[...b(e,t,a),s],a:s,type:o}}case"hexa":{let[,e]=i;4!==e.length&&3!==e.length||(e=e.split("").map(e=>e+e).join(""));const t=e.substring(0,6);let n=e.substring(6);return n=n?parseInt(n,16)/255:void 0,{values:[...S(t),n],a:n,type:o}}case"hsla":{const[,,,e,t,a,s]=n(i);if(e>360||t>100||a>100||s<0||s>1||!r(s))break e;return{values:[...w(e,t,a),s],a:s,type:o}}case"hsva":{const[,,,e,t,a,s]=n(i);if(e>360||t>100||a>100||s<0||s>1||!r(s))break e;return{values:[e,t,a,s],a:s,type:o}}}}return{values:null,type:null}}(e),{lockOpacity:o}=this.options,r=void 0!==i&&1!==i;return t&&3===t.length&&(t[3]=void 0),{values:!t||o&&r?null:t,type:n}}_t(e){return this.options.i18n[e]||E.I18N_DEFAULTS[e]}_emit(e,...t){this._eventListener[e].forEach(e=>e(...t,this))}on(e,t){return this._eventListener[e].push(t),this}off(e,t){const n=this._eventListener[e]||[],i=n.indexOf(t);return~i&&n.splice(i,1),this}addSwatch(e){const{values:t}=this._parseLocalColor(e);if(t){const{_swatchColors:e,_root:n}=this,i=k(...t),o=s('<button type="button" style="color: '.concat(i.toRGBA().toString(0),'" aria-label="').concat(this._t("btn:swatch"),'"/>'));return n.swatches.appendChild(o),e.push({el:o,color:i}),this._eventBindings.push(r(o,"click",()=>{this.setHSVA(...i.toHSVA(),!0),this._emit("swatchselect",i),this._emit("change",i)})),!0}return!1}removeSwatch(e){const t=this._swatchColors[e];if(t){const{el:n}=t;return this._root.swatches.removeChild(n),this._swatchColors.splice(e,1),!0}return!1}applyColor(e=!1){const{preview:t,button:n}=this._root,i=this._color.toRGBA().toString(0);return t.lastColor.style.color=i,this.options.useAsButton||(n.style.color=i),n.classList.remove("clear"),this._lastColor=this._color.clone(),this._initializingActive||e||this._emit("save",this._color),this}destroy(){this._eventBindings.forEach(e=>a(...e)),Object.keys(this._components).forEach(e=>this._components[e].destroy())}destroyAndRemove(){this.destroy();const{root:e,app:t}=this._root;e.parentElement&&e.parentElement.removeChild(e),t.parentElement.removeChild(t),Object.keys(this).forEach(e=>this[e]=null)}hide(){return this._root.app.classList.remove("visible"),this._emit("hide",this),this}show(){return this.options.disabled||(this._root.app.classList.add("visible"),this._rePositioningPicker(),this._emit("show",this)),this}isOpen(){return this._root.app.classList.contains("visible")}setHSVA(e=360,t=0,n=0,i=1,o=!1){const r=this._recalc;if(this._recalc=!1,e<0||e>360||t<0||t>100||n<0||n>100||i<0||i>1)return!1;this._color=k(e,t,n,i);const{hue:a,opacity:s,palette:l}=this._components;return a.update(e/360),s.update(i),l.update(t/100,1-n/100),o||this.applyColor(),r&&this._updateOutput(),this._recalc=r,!0}setColor(e,t=!1){if(null===e)return this._clearColor(t),!0;const{values:n,type:i}=this._parseLocalColor(e);if(n){const e=i.toUpperCase(),{options:o}=this._root.interaction,r=o.find(t=>t.getAttribute("data-type")===e);if(r&&!r.hidden)for(const t of o)t.classList[t===r?"add":"remove"]("active");return!!this.setHSVA(...n,t)&&this.setColorRepresentation(e)}return!1}setColorRepresentation(e){return e=e.toUpperCase(),!!this._root.interaction.options.find(t=>t.getAttribute("data-type").startsWith(e)&&!t.click())}getColorRepresentation(){return this._representation}getColor(){return this._color}getSelectedColor(){return this._lastColor}getRoot(){return this._root}disable(){return this.hide(),this.options.disabled=!0,this._root.button.classList.add("disabled"),this}enable(){return this.options.disabled=!1,this._root.button.classList.remove("disabled"),this}}P(E,"utils",i),P(E,"version",p.a),P(E,"I18N_DEFAULTS",{"ui:dialog":"color picker dialog","btn:toggle":"toggle color picker dialog","btn:swatch":"color swatch","btn:last-color":"use previous color","btn:save":"Save","btn:cancel":"Cancel","btn:clear":"Clear","aria:btn:save":"save and close","aria:btn:cancel":"cancel and close","aria:btn:clear":"clear and close","aria:input":"color input field","aria:palette":"color selection area","aria:hue":"hue selection slider","aria:opacity":"selection slider"}),P(E,"DEFAULT_OPTIONS",{appClass:null,theme:"classic",useAsButton:!1,padding:8,disabled:!1,comparison:!0,closeOnScroll:!1,outputPrecision:0,lockOpacity:!1,autoReposition:!0,container:"body",components:{interaction:{}},i18n:{},swatches:null,inline:!1,sliders:null,default:"#42445a",defaultRepresentation:null,position:"bottom-middle",adjustableNumbers:!0,showAlways:!1,closeWithKey:"Escape"}),P(E,"create",e=>new E(e)),t.default=E}]).default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),o=n(48);i.bindingHandlers.jss={update:(e,t)=>{const n=i.unwrap(t());if(!n)return void(e.innerHTML="");const r=(new o.JssCompiler).compile(n);e.innerHTML=r}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),o=n(6),r=n(138),a=n(8),s=n(48);i.bindingHandlers.shadowPreview={update:(e,t)=>{const n=i.unwrap(t()),l=o.camelCaseToKebabCase(n.key).replace("/","-"),c=r.ShadowStylePlugin.contractToStyleRules(n),u=new a.Style(l);u.addRules(c);const d=new a.StyleSheet;d.styles.push(u);const p=(new s.JssCompiler).compile(d);e.innerHTML=p}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),o=n(6),r=n(224),a=n(8),s=n(48);i.bindingHandlers.gradientPreview={update:(e,t)=>{const n=i.unwrap(t()),l=o.camelCaseToKebabCase(n.key).replace("/","-"),c=new a.StyleRule("background-image",r.getLinearGradientString(n)),u=new a.Style(l);u.addRule(c);const d=new a.StyleSheet;d.styles.push(u);const p=(new s.JssCompiler).compile(d);e.innerHTML=p}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyleModule=void 0;const i=n(20),o=n(97),r=n(299);t.StyleModule=class{register(e){e.bindSingleton("styleService",i.StyleService),e.bindSingleton("styleCompiler",o.DefaultStyleCompiler),e.bindToCollection("autostart",r.StyledBindingHandler)}}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(907),t)},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.StyleEditor=void 0;const r=n(0),a=n(908),s=n(2),l=n(226);let c=class{constructor(e,t){this.viewManager=e,this.eventManager=t,this.styleName=r.observable("New style"),this.selectedState=r.observable(),this.elementStates=r.observableArray(),this.elementStyleTypography=r.observable(),this.elementStyleTransform=r.observable(),this.elementStyleTransition=r.observable(),this.elementStyleBackground=r.observable(),this.elementStyleShadow=r.observable(),this.elementStyleAnimation=r.observable(),this.elementStyleBox=r.observable(),this.elementStyleSize=r.observable(),this.allowBlockStyles=r.observable(),this.working=r.observable(!0)}initialize(){this.styleName(this.elementStyle.displayName),this.allowBlockStyles(!this.elementStyle.key.startsWith("globals/body")),this.updateObservables();const e=this.elementStyle.allowedStates;this.elementStates(e),e&&e.length>0&&this.selectedState.subscribe(this.onStateSelected),this.styleName.subscribe(this.onStyleNameUpdate),this.eventManager.addEventListener("onViewportChange",this.updateObservables)}scheduleUpdate(){clearTimeout(this.updateTimeout),this.updateTimeout=setTimeout(()=>this.onUpdate(this.elementStyle),500)}updateObservables(){this.working(!0);const e=this.getStyleForSelectedState();this.elementStyleTypography(e.typography),this.elementStyleTransform(e.transform),this.elementStyleTransition(e.transition),this.elementStyleBackground(e.background),this.elementStyleShadow(e.shadow),this.elementStyleAnimation(e.animation),this.elementStyleBox(e),this.elementStyleSize(e.size),this.working(!1)}onStateSelected(e){this.currentState=e,this.updateObservables()}getStyleForSelectedState(){let e;return this.currentState?this.elementStyle.states?(this.elementStyle.states[this.currentState]||(this.elementStyle.states[this.currentState]={}),e=this.elementStyle.states[this.currentState]):(e={},this.elementStyle.states={},this.elementStyle.states[this.currentState]=e):e=this.elementStyle,e}onStyleNameUpdate(e){this.elementStyle.displayName=e,this.scheduleUpdate()}onBackgroundUpdate(e){const t=this.getStyleForSelectedState();l.StyleHelper.setPluginConfig(t,"background",e,null),this.scheduleUpdate()}onShadowUpdate(e){const t=this.getStyleForSelectedState();l.StyleHelper.setPluginConfig(t,"shadow",e,null),this.scheduleUpdate()}onAnimationUpdate(e){const t=this.getStyleForSelectedState();l.StyleHelper.setPluginConfig(t,"animation",e,null),this.scheduleUpdate()}onBoxUpdate(e){const t=this.getStyleForSelectedState();Object.assign(t,e),this.scheduleUpdate()}onSizeUpdate(e){const t=this.getStyleForSelectedState();l.StyleHelper.setPluginConfig(t,"size",e,null),this.scheduleUpdate()}onTypographyUpdate(e){const t=this.getStyleForSelectedState();l.StyleHelper.setPluginConfig(t,"typography",e,null),this.scheduleUpdate()}onTransformUpdate(e){const t=this.getStyleForSelectedState();l.StyleHelper.setPluginConfig(t,"transform",e,null),this.scheduleUpdate()}onTransitionUpdate(e){const t=this.getStyleForSelectedState();l.StyleHelper.setPluginConfig(t,"transition",e,null),this.scheduleUpdate()}};i([s.Param(),o("design:type",Object)],c.prototype,"elementStyle",void 0),i([s.Event(),o("design:type",Function)],c.prototype,"onUpdate",void 0),i([s.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],c.prototype,"initialize",null),c=i([s.Component({selector:"style-editor",template:a.default}),o("design:paramtypes",[Object,Object])],c),t.StyleEditor=c},function(e,t,n){"use strict";n.r(t),t.default='<fieldset class="form flex-item flex-item-grow" data-bind="scrollable: true">\r\n    <div class="form-group form-group-collapsible">\r\n        <label class="form-label">\r\n            <a href="#" class="form-group-toggle" title="Toggle section" data-bind="collapse: \'#miscellaneousCollapse\'"></a>\r\n            <b>Main</b>\r\n        </label>\r\n        <div id="miscellaneousCollapse" class="collapse form-group-collapse">\r\n            <div class="form-group">\r\n                <button class="btn btn-info" type="button" data-bind="tooltip: \'Name of the style\'"></button>\r\n                <label for="styleName">Style name</label>\r\n                <input id="styleName" type="text" class="form-control" spellcheck="false" data-bind="textInput: styleName, focus: true">\r\n            </div>\r\n            \x3c!-- ko if: elementStates --\x3e\r\n            <div class="form-group">\r\n                <label for="textTransform">State</label>\r\n                <select id="textTransform" class="form-control" data-bind="options: elementStates, value: selectedState, optionsCaption: \'default\'"></select>\r\n            </div>\r\n            \x3c!--/ko --\x3e\r\n        </div>\r\n    </div>\r\n\r\n    \x3c!-- ko ifnot: working --\x3e\r\n\r\n    <typography params="{ typography: elementStyleTypography, onUpdate: onTypographyUpdate }"></typography>\r\n\r\n    \x3c!-- ko if: allowBlockStyles --\x3e\r\n    \x3c!-- <gradient-editor></gradient-editor> --\x3e\r\n    <background params="{ background: elementStyleBackground, onUpdate: onBackgroundUpdate }"></background>\r\n    <shadow-editor-group params="{ shadow: elementStyleShadow, onUpdate: onShadowUpdate }"></shadow-editor-group>\r\n    <animation params="{ animation: elementStyleAnimation, onUpdate: onAnimationUpdate }"></animation>\r\n    <transition params="{ transition: elementStyleTransition, onUpdate: onTransitionUpdate }"></transition>\r\n    <transform params="{ transform: elementStyleTransform, onUpdate: onTransformUpdate }"></transform>\r\n\r\n    <size-editor params="{ features: \'minMaxWidth,minMaxHeight\', sizeConfig: elementStyleSize, onUpdate: onSizeUpdate }"></size-editor>\r\n    <div class="form-group form-group-collapsible">\r\n        <label class="form-label">\r\n            <a href="#" class="form-group-toggle" title="Toggle section" data-bind="collapse: \'#boxCollapse\'"></a>\r\n            <b>Box</b>\r\n        </label>\r\n        <div id="boxCollapse" class="collapse form-group-collapse">\r\n            <box params="{ box: elementStyleBox, onUpdate: onBoxUpdate }"></box>\r\n        </div>\r\n    </div>\r\n    \x3c!-- /ko --\x3e\r\n\r\n    \x3c!-- /ko --\x3e\r\n</fieldset>'},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.StyleGuide=void 0;const a=n(0),s=n(19),l=n(85),c=n(910),u=n(2),d=n(8),p=n(45),h=n(20);let f=class{constructor(e,t,n,i,o){this.styleService=e,this.viewManager=t,this.eventManager=n,this.styleGroups=i,this.styleCompiler=o,this.actives={},this.styles=a.observable(),this.colors=a.observableArray([]),this.shadows=a.observableArray([]),this.gradients=a.observableArray([]),this.fonts=a.observableArray([]),this.buttons=a.observableArray([]),this.cards=a.observableArray([]),this.pictures=a.observableArray([]),this.videoPlayers=a.observableArray([]),this.textBlocks=a.observableArray([]),this.textStyles=a.observableArray([]),this.navBars=a.observableArray([]),this.uiComponents=a.observableArray([])}loadStyles(){return r(this,void 0,void 0,(function*(){this.viewManager.mode=p.ViewManagerMode.selecting,this.applyChanges(),this.ownerDocument=this.viewManager.getHostDocument(),this.attach()}))}addFonts(){return r(this,void 0,void 0,(function*(){const e={heading:"Fonts",component:{name:"google-fonts",params:{onSelect:()=>{this.viewManager.closeView(),this.applyChanges()}}},resize:"vertically horizontally"};this.viewManager.openViewAsPopup(e)}))}removeStyle(e){return r(this,void 0,void 0,(function*(){if(yield this.styleService.removeStyle(e.key),e.key.startsWith("components/")){const t=e.key.split("/")[1];yield this.onUpdateStyle(t)}else this.applyChanges()}))}addColor(){return r(this,void 0,void 0,(function*(){const e=""+s.identifier(),t=yield this.styleService.addColorVariation(e),n=this.colors();n.push(t),this.colors(this.sortByDisplayName(n)),this.selectColor(t)}))}addGradient(){return r(this,void 0,void 0,(function*(){const e=""+s.identifier(),t=yield this.styleService.addGradientVariation(e),n=this.gradients();n.push(t),this.gradients(this.sortByDisplayName(n)),this.selectGradient(t)}))}addShadow(){return r(this,void 0,void 0,(function*(){const e=""+s.identifier(),t=yield this.styleService.addShadowVariation(e),n=this.shadows();n.push(t),this.shadows(this.sortByDisplayName(n)),this.selectShadow(t)}))}removeColor(e){return r(this,void 0,void 0,(function*(){yield this.styleService.removeStyle(e.key),this.applyChanges()}))}removeGradient(e){return r(this,void 0,void 0,(function*(){yield this.styleService.removeStyle(e.key),this.applyChanges()}))}selectColor(e){const t={heading:"Color",component:{name:"color-editor",params:{selectedColor:e,onSelect:e=>r(this,void 0,void 0,(function*(){yield this.styleService.updateStyle(e),this.applyChanges()}))}},resize:"vertically horizontally"};return this.viewManager.openViewAsPopup(t),!0}selectGradient(e){const t={heading:"Gradient",component:{name:"gradient-editor",params:{selectedGradient:e,onSelect:e=>r(this,void 0,void 0,(function*(){yield this.styleService.updateStyle(e),this.applyChanges()}))}},resize:"vertically horizontally"};return this.viewManager.openViewAsPopup(t),!0}selectShadow(e){const t={heading:"Shadow",component:{name:"shadow-editor",params:{selectedShadow:e,onSelect:e=>r(this,void 0,void 0,(function*(){yield this.styleService.updateStyle(e),this.applyChanges()}))}},resize:"vertically horizontally"};return this.viewManager.openViewAsPopup(t),!0}selectStyle(e){const t={heading:e.displayName,component:{name:"style-editor",params:{elementStyle:e,onUpdate:()=>r(this,void 0,void 0,(function*(){if(this.styleService.updateStyle(e),e.key.startsWith("components/")){const t=e.key.split("/")[1];yield this.onUpdateStyle(t)}this.applyChanges()}))}},resize:"vertically horizontally"};return this.viewManager.openViewAsPopup(t),!0}addTextStyleVariation(){return r(this,void 0,void 0,(function*(){const e=""+s.identifier().toLowerCase(),t=yield this.styleService.addTextStyleVariation(e),n=this.textStyles();n.push(t),this.textStyles(this.sortByDisplayName(n)),this.selectStyle(t)}))}onSnippetSelected(e){return r(this,void 0,void 0,(function*(){console.log("Snippet selected: ",e),yield this.styleService.mergeStyles(e.stylesConfig),yield this.openInEditor(e.stylesType.split("/").pop(),e)}))}openInEditor(e,t){return r(this,void 0,void 0,(function*(){const n=""+s.identifier().toLowerCase(),i=yield this.styleService.addComponentVariation(e,n,t),o=yield this.styleService.getStyleByKey(i);this.selectStyle(o),yield this.onUpdateStyle(e)}))}onUpdateStyle(e){return r(this,void 0,void 0,(function*(){const t=this.uiComponents().find(t=>t.name===e);if(t){const n=(yield this.getComponentsStyles()).find(t=>t.name===e);this.uiComponents.replace(t,n)}}))}applyChanges(){return r(this,void 0,void 0,(function*(){const e=yield this.styleService.getStyles(),t=e.fonts?Object.values(e.fonts):[];this.fonts(t);const n=e.colors?Object.values(e.colors):[];this.colors(this.sortByDisplayName(n));const i=e.gradients?Object.values(e.gradients):[];this.gradients(this.sortByDisplayName(i));const o=e.shadows?Object.values(e.shadows).filter(e=>"shadows/none"!==e.key):[];this.shadows(this.sortByDisplayName(o));const r=yield this.styleService.getVariations("globals","body");this.textStyles(this.sortByDisplayName(r));const a=yield this.getComponentsStyles();this.uiComponents(a),this.styles(e);const s=new d.StyleManager(this.eventManager),l=yield this.styleCompiler.getStyleSheet();s.setStyleSheet(l)}))}getComponentsStyles(){return r(this,void 0,void 0,(function*(){const e=yield this.styleService.getStyles();return Object.keys(e.components).map(t=>{const n=this.styleGroups.find(e=>e.name==="components_"+t);if(!n||!n.styleTemplate)return;const i=e.components[t],o=this.styleService.getAllowedStates(i),r=Object.keys(i).map(e=>{const t=i[e];return o&&"default"!==e&&(t.allowedStates=o),t});return{name:t,displayName:n.groupName,variations:r,itemTemplate:n.styleTemplate}}).filter(e=>void 0!==e)}))}sortByDisplayName(e){return l.sortBy(e,["displayName"])}keyToClass(e){return s.camelCaseToKebabCase(e).replace("/","-")}attach(){this.ownerDocument.addEventListener("mousemove",this.onPointerMove.bind(this),!0),this.ownerDocument.addEventListener("scroll",this.onWindowScroll.bind(this)),this.ownerDocument.addEventListener("mousedown",this.onPointerDown,!0)}dispose(){this.ownerDocument.removeEventListener("mousemove",this.onPointerMove.bind(this),!0),this.ownerDocument.removeEventListener("scroll",this.onWindowScroll.bind(this)),this.ownerDocument.removeEventListener("mousedown",this.onPointerDown,!0)}onWindowScroll(){this.viewManager.mode!==p.ViewManagerMode.dragging&&this.viewManager.mode!==p.ViewManagerMode.pause&&(this.scrolling||this.viewManager.clearContextualEditors(),this.scrolling=!0,this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(this.resetScrolling.bind(this),400))}resetScrolling(){this.scrolling=!1,this.renderHighlightedElements()}renderHighlightedElements(){if(this.scrolling)return;const e=s.elementsFromPoint(this.ownerDocument,this.pointerX,this.pointerY);this.rerenderEditors(e)}isStyleSelectable(e){return!!e&&e.selectCommands.concat(e.deleteCommand).length>0}onPointerDown(e){if(this.viewManager.mode===p.ViewManagerMode.pause)return e.preventDefault(),void e.stopPropagation();if(0!==e.button)return;if(this.viewManager.mode!==p.ViewManagerMode.selecting&&this.viewManager.mode!==p.ViewManagerMode.selected&&this.viewManager.mode!==p.ViewManagerMode.configure)return;const t=this.activeHighlightedElement;if(!t)return;const n=t.styleable;if(!n)return;const i=n.style;if(!i)return;const o=this.viewManager.getSelectedElement();if(o&&o.element===t){const e=this.getContextualEditor(t,n).selectCommands.find(e=>"edit"===e.name);return void(e&&e.callback())}const r=this.getContextualEditor(t,n);if(!this.isStyleSelectable(r))return;const a={element:t,text:i.displayName,color:r.color};this.viewManager.setSelectedElement(a,r)}onPointerMove(e){e.preventDefault(),e.stopPropagation(),this.pointerX=e.clientX,this.pointerY=e.clientY,this.renderHighlightedElements()}getContextualEditor(e,t){const n=t.style,i={color:"#607d8b",deleteCommand:null,selectCommands:[],element:e};return n.key.startsWith("globals/")&&!n.key.startsWith("globals/body/")||n.key.endsWith("/default")||-1!==n.key.indexOf("/navbar/default/")||(i.deleteCommand={tooltip:"Delete variation",color:"#607d8b",component:{name:"confirmation",params:{getMessage:()=>r(this,void 0,void 0,(function*(){const e=(yield this.styleService.checkStyleIsInUse(n.key)).map(e=>e.displayName).join('", "');let t="Are you sure you want to delete this style?";return e&&(t+=` It is referenced by "${e}".`),t})),onConfirm:()=>r(this,void 0,void 0,(function*(){this.removeStyle(n),this.viewManager.clearContextualEditors(),this.viewManager.notifySuccess("Styles",`Style "${n.displayName}" was deleted.`)})),onDecline:()=>{this.viewManager.clearContextualEditors()}}}}),n.key.startsWith("colors/")||n.key.startsWith("fonts/")||n.key.startsWith("shadows/")||n.key.startsWith("gradients/")||n.key.includes("/components/")||i.selectCommands.push({name:"background",tooltip:"Change background",iconClass:"paperbits-drop",position:"top right",color:"#607d8b",callback:()=>{t.toggleBackground()}}),n.key.startsWith("colors/")||n.key.startsWith("shadows/")||n.key.startsWith("gradients/")?i.selectCommands.push({name:"edit",tooltip:"Edit variation",iconClass:"paperbits-edit-72",position:"top right",color:"#607d8b",callback:()=>{n.key.startsWith("gradients/")?this.selectGradient(n):n.key.startsWith("colors/")?this.selectColor(n):this.selectShadow(n)}}):n.key.startsWith("fonts/")||i.selectCommands.push({name:"edit",tooltip:"Edit variation",iconClass:"paperbits-edit-72",position:"top right",color:"#607d8b",callback:()=>{const e={heading:n.displayName,component:{name:"style-editor",params:{elementStyle:n,onUpdate:()=>r(this,void 0,void 0,(function*(){if(this.styleService.updateStyle(n),n.key.startsWith("components/")){const e=n.key.split("/")[1];yield this.onUpdateStyle(e)}this.applyChanges()}))}},resize:"vertically horizontally"};this.viewManager.openViewAsPopup(e)}}),i}rerenderEditors(e){return r(this,void 0,void 0,(function*(){let t,n,i;const o=Object.keys(this.actives);for(let r=e.length-1;r>=0;r--){const a=e[r],s=a.styleable;if(!s)continue;const l=s.style,c=o.indexOf(l.key);o.splice(c,1),t=a,n=l.displayName;const u=this.actives[l.key],d=this.getContextualEditor(a,s);i=d.color,u&&a===u.element||(this.viewManager.setContextualEditor(l.key,d),this.actives[l.key]={element:a})}o.forEach(e=>{this.viewManager.removeContextualEditor(e),delete this.actives[e]}),this.activeHighlightedElement!==t&&(this.activeHighlightedElement=t,this.viewManager.setHighlight({element:t,text:n,color:i}))}))}};i([u.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],f.prototype,"loadStyles",null),i([u.OnDestroyed(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],f.prototype,"dispose",null),f=i([u.Component({selector:"style-guide",template:c.default}),o("design:paramtypes",[h.StyleService,Object,Object,Array,Object])],f),t.StyleGuide=f},function(e,t,n){"use strict";n.r(t),t.default='<div class="style-guide container" data-bind="if: styles">\r\n    \x3c!-- ko with: styles --\x3e\r\n    <article>\r\n        <h2 class="heading">Fonts</h2>\r\n        <div class="row">\r\n            <div class="col col-md-12 samples">\r\n                \x3c!-- ko foreach: { data: $component.fonts, as: \'font\' } --\x3e\r\n                <div class="style-card font style-card-framed" data-bind="styleable: font">\r\n                    <div class="font-sample" data-bind="style: { \'font-family\': font.family }">\r\n                        Abc\r\n                    </div>\r\n                    <div class="style-card-label" data-bind="text: font.displayName"></div>\r\n                </div>\r\n                \x3c!-- /ko --\x3e\r\n\r\n                <div class="style-card style-card-empty">\r\n                    <button class="btn-round" data-bind="click: $component.addFonts" aria-label="Add font"></button>\r\n                    <div class="style-card-label">\r\n                        Add font\r\n                    </div>\r\n                </div>\r\n            </div>\r\n    </div></article>\r\n\r\n    <article>\r\n        <h2 class="heading">Typography</h2>\r\n        <div class="row">\r\n            <div class="col col-md-12 samples">\r\n                \x3c!--ko foreach: { data: $component.textStyles, as: \'textStyle\' }--\x3e\r\n                <div class="style-card style-card-framed" data-bind="styleable: textStyle">\r\n                    <div class="style-card-body">\r\n                        <span data-bind="stylePreview: textStyle">\r\n                            Abc\r\n                        </span>\r\n                        <span class="style-card-label" data-bind="text: textStyle.displayName"></span>\r\n                    </div>\r\n                </div>\r\n                \x3c!--/ko--\x3e\r\n                <div class="style-card style-card-empty">\r\n                    <button class="btn-round" data-bind="click: $component.addTextStyleVariation" aria-label="Add variation"></button>\r\n                    <div class="style-card-label">\r\n                        Add variation\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="row">\r\n            <div class="col-md-6">\r\n                <article>\r\n                    <div class="style-card" data-bind="styleable: globals.h1.default">\r\n                        <div class="style-card-body">\r\n                            <h1 data-bind="stylePreview: \'globals/h1/default\'">Heading level 1</h1>\r\n                        </div>\r\n                    </div>\r\n                    <div class="style-card" data-bind="styleable: \'globals/h2/default\'">\r\n                        <div class="style-card-body">\r\n                            <h2 data-bind="stylePreview: globals.h2.default">Heading level 2</h2>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="style-card" data-bind="styleable: globals.h3.default">\r\n                        <div class="style-card-body">\r\n                            <h3 data-bind="stylePreview: \'globals/h3/default\'">Heading level 3</h3>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="style-card" data-bind="styleable: \'globals/h4/default\'">\r\n                        <div class="style-card-body">\r\n                            <h4 data-bind="stylePreview: \'globals/h4/default\'">Heading level 4</h4>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="style-card" data-bind="styleable: \'globals/h5/default\'">\r\n                        <div class="style-card-body">\r\n                            <h5 data-bind="stylePreview: \'globals/h5/default\'">Heading level 5</h5>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="style-card" data-bind="styleable: globals.h6.default">\r\n                        <div class="style-card-body">\r\n                            <h6 data-bind="stylePreview: \'globals/h6/default\'">Heading level 6</h6>\r\n                        </div>\r\n                    </div>\r\n                </article>\r\n            </div>\r\n\r\n            <div class="col">\r\n                <article>\r\n                    <div class="style-card" data-bind="styleable: globals.p.default">\r\n                        <div class="style-card-body">\r\n                            <p data-bind="stylePreview: \'globals/p/default\'">\r\n                                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor\r\n                                incididunt\r\n                                ut\r\n                                labore\r\n                                et\r\n                                dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris\r\n                                nisi ut\r\n                                aliquip\r\n                                ex ea\r\n                                commodo consequat.\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </article>\r\n\r\n                <article>\r\n                    <div class="style-card" data-bind="styleable: globals.a.default">\r\n                        <div class="style-card-body">\r\n                            <a href="#" class="no-pointer-events" data-bind="stylePreview: \'globals/a/default\'">Regular link</a>\r\n                        </div>\r\n                    </div>\r\n                </article>\r\n\r\n                <article>\r\n                    <div class="style-card" data-bind="styleable: \'globals/blockquote/default\'">\r\n                        <div class="style-card-body">\r\n                            <blockquote data-bind="stylePreview: \'globals/blockquote/default\'">\r\n                                Typography is the craft of endowing human language with a durable visual form. <br>\r\n                                - Robert Bringhurst\r\n                            </blockquote>\r\n                        </div>\r\n                    </div>\r\n                </article>\r\n\r\n                <article>\r\n                    <div class="style-card" data-bind="styleable: globals.pre.default">\r\n                        <div class="style-card-body">\r\n                            <pre data-bind="stylePreview: \'globals/pre/default\'">class PictureModel {    \r\n    sourceKey: string;    \r\n    caption: string;\r\n}</pre>\r\n                        </div>\r\n                    </div>\r\n                </article>\r\n            </div>\r\n        </div>\r\n        <div class="row">\r\n            <div class="col-md-6">\r\n                <div class="style-card" data-bind="styleable: globals.ul.default">\r\n                    <div class="style-card-body">\r\n                        <ul class="style-card" data-bind="stylePreview: \'globals/ul/default\'">\r\n                            <li>\r\n                                List item 1\r\n                            </li>\r\n                            <li>\r\n                                List item 2\r\n                            </li>\r\n                            <li>\r\n                                List item 3\r\n                                <ul>\r\n                                    <li>\r\n                                        Nested list item 1\r\n                                    </li>\r\n                                    <li>\r\n                                        Nested list item 2\r\n                                    </li>\r\n                                </ul>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="col-md-6">\r\n                <div class="style-card" data-bind="styleable: globals.ol.default">\r\n                    <div class="style-card-body">\r\n                        <ol class="style-card" data-bind="stylePreview: \'globals/ol/default\'">\r\n                            <li>\r\n                                List item 1\r\n                            </li>\r\n                            <li>\r\n                                List item 2\r\n                            </li>\r\n                            <li>\r\n                                List item 3\r\n                                <ol>\r\n                                    <li>\r\n                                        Nested list item 1\r\n                                    </li>\r\n                                    <li>\r\n                                        Nested list item 2\r\n                                    </li>\r\n                                </ol>\r\n                            </li>\r\n                        </ol>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </article>\r\n\r\n    <article>\r\n        <h2 class="heading">Colors</h2>\r\n        <div class="samples">\r\n            \x3c!-- ko foreach: { data: $component.colors, as: \'color\' } --\x3e\r\n            <div class="sample style-card" data-bind="styleable: color">\r\n                <div tabindex="0" class="style-card-square pseudo-transparent-bckg" data-bind="attr: { title: color.displayName }">\r\n                    <div class="fit" data-bind="style: { background: color.value }"></div>\r\n                </div>\r\n                <span class="style-card-label" data-bind="text: color.displayName"></span>\r\n            </div>\r\n            \x3c!--/ko --\x3e\r\n            <div class="style-card style-card-empty">\r\n                <button class="btn-round" data-bind="click: $component.addColor" aria-label="Add color"></button>\r\n                <div class="style-card-label">\r\n                    Add color\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </article>\r\n\r\n    <article>\r\n        <h2 class="heading">\r\n            Gradients\r\n        </h2>\r\n        <div class="samples">\r\n            \x3c!-- ko foreach: { data: $component.gradients, as: \'gradient\' } --\x3e\r\n            <div class="sample style-card" data-bind="styleable: gradient">\r\n                <style data-bind="gradientPreview: gradient"></style>\r\n                <div class="style-card-square" data-bind="css: $component.keyToClass(gradient.key)"></div>\r\n                <span class="style-card-label" data-bind="text: gradient.displayName"></span>\r\n            </div>\r\n            \x3c!--/ko --\x3e\r\n            <div class="style-card style-card-empty">\r\n                <button class="btn-round" data-bind="click: $component.addGradient" aria-label="Add gradient"></button>\r\n                <div class="style-card-label">\r\n                    Add gradient\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </article>\r\n\r\n    <article>\r\n        <h2 class="heading">Shadows</h2>\r\n        <div class="samples">\r\n            \x3c!-- ko foreach: { data: $component.shadows, as: \'shadow\' } --\x3e\r\n            <div class="sample style-card" data-bind="styleable: shadow">\r\n                <style data-bind="shadowPreview: shadow"></style>\r\n                <div class="style-card-square" data-bind="css: $component.keyToClass(shadow.key)"></div>\r\n                <span class="style-card-label" data-bind="text: shadow.displayName"></span>\r\n            </div>\r\n            \x3c!--/ko --\x3e\r\n            <div class="style-card style-card-empty">\r\n                <button class="btn-round" data-bind="click: $component.addShadow" aria-label="Add shadow"></button>\r\n                <div class="style-card-label">\r\n                    Add shadow\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </article>\r\n\r\n    <article>\r\n        <h2 class="heading">Form controls</h2>\r\n        <div class="row">\r\n            <div class="col col-md-3">\r\n                <div class="style-card" data-bind="styleable: components.formControl.default">\r\n                    <div class="style-card-body">\r\n                        <div class="form-group">\r\n                            <label aria-hidden="true" tabindex="-1">Label</label>\r\n                            <input type="text" class="form-control no-pointer-events" value="Input value" data-bind="stylePreview:components.formControl.default" tabindex="-1" aria-hidden="true">\r\n                        </div>\r\n                    </div>\r\n                    <span class="style-card-label" data-bind="text: components.formControl.default.displayName"></span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \x3c!-- <div class="row">\r\n            <div class="col col-md-2 d-flex align-items-center category-name">\r\n                Disabled\r\n            </div>\r\n            <div class="col-md-3">\r\n                <div class="form-group">\r\n                    <label>Label</label>\r\n                    <input type="text" class="form-control" disabled value="Input value" data-bind="stylePreview:components.formControl.default" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="row">\r\n            <div class="col col-md-2 d-flex align-items-center category-name">\r\n                Success\r\n            </div>\r\n            <div class="col-md-3">\r\n                <div class="form-group">\r\n                    <label>Label</label>\r\n                    <input type="text" class="form-control is-valid" value="Input value" data-bind="stylePreview:components.formControl.default" />\r\n                    <div class="valid-feedback">\r\n                        Looks good!\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="row">\r\n            <div class="col col-md-2 d-flex align-items-center category-name">\r\n                Error\r\n            </div>\r\n            <div class="col-md-3">\r\n                <div class="form-group">\r\n                    <label>Label</label>\r\n                    <input type="text" class="form-control is-invalid" value="Input value" data-bind="stylePreview:components.formControl.default" />\r\n                    <div class="invalid-feedback">\r\n                        Please fix input errors.\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div> --\x3e\r\n        \x3c!-- <input type="text" value="Input value" data-bind="stylePreview:components.formControl.default" />\r\n\r\n        <textarea data-bind="stylePreview:components.formControl.default">Text area content</textarea> --\x3e\r\n    </article>\r\n\r\n    \x3c!--ko foreach: { data: $component.uiComponents, as: \'item\' }--\x3e\r\n    <article>\r\n        <h2 class="heading" data-bind="text: item.displayName">Component</h2>\r\n        <div class="row">\r\n            <div class="col col-md-12 samples">\r\n                \x3c!--ko foreach: { data: item.variations, as: \'variation\' }--\x3e\r\n                <div class="sample style-card" data-bind="styleable: variation">\r\n                    <div class="style-card-body" data-bind="itemTemplate: $parent.itemTemplate"></div>\r\n                    <span class="style-card-label" data-bind="text: variation.displayName"></span>\r\n                </div>\r\n                \x3c!--/ko--\x3e\r\n                <div class="style-card style-card-empty">\r\n                    \x3c!-- <a href="#" class="btn-round" data-bind="balloon: { component: { name: \'style-snippet-selector\', params: { snippetType: \'components/\' + item.name, onSelect: $component.onSnippetSelected } } }">\r\n                        <i class="paperbits-icon paperbits-color"></i>\r\n                    </a> --\x3e\r\n                    <button class="btn-round" data-bind="click: $component.openInEditor.bind($data, item.name)" aria-label="Add variation"></button>\r\n                    <div class="style-card-label">\r\n                        Add variation\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </article>\r\n    \x3c!--/ko--\x3e\r\n\r\n    \x3c!-- /ko --\x3e\r\n</div>'},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.BoxEditor=void 0;const r=n(0),a=n(912),s=n(2);let l=class{constructor(){this.box=r.observable(),this.features="margin,padding,border",this.marginEnabled=r.observable(),this.marginTop=r.observable(),this.marginLeft=r.observable(),this.marginRight=r.observable(),this.marginBottom=r.observable(),this.borderEnabled=r.observable(),this.borderTop=r.observable(),this.borderLeft=r.observable(),this.borderRight=r.observable(),this.borderBottom=r.observable(),this.paddingEnabled=r.observable(),this.paddingTop=r.observable(),this.paddingLeft=r.observable(),this.paddingRight=r.observable(),this.paddingBottom=r.observable(),this.topLeftRadius=r.observable(),this.topRightRadius=r.observable(),this.bottomLeftRadius=r.observable(),this.bottomRightRadius=r.observable(),this.borderTopWidth=r.computed(()=>this.borderTop()?this.borderTop().width:null),this.borderLeftWidth=r.computed(()=>this.borderLeft()?this.borderLeft().width:null),this.borderRightWidth=r.computed(()=>this.borderRight()?this.borderRight().width:null),this.borderBottomWidth=r.computed(()=>this.borderBottom()?this.borderBottom().width:null)}init(){const e=this.features.split(",");this.marginEnabled(e.includes("margin")),this.paddingEnabled(e.includes("padding")),this.borderEnabled(e.includes("border")),this.loadData(this.box()),this.box.subscribe(this.updateBox),this.marginTop.subscribe(this.dispatchUpdates),this.marginLeft.subscribe(this.dispatchUpdates),this.marginRight.subscribe(this.dispatchUpdates),this.marginBottom.subscribe(this.dispatchUpdates),this.borderTop.subscribe(this.dispatchUpdates),this.borderLeft.subscribe(this.dispatchUpdates),this.borderRight.subscribe(this.dispatchUpdates),this.borderBottom.subscribe(this.dispatchUpdates),this.topLeftRadius.subscribe(this.dispatchUpdates),this.topRightRadius.subscribe(this.dispatchUpdates),this.bottomLeftRadius.subscribe(this.dispatchUpdates),this.bottomRightRadius.subscribe(this.dispatchUpdates),this.paddingTop.subscribe(this.dispatchUpdates),this.paddingLeft.subscribe(this.dispatchUpdates),this.paddingRight.subscribe(this.dispatchUpdates),this.paddingBottom.subscribe(this.dispatchUpdates)}loadData(e){if(!e)return;const t=e;t.margin&&(this.marginTop(t.margin.top),this.marginLeft(t.margin.left),this.marginRight(t.margin.right),this.marginBottom(t.margin.bottom)),t.border&&(this.borderTop(t.border.top),this.borderLeft(t.border.left),this.borderRight(t.border.right),this.borderBottom(t.border.bottom)),t.borderRadius&&(this.topLeftRadius(t.borderRadius.topLeftRadius),this.topRightRadius(t.borderRadius.topRightRadius),this.bottomLeftRadius(t.borderRadius.bottomLeftRadius),this.bottomRightRadius(t.borderRadius.bottomRightRadius)),t.padding&&(this.paddingTop(t.padding.top),this.paddingLeft(t.padding.left),this.paddingRight(t.padding.right),this.paddingBottom(t.padding.bottom))}updateBox(e){this.isBoxUpdate=!0,this.loadData(e),this.isBoxUpdate=!1}dispatchUpdates(){if(!this.onUpdate||this.isBoxUpdate)return;const e=e=>{if("auto"===e)return e;if(0===e)return 0;if(e){const t=parseInt(e);return 0===t?0:t||void 0}};this.onUpdate({padding:{top:e(this.paddingTop()),left:e(this.paddingLeft()),right:e(this.paddingRight()),bottom:e(this.paddingBottom())},margin:{top:e(this.marginTop()),left:e(this.marginLeft()),right:e(this.marginRight()),bottom:e(this.marginBottom())},border:{top:this.borderTop(),left:this.borderLeft(),right:this.borderRight(),bottom:this.borderBottom()},borderRadius:{topLeftRadius:e(this.topLeftRadius()),topRightRadius:e(this.topRightRadius()),bottomLeftRadius:e(this.bottomLeftRadius()),bottomRightRadius:e(this.bottomRightRadius())}})}};i([s.Param(),o("design:type",Function)],l.prototype,"box",void 0),i([s.Param(),o("design:type",String)],l.prototype,"features",void 0),i([s.Event(),o("design:type",Function)],l.prototype,"onUpdate",void 0),i([s.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],l.prototype,"init",null),l=i([s.Component({selector:"box",template:a.default}),o("design:paramtypes",[])],l),t.BoxEditor=l},function(e,t,n){"use strict";n.r(t),t.default='<div class="box-model">\r\n    <div class="box-model-margin" data-bind="css: { \'box-model-enabled\': marginEnabled }">\r\n        <div class="box-model-group">\r\n            <span class="box-model-label">margin</span>\r\n            <input type="text" class="box-model-control box-model-control-top" placeholder="-" data-bind="textInput: marginTop, balloon: { component: { name: \'option-selector-editor\', params: { onChange: $component.marginTop, initialValue: $component.marginTop, optionsItems: \'inherit,auto\' } } }">\r\n            <input type="text" class="box-model-control box-model-control-left" placeholder="-" data-bind="textInput: marginLeft, balloon: { component: { name: \'option-selector-editor\', params: { onChange: $component.marginLeft, initialValue: $component.marginLeft, optionsItems: \'inherit,auto\' } } }">\r\n            <input type="text" class="box-model-control box-model-control-right" placeholder="-" data-bind="textInput: marginRight, balloon: { component: { name: \'option-selector-editor\', params: { onChange: $component.marginRight, initialValue: $component.marginRight, optionsItems: \'inherit,auto\' } } }">\r\n            <input type="text" class="box-model-control box-model-control-bottom" placeholder="-" data-bind="textInput: marginBottom, balloon: { component: { name: \'option-selector-editor\', params: { onChange: $component.marginBottom, initialValue: $component.marginBottom, optionsItems: \'inherit,auto\' } } }">\r\n        </div>\r\n\r\n        <div class="box-model-border" data-bind="css: { \'box-model-enabled\': borderEnabled }">\r\n            <div class="box-model-group">\r\n                <span class="box-model-label">border</span>\r\n                <input type="text" class="box-model-control box-model-control-top" placeholder="-" data-bind="textInput: borderTopWidth, balloon: { component: { name: \'border-editor\', params: { onChange: $component.borderTop, borderStyle: $component.borderTop } } }">\r\n                <input type="text" class="box-model-control box-model-control-left" placeholder="-" data-bind="textInput: borderLeftWidth, balloon: { component: { name: \'border-editor\', params: { onChange: $component.borderLeft, borderStyle: $component.borderLeft } } }">\r\n                <input type="text" class="box-model-control box-model-control-right" placeholder="-" data-bind="textInput: borderRightWidth, balloon: { component: { name: \'border-editor\', params: { onChange: $component.borderRight, borderStyle: $component.borderRight } } }">\r\n                <input type="text" class="box-model-control box-model-control-bottom" placeholder="-" data-bind="textInput: borderBottomWidth, balloon: { component: { name: \'border-editor\', params: { onChange: $component.borderBottom, borderStyle: $component.borderBottom } } }">\r\n\r\n                <input type="text" class="box-model-control box-model-control-top-left" placeholder="-" data-bind="textInput: topLeftRadius">\r\n                <input type="text" class="box-model-control box-model-control-top-right" placeholder="-" data-bind="textInput: topRightRadius">\r\n                <input type="text" class="box-model-control box-model-control-bottom-left" placeholder="-" data-bind="textInput: bottomLeftRadius">\r\n                <input type="text" class="box-model-control box-model-control-bottom-right" placeholder="-" data-bind="textInput: bottomRightRadius">\r\n            </div>\r\n\r\n            <div class="box-model-padding" data-bind="css: { \'box-model-enabled\': paddingEnabled }">\r\n                <div class="box-model-group">\r\n                    <span class="box-model-label">padding</span>\r\n                    <input type="text" class="box-model-control box-model-control-top" placeholder="-" data-bind="textInput: paddingTop">\r\n                    <input type="text" class="box-model-control box-model-control-left" placeholder="-" data-bind="textInput: paddingLeft">\r\n                    <input type="text" class="box-model-control box-model-control-right" placeholder="-" data-bind="textInput: paddingRight">\r\n                    <input type="text" class="box-model-control box-model-control-bottom" placeholder="-" data-bind="textInput: paddingBottom">\r\n                </div>\r\n\r\n                <div class="box-model-content">\r\n                    content\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(914),t)},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BorderEditor=void 0;const a=n(0),s=n(915),l=n(2),c=n(47);let u=class{constructor(e){this.styleService=e,this.borderColor=a.observable(),this.borderColorKey=a.observable(),this.borderLineStyle=a.observable(),this.borderStyle=a.observable(),this.borderLineWidth=a.observable(),this.colors=a.observableArray(),this.borderLineStyles=a.observableArray([{name:"Solid",value:"solid"},{name:"Dashed",value:"dashed"}])}initialize(){return r(this,void 0,void 0,(function*(){const e=this.borderStyle();this.borderLineWidth(1),this.borderLineStyle("solid"),e&&(this.borderLineWidth(e.width),this.borderLineStyle(e.style),this.borderColorKey(e.colorKey));const t=yield this.styleService.getStyles(),n=Object.keys(t.colors).map(e=>t.colors[e]);this.colors(n),this.borderLineWidth.subscribe(this.applyChanges),this.borderLineStyle.subscribe(this.applyChanges)}))}selectColor(e){this.borderColorKey(e?e.key:null),this.applyChanges()}clearColor(){this.borderColorKey(null),this.applyChanges()}applyChanges(){const e=this.borderColorKey(),t=this.borderLineStyle(),n=this.borderLineWidth();let i;e&&t&&n&&(i={width:n,style:t,colorKey:e}),this.onChange(i)}};i([l.Param(),o("design:type",Function)],u.prototype,"borderStyle",void 0),i([l.Event(),o("design:type",Function)],u.prototype,"onChange",void 0),i([l.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],u.prototype,"initialize",null),u=i([l.Component({selector:"border-editor",template:s.default}),o("design:paramtypes",[c.StyleService])],u),t.BorderEditor=u},function(e,t,n){"use strict";n.r(t),t.default='<div class="editor flex flex-column">\r\n    <h1>Border</h1>\r\n    <hr>\r\n\r\n    <div class="form" data-bind="scrollable: true">\r\n        <div class="form-group">\r\n            <label for="borderLineWidth">Line width</label>\r\n            <input id="borderLineWidth" type="number" class="form-control" placeholder="(Inherit)" min="1" max="100" data-bind="textInput: borderLineWidth">\r\n        </div>\r\n\r\n        <div class="form-group">\r\n            <label for="borderLineStyle">Line style</label>\r\n            <select id="borderLineStyle" class="form-control" data-bind="options: borderLineStyles, value: borderLineStyle, optionsText: \'name\', optionsValue: \'value\'"></select>\r\n        </div>\r\n\r\n        <div class="palette">\r\n            <div class="color-box" data-bind="css: { selected: !$component.borderColorKey() }">\r\n                <a href="#" title="Clear color" class="color" role="button" data-bind="click: $component.clearColor">\r\n                    <i class="paperbits-icon paperbits-ban"></i>\r\n                </a>\r\n            </div>\r\n\r\n            \x3c!-- ko foreach: { data: colors, as: \'color\' } --\x3e\r\n            <div class="color-box" data-bind="css: { selected: color.key === $component.borderColorKey() }">\r\n                <a href="#" class="color" role="button" data-bind="click: $component.selectColor, attr: { title: color.displayName }, style: { background: color.value }"></a>\r\n            </div>\r\n            \x3c!--/ko --\x3e\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(917),t),o(n(919),t)},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ColorSelector=void 0;const a=n(0),s=n(918),l=n(2),c=n(20);let u=class{constructor(e){this.styleService=e,this.loadColors=this.loadColors.bind(this),this.selectColor=this.selectColor.bind(this),this.colors=a.observableArray(),this.selectedColor=a.observable(),this.initColorKey=a.observable()}loadColors(){return r(this,void 0,void 0,(function*(){const e=yield this.styleService.getStyles(),t=this.initColorKey(),n=Object.keys(e.colors).map(n=>{const i=e.colors[n];return t&&i.key===t&&this.selectedColor(i),i});this.colors(n)}))}selectColor(e){this.selectedColor&&this.selectedColor(e),this.onSelect&&this.onSelect(e)}clearColors(){this.selectedColor&&this.selectedColor(null),this.onSelect&&this.onSelect(null)}};i([l.Param(),o("design:type",Function)],u.prototype,"initColorKey",void 0),i([l.Param(),o("design:type",Function)],u.prototype,"selectedColor",void 0),i([l.Event(),o("design:type",Function)],u.prototype,"onSelect",void 0),i([l.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],u.prototype,"loadColors",null),u=i([l.Component({selector:"color-selector",template:s.default}),o("design:paramtypes",[c.StyleService])],u),t.ColorSelector=u},function(e,t,n){"use strict";n.r(t),t.default='<div class="editor">\r\n    <h1>Color</h1>\r\n    <hr>\r\n\r\n    <div class="palette" role="list">\r\n        <div class="color-box" data-bind="css: { selected: !$component.selectedColor() }">\r\n            <a href="#" role="listitem" title="Clear color" class="color" data-bind="click: $component.clearColors, focus: true">\r\n                <i class="paperbits-icon paperbits-ban"></i>\r\n            </a>\r\n        </div>\r\n\r\n        \x3c!-- ko foreach: { data: colors, as: \'color\' } --\x3e\r\n        <div class="color-box" data-bind="css: { selected: color === $component.selectedColor() }">\r\n            <a href="#" role="listitem" class="color pseudo-transparent-bckg" data-bind="click: $component.selectColor, attr: { title: color.displayName }">\r\n                <span class="fit" data-bind="style: { background: color.value }"></span>\r\n            </a>\r\n        </div>\r\n        \x3c!--/ko --\x3e\r\n    </div>\r\n</div>'},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ColorEditor=void 0;const a=n(0),s=n(920),l=n(2);let c=class{constructor(){this.loadColors=this.loadColors.bind(this),this.onColorChange=this.onColorChange.bind(this),this.colorName=a.observable(),this.colorValue=a.observable(),this.selectedColor=a.observable()}loadColors(){return r(this,void 0,void 0,(function*(){this.colorName(this.selectedColor().displayName),this.colorValue(this.selectedColor().value),this.colorName.subscribe(this.onColorChange),this.colorValue.subscribe(this.onColorChange)}))}onColorChange(){const e=this.selectedColor();e.value=this.colorValue(),e.displayName=this.colorName(),clearTimeout(this.selectTimeout),this.selectTimeout=setTimeout(()=>this.scheduleColorUpdate(e),600)}scheduleColorUpdate(e){this.selectedColor&&this.selectedColor(e),this.onSelect&&this.onSelect(e)}};i([l.Param(),o("design:type",Function)],c.prototype,"selectedColor",void 0),i([l.Event(),o("design:type",Function)],c.prototype,"onSelect",void 0),i([l.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],c.prototype,"loadColors",null),c=i([l.Component({selector:"color-editor",template:s.default}),o("design:paramtypes",[])],c),t.ColorEditor=c},function(e,t,n){"use strict";n.r(t),t.default='<fieldset class="form flex-item flex-item-grow" data-bind="scrollable: true">\r\n    <div class="form-group">\r\n        <button class="btn btn-info" type="button" data-bind="tooltip: \'Name of the color\'"></button>\r\n        <label for="colorName">Color name</label>\r\n        <input id="colorName" type="text" class="form-control" spellcheck="false" data-bind="textInput: colorName, focus: true">\r\n    </div>\r\n\r\n    <div class="color-picker">\r\n        \x3c!-- ko if: colorValue --\x3e\r\n        <div data-bind="colorPicker: { selectedColor: colorValue }"></div>\r\n        \x3c!-- /ko --\x3e\r\n    </div>\r\n</fieldset>'},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(922),t),o(n(924),t),o(n(927),t)},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.GradientSelector=void 0;const a=n(0),s=n(923),l=n(2),c=n(20),u=n(139);let d=class{constructor(e){this.styleService=e,this.loadGradients=this.loadGradients.bind(this),this.selectGradient=this.selectGradient.bind(this),this.gradients=a.observableArray(),this.selectedGradient=a.observable()}loadGradients(){return r(this,void 0,void 0,(function*(){const e=yield this.styleService.getStyles(),t=Object.keys(e.gradients).map(t=>{const n=e.gradients[t];return{value:u.getLinearGradientString(n),gradientContract:n}});this.gradients(t)}))}selectGradient(e){this.selectedGradient&&this.selectedGradient(e.gradientContract),this.onSelect&&this.onSelect(e.gradientContract)}clearGradients(){this.selectedGradient&&this.selectedGradient(null),this.onSelect&&this.onSelect(null)}addGradient(){}};i([l.Param(),o("design:type",Function)],d.prototype,"selectedGradient",void 0),i([l.Event(),o("design:type",Function)],d.prototype,"onSelect",void 0),i([l.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],d.prototype,"loadGradients",null),d=i([l.Component({selector:"gradient-selector",template:s.default}),o("design:paramtypes",[c.StyleService])],d),t.GradientSelector=d},function(e,t,n){"use strict";n.r(t),t.default='<div class="editor">\r\n    <h1>Gradient</h1>\r\n    <hr>\r\n\r\n    <div class="palette">\r\n        <div class="color-box">\r\n            <a href="#" title="Clear gradient" class="color" data-bind="click: $component.clearGradients">\r\n                <i class="paperbits-icon paperbits-ban"></i>\r\n            </a>\r\n        </div>\r\n\r\n        \x3c!-- ko foreach: { data: gradients, as: \'gradient\' } --\x3e\r\n        <div class="color-box" data-bind="css: { selected: gradient === $component.selectedGradient() }">\r\n            <a href="#" class="color" data-bind="click: $component.selectGradient, attr: { title: gradient.displayName }, style: { background: gradient.value }"></a>\r\n        </div>\r\n        \x3c!--/ko --\x3e\r\n    </div>\r\n</div>'},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.GradientEditor=void 0;const a=n(0),s=n(925),l=n(2),c=n(139),u=n(926),d=n(8),p=n(17);let h=class{constructor(){this.gradientPreview=a.observable(),this.gradientPreviewColorStops=a.observable(),this.gradientViewModel=a.observable(),this.selectedGradient=a.observable(),this.direction=a.observable()}initialize(){return r(this,void 0,void 0,(function*(){this.gradientViewModel(new u.LinearGradientViewModel(this.selectedGradient())),this.direction(parseFloat(this.gradientViewModel().direction())),this.direction.extend(p.ChangeRateLimit).subscribe(e=>{this.gradientViewModel().direction(e+"deg")}),this.gradientPreviewColorStops.extend(p.ChangeRateLimit).subscribe(this.applyChanges),this.attachFunction(),this.updatePreview(),this.updateColorStopsPreview()}))}attachFunction(){return r(this,void 0,void 0,(function*(){const e=this.gradientViewModel();e.displayName.extend(p.ChangeRateLimit).subscribe(()=>{this.applyChanges()}),e.direction.extend(p.ChangeRateLimit).subscribe(this.applyChanges)}))}addColor(){return r(this,void 0,void 0,(function*(){const e=new u.ColorStopViewModel({color:"#000000",length:0});e.color.extend(p.ChangeRateLimit).subscribe(this.applyChanges),e.length.extend(p.ChangeRateLimit).subscribe(this.applyChanges),this.gradientViewModel().colorStops.push(e),this.applyChanges()}))}applyChanges(){return r(this,void 0,void 0,(function*(){if(this.updatePreview(),this.onSelect){const e=this.gradientViewModel().toContract();this.onSelect(e)}}))}updatePreview(){return r(this,void 0,void 0,(function*(){const e=this.gradientViewModel().toContract(),t=new d.Style("gradient-preview");t.addRules([new d.StyleRule("backgroundImage",c.getLinearGradientString(e))]);const n=new d.StyleSheet;n.styles.push(t),this.gradientPreview(n)}))}updateColorStopsPreview(){return r(this,void 0,void 0,(function*(){const e=this.gradientViewModel().toContract(),t=new d.Style("gradient-preview-color-stops");e.direction="90deg",t.addRules([new d.StyleRule("backgroundImage",c.getLinearGradientString(e))]);const n=new d.StyleSheet;n.styles.push(t),this.gradientPreviewColorStops(n)}))}changeColor(e,t){const n=e();t?this.gradientViewModel().colorStops()[n].color(t):this.gradientViewModel().colorStops.splice(n,1),this.updateColorStopsPreview()}onColorStopChange(){this.updateColorStopsPreview()}};i([l.Param(),o("design:type",Function)],h.prototype,"selectedGradient",void 0),i([l.Event(),o("design:type",Function)],h.prototype,"onSelect",void 0),i([l.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],h.prototype,"initialize",null),h=i([l.Component({selector:"gradient-editor",template:s.default}),o("design:paramtypes",[])],h),t.GradientEditor=h},function(e,t,n){"use strict";n.r(t),t.default='<fieldset class="form flex-item flex-item-grow" data-bind="scrollable: true">\r\n    \x3c!-- ko if: gradientViewModel() --\x3e\r\n    <div class="form-group form-group-collapsible">\r\n        <label class="form-label">\r\n            <a href="#" class="form-group-toggle" title="Toggle section" data-bind="collapse: \'#mainCollapse\'"></a>\r\n            <b>Main</b>\r\n        </label>\r\n        <div id="mainCollapse" class="collapse form-group-collapse">\r\n            <div class="form-group">\r\n                <button class="btn btn-info" type="button" data-bind="tooltip: \'Name of the gradient\'"></button>\r\n                <label for="gradientName">Gradient name</label>\r\n                <input id="gradientName" type="text" class="form-control" spellcheck="false" data-bind="textInput: gradientViewModel().displayName, focus: true">\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="form-group form-group-collapsible">\r\n        <label class="form-label">\r\n            <a href="#" class="form-group-toggle" title="Toggle section" data-bind="collapse: \'#settingsCollapse\'"></a>\r\n            <b>Settings</b>\r\n        </label>\r\n        <div id="settingsCollapse" class="collapse form-group-collapse">\r\n            <div class="form-group">\r\n                <button class="btn btn-info" type="button" data-bind="tooltip: \'Angle that determines gradient direction.\'"></button>\r\n                <label for="gradientDegree">Rotate: <span data-bind="text: direction"></span>\xb0</label>\r\n                <input id="gradientDegree" type="range" min="0" max="360" class="form-control" data-bind="textInput: direction, focus: true">\r\n            </div>\r\n\r\n            <style data-bind="jss: gradientPreview"></style>\r\n            <style data-bind="jss: gradientPreviewColorStops"></style>\r\n\r\n            <div class="dropzone">\r\n                <div class="dropzone-showbox">\r\n                    <div class="fit gradient-preview" data-bind="angle: direction"></div>\r\n                </div>\r\n                <div class="slider-display">\r\n                    <div class="fit gradient-preview-color-stops"></div>\r\n                </div>\r\n\r\n                <div class="slider">\r\n                    \x3c!-- ko foreach: { data: gradientViewModel().colorStops, as: \'colorStop\' } --\x3e\r\n                    <div class="slider-thumb" data-bind="style: { \'background-color\': colorStop.color() }, slider: { percentage: colorStop.length, onChange: $component.onColorStopChange }">\r\n                    </div>\r\n                    \x3c!-- /ko --\x3e\r\n                </div>\r\n            </div>\r\n\r\n            <div class="style-card style-card-empty">\r\n                <div class="form-group" data-bind="scrollable: true">\r\n                    <label for="gradientColors">Color stops</label>\r\n                    <div class="palette">\r\n                        \x3c!-- ko foreach: { data: gradientViewModel().colorStops, as: \'colorStop\' } --\x3e\r\n                        <div class="color-box">\r\n                            <a href="#" role="listitem" class="color" data-bind="balloon: { component: { name: \'color-stop-editor\', params: { colorValue: colorStop.color, onSelect: function(data) { $component.changeColor($index, data); }} } }, style: { background: colorStop.color }"></a>\r\n                        </div>\r\n                        \x3c!-- /ko --\x3e\r\n                        <div class="color-box">\r\n                            <a href="#" title="Add color stop" class="color" data-bind="click: $component.addColor">\r\n                                <i class="paperbits-icon paperbits-simple-add"></i>\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \x3c!-- /ko --\x3e\r\n</fieldset>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStopViewModel=t.LinearGradientViewModel=void 0;const i=n(0);t.LinearGradientViewModel=class{constructor(e){if(this.colorStops=i.observableArray([]),this.direction=i.observable(),e)return this.key=e.key,this.displayName=i.observable(e.displayName),this.direction(e.direction||""),void(e.colorStops&&e.colorStops.forEach(e=>{this.colorStops.push(new o(e))}));this.key="",this.displayName("")}toContract(){return{key:this.key,displayName:this.displayName(),direction:this.direction(),colorStops:this.colorStops().map(e=>e.toContract())}}};class o{constructor(e){this.color=i.observable(e.color),this.length=i.observable(e.length)}toContract(){return{color:this.color(),length:this.length()}}}t.ColorStopViewModel=o},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStopEditor=void 0;const a=n(0),s=n(928),l=n(2),c=n(17);let u=class{constructor(){this.colorValue=a.observable()}loadColors(){return r(this,void 0,void 0,(function*(){this.colorValue.extend(c.ChangeRateLimit).subscribe(this.applyChanges)}))}applyChanges(){this.onSelect&&this.onSelect(this.colorValue())}deleteColorStop(){this.onSelect(null)}};i([l.Param(),o("design:type",Function)],u.prototype,"colorValue",void 0),i([l.Event(),o("design:type",Function)],u.prototype,"onSelect",void 0),i([l.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],u.prototype,"loadColors",null),u=i([l.Component({selector:"color-stop-editor",template:s.default}),o("design:paramtypes",[])],u),t.ColorStopEditor=u},function(e,t,n){"use strict";n.r(t),t.default='<fieldset class="pickr-dialog form flex-item flex-item-grow">\r\n    <div class="color-picker">\r\n         \x3c!-- ko if: colorValue --\x3e\r\n         <div data-bind="colorPicker: { selectedColor: colorValue }"></div>\r\n         \x3c!-- /ko --\x3e\r\n    </div>\r\n\r\n    <div class="flex-item btn-group">\r\n        <button class="btn" data-bind="click: deleteColorStop">\r\n            <i class="paperbits-icon paperbits-simple-remove"></i>\r\n            Delete color stop\r\n        </button>\r\n    </div>\r\n</fieldset>'},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(930),t)},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.FontSelector=void 0;const a=n(0),s=n(931),l=n(2),c=n(20);let u=class{constructor(e,t){this.styleService=e,this.styleCompiler=t,this.loadAvailableFonts=this.loadAvailableFonts.bind(this),this.selectFont=this.selectFont.bind(this),this.compiledFontStyles=a.observable(),this.fonts=a.observableArray(),this.selectedFont=a.observable()}loadAvailableFonts(){return r(this,void 0,void 0,(function*(){const e=yield this.styleCompiler.getFontsStylesCss();this.compiledFontStyles(e);const t=yield this.styleService.getVariations("fonts");this.fonts(t)}))}selectFont(e){this.selectedFont&&this.selectedFont(e),this.onSelect&&this.onSelect(e)}clearFonts(){this.selectedFont&&this.selectedFont(null),this.onSelect&&this.onSelect(null)}};i([l.Param(),o("design:type",Function)],u.prototype,"selectedFont",void 0),i([l.Event(),o("design:type",Function)],u.prototype,"onSelect",void 0),i([l.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],u.prototype,"loadAvailableFonts",null),u=i([l.Component({selector:"font-selector",template:s.default}),o("design:paramtypes",[c.StyleService,Object])],u),t.FontSelector=u},function(e,t,n){"use strict";n.r(t),t.default='<style data-bind="html: compiledFontStyles"></style>\r\n\r\n<div class="editor">\r\n    <h1>Font family</h1>\r\n    <hr>\r\n\r\n    <div class="flex flex-column flex-item flex-item-grow fonts" role="list">\r\n        <a href="#" role="listitem" class="list-item font-box" title="Clear font" data-bind="click: $component.clearFonts, focus: true">\r\n            <span class="font-family">\r\n                (Inherit)\r\n            </span>\r\n        </a>\r\n        \x3c!-- ko foreach: { data: fonts, as: \'font\' } --\x3e\r\n        <a href="#" role="listitem" class="list-item font-box" data-bind="css: { selected: font === $component.selectedFont() }, click: $component.selectFont">\r\n            <span class="font-family" data-bind="text: font.displayName, style: { \'font-family\': font.family }"></span>\r\n        </a>\r\n        \x3c!--/ko --\x3e\r\n    </div>\r\n</div>'},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(933),t),o(n(942),t)},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.GoogleFonts=void 0;const a=n(0),s=n(6),l=n(19),c=n(934),u=n(938),d=n(204),p=n(17),h=n(2),f=n(20),m=n(939),v=n(940);let g=class{constructor(e,t,n,i,o,r){this.styleService=e,this.httpClient=t,this.viewManager=n,this.mediaService=i,this.settingsProvider=o,this.siteService=r,this.searchPattern=a.observable(""),this.fonts=a.observableArray(),this.selectedFont=a.observable()}loadGoogleFonts(){return r(this,void 0,void 0,(function*(){const e=yield this.httpClient.send({url:"https://www.googleapis.com/webfonts/v1/webfonts?key=AIzaSyDnNQwlwF8y3mxGwO5QglUyYZRj_VqNJgM",method:d.HttpMethod.get});this.loadedContracts=e.toObject().items,yield this.searchFonts(),this.searchPattern.extend(p.ChangeRateLimit).subscribe(this.searchFonts)}))}searchFonts(){this.fonts([]),this.loadNextPage()}loadNextPage(){return r(this,void 0,void 0,(function*(){if(!this.loadedContracts)return;const e=this.fonts().length,t=this.searchPattern().toLowerCase(),n=this.loadedContracts.filter(e=>e.family.toLowerCase().includes(t)).slice(e,e+50).map(e=>new m.GoogleFont(e));this.fonts.push(...n)}))}selectFont(e){return r(this,void 0,void 0,(function*(){const t=e.toContract(),n=yield this.styleService.getStyles();n.fonts[e.identifier]=t,yield this.styleService.updateStyles(n),this.selectedFont&&this.selectedFont(t),this.onSelect&&this.onSelect(t)}))}uploadFont(){return r(this,void 0,void 0,(function*(){const e=yield this.viewManager.openUploadDialog(),t=yield this.styleService.getStyles(),n=e[0],i=yield s.readFileAsByteArray(n),o=yield v.FontParser.parse(i),r=c.lookup(n.name),a=o.variants[0],u=this.mediaService.createMedia(n.name,i,r);this.viewManager.notifyProgress(u,"Styles",`Uploading ${n.name}...`);const d=yield u;a.sourceKey=d.key,l.setValueWithCompensation(o.key,t,o),this.styleService.updateStyles(t),this.selectedFont&&this.selectedFont(o),this.onSelect&&this.onSelect(o)}))}};i([h.Param(),o("design:type",Function)],g.prototype,"selectedFont",void 0),i([h.Event(),o("design:type",Function)],g.prototype,"onSelect",void 0),i([h.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],g.prototype,"loadGoogleFonts",null),g=i([h.Component({selector:"google-fonts",template:u.default}),o("design:paramtypes",[f.StyleService,Object,Object,Object,Object,Object])],g),t.GoogleFonts=g},function(e,t,n){"use strict";var i,o,r,a=n(935),s=n(937).extname,l=/^\s*([^;\s]*)(?:;|\s|$)/,c=/^text\//i;function u(e){if(!e||"string"!=typeof e)return!1;var t=l.exec(e),n=t&&a[t[1].toLowerCase()];return n&&n.charset?n.charset:!(!t||!c.test(t[1]))&&"UTF-8"}t.charset=u,t.charsets={lookup:u},t.contentType=function(e){if(!e||"string"!=typeof e)return!1;var n=-1===e.indexOf("/")?t.lookup(e):e;if(!n)return!1;if(-1===n.indexOf("charset")){var i=t.charset(n);i&&(n+="; charset="+i.toLowerCase())}return n},t.extension=function(e){if(!e||"string"!=typeof e)return!1;var n=l.exec(e),i=n&&t.extensions[n[1].toLowerCase()];return!(!i||!i.length)&&i[0]},t.extensions=Object.create(null),t.lookup=function(e){if(!e||"string"!=typeof e)return!1;var n=s("x."+e).toLowerCase().substr(1);return n&&t.types[n]||!1},t.types=Object.create(null),i=t.extensions,o=t.types,r=["nginx","apache",void 0,"iana"],Object.keys(a).forEach((function(e){var t=a[e],n=t.extensions;if(n&&n.length){i[e]=n;for(var s=0;s<n.length;s++){var l=n[s];if(o[l]){var c=r.indexOf(a[o[l]].source),u=r.indexOf(t.source);if("application/octet-stream"!==o[l]&&(c>u||c===u&&"application/"===o[l].substr(0,12)))continue}o[l]=e}}}))},function(e,t,n){e.exports=n(936)},function(e){e.exports=JSON.parse('{"application/1d-interleaved-parityfec":{"source":"iana"},"application/3gpdash-qoe-report+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/3gpp-ims+xml":{"source":"iana","compressible":true},"application/a2l":{"source":"iana"},"application/activemessage":{"source":"iana"},"application/activity+json":{"source":"iana","compressible":true},"application/alto-costmap+json":{"source":"iana","compressible":true},"application/alto-costmapfilter+json":{"source":"iana","compressible":true},"application/alto-directory+json":{"source":"iana","compressible":true},"application/alto-endpointcost+json":{"source":"iana","compressible":true},"application/alto-endpointcostparams+json":{"source":"iana","compressible":true},"application/alto-endpointprop+json":{"source":"iana","compressible":true},"application/alto-endpointpropparams+json":{"source":"iana","compressible":true},"application/alto-error+json":{"source":"iana","compressible":true},"application/alto-networkmap+json":{"source":"iana","compressible":true},"application/alto-networkmapfilter+json":{"source":"iana","compressible":true},"application/alto-updatestreamcontrol+json":{"source":"iana","compressible":true},"application/alto-updatestreamparams+json":{"source":"iana","compressible":true},"application/aml":{"source":"iana"},"application/andrew-inset":{"source":"iana","extensions":["ez"]},"application/applefile":{"source":"iana"},"application/applixware":{"source":"apache","extensions":["aw"]},"application/atf":{"source":"iana"},"application/atfx":{"source":"iana"},"application/atom+xml":{"source":"iana","compressible":true,"extensions":["atom"]},"application/atomcat+xml":{"source":"iana","compressible":true,"extensions":["atomcat"]},"application/atomdeleted+xml":{"source":"iana","compressible":true,"extensions":["atomdeleted"]},"application/atomicmail":{"source":"iana"},"application/atomsvc+xml":{"source":"iana","compressible":true,"extensions":["atomsvc"]},"application/atsc-dwd+xml":{"source":"iana","compressible":true,"extensions":["dwd"]},"application/atsc-dynamic-event-message":{"source":"iana"},"application/atsc-held+xml":{"source":"iana","compressible":true,"extensions":["held"]},"application/atsc-rdt+json":{"source":"iana","compressible":true},"application/atsc-rsat+xml":{"source":"iana","compressible":true,"extensions":["rsat"]},"application/atxml":{"source":"iana"},"application/auth-policy+xml":{"source":"iana","compressible":true},"application/bacnet-xdd+zip":{"source":"iana","compressible":false},"application/batch-smtp":{"source":"iana"},"application/bdoc":{"compressible":false,"extensions":["bdoc"]},"application/beep+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/calendar+json":{"source":"iana","compressible":true},"application/calendar+xml":{"source":"iana","compressible":true,"extensions":["xcs"]},"application/call-completion":{"source":"iana"},"application/cals-1840":{"source":"iana"},"application/cap+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/cbor":{"source":"iana"},"application/cbor-seq":{"source":"iana"},"application/cccex":{"source":"iana"},"application/ccmp+xml":{"source":"iana","compressible":true},"application/ccxml+xml":{"source":"iana","compressible":true,"extensions":["ccxml"]},"application/cdfx+xml":{"source":"iana","compressible":true,"extensions":["cdfx"]},"application/cdmi-capability":{"source":"iana","extensions":["cdmia"]},"application/cdmi-container":{"source":"iana","extensions":["cdmic"]},"application/cdmi-domain":{"source":"iana","extensions":["cdmid"]},"application/cdmi-object":{"source":"iana","extensions":["cdmio"]},"application/cdmi-queue":{"source":"iana","extensions":["cdmiq"]},"application/cdni":{"source":"iana"},"application/cea":{"source":"iana"},"application/cea-2018+xml":{"source":"iana","compressible":true},"application/cellml+xml":{"source":"iana","compressible":true},"application/cfw":{"source":"iana"},"application/clue+xml":{"source":"iana","compressible":true},"application/clue_info+xml":{"source":"iana","compressible":true},"application/cms":{"source":"iana"},"application/cnrp+xml":{"source":"iana","compressible":true},"application/coap-group+json":{"source":"iana","compressible":true},"application/coap-payload":{"source":"iana"},"application/commonground":{"source":"iana"},"application/conference-info+xml":{"source":"iana","compressible":true},"application/cose":{"source":"iana"},"application/cose-key":{"source":"iana"},"application/cose-key-set":{"source":"iana"},"application/cpl+xml":{"source":"iana","compressible":true},"application/csrattrs":{"source":"iana"},"application/csta+xml":{"source":"iana","compressible":true},"application/cstadata+xml":{"source":"iana","compressible":true},"application/csvm+json":{"source":"iana","compressible":true},"application/cu-seeme":{"source":"apache","extensions":["cu"]},"application/cwt":{"source":"iana"},"application/cybercash":{"source":"iana"},"application/dart":{"compressible":true},"application/dash+xml":{"source":"iana","compressible":true,"extensions":["mpd"]},"application/dashdelta":{"source":"iana"},"application/davmount+xml":{"source":"iana","compressible":true,"extensions":["davmount"]},"application/dca-rft":{"source":"iana"},"application/dcd":{"source":"iana"},"application/dec-dx":{"source":"iana"},"application/dialog-info+xml":{"source":"iana","compressible":true},"application/dicom":{"source":"iana"},"application/dicom+json":{"source":"iana","compressible":true},"application/dicom+xml":{"source":"iana","compressible":true},"application/dii":{"source":"iana"},"application/dit":{"source":"iana"},"application/dns":{"source":"iana"},"application/dns+json":{"source":"iana","compressible":true},"application/dns-message":{"source":"iana"},"application/docbook+xml":{"source":"apache","compressible":true,"extensions":["dbk"]},"application/dots+cbor":{"source":"iana"},"application/dskpp+xml":{"source":"iana","compressible":true},"application/dssc+der":{"source":"iana","extensions":["dssc"]},"application/dssc+xml":{"source":"iana","compressible":true,"extensions":["xdssc"]},"application/dvcs":{"source":"iana"},"application/ecmascript":{"source":"iana","compressible":true,"extensions":["ecma","es"]},"application/edi-consent":{"source":"iana"},"application/edi-x12":{"source":"iana","compressible":false},"application/edifact":{"source":"iana","compressible":false},"application/efi":{"source":"iana"},"application/emergencycalldata.comment+xml":{"source":"iana","compressible":true},"application/emergencycalldata.control+xml":{"source":"iana","compressible":true},"application/emergencycalldata.deviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.ecall.msd":{"source":"iana"},"application/emergencycalldata.providerinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.serviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.subscriberinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.veds+xml":{"source":"iana","compressible":true},"application/emma+xml":{"source":"iana","compressible":true,"extensions":["emma"]},"application/emotionml+xml":{"source":"iana","compressible":true,"extensions":["emotionml"]},"application/encaprtp":{"source":"iana"},"application/epp+xml":{"source":"iana","compressible":true},"application/epub+zip":{"source":"iana","compressible":false,"extensions":["epub"]},"application/eshop":{"source":"iana"},"application/exi":{"source":"iana","extensions":["exi"]},"application/expect-ct-report+json":{"source":"iana","compressible":true},"application/fastinfoset":{"source":"iana"},"application/fastsoap":{"source":"iana"},"application/fdt+xml":{"source":"iana","compressible":true,"extensions":["fdt"]},"application/fhir+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/fhir+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/fido.trusted-apps+json":{"compressible":true},"application/fits":{"source":"iana"},"application/flexfec":{"source":"iana"},"application/font-sfnt":{"source":"iana"},"application/font-tdpfr":{"source":"iana","extensions":["pfr"]},"application/font-woff":{"source":"iana","compressible":false},"application/framework-attributes+xml":{"source":"iana","compressible":true},"application/geo+json":{"source":"iana","compressible":true,"extensions":["geojson"]},"application/geo+json-seq":{"source":"iana"},"application/geopackage+sqlite3":{"source":"iana"},"application/geoxacml+xml":{"source":"iana","compressible":true},"application/gltf-buffer":{"source":"iana"},"application/gml+xml":{"source":"iana","compressible":true,"extensions":["gml"]},"application/gpx+xml":{"source":"apache","compressible":true,"extensions":["gpx"]},"application/gxf":{"source":"apache","extensions":["gxf"]},"application/gzip":{"source":"iana","compressible":false,"extensions":["gz"]},"application/h224":{"source":"iana"},"application/held+xml":{"source":"iana","compressible":true},"application/hjson":{"extensions":["hjson"]},"application/http":{"source":"iana"},"application/hyperstudio":{"source":"iana","extensions":["stk"]},"application/ibe-key-request+xml":{"source":"iana","compressible":true},"application/ibe-pkg-reply+xml":{"source":"iana","compressible":true},"application/ibe-pp-data":{"source":"iana"},"application/iges":{"source":"iana"},"application/im-iscomposing+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/index":{"source":"iana"},"application/index.cmd":{"source":"iana"},"application/index.obj":{"source":"iana"},"application/index.response":{"source":"iana"},"application/index.vnd":{"source":"iana"},"application/inkml+xml":{"source":"iana","compressible":true,"extensions":["ink","inkml"]},"application/iotp":{"source":"iana"},"application/ipfix":{"source":"iana","extensions":["ipfix"]},"application/ipp":{"source":"iana"},"application/isup":{"source":"iana"},"application/its+xml":{"source":"iana","compressible":true,"extensions":["its"]},"application/java-archive":{"source":"apache","compressible":false,"extensions":["jar","war","ear"]},"application/java-serialized-object":{"source":"apache","compressible":false,"extensions":["ser"]},"application/java-vm":{"source":"apache","compressible":false,"extensions":["class"]},"application/javascript":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["js","mjs"]},"application/jf2feed+json":{"source":"iana","compressible":true},"application/jose":{"source":"iana"},"application/jose+json":{"source":"iana","compressible":true},"application/jrd+json":{"source":"iana","compressible":true},"application/json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["json","map"]},"application/json-patch+json":{"source":"iana","compressible":true},"application/json-seq":{"source":"iana"},"application/json5":{"extensions":["json5"]},"application/jsonml+json":{"source":"apache","compressible":true,"extensions":["jsonml"]},"application/jwk+json":{"source":"iana","compressible":true},"application/jwk-set+json":{"source":"iana","compressible":true},"application/jwt":{"source":"iana"},"application/kpml-request+xml":{"source":"iana","compressible":true},"application/kpml-response+xml":{"source":"iana","compressible":true},"application/ld+json":{"source":"iana","compressible":true,"extensions":["jsonld"]},"application/lgr+xml":{"source":"iana","compressible":true,"extensions":["lgr"]},"application/link-format":{"source":"iana"},"application/load-control+xml":{"source":"iana","compressible":true},"application/lost+xml":{"source":"iana","compressible":true,"extensions":["lostxml"]},"application/lostsync+xml":{"source":"iana","compressible":true},"application/lpf+zip":{"source":"iana","compressible":false},"application/lxf":{"source":"iana"},"application/mac-binhex40":{"source":"iana","extensions":["hqx"]},"application/mac-compactpro":{"source":"apache","extensions":["cpt"]},"application/macwriteii":{"source":"iana"},"application/mads+xml":{"source":"iana","compressible":true,"extensions":["mads"]},"application/manifest+json":{"charset":"UTF-8","compressible":true,"extensions":["webmanifest"]},"application/marc":{"source":"iana","extensions":["mrc"]},"application/marcxml+xml":{"source":"iana","compressible":true,"extensions":["mrcx"]},"application/mathematica":{"source":"iana","extensions":["ma","nb","mb"]},"application/mathml+xml":{"source":"iana","compressible":true,"extensions":["mathml"]},"application/mathml-content+xml":{"source":"iana","compressible":true},"application/mathml-presentation+xml":{"source":"iana","compressible":true},"application/mbms-associated-procedure-description+xml":{"source":"iana","compressible":true},"application/mbms-deregister+xml":{"source":"iana","compressible":true},"application/mbms-envelope+xml":{"source":"iana","compressible":true},"application/mbms-msk+xml":{"source":"iana","compressible":true},"application/mbms-msk-response+xml":{"source":"iana","compressible":true},"application/mbms-protection-description+xml":{"source":"iana","compressible":true},"application/mbms-reception-report+xml":{"source":"iana","compressible":true},"application/mbms-register+xml":{"source":"iana","compressible":true},"application/mbms-register-response+xml":{"source":"iana","compressible":true},"application/mbms-schedule+xml":{"source":"iana","compressible":true},"application/mbms-user-service-description+xml":{"source":"iana","compressible":true},"application/mbox":{"source":"iana","extensions":["mbox"]},"application/media-policy-dataset+xml":{"source":"iana","compressible":true},"application/media_control+xml":{"source":"iana","compressible":true},"application/mediaservercontrol+xml":{"source":"iana","compressible":true,"extensions":["mscml"]},"application/merge-patch+json":{"source":"iana","compressible":true},"application/metalink+xml":{"source":"apache","compressible":true,"extensions":["metalink"]},"application/metalink4+xml":{"source":"iana","compressible":true,"extensions":["meta4"]},"application/mets+xml":{"source":"iana","compressible":true,"extensions":["mets"]},"application/mf4":{"source":"iana"},"application/mikey":{"source":"iana"},"application/mipc":{"source":"iana"},"application/mmt-aei+xml":{"source":"iana","compressible":true,"extensions":["maei"]},"application/mmt-usd+xml":{"source":"iana","compressible":true,"extensions":["musd"]},"application/mods+xml":{"source":"iana","compressible":true,"extensions":["mods"]},"application/moss-keys":{"source":"iana"},"application/moss-signature":{"source":"iana"},"application/mosskey-data":{"source":"iana"},"application/mosskey-request":{"source":"iana"},"application/mp21":{"source":"iana","extensions":["m21","mp21"]},"application/mp4":{"source":"iana","extensions":["mp4s","m4p"]},"application/mpeg4-generic":{"source":"iana"},"application/mpeg4-iod":{"source":"iana"},"application/mpeg4-iod-xmt":{"source":"iana"},"application/mrb-consumer+xml":{"source":"iana","compressible":true,"extensions":["xdf"]},"application/mrb-publish+xml":{"source":"iana","compressible":true,"extensions":["xdf"]},"application/msc-ivr+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msc-mixer+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msword":{"source":"iana","compressible":false,"extensions":["doc","dot"]},"application/mud+json":{"source":"iana","compressible":true},"application/multipart-core":{"source":"iana"},"application/mxf":{"source":"iana","extensions":["mxf"]},"application/n-quads":{"source":"iana","extensions":["nq"]},"application/n-triples":{"source":"iana","extensions":["nt"]},"application/nasdata":{"source":"iana"},"application/news-checkgroups":{"source":"iana","charset":"US-ASCII"},"application/news-groupinfo":{"source":"iana","charset":"US-ASCII"},"application/news-transmission":{"source":"iana"},"application/nlsml+xml":{"source":"iana","compressible":true},"application/node":{"source":"iana","extensions":["cjs"]},"application/nss":{"source":"iana"},"application/ocsp-request":{"source":"iana"},"application/ocsp-response":{"source":"iana"},"application/octet-stream":{"source":"iana","compressible":false,"extensions":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{"source":"iana","extensions":["oda"]},"application/odm+xml":{"source":"iana","compressible":true},"application/odx":{"source":"iana"},"application/oebps-package+xml":{"source":"iana","compressible":true,"extensions":["opf"]},"application/ogg":{"source":"iana","compressible":false,"extensions":["ogx"]},"application/omdoc+xml":{"source":"apache","compressible":true,"extensions":["omdoc"]},"application/onenote":{"source":"apache","extensions":["onetoc","onetoc2","onetmp","onepkg"]},"application/oscore":{"source":"iana"},"application/oxps":{"source":"iana","extensions":["oxps"]},"application/p2p-overlay+xml":{"source":"iana","compressible":true,"extensions":["relo"]},"application/parityfec":{"source":"iana"},"application/passport":{"source":"iana"},"application/patch-ops-error+xml":{"source":"iana","compressible":true,"extensions":["xer"]},"application/pdf":{"source":"iana","compressible":false,"extensions":["pdf"]},"application/pdx":{"source":"iana"},"application/pem-certificate-chain":{"source":"iana"},"application/pgp-encrypted":{"source":"iana","compressible":false,"extensions":["pgp"]},"application/pgp-keys":{"source":"iana"},"application/pgp-signature":{"source":"iana","extensions":["asc","sig"]},"application/pics-rules":{"source":"apache","extensions":["prf"]},"application/pidf+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pidf-diff+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pkcs10":{"source":"iana","extensions":["p10"]},"application/pkcs12":{"source":"iana"},"application/pkcs7-mime":{"source":"iana","extensions":["p7m","p7c"]},"application/pkcs7-signature":{"source":"iana","extensions":["p7s"]},"application/pkcs8":{"source":"iana","extensions":["p8"]},"application/pkcs8-encrypted":{"source":"iana"},"application/pkix-attr-cert":{"source":"iana","extensions":["ac"]},"application/pkix-cert":{"source":"iana","extensions":["cer"]},"application/pkix-crl":{"source":"iana","extensions":["crl"]},"application/pkix-pkipath":{"source":"iana","extensions":["pkipath"]},"application/pkixcmp":{"source":"iana","extensions":["pki"]},"application/pls+xml":{"source":"iana","compressible":true,"extensions":["pls"]},"application/poc-settings+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/postscript":{"source":"iana","compressible":true,"extensions":["ai","eps","ps"]},"application/ppsp-tracker+json":{"source":"iana","compressible":true},"application/problem+json":{"source":"iana","compressible":true},"application/problem+xml":{"source":"iana","compressible":true},"application/provenance+xml":{"source":"iana","compressible":true,"extensions":["provx"]},"application/prs.alvestrand.titrax-sheet":{"source":"iana"},"application/prs.cww":{"source":"iana","extensions":["cww"]},"application/prs.hpub+zip":{"source":"iana","compressible":false},"application/prs.nprend":{"source":"iana"},"application/prs.plucker":{"source":"iana"},"application/prs.rdf-xml-crypt":{"source":"iana"},"application/prs.xsf+xml":{"source":"iana","compressible":true},"application/pskc+xml":{"source":"iana","compressible":true,"extensions":["pskcxml"]},"application/pvd+json":{"source":"iana","compressible":true},"application/qsig":{"source":"iana"},"application/raml+yaml":{"compressible":true,"extensions":["raml"]},"application/raptorfec":{"source":"iana"},"application/rdap+json":{"source":"iana","compressible":true},"application/rdf+xml":{"source":"iana","compressible":true,"extensions":["rdf","owl"]},"application/reginfo+xml":{"source":"iana","compressible":true,"extensions":["rif"]},"application/relax-ng-compact-syntax":{"source":"iana","extensions":["rnc"]},"application/remote-printing":{"source":"iana"},"application/reputon+json":{"source":"iana","compressible":true},"application/resource-lists+xml":{"source":"iana","compressible":true,"extensions":["rl"]},"application/resource-lists-diff+xml":{"source":"iana","compressible":true,"extensions":["rld"]},"application/rfc+xml":{"source":"iana","compressible":true},"application/riscos":{"source":"iana"},"application/rlmi+xml":{"source":"iana","compressible":true},"application/rls-services+xml":{"source":"iana","compressible":true,"extensions":["rs"]},"application/route-apd+xml":{"source":"iana","compressible":true,"extensions":["rapd"]},"application/route-s-tsid+xml":{"source":"iana","compressible":true,"extensions":["sls"]},"application/route-usd+xml":{"source":"iana","compressible":true,"extensions":["rusd"]},"application/rpki-ghostbusters":{"source":"iana","extensions":["gbr"]},"application/rpki-manifest":{"source":"iana","extensions":["mft"]},"application/rpki-publication":{"source":"iana"},"application/rpki-roa":{"source":"iana","extensions":["roa"]},"application/rpki-updown":{"source":"iana"},"application/rsd+xml":{"source":"apache","compressible":true,"extensions":["rsd"]},"application/rss+xml":{"source":"apache","compressible":true,"extensions":["rss"]},"application/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"application/rtploopback":{"source":"iana"},"application/rtx":{"source":"iana"},"application/samlassertion+xml":{"source":"iana","compressible":true},"application/samlmetadata+xml":{"source":"iana","compressible":true},"application/sbe":{"source":"iana"},"application/sbml+xml":{"source":"iana","compressible":true,"extensions":["sbml"]},"application/scaip+xml":{"source":"iana","compressible":true},"application/scim+json":{"source":"iana","compressible":true},"application/scvp-cv-request":{"source":"iana","extensions":["scq"]},"application/scvp-cv-response":{"source":"iana","extensions":["scs"]},"application/scvp-vp-request":{"source":"iana","extensions":["spq"]},"application/scvp-vp-response":{"source":"iana","extensions":["spp"]},"application/sdp":{"source":"iana","extensions":["sdp"]},"application/secevent+jwt":{"source":"iana"},"application/senml+cbor":{"source":"iana"},"application/senml+json":{"source":"iana","compressible":true},"application/senml+xml":{"source":"iana","compressible":true,"extensions":["senmlx"]},"application/senml-etch+cbor":{"source":"iana"},"application/senml-etch+json":{"source":"iana","compressible":true},"application/senml-exi":{"source":"iana"},"application/sensml+cbor":{"source":"iana"},"application/sensml+json":{"source":"iana","compressible":true},"application/sensml+xml":{"source":"iana","compressible":true,"extensions":["sensmlx"]},"application/sensml-exi":{"source":"iana"},"application/sep+xml":{"source":"iana","compressible":true},"application/sep-exi":{"source":"iana"},"application/session-info":{"source":"iana"},"application/set-payment":{"source":"iana"},"application/set-payment-initiation":{"source":"iana","extensions":["setpay"]},"application/set-registration":{"source":"iana"},"application/set-registration-initiation":{"source":"iana","extensions":["setreg"]},"application/sgml":{"source":"iana"},"application/sgml-open-catalog":{"source":"iana"},"application/shf+xml":{"source":"iana","compressible":true,"extensions":["shf"]},"application/sieve":{"source":"iana","extensions":["siv","sieve"]},"application/simple-filter+xml":{"source":"iana","compressible":true},"application/simple-message-summary":{"source":"iana"},"application/simplesymbolcontainer":{"source":"iana"},"application/sipc":{"source":"iana"},"application/slate":{"source":"iana"},"application/smil":{"source":"iana"},"application/smil+xml":{"source":"iana","compressible":true,"extensions":["smi","smil"]},"application/smpte336m":{"source":"iana"},"application/soap+fastinfoset":{"source":"iana"},"application/soap+xml":{"source":"iana","compressible":true},"application/sparql-query":{"source":"iana","extensions":["rq"]},"application/sparql-results+xml":{"source":"iana","compressible":true,"extensions":["srx"]},"application/spirits-event+xml":{"source":"iana","compressible":true},"application/sql":{"source":"iana"},"application/srgs":{"source":"iana","extensions":["gram"]},"application/srgs+xml":{"source":"iana","compressible":true,"extensions":["grxml"]},"application/sru+xml":{"source":"iana","compressible":true,"extensions":["sru"]},"application/ssdl+xml":{"source":"apache","compressible":true,"extensions":["ssdl"]},"application/ssml+xml":{"source":"iana","compressible":true,"extensions":["ssml"]},"application/stix+json":{"source":"iana","compressible":true},"application/swid+xml":{"source":"iana","compressible":true,"extensions":["swidtag"]},"application/tamp-apex-update":{"source":"iana"},"application/tamp-apex-update-confirm":{"source":"iana"},"application/tamp-community-update":{"source":"iana"},"application/tamp-community-update-confirm":{"source":"iana"},"application/tamp-error":{"source":"iana"},"application/tamp-sequence-adjust":{"source":"iana"},"application/tamp-sequence-adjust-confirm":{"source":"iana"},"application/tamp-status-query":{"source":"iana"},"application/tamp-status-response":{"source":"iana"},"application/tamp-update":{"source":"iana"},"application/tamp-update-confirm":{"source":"iana"},"application/tar":{"compressible":true},"application/taxii+json":{"source":"iana","compressible":true},"application/td+json":{"source":"iana","compressible":true},"application/tei+xml":{"source":"iana","compressible":true,"extensions":["tei","teicorpus"]},"application/tetra_isi":{"source":"iana"},"application/thraud+xml":{"source":"iana","compressible":true,"extensions":["tfi"]},"application/timestamp-query":{"source":"iana"},"application/timestamp-reply":{"source":"iana"},"application/timestamped-data":{"source":"iana","extensions":["tsd"]},"application/tlsrpt+gzip":{"source":"iana"},"application/tlsrpt+json":{"source":"iana","compressible":true},"application/tnauthlist":{"source":"iana"},"application/toml":{"compressible":true,"extensions":["toml"]},"application/trickle-ice-sdpfrag":{"source":"iana"},"application/trig":{"source":"iana"},"application/ttml+xml":{"source":"iana","compressible":true,"extensions":["ttml"]},"application/tve-trigger":{"source":"iana"},"application/tzif":{"source":"iana"},"application/tzif-leap":{"source":"iana"},"application/ulpfec":{"source":"iana"},"application/urc-grpsheet+xml":{"source":"iana","compressible":true},"application/urc-ressheet+xml":{"source":"iana","compressible":true,"extensions":["rsheet"]},"application/urc-targetdesc+xml":{"source":"iana","compressible":true},"application/urc-uisocketdesc+xml":{"source":"iana","compressible":true},"application/vcard+json":{"source":"iana","compressible":true},"application/vcard+xml":{"source":"iana","compressible":true},"application/vemmi":{"source":"iana"},"application/vividence.scriptfile":{"source":"apache"},"application/vnd.1000minds.decision-model+xml":{"source":"iana","compressible":true,"extensions":["1km"]},"application/vnd.3gpp-prose+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-prose-pc3ch+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-v2x-local-service-information":{"source":"iana"},"application/vnd.3gpp.access-transfer-events+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.bsf+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gmop+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mc-signalling-ear":{"source":"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-payload":{"source":"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-signalling":{"source":"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-floor-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-signed+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-init-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-transmission-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mid-call+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.pic-bw-large":{"source":"iana","extensions":["plb"]},"application/vnd.3gpp.pic-bw-small":{"source":"iana","extensions":["psb"]},"application/vnd.3gpp.pic-bw-var":{"source":"iana","extensions":["pvb"]},"application/vnd.3gpp.sms":{"source":"iana"},"application/vnd.3gpp.sms+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-ext+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.state-and-event-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ussd+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.bcmcsinfo+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.sms":{"source":"iana"},"application/vnd.3gpp2.tcap":{"source":"iana","extensions":["tcap"]},"application/vnd.3lightssoftware.imagescal":{"source":"iana"},"application/vnd.3m.post-it-notes":{"source":"iana","extensions":["pwn"]},"application/vnd.accpac.simply.aso":{"source":"iana","extensions":["aso"]},"application/vnd.accpac.simply.imp":{"source":"iana","extensions":["imp"]},"application/vnd.acucobol":{"source":"iana","extensions":["acu"]},"application/vnd.acucorp":{"source":"iana","extensions":["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{"source":"apache","compressible":false,"extensions":["air"]},"application/vnd.adobe.flash.movie":{"source":"iana"},"application/vnd.adobe.formscentral.fcdt":{"source":"iana","extensions":["fcdt"]},"application/vnd.adobe.fxp":{"source":"iana","extensions":["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{"source":"iana"},"application/vnd.adobe.xdp+xml":{"source":"iana","compressible":true,"extensions":["xdp"]},"application/vnd.adobe.xfdf":{"source":"iana","extensions":["xfdf"]},"application/vnd.aether.imp":{"source":"iana"},"application/vnd.afpc.afplinedata":{"source":"iana"},"application/vnd.afpc.afplinedata-pagedef":{"source":"iana"},"application/vnd.afpc.foca-charset":{"source":"iana"},"application/vnd.afpc.foca-codedfont":{"source":"iana"},"application/vnd.afpc.foca-codepage":{"source":"iana"},"application/vnd.afpc.modca":{"source":"iana"},"application/vnd.afpc.modca-formdef":{"source":"iana"},"application/vnd.afpc.modca-mediummap":{"source":"iana"},"application/vnd.afpc.modca-objectcontainer":{"source":"iana"},"application/vnd.afpc.modca-overlay":{"source":"iana"},"application/vnd.afpc.modca-pagesegment":{"source":"iana"},"application/vnd.ah-barcode":{"source":"iana"},"application/vnd.ahead.space":{"source":"iana","extensions":["ahead"]},"application/vnd.airzip.filesecure.azf":{"source":"iana","extensions":["azf"]},"application/vnd.airzip.filesecure.azs":{"source":"iana","extensions":["azs"]},"application/vnd.amadeus+json":{"source":"iana","compressible":true},"application/vnd.amazon.ebook":{"source":"apache","extensions":["azw"]},"application/vnd.amazon.mobi8-ebook":{"source":"iana"},"application/vnd.americandynamics.acc":{"source":"iana","extensions":["acc"]},"application/vnd.amiga.ami":{"source":"iana","extensions":["ami"]},"application/vnd.amundsen.maze+xml":{"source":"iana","compressible":true},"application/vnd.android.ota":{"source":"iana"},"application/vnd.android.package-archive":{"source":"apache","compressible":false,"extensions":["apk"]},"application/vnd.anki":{"source":"iana"},"application/vnd.anser-web-certificate-issue-initiation":{"source":"iana","extensions":["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{"source":"apache","extensions":["fti"]},"application/vnd.antix.game-component":{"source":"iana","extensions":["atx"]},"application/vnd.apache.thrift.binary":{"source":"iana"},"application/vnd.apache.thrift.compact":{"source":"iana"},"application/vnd.apache.thrift.json":{"source":"iana"},"application/vnd.api+json":{"source":"iana","compressible":true},"application/vnd.aplextor.warrp+json":{"source":"iana","compressible":true},"application/vnd.apothekende.reservation+json":{"source":"iana","compressible":true},"application/vnd.apple.installer+xml":{"source":"iana","compressible":true,"extensions":["mpkg"]},"application/vnd.apple.keynote":{"source":"iana","extensions":["keynote"]},"application/vnd.apple.mpegurl":{"source":"iana","extensions":["m3u8"]},"application/vnd.apple.numbers":{"source":"iana","extensions":["numbers"]},"application/vnd.apple.pages":{"source":"iana","extensions":["pages"]},"application/vnd.apple.pkpass":{"compressible":false,"extensions":["pkpass"]},"application/vnd.arastra.swi":{"source":"iana"},"application/vnd.aristanetworks.swi":{"source":"iana","extensions":["swi"]},"application/vnd.artisan+json":{"source":"iana","compressible":true},"application/vnd.artsquare":{"source":"iana"},"application/vnd.astraea-software.iota":{"source":"iana","extensions":["iota"]},"application/vnd.audiograph":{"source":"iana","extensions":["aep"]},"application/vnd.autopackage":{"source":"iana"},"application/vnd.avalon+json":{"source":"iana","compressible":true},"application/vnd.avistar+xml":{"source":"iana","compressible":true},"application/vnd.balsamiq.bmml+xml":{"source":"iana","compressible":true,"extensions":["bmml"]},"application/vnd.balsamiq.bmpr":{"source":"iana"},"application/vnd.banana-accounting":{"source":"iana"},"application/vnd.bbf.usp.error":{"source":"iana"},"application/vnd.bbf.usp.msg":{"source":"iana"},"application/vnd.bbf.usp.msg+json":{"source":"iana","compressible":true},"application/vnd.bekitzur-stech+json":{"source":"iana","compressible":true},"application/vnd.bint.med-content":{"source":"iana"},"application/vnd.biopax.rdf+xml":{"source":"iana","compressible":true},"application/vnd.blink-idb-value-wrapper":{"source":"iana"},"application/vnd.blueice.multipass":{"source":"iana","extensions":["mpm"]},"application/vnd.bluetooth.ep.oob":{"source":"iana"},"application/vnd.bluetooth.le.oob":{"source":"iana"},"application/vnd.bmi":{"source":"iana","extensions":["bmi"]},"application/vnd.bpf":{"source":"iana"},"application/vnd.bpf3":{"source":"iana"},"application/vnd.businessobjects":{"source":"iana","extensions":["rep"]},"application/vnd.byu.uapi+json":{"source":"iana","compressible":true},"application/vnd.cab-jscript":{"source":"iana"},"application/vnd.canon-cpdl":{"source":"iana"},"application/vnd.canon-lips":{"source":"iana"},"application/vnd.capasystems-pg+json":{"source":"iana","compressible":true},"application/vnd.cendio.thinlinc.clientconf":{"source":"iana"},"application/vnd.century-systems.tcp_stream":{"source":"iana"},"application/vnd.chemdraw+xml":{"source":"iana","compressible":true,"extensions":["cdxml"]},"application/vnd.chess-pgn":{"source":"iana"},"application/vnd.chipnuts.karaoke-mmd":{"source":"iana","extensions":["mmd"]},"application/vnd.ciedi":{"source":"iana"},"application/vnd.cinderella":{"source":"iana","extensions":["cdy"]},"application/vnd.cirpack.isdn-ext":{"source":"iana"},"application/vnd.citationstyles.style+xml":{"source":"iana","compressible":true,"extensions":["csl"]},"application/vnd.claymore":{"source":"iana","extensions":["cla"]},"application/vnd.cloanto.rp9":{"source":"iana","extensions":["rp9"]},"application/vnd.clonk.c4group":{"source":"iana","extensions":["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{"source":"iana","extensions":["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{"source":"iana","extensions":["c11amz"]},"application/vnd.coffeescript":{"source":"iana"},"application/vnd.collabio.xodocuments.document":{"source":"iana"},"application/vnd.collabio.xodocuments.document-template":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation-template":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{"source":"iana"},"application/vnd.collection+json":{"source":"iana","compressible":true},"application/vnd.collection.doc+json":{"source":"iana","compressible":true},"application/vnd.collection.next+json":{"source":"iana","compressible":true},"application/vnd.comicbook+zip":{"source":"iana","compressible":false},"application/vnd.comicbook-rar":{"source":"iana"},"application/vnd.commerce-battelle":{"source":"iana"},"application/vnd.commonspace":{"source":"iana","extensions":["csp"]},"application/vnd.contact.cmsg":{"source":"iana","extensions":["cdbcmsg"]},"application/vnd.coreos.ignition+json":{"source":"iana","compressible":true},"application/vnd.cosmocaller":{"source":"iana","extensions":["cmc"]},"application/vnd.crick.clicker":{"source":"iana","extensions":["clkx"]},"application/vnd.crick.clicker.keyboard":{"source":"iana","extensions":["clkk"]},"application/vnd.crick.clicker.palette":{"source":"iana","extensions":["clkp"]},"application/vnd.crick.clicker.template":{"source":"iana","extensions":["clkt"]},"application/vnd.crick.clicker.wordbank":{"source":"iana","extensions":["clkw"]},"application/vnd.criticaltools.wbs+xml":{"source":"iana","compressible":true,"extensions":["wbs"]},"application/vnd.cryptii.pipe+json":{"source":"iana","compressible":true},"application/vnd.crypto-shade-file":{"source":"iana"},"application/vnd.ctc-posml":{"source":"iana","extensions":["pml"]},"application/vnd.ctct.ws+xml":{"source":"iana","compressible":true},"application/vnd.cups-pdf":{"source":"iana"},"application/vnd.cups-postscript":{"source":"iana"},"application/vnd.cups-ppd":{"source":"iana","extensions":["ppd"]},"application/vnd.cups-raster":{"source":"iana"},"application/vnd.cups-raw":{"source":"iana"},"application/vnd.curl":{"source":"iana"},"application/vnd.curl.car":{"source":"apache","extensions":["car"]},"application/vnd.curl.pcurl":{"source":"apache","extensions":["pcurl"]},"application/vnd.cyan.dean.root+xml":{"source":"iana","compressible":true},"application/vnd.cybank":{"source":"iana"},"application/vnd.d2l.coursepackage1p0+zip":{"source":"iana","compressible":false},"application/vnd.dart":{"source":"iana","compressible":true,"extensions":["dart"]},"application/vnd.data-vision.rdz":{"source":"iana","extensions":["rdz"]},"application/vnd.datapackage+json":{"source":"iana","compressible":true},"application/vnd.dataresource+json":{"source":"iana","compressible":true},"application/vnd.dbf":{"source":"iana"},"application/vnd.debian.binary-package":{"source":"iana"},"application/vnd.dece.data":{"source":"iana","extensions":["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{"source":"iana","compressible":true,"extensions":["uvt","uvvt"]},"application/vnd.dece.unspecified":{"source":"iana","extensions":["uvx","uvvx"]},"application/vnd.dece.zip":{"source":"iana","extensions":["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{"source":"iana","extensions":["fe_launch"]},"application/vnd.desmume.movie":{"source":"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{"source":"iana"},"application/vnd.dm.delegation+xml":{"source":"iana","compressible":true},"application/vnd.dna":{"source":"iana","extensions":["dna"]},"application/vnd.document+json":{"source":"iana","compressible":true},"application/vnd.dolby.mlp":{"source":"apache","extensions":["mlp"]},"application/vnd.dolby.mobile.1":{"source":"iana"},"application/vnd.dolby.mobile.2":{"source":"iana"},"application/vnd.doremir.scorecloud-binary-document":{"source":"iana"},"application/vnd.dpgraph":{"source":"iana","extensions":["dpg"]},"application/vnd.dreamfactory":{"source":"iana","extensions":["dfac"]},"application/vnd.drive+json":{"source":"iana","compressible":true},"application/vnd.ds-keypoint":{"source":"apache","extensions":["kpxx"]},"application/vnd.dtg.local":{"source":"iana"},"application/vnd.dtg.local.flash":{"source":"iana"},"application/vnd.dtg.local.html":{"source":"iana"},"application/vnd.dvb.ait":{"source":"iana","extensions":["ait"]},"application/vnd.dvb.dvbisl+xml":{"source":"iana","compressible":true},"application/vnd.dvb.dvbj":{"source":"iana"},"application/vnd.dvb.esgcontainer":{"source":"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess2":{"source":"iana"},"application/vnd.dvb.ipdcesgpdd":{"source":"iana"},"application/vnd.dvb.ipdcroaming":{"source":"iana"},"application/vnd.dvb.iptv.alfec-base":{"source":"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{"source":"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-container+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-generic+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-msglist+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-request+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-response+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-init+xml":{"source":"iana","compressible":true},"application/vnd.dvb.pfr":{"source":"iana"},"application/vnd.dvb.service":{"source":"iana","extensions":["svc"]},"application/vnd.dxr":{"source":"iana"},"application/vnd.dynageo":{"source":"iana","extensions":["geo"]},"application/vnd.dzr":{"source":"iana"},"application/vnd.easykaraoke.cdgdownload":{"source":"iana"},"application/vnd.ecdis-update":{"source":"iana"},"application/vnd.ecip.rlp":{"source":"iana"},"application/vnd.ecowin.chart":{"source":"iana","extensions":["mag"]},"application/vnd.ecowin.filerequest":{"source":"iana"},"application/vnd.ecowin.fileupdate":{"source":"iana"},"application/vnd.ecowin.series":{"source":"iana"},"application/vnd.ecowin.seriesrequest":{"source":"iana"},"application/vnd.ecowin.seriesupdate":{"source":"iana"},"application/vnd.efi.img":{"source":"iana"},"application/vnd.efi.iso":{"source":"iana"},"application/vnd.emclient.accessrequest+xml":{"source":"iana","compressible":true},"application/vnd.enliven":{"source":"iana","extensions":["nml"]},"application/vnd.enphase.envoy":{"source":"iana"},"application/vnd.eprints.data+xml":{"source":"iana","compressible":true},"application/vnd.epson.esf":{"source":"iana","extensions":["esf"]},"application/vnd.epson.msf":{"source":"iana","extensions":["msf"]},"application/vnd.epson.quickanime":{"source":"iana","extensions":["qam"]},"application/vnd.epson.salt":{"source":"iana","extensions":["slt"]},"application/vnd.epson.ssf":{"source":"iana","extensions":["ssf"]},"application/vnd.ericsson.quickcall":{"source":"iana"},"application/vnd.espass-espass+zip":{"source":"iana","compressible":false},"application/vnd.eszigno3+xml":{"source":"iana","compressible":true,"extensions":["es3","et3"]},"application/vnd.etsi.aoc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.asic-e+zip":{"source":"iana","compressible":false},"application/vnd.etsi.asic-s+zip":{"source":"iana","compressible":false},"application/vnd.etsi.cug+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvcommand+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-bc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-cod+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-npvr+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvservice+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsync+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvueprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mcid+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mheg5":{"source":"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{"source":"iana","compressible":true},"application/vnd.etsi.pstn+xml":{"source":"iana","compressible":true},"application/vnd.etsi.sci+xml":{"source":"iana","compressible":true},"application/vnd.etsi.simservs+xml":{"source":"iana","compressible":true},"application/vnd.etsi.timestamp-token":{"source":"iana"},"application/vnd.etsi.tsl+xml":{"source":"iana","compressible":true},"application/vnd.etsi.tsl.der":{"source":"iana"},"application/vnd.eudora.data":{"source":"iana"},"application/vnd.evolv.ecig.profile":{"source":"iana"},"application/vnd.evolv.ecig.settings":{"source":"iana"},"application/vnd.evolv.ecig.theme":{"source":"iana"},"application/vnd.exstream-empower+zip":{"source":"iana","compressible":false},"application/vnd.exstream-package":{"source":"iana"},"application/vnd.ezpix-album":{"source":"iana","extensions":["ez2"]},"application/vnd.ezpix-package":{"source":"iana","extensions":["ez3"]},"application/vnd.f-secure.mobile":{"source":"iana"},"application/vnd.fastcopy-disk-image":{"source":"iana"},"application/vnd.fdf":{"source":"iana","extensions":["fdf"]},"application/vnd.fdsn.mseed":{"source":"iana","extensions":["mseed"]},"application/vnd.fdsn.seed":{"source":"iana","extensions":["seed","dataless"]},"application/vnd.ffsns":{"source":"iana"},"application/vnd.ficlab.flb+zip":{"source":"iana","compressible":false},"application/vnd.filmit.zfc":{"source":"iana"},"application/vnd.fints":{"source":"iana"},"application/vnd.firemonkeys.cloudcell":{"source":"iana"},"application/vnd.flographit":{"source":"iana","extensions":["gph"]},"application/vnd.fluxtime.clip":{"source":"iana","extensions":["ftc"]},"application/vnd.font-fontforge-sfd":{"source":"iana"},"application/vnd.framemaker":{"source":"iana","extensions":["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{"source":"iana","extensions":["fnc"]},"application/vnd.frogans.ltf":{"source":"iana","extensions":["ltf"]},"application/vnd.fsc.weblaunch":{"source":"iana","extensions":["fsc"]},"application/vnd.fujitsu.oasys":{"source":"iana","extensions":["oas"]},"application/vnd.fujitsu.oasys2":{"source":"iana","extensions":["oa2"]},"application/vnd.fujitsu.oasys3":{"source":"iana","extensions":["oa3"]},"application/vnd.fujitsu.oasysgp":{"source":"iana","extensions":["fg5"]},"application/vnd.fujitsu.oasysprs":{"source":"iana","extensions":["bh2"]},"application/vnd.fujixerox.art-ex":{"source":"iana"},"application/vnd.fujixerox.art4":{"source":"iana"},"application/vnd.fujixerox.ddd":{"source":"iana","extensions":["ddd"]},"application/vnd.fujixerox.docuworks":{"source":"iana","extensions":["xdw"]},"application/vnd.fujixerox.docuworks.binder":{"source":"iana","extensions":["xbd"]},"application/vnd.fujixerox.docuworks.container":{"source":"iana"},"application/vnd.fujixerox.hbpl":{"source":"iana"},"application/vnd.fut-misnet":{"source":"iana"},"application/vnd.futoin+cbor":{"source":"iana"},"application/vnd.futoin+json":{"source":"iana","compressible":true},"application/vnd.fuzzysheet":{"source":"iana","extensions":["fzs"]},"application/vnd.genomatix.tuxedo":{"source":"iana","extensions":["txd"]},"application/vnd.gentics.grd+json":{"source":"iana","compressible":true},"application/vnd.geo+json":{"source":"iana","compressible":true},"application/vnd.geocube+xml":{"source":"iana","compressible":true},"application/vnd.geogebra.file":{"source":"iana","extensions":["ggb"]},"application/vnd.geogebra.tool":{"source":"iana","extensions":["ggt"]},"application/vnd.geometry-explorer":{"source":"iana","extensions":["gex","gre"]},"application/vnd.geonext":{"source":"iana","extensions":["gxt"]},"application/vnd.geoplan":{"source":"iana","extensions":["g2w"]},"application/vnd.geospace":{"source":"iana","extensions":["g3w"]},"application/vnd.gerber":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt-response":{"source":"iana"},"application/vnd.gmx":{"source":"iana","extensions":["gmx"]},"application/vnd.google-apps.document":{"compressible":false,"extensions":["gdoc"]},"application/vnd.google-apps.presentation":{"compressible":false,"extensions":["gslides"]},"application/vnd.google-apps.spreadsheet":{"compressible":false,"extensions":["gsheet"]},"application/vnd.google-earth.kml+xml":{"source":"iana","compressible":true,"extensions":["kml"]},"application/vnd.google-earth.kmz":{"source":"iana","compressible":false,"extensions":["kmz"]},"application/vnd.gov.sk.e-form+xml":{"source":"iana","compressible":true},"application/vnd.gov.sk.e-form+zip":{"source":"iana","compressible":false},"application/vnd.gov.sk.xmldatacontainer+xml":{"source":"iana","compressible":true},"application/vnd.grafeq":{"source":"iana","extensions":["gqf","gqs"]},"application/vnd.gridmp":{"source":"iana"},"application/vnd.groove-account":{"source":"iana","extensions":["gac"]},"application/vnd.groove-help":{"source":"iana","extensions":["ghf"]},"application/vnd.groove-identity-message":{"source":"iana","extensions":["gim"]},"application/vnd.groove-injector":{"source":"iana","extensions":["grv"]},"application/vnd.groove-tool-message":{"source":"iana","extensions":["gtm"]},"application/vnd.groove-tool-template":{"source":"iana","extensions":["tpl"]},"application/vnd.groove-vcard":{"source":"iana","extensions":["vcg"]},"application/vnd.hal+json":{"source":"iana","compressible":true},"application/vnd.hal+xml":{"source":"iana","compressible":true,"extensions":["hal"]},"application/vnd.handheld-entertainment+xml":{"source":"iana","compressible":true,"extensions":["zmm"]},"application/vnd.hbci":{"source":"iana","extensions":["hbci"]},"application/vnd.hc+json":{"source":"iana","compressible":true},"application/vnd.hcl-bireports":{"source":"iana"},"application/vnd.hdt":{"source":"iana"},"application/vnd.heroku+json":{"source":"iana","compressible":true},"application/vnd.hhe.lesson-player":{"source":"iana","extensions":["les"]},"application/vnd.hp-hpgl":{"source":"iana","extensions":["hpgl"]},"application/vnd.hp-hpid":{"source":"iana","extensions":["hpid"]},"application/vnd.hp-hps":{"source":"iana","extensions":["hps"]},"application/vnd.hp-jlyt":{"source":"iana","extensions":["jlt"]},"application/vnd.hp-pcl":{"source":"iana","extensions":["pcl"]},"application/vnd.hp-pclxl":{"source":"iana","extensions":["pclxl"]},"application/vnd.httphone":{"source":"iana"},"application/vnd.hydrostatix.sof-data":{"source":"iana","extensions":["sfd-hdstx"]},"application/vnd.hyper+json":{"source":"iana","compressible":true},"application/vnd.hyper-item+json":{"source":"iana","compressible":true},"application/vnd.hyperdrive+json":{"source":"iana","compressible":true},"application/vnd.hzn-3d-crossword":{"source":"iana"},"application/vnd.ibm.afplinedata":{"source":"iana"},"application/vnd.ibm.electronic-media":{"source":"iana"},"application/vnd.ibm.minipay":{"source":"iana","extensions":["mpy"]},"application/vnd.ibm.modcap":{"source":"iana","extensions":["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{"source":"iana","extensions":["irm"]},"application/vnd.ibm.secure-container":{"source":"iana","extensions":["sc"]},"application/vnd.iccprofile":{"source":"iana","extensions":["icc","icm"]},"application/vnd.ieee.1905":{"source":"iana"},"application/vnd.igloader":{"source":"iana","extensions":["igl"]},"application/vnd.imagemeter.folder+zip":{"source":"iana","compressible":false},"application/vnd.imagemeter.image+zip":{"source":"iana","compressible":false},"application/vnd.immervision-ivp":{"source":"iana","extensions":["ivp"]},"application/vnd.immervision-ivu":{"source":"iana","extensions":["ivu"]},"application/vnd.ims.imsccv1p1":{"source":"iana"},"application/vnd.ims.imsccv1p2":{"source":"iana"},"application/vnd.ims.imsccv1p3":{"source":"iana"},"application/vnd.ims.lis.v2.result+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy.id+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings.simple+json":{"source":"iana","compressible":true},"application/vnd.informedcontrol.rms+xml":{"source":"iana","compressible":true},"application/vnd.informix-visionary":{"source":"iana"},"application/vnd.infotech.project":{"source":"iana"},"application/vnd.infotech.project+xml":{"source":"iana","compressible":true},"application/vnd.innopath.wamp.notification":{"source":"iana"},"application/vnd.insors.igm":{"source":"iana","extensions":["igm"]},"application/vnd.intercon.formnet":{"source":"iana","extensions":["xpw","xpx"]},"application/vnd.intergeo":{"source":"iana","extensions":["i2g"]},"application/vnd.intertrust.digibox":{"source":"iana"},"application/vnd.intertrust.nncp":{"source":"iana"},"application/vnd.intu.qbo":{"source":"iana","extensions":["qbo"]},"application/vnd.intu.qfx":{"source":"iana","extensions":["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.conceptitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.knowledgeitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsmessage+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.packageitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.planningitem+xml":{"source":"iana","compressible":true},"application/vnd.ipunplugged.rcprofile":{"source":"iana","extensions":["rcprofile"]},"application/vnd.irepository.package+xml":{"source":"iana","compressible":true,"extensions":["irp"]},"application/vnd.is-xpr":{"source":"iana","extensions":["xpr"]},"application/vnd.isac.fcs":{"source":"iana","extensions":["fcs"]},"application/vnd.iso11783-10+zip":{"source":"iana","compressible":false},"application/vnd.jam":{"source":"iana","extensions":["jam"]},"application/vnd.japannet-directory-service":{"source":"iana"},"application/vnd.japannet-jpnstore-wakeup":{"source":"iana"},"application/vnd.japannet-payment-wakeup":{"source":"iana"},"application/vnd.japannet-registration":{"source":"iana"},"application/vnd.japannet-registration-wakeup":{"source":"iana"},"application/vnd.japannet-setstore-wakeup":{"source":"iana"},"application/vnd.japannet-verification":{"source":"iana"},"application/vnd.japannet-verification-wakeup":{"source":"iana"},"application/vnd.jcp.javame.midlet-rms":{"source":"iana","extensions":["rms"]},"application/vnd.jisp":{"source":"iana","extensions":["jisp"]},"application/vnd.joost.joda-archive":{"source":"iana","extensions":["joda"]},"application/vnd.jsk.isdn-ngn":{"source":"iana"},"application/vnd.kahootz":{"source":"iana","extensions":["ktz","ktr"]},"application/vnd.kde.karbon":{"source":"iana","extensions":["karbon"]},"application/vnd.kde.kchart":{"source":"iana","extensions":["chrt"]},"application/vnd.kde.kformula":{"source":"iana","extensions":["kfo"]},"application/vnd.kde.kivio":{"source":"iana","extensions":["flw"]},"application/vnd.kde.kontour":{"source":"iana","extensions":["kon"]},"application/vnd.kde.kpresenter":{"source":"iana","extensions":["kpr","kpt"]},"application/vnd.kde.kspread":{"source":"iana","extensions":["ksp"]},"application/vnd.kde.kword":{"source":"iana","extensions":["kwd","kwt"]},"application/vnd.kenameaapp":{"source":"iana","extensions":["htke"]},"application/vnd.kidspiration":{"source":"iana","extensions":["kia"]},"application/vnd.kinar":{"source":"iana","extensions":["kne","knp"]},"application/vnd.koan":{"source":"iana","extensions":["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{"source":"iana","extensions":["sse"]},"application/vnd.las":{"source":"iana"},"application/vnd.las.las+json":{"source":"iana","compressible":true},"application/vnd.las.las+xml":{"source":"iana","compressible":true,"extensions":["lasxml"]},"application/vnd.laszip":{"source":"iana"},"application/vnd.leap+json":{"source":"iana","compressible":true},"application/vnd.liberty-request+xml":{"source":"iana","compressible":true},"application/vnd.llamagraphics.life-balance.desktop":{"source":"iana","extensions":["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{"source":"iana","compressible":true,"extensions":["lbe"]},"application/vnd.logipipe.circuit+zip":{"source":"iana","compressible":false},"application/vnd.loom":{"source":"iana"},"application/vnd.lotus-1-2-3":{"source":"iana","extensions":["123"]},"application/vnd.lotus-approach":{"source":"iana","extensions":["apr"]},"application/vnd.lotus-freelance":{"source":"iana","extensions":["pre"]},"application/vnd.lotus-notes":{"source":"iana","extensions":["nsf"]},"application/vnd.lotus-organizer":{"source":"iana","extensions":["org"]},"application/vnd.lotus-screencam":{"source":"iana","extensions":["scm"]},"application/vnd.lotus-wordpro":{"source":"iana","extensions":["lwp"]},"application/vnd.macports.portpkg":{"source":"iana","extensions":["portpkg"]},"application/vnd.mapbox-vector-tile":{"source":"iana"},"application/vnd.marlin.drm.actiontoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.conftoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.license+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.mdcf":{"source":"iana"},"application/vnd.mason+json":{"source":"iana","compressible":true},"application/vnd.maxmind.maxmind-db":{"source":"iana"},"application/vnd.mcd":{"source":"iana","extensions":["mcd"]},"application/vnd.medcalcdata":{"source":"iana","extensions":["mc1"]},"application/vnd.mediastation.cdkey":{"source":"iana","extensions":["cdkey"]},"application/vnd.meridian-slingshot":{"source":"iana"},"application/vnd.mfer":{"source":"iana","extensions":["mwf"]},"application/vnd.mfmp":{"source":"iana","extensions":["mfm"]},"application/vnd.micro+json":{"source":"iana","compressible":true},"application/vnd.micrografx.flo":{"source":"iana","extensions":["flo"]},"application/vnd.micrografx.igx":{"source":"iana","extensions":["igx"]},"application/vnd.microsoft.portable-executable":{"source":"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{"source":"iana"},"application/vnd.miele+json":{"source":"iana","compressible":true},"application/vnd.mif":{"source":"iana","extensions":["mif"]},"application/vnd.minisoft-hp3000-save":{"source":"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{"source":"iana"},"application/vnd.mobius.daf":{"source":"iana","extensions":["daf"]},"application/vnd.mobius.dis":{"source":"iana","extensions":["dis"]},"application/vnd.mobius.mbk":{"source":"iana","extensions":["mbk"]},"application/vnd.mobius.mqy":{"source":"iana","extensions":["mqy"]},"application/vnd.mobius.msl":{"source":"iana","extensions":["msl"]},"application/vnd.mobius.plc":{"source":"iana","extensions":["plc"]},"application/vnd.mobius.txf":{"source":"iana","extensions":["txf"]},"application/vnd.mophun.application":{"source":"iana","extensions":["mpn"]},"application/vnd.mophun.certificate":{"source":"iana","extensions":["mpc"]},"application/vnd.motorola.flexsuite":{"source":"iana"},"application/vnd.motorola.flexsuite.adsi":{"source":"iana"},"application/vnd.motorola.flexsuite.fis":{"source":"iana"},"application/vnd.motorola.flexsuite.gotap":{"source":"iana"},"application/vnd.motorola.flexsuite.kmr":{"source":"iana"},"application/vnd.motorola.flexsuite.ttc":{"source":"iana"},"application/vnd.motorola.flexsuite.wem":{"source":"iana"},"application/vnd.motorola.iprm":{"source":"iana"},"application/vnd.mozilla.xul+xml":{"source":"iana","compressible":true,"extensions":["xul"]},"application/vnd.ms-3mfdocument":{"source":"iana"},"application/vnd.ms-artgalry":{"source":"iana","extensions":["cil"]},"application/vnd.ms-asf":{"source":"iana"},"application/vnd.ms-cab-compressed":{"source":"iana","extensions":["cab"]},"application/vnd.ms-color.iccprofile":{"source":"apache"},"application/vnd.ms-excel":{"source":"iana","compressible":false,"extensions":["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{"source":"iana","extensions":["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{"source":"iana","extensions":["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{"source":"iana","extensions":["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{"source":"iana","extensions":["xltm"]},"application/vnd.ms-fontobject":{"source":"iana","compressible":true,"extensions":["eot"]},"application/vnd.ms-htmlhelp":{"source":"iana","extensions":["chm"]},"application/vnd.ms-ims":{"source":"iana","extensions":["ims"]},"application/vnd.ms-lrm":{"source":"iana","extensions":["lrm"]},"application/vnd.ms-office.activex+xml":{"source":"iana","compressible":true},"application/vnd.ms-officetheme":{"source":"iana","extensions":["thmx"]},"application/vnd.ms-opentype":{"source":"apache","compressible":true},"application/vnd.ms-outlook":{"compressible":false,"extensions":["msg"]},"application/vnd.ms-package.obfuscated-opentype":{"source":"apache"},"application/vnd.ms-pki.seccat":{"source":"apache","extensions":["cat"]},"application/vnd.ms-pki.stl":{"source":"apache","extensions":["stl"]},"application/vnd.ms-playready.initiator+xml":{"source":"iana","compressible":true},"application/vnd.ms-powerpoint":{"source":"iana","compressible":false,"extensions":["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{"source":"iana","extensions":["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{"source":"iana","extensions":["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{"source":"iana","extensions":["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{"source":"iana","extensions":["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{"source":"iana","extensions":["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{"source":"iana","compressible":true},"application/vnd.ms-printing.printticket+xml":{"source":"apache","compressible":true},"application/vnd.ms-printschematicket+xml":{"source":"iana","compressible":true},"application/vnd.ms-project":{"source":"iana","extensions":["mpp","mpt"]},"application/vnd.ms-tnef":{"source":"iana"},"application/vnd.ms-windows.devicepairing":{"source":"iana"},"application/vnd.ms-windows.nwprinting.oob":{"source":"iana"},"application/vnd.ms-windows.printerpairing":{"source":"iana"},"application/vnd.ms-windows.wsd.oob":{"source":"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.lic-resp":{"source":"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.meter-resp":{"source":"iana"},"application/vnd.ms-word.document.macroenabled.12":{"source":"iana","extensions":["docm"]},"application/vnd.ms-word.template.macroenabled.12":{"source":"iana","extensions":["dotm"]},"application/vnd.ms-works":{"source":"iana","extensions":["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{"source":"iana","extensions":["wpl"]},"application/vnd.ms-xpsdocument":{"source":"iana","compressible":false,"extensions":["xps"]},"application/vnd.msa-disk-image":{"source":"iana"},"application/vnd.mseq":{"source":"iana","extensions":["mseq"]},"application/vnd.msign":{"source":"iana"},"application/vnd.multiad.creator":{"source":"iana"},"application/vnd.multiad.creator.cif":{"source":"iana"},"application/vnd.music-niff":{"source":"iana"},"application/vnd.musician":{"source":"iana","extensions":["mus"]},"application/vnd.muvee.style":{"source":"iana","extensions":["msty"]},"application/vnd.mynfc":{"source":"iana","extensions":["taglet"]},"application/vnd.ncd.control":{"source":"iana"},"application/vnd.ncd.reference":{"source":"iana"},"application/vnd.nearst.inv+json":{"source":"iana","compressible":true},"application/vnd.nervana":{"source":"iana"},"application/vnd.netfpx":{"source":"iana"},"application/vnd.neurolanguage.nlu":{"source":"iana","extensions":["nlu"]},"application/vnd.nimn":{"source":"iana"},"application/vnd.nintendo.nitro.rom":{"source":"iana"},"application/vnd.nintendo.snes.rom":{"source":"iana"},"application/vnd.nitf":{"source":"iana","extensions":["ntf","nitf"]},"application/vnd.noblenet-directory":{"source":"iana","extensions":["nnd"]},"application/vnd.noblenet-sealer":{"source":"iana","extensions":["nns"]},"application/vnd.noblenet-web":{"source":"iana","extensions":["nnw"]},"application/vnd.nokia.catalogs":{"source":"iana"},"application/vnd.nokia.conml+wbxml":{"source":"iana"},"application/vnd.nokia.conml+xml":{"source":"iana","compressible":true},"application/vnd.nokia.iptv.config+xml":{"source":"iana","compressible":true},"application/vnd.nokia.isds-radio-presets":{"source":"iana"},"application/vnd.nokia.landmark+wbxml":{"source":"iana"},"application/vnd.nokia.landmark+xml":{"source":"iana","compressible":true},"application/vnd.nokia.landmarkcollection+xml":{"source":"iana","compressible":true},"application/vnd.nokia.n-gage.ac+xml":{"source":"iana","compressible":true,"extensions":["ac"]},"application/vnd.nokia.n-gage.data":{"source":"iana","extensions":["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{"source":"iana","extensions":["n-gage"]},"application/vnd.nokia.ncd":{"source":"iana"},"application/vnd.nokia.pcd+wbxml":{"source":"iana"},"application/vnd.nokia.pcd+xml":{"source":"iana","compressible":true},"application/vnd.nokia.radio-preset":{"source":"iana","extensions":["rpst"]},"application/vnd.nokia.radio-presets":{"source":"iana","extensions":["rpss"]},"application/vnd.novadigm.edm":{"source":"iana","extensions":["edm"]},"application/vnd.novadigm.edx":{"source":"iana","extensions":["edx"]},"application/vnd.novadigm.ext":{"source":"iana","extensions":["ext"]},"application/vnd.ntt-local.content-share":{"source":"iana"},"application/vnd.ntt-local.file-transfer":{"source":"iana"},"application/vnd.ntt-local.ogw_remote-access":{"source":"iana"},"application/vnd.ntt-local.sip-ta_remote":{"source":"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{"source":"iana"},"application/vnd.oasis.opendocument.chart":{"source":"iana","extensions":["odc"]},"application/vnd.oasis.opendocument.chart-template":{"source":"iana","extensions":["otc"]},"application/vnd.oasis.opendocument.database":{"source":"iana","extensions":["odb"]},"application/vnd.oasis.opendocument.formula":{"source":"iana","extensions":["odf"]},"application/vnd.oasis.opendocument.formula-template":{"source":"iana","extensions":["odft"]},"application/vnd.oasis.opendocument.graphics":{"source":"iana","compressible":false,"extensions":["odg"]},"application/vnd.oasis.opendocument.graphics-template":{"source":"iana","extensions":["otg"]},"application/vnd.oasis.opendocument.image":{"source":"iana","extensions":["odi"]},"application/vnd.oasis.opendocument.image-template":{"source":"iana","extensions":["oti"]},"application/vnd.oasis.opendocument.presentation":{"source":"iana","compressible":false,"extensions":["odp"]},"application/vnd.oasis.opendocument.presentation-template":{"source":"iana","extensions":["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{"source":"iana","compressible":false,"extensions":["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{"source":"iana","extensions":["ots"]},"application/vnd.oasis.opendocument.text":{"source":"iana","compressible":false,"extensions":["odt"]},"application/vnd.oasis.opendocument.text-master":{"source":"iana","extensions":["odm"]},"application/vnd.oasis.opendocument.text-template":{"source":"iana","extensions":["ott"]},"application/vnd.oasis.opendocument.text-web":{"source":"iana","extensions":["oth"]},"application/vnd.obn":{"source":"iana"},"application/vnd.ocf+cbor":{"source":"iana"},"application/vnd.oci.image.manifest.v1+json":{"source":"iana","compressible":true},"application/vnd.oftn.l10n+json":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessdownload+xml":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessstreaming+xml":{"source":"iana","compressible":true},"application/vnd.oipf.cspg-hexbinary":{"source":"iana"},"application/vnd.oipf.dae.svg+xml":{"source":"iana","compressible":true},"application/vnd.oipf.dae.xhtml+xml":{"source":"iana","compressible":true},"application/vnd.oipf.mippvcontrolmessage+xml":{"source":"iana","compressible":true},"application/vnd.oipf.pae.gem":{"source":"iana"},"application/vnd.oipf.spdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.oipf.spdlist+xml":{"source":"iana","compressible":true},"application/vnd.oipf.ueprofile+xml":{"source":"iana","compressible":true},"application/vnd.oipf.userprofile+xml":{"source":"iana","compressible":true},"application/vnd.olpc-sugar":{"source":"iana","extensions":["xo"]},"application/vnd.oma-scws-config":{"source":"iana"},"application/vnd.oma-scws-http-request":{"source":"iana"},"application/vnd.oma-scws-http-response":{"source":"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.drm-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.imd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.ltkm":{"source":"iana"},"application/vnd.oma.bcast.notification+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.provisioningtrigger":{"source":"iana"},"application/vnd.oma.bcast.sgboot":{"source":"iana"},"application/vnd.oma.bcast.sgdd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sgdu":{"source":"iana"},"application/vnd.oma.bcast.simple-symbol-container":{"source":"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sprov+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.stkm":{"source":"iana"},"application/vnd.oma.cab-address-book+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-feature-handler+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-pcc+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-subs-invite+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-user-prefs+xml":{"source":"iana","compressible":true},"application/vnd.oma.dcd":{"source":"iana"},"application/vnd.oma.dcdc":{"source":"iana"},"application/vnd.oma.dd2+xml":{"source":"iana","compressible":true,"extensions":["dd2"]},"application/vnd.oma.drm.risd+xml":{"source":"iana","compressible":true},"application/vnd.oma.group-usage-list+xml":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+json":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+tlv":{"source":"iana"},"application/vnd.oma.pal+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.detailed-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.final-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.groups+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.invocation-descriptor+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.optimized-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.push":{"source":"iana"},"application/vnd.oma.scidm.messages+xml":{"source":"iana","compressible":true},"application/vnd.oma.xcap-directory+xml":{"source":"iana","compressible":true},"application/vnd.omads-email+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-file+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-folder+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omaloc-supl-init":{"source":"iana"},"application/vnd.onepager":{"source":"iana"},"application/vnd.onepagertamp":{"source":"iana"},"application/vnd.onepagertamx":{"source":"iana"},"application/vnd.onepagertat":{"source":"iana"},"application/vnd.onepagertatp":{"source":"iana"},"application/vnd.onepagertatx":{"source":"iana"},"application/vnd.openblox.game+xml":{"source":"iana","compressible":true,"extensions":["obgx"]},"application/vnd.openblox.game-binary":{"source":"iana"},"application/vnd.openeye.oeb":{"source":"iana"},"application/vnd.openofficeorg.extension":{"source":"apache","extensions":["oxt"]},"application/vnd.openstreetmap.data+xml":{"source":"iana","compressible":true,"extensions":["osm"]},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawing+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{"source":"iana","compressible":false,"extensions":["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slide":{"source":"iana","extensions":["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{"source":"iana","extensions":["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.template":{"source":"iana","extensions":["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{"source":"iana","compressible":false,"extensions":["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{"source":"iana","extensions":["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.theme+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.vmldrawing":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{"source":"iana","compressible":false,"extensions":["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{"source":"iana","extensions":["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.core-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.relationships+xml":{"source":"iana","compressible":true},"application/vnd.oracle.resource+json":{"source":"iana","compressible":true},"application/vnd.orange.indata":{"source":"iana"},"application/vnd.osa.netdeploy":{"source":"iana"},"application/vnd.osgeo.mapguide.package":{"source":"iana","extensions":["mgp"]},"application/vnd.osgi.bundle":{"source":"iana"},"application/vnd.osgi.dp":{"source":"iana","extensions":["dp"]},"application/vnd.osgi.subsystem":{"source":"iana","extensions":["esa"]},"application/vnd.otps.ct-kip+xml":{"source":"iana","compressible":true},"application/vnd.oxli.countgraph":{"source":"iana"},"application/vnd.pagerduty+json":{"source":"iana","compressible":true},"application/vnd.palm":{"source":"iana","extensions":["pdb","pqa","oprc"]},"application/vnd.panoply":{"source":"iana"},"application/vnd.paos.xml":{"source":"iana"},"application/vnd.patentdive":{"source":"iana"},"application/vnd.patientecommsdoc":{"source":"iana"},"application/vnd.pawaafile":{"source":"iana","extensions":["paw"]},"application/vnd.pcos":{"source":"iana"},"application/vnd.pg.format":{"source":"iana","extensions":["str"]},"application/vnd.pg.osasli":{"source":"iana","extensions":["ei6"]},"application/vnd.piaccess.application-licence":{"source":"iana"},"application/vnd.picsel":{"source":"iana","extensions":["efif"]},"application/vnd.pmi.widget":{"source":"iana","extensions":["wg"]},"application/vnd.poc.group-advertisement+xml":{"source":"iana","compressible":true},"application/vnd.pocketlearn":{"source":"iana","extensions":["plf"]},"application/vnd.powerbuilder6":{"source":"iana","extensions":["pbd"]},"application/vnd.powerbuilder6-s":{"source":"iana"},"application/vnd.powerbuilder7":{"source":"iana"},"application/vnd.powerbuilder7-s":{"source":"iana"},"application/vnd.powerbuilder75":{"source":"iana"},"application/vnd.powerbuilder75-s":{"source":"iana"},"application/vnd.preminet":{"source":"iana"},"application/vnd.previewsystems.box":{"source":"iana","extensions":["box"]},"application/vnd.proteus.magazine":{"source":"iana","extensions":["mgz"]},"application/vnd.psfs":{"source":"iana"},"application/vnd.publishare-delta-tree":{"source":"iana","extensions":["qps"]},"application/vnd.pvi.ptid1":{"source":"iana","extensions":["ptid"]},"application/vnd.pwg-multiplexed":{"source":"iana"},"application/vnd.pwg-xhtml-print+xml":{"source":"iana","compressible":true},"application/vnd.qualcomm.brew-app-res":{"source":"iana"},"application/vnd.quarantainenet":{"source":"iana"},"application/vnd.quark.quarkxpress":{"source":"iana","extensions":["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{"source":"iana"},"application/vnd.radisys.moml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conn+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-stream+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-base+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-detect+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-group+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-speech+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-transform+xml":{"source":"iana","compressible":true},"application/vnd.rainstor.data":{"source":"iana"},"application/vnd.rapid":{"source":"iana"},"application/vnd.rar":{"source":"iana"},"application/vnd.realvnc.bed":{"source":"iana","extensions":["bed"]},"application/vnd.recordare.musicxml":{"source":"iana","extensions":["mxl"]},"application/vnd.recordare.musicxml+xml":{"source":"iana","compressible":true,"extensions":["musicxml"]},"application/vnd.renlearn.rlprint":{"source":"iana"},"application/vnd.restful+json":{"source":"iana","compressible":true},"application/vnd.rig.cryptonote":{"source":"iana","extensions":["cryptonote"]},"application/vnd.rim.cod":{"source":"apache","extensions":["cod"]},"application/vnd.rn-realmedia":{"source":"apache","extensions":["rm"]},"application/vnd.rn-realmedia-vbr":{"source":"apache","extensions":["rmvb"]},"application/vnd.route66.link66+xml":{"source":"iana","compressible":true,"extensions":["link66"]},"application/vnd.rs-274x":{"source":"iana"},"application/vnd.ruckus.download":{"source":"iana"},"application/vnd.s3sms":{"source":"iana"},"application/vnd.sailingtracker.track":{"source":"iana","extensions":["st"]},"application/vnd.sar":{"source":"iana"},"application/vnd.sbm.cid":{"source":"iana"},"application/vnd.sbm.mid2":{"source":"iana"},"application/vnd.scribus":{"source":"iana"},"application/vnd.sealed.3df":{"source":"iana"},"application/vnd.sealed.csf":{"source":"iana"},"application/vnd.sealed.doc":{"source":"iana"},"application/vnd.sealed.eml":{"source":"iana"},"application/vnd.sealed.mht":{"source":"iana"},"application/vnd.sealed.net":{"source":"iana"},"application/vnd.sealed.ppt":{"source":"iana"},"application/vnd.sealed.tiff":{"source":"iana"},"application/vnd.sealed.xls":{"source":"iana"},"application/vnd.sealedmedia.softseal.html":{"source":"iana"},"application/vnd.sealedmedia.softseal.pdf":{"source":"iana"},"application/vnd.seemail":{"source":"iana","extensions":["see"]},"application/vnd.sema":{"source":"iana","extensions":["sema"]},"application/vnd.semd":{"source":"iana","extensions":["semd"]},"application/vnd.semf":{"source":"iana","extensions":["semf"]},"application/vnd.shade-save-file":{"source":"iana"},"application/vnd.shana.informed.formdata":{"source":"iana","extensions":["ifm"]},"application/vnd.shana.informed.formtemplate":{"source":"iana","extensions":["itp"]},"application/vnd.shana.informed.interchange":{"source":"iana","extensions":["iif"]},"application/vnd.shana.informed.package":{"source":"iana","extensions":["ipk"]},"application/vnd.shootproof+json":{"source":"iana","compressible":true},"application/vnd.shopkick+json":{"source":"iana","compressible":true},"application/vnd.shp":{"source":"iana"},"application/vnd.shx":{"source":"iana"},"application/vnd.sigrok.session":{"source":"iana"},"application/vnd.simtech-mindmapper":{"source":"iana","extensions":["twd","twds"]},"application/vnd.siren+json":{"source":"iana","compressible":true},"application/vnd.smaf":{"source":"iana","extensions":["mmf"]},"application/vnd.smart.notebook":{"source":"iana"},"application/vnd.smart.teacher":{"source":"iana","extensions":["teacher"]},"application/vnd.snesdev-page-table":{"source":"iana"},"application/vnd.software602.filler.form+xml":{"source":"iana","compressible":true,"extensions":["fo"]},"application/vnd.software602.filler.form-xml-zip":{"source":"iana"},"application/vnd.solent.sdkm+xml":{"source":"iana","compressible":true,"extensions":["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{"source":"iana","extensions":["dxp"]},"application/vnd.spotfire.sfs":{"source":"iana","extensions":["sfs"]},"application/vnd.sqlite3":{"source":"iana"},"application/vnd.sss-cod":{"source":"iana"},"application/vnd.sss-dtf":{"source":"iana"},"application/vnd.sss-ntf":{"source":"iana"},"application/vnd.stardivision.calc":{"source":"apache","extensions":["sdc"]},"application/vnd.stardivision.draw":{"source":"apache","extensions":["sda"]},"application/vnd.stardivision.impress":{"source":"apache","extensions":["sdd"]},"application/vnd.stardivision.math":{"source":"apache","extensions":["smf"]},"application/vnd.stardivision.writer":{"source":"apache","extensions":["sdw","vor"]},"application/vnd.stardivision.writer-global":{"source":"apache","extensions":["sgl"]},"application/vnd.stepmania.package":{"source":"iana","extensions":["smzip"]},"application/vnd.stepmania.stepchart":{"source":"iana","extensions":["sm"]},"application/vnd.street-stream":{"source":"iana"},"application/vnd.sun.wadl+xml":{"source":"iana","compressible":true,"extensions":["wadl"]},"application/vnd.sun.xml.calc":{"source":"apache","extensions":["sxc"]},"application/vnd.sun.xml.calc.template":{"source":"apache","extensions":["stc"]},"application/vnd.sun.xml.draw":{"source":"apache","extensions":["sxd"]},"application/vnd.sun.xml.draw.template":{"source":"apache","extensions":["std"]},"application/vnd.sun.xml.impress":{"source":"apache","extensions":["sxi"]},"application/vnd.sun.xml.impress.template":{"source":"apache","extensions":["sti"]},"application/vnd.sun.xml.math":{"source":"apache","extensions":["sxm"]},"application/vnd.sun.xml.writer":{"source":"apache","extensions":["sxw"]},"application/vnd.sun.xml.writer.global":{"source":"apache","extensions":["sxg"]},"application/vnd.sun.xml.writer.template":{"source":"apache","extensions":["stw"]},"application/vnd.sus-calendar":{"source":"iana","extensions":["sus","susp"]},"application/vnd.svd":{"source":"iana","extensions":["svd"]},"application/vnd.swiftview-ics":{"source":"iana"},"application/vnd.symbian.install":{"source":"apache","extensions":["sis","sisx"]},"application/vnd.syncml+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xsm"]},"application/vnd.syncml.dm+wbxml":{"source":"iana","charset":"UTF-8","extensions":["bdm"]},"application/vnd.syncml.dm+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xdm"]},"application/vnd.syncml.dm.notification":{"source":"iana"},"application/vnd.syncml.dmddf+wbxml":{"source":"iana"},"application/vnd.syncml.dmddf+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{"source":"iana"},"application/vnd.syncml.dmtnds+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.syncml.ds.notification":{"source":"iana"},"application/vnd.tableschema+json":{"source":"iana","compressible":true},"application/vnd.tao.intent-module-archive":{"source":"iana","extensions":["tao"]},"application/vnd.tcpdump.pcap":{"source":"iana","extensions":["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{"source":"iana","compressible":true},"application/vnd.tmd.mediaflex.api+xml":{"source":"iana","compressible":true},"application/vnd.tml":{"source":"iana"},"application/vnd.tmobile-livetv":{"source":"iana","extensions":["tmo"]},"application/vnd.tri.onesource":{"source":"iana"},"application/vnd.trid.tpt":{"source":"iana","extensions":["tpt"]},"application/vnd.triscape.mxs":{"source":"iana","extensions":["mxs"]},"application/vnd.trueapp":{"source":"iana","extensions":["tra"]},"application/vnd.truedoc":{"source":"iana"},"application/vnd.ubisoft.webplayer":{"source":"iana"},"application/vnd.ufdl":{"source":"iana","extensions":["ufd","ufdl"]},"application/vnd.uiq.theme":{"source":"iana","extensions":["utz"]},"application/vnd.umajin":{"source":"iana","extensions":["umj"]},"application/vnd.unity":{"source":"iana","extensions":["unityweb"]},"application/vnd.uoml+xml":{"source":"iana","compressible":true,"extensions":["uoml"]},"application/vnd.uplanet.alert":{"source":"iana"},"application/vnd.uplanet.alert-wbxml":{"source":"iana"},"application/vnd.uplanet.bearer-choice":{"source":"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{"source":"iana"},"application/vnd.uplanet.cacheop":{"source":"iana"},"application/vnd.uplanet.cacheop-wbxml":{"source":"iana"},"application/vnd.uplanet.channel":{"source":"iana"},"application/vnd.uplanet.channel-wbxml":{"source":"iana"},"application/vnd.uplanet.list":{"source":"iana"},"application/vnd.uplanet.list-wbxml":{"source":"iana"},"application/vnd.uplanet.listcmd":{"source":"iana"},"application/vnd.uplanet.listcmd-wbxml":{"source":"iana"},"application/vnd.uplanet.signal":{"source":"iana"},"application/vnd.uri-map":{"source":"iana"},"application/vnd.valve.source.material":{"source":"iana"},"application/vnd.vcx":{"source":"iana","extensions":["vcx"]},"application/vnd.vd-study":{"source":"iana"},"application/vnd.vectorworks":{"source":"iana"},"application/vnd.vel+json":{"source":"iana","compressible":true},"application/vnd.verimatrix.vcas":{"source":"iana"},"application/vnd.veryant.thin":{"source":"iana"},"application/vnd.ves.encrypted":{"source":"iana"},"application/vnd.vidsoft.vidconference":{"source":"iana"},"application/vnd.visio":{"source":"iana","extensions":["vsd","vst","vss","vsw"]},"application/vnd.visionary":{"source":"iana","extensions":["vis"]},"application/vnd.vividence.scriptfile":{"source":"iana"},"application/vnd.vsf":{"source":"iana","extensions":["vsf"]},"application/vnd.wap.sic":{"source":"iana"},"application/vnd.wap.slc":{"source":"iana"},"application/vnd.wap.wbxml":{"source":"iana","charset":"UTF-8","extensions":["wbxml"]},"application/vnd.wap.wmlc":{"source":"iana","extensions":["wmlc"]},"application/vnd.wap.wmlscriptc":{"source":"iana","extensions":["wmlsc"]},"application/vnd.webturbo":{"source":"iana","extensions":["wtb"]},"application/vnd.wfa.p2p":{"source":"iana"},"application/vnd.wfa.wsc":{"source":"iana"},"application/vnd.windows.devicepairing":{"source":"iana"},"application/vnd.wmc":{"source":"iana"},"application/vnd.wmf.bootstrap":{"source":"iana"},"application/vnd.wolfram.mathematica":{"source":"iana"},"application/vnd.wolfram.mathematica.package":{"source":"iana"},"application/vnd.wolfram.player":{"source":"iana","extensions":["nbp"]},"application/vnd.wordperfect":{"source":"iana","extensions":["wpd"]},"application/vnd.wqd":{"source":"iana","extensions":["wqd"]},"application/vnd.wrq-hp3000-labelled":{"source":"iana"},"application/vnd.wt.stf":{"source":"iana","extensions":["stf"]},"application/vnd.wv.csp+wbxml":{"source":"iana"},"application/vnd.wv.csp+xml":{"source":"iana","compressible":true},"application/vnd.wv.ssp+xml":{"source":"iana","compressible":true},"application/vnd.xacml+json":{"source":"iana","compressible":true},"application/vnd.xara":{"source":"iana","extensions":["xar"]},"application/vnd.xfdl":{"source":"iana","extensions":["xfdl"]},"application/vnd.xfdl.webform":{"source":"iana"},"application/vnd.xmi+xml":{"source":"iana","compressible":true},"application/vnd.xmpie.cpkg":{"source":"iana"},"application/vnd.xmpie.dpkg":{"source":"iana"},"application/vnd.xmpie.plan":{"source":"iana"},"application/vnd.xmpie.ppkg":{"source":"iana"},"application/vnd.xmpie.xlim":{"source":"iana"},"application/vnd.yamaha.hv-dic":{"source":"iana","extensions":["hvd"]},"application/vnd.yamaha.hv-script":{"source":"iana","extensions":["hvs"]},"application/vnd.yamaha.hv-voice":{"source":"iana","extensions":["hvp"]},"application/vnd.yamaha.openscoreformat":{"source":"iana","extensions":["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{"source":"iana","compressible":true,"extensions":["osfpvg"]},"application/vnd.yamaha.remote-setup":{"source":"iana"},"application/vnd.yamaha.smaf-audio":{"source":"iana","extensions":["saf"]},"application/vnd.yamaha.smaf-phrase":{"source":"iana","extensions":["spf"]},"application/vnd.yamaha.through-ngn":{"source":"iana"},"application/vnd.yamaha.tunnel-udpencap":{"source":"iana"},"application/vnd.yaoweme":{"source":"iana"},"application/vnd.yellowriver-custom-menu":{"source":"iana","extensions":["cmp"]},"application/vnd.youtube.yt":{"source":"iana"},"application/vnd.zul":{"source":"iana","extensions":["zir","zirz"]},"application/vnd.zzazz.deck+xml":{"source":"iana","compressible":true,"extensions":["zaz"]},"application/voicexml+xml":{"source":"iana","compressible":true,"extensions":["vxml"]},"application/voucher-cms+json":{"source":"iana","compressible":true},"application/vq-rtcpxr":{"source":"iana"},"application/wasm":{"compressible":true,"extensions":["wasm"]},"application/watcherinfo+xml":{"source":"iana","compressible":true},"application/webpush-options+json":{"source":"iana","compressible":true},"application/whoispp-query":{"source":"iana"},"application/whoispp-response":{"source":"iana"},"application/widget":{"source":"iana","extensions":["wgt"]},"application/winhlp":{"source":"apache","extensions":["hlp"]},"application/wita":{"source":"iana"},"application/wordperfect5.1":{"source":"iana"},"application/wsdl+xml":{"source":"iana","compressible":true,"extensions":["wsdl"]},"application/wspolicy+xml":{"source":"iana","compressible":true,"extensions":["wspolicy"]},"application/x-7z-compressed":{"source":"apache","compressible":false,"extensions":["7z"]},"application/x-abiword":{"source":"apache","extensions":["abw"]},"application/x-ace-compressed":{"source":"apache","extensions":["ace"]},"application/x-amf":{"source":"apache"},"application/x-apple-diskimage":{"source":"apache","extensions":["dmg"]},"application/x-arj":{"compressible":false,"extensions":["arj"]},"application/x-authorware-bin":{"source":"apache","extensions":["aab","x32","u32","vox"]},"application/x-authorware-map":{"source":"apache","extensions":["aam"]},"application/x-authorware-seg":{"source":"apache","extensions":["aas"]},"application/x-bcpio":{"source":"apache","extensions":["bcpio"]},"application/x-bdoc":{"compressible":false,"extensions":["bdoc"]},"application/x-bittorrent":{"source":"apache","extensions":["torrent"]},"application/x-blorb":{"source":"apache","extensions":["blb","blorb"]},"application/x-bzip":{"source":"apache","compressible":false,"extensions":["bz"]},"application/x-bzip2":{"source":"apache","compressible":false,"extensions":["bz2","boz"]},"application/x-cbr":{"source":"apache","extensions":["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{"source":"apache","extensions":["vcd"]},"application/x-cfs-compressed":{"source":"apache","extensions":["cfs"]},"application/x-chat":{"source":"apache","extensions":["chat"]},"application/x-chess-pgn":{"source":"apache","extensions":["pgn"]},"application/x-chrome-extension":{"extensions":["crx"]},"application/x-cocoa":{"source":"nginx","extensions":["cco"]},"application/x-compress":{"source":"apache"},"application/x-conference":{"source":"apache","extensions":["nsc"]},"application/x-cpio":{"source":"apache","extensions":["cpio"]},"application/x-csh":{"source":"apache","extensions":["csh"]},"application/x-deb":{"compressible":false},"application/x-debian-package":{"source":"apache","extensions":["deb","udeb"]},"application/x-dgc-compressed":{"source":"apache","extensions":["dgc"]},"application/x-director":{"source":"apache","extensions":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{"source":"apache","extensions":["wad"]},"application/x-dtbncx+xml":{"source":"apache","compressible":true,"extensions":["ncx"]},"application/x-dtbook+xml":{"source":"apache","compressible":true,"extensions":["dtb"]},"application/x-dtbresource+xml":{"source":"apache","compressible":true,"extensions":["res"]},"application/x-dvi":{"source":"apache","compressible":false,"extensions":["dvi"]},"application/x-envoy":{"source":"apache","extensions":["evy"]},"application/x-eva":{"source":"apache","extensions":["eva"]},"application/x-font-bdf":{"source":"apache","extensions":["bdf"]},"application/x-font-dos":{"source":"apache"},"application/x-font-framemaker":{"source":"apache"},"application/x-font-ghostscript":{"source":"apache","extensions":["gsf"]},"application/x-font-libgrx":{"source":"apache"},"application/x-font-linux-psf":{"source":"apache","extensions":["psf"]},"application/x-font-pcf":{"source":"apache","extensions":["pcf"]},"application/x-font-snf":{"source":"apache","extensions":["snf"]},"application/x-font-speedo":{"source":"apache"},"application/x-font-sunos-news":{"source":"apache"},"application/x-font-type1":{"source":"apache","extensions":["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{"source":"apache"},"application/x-freearc":{"source":"apache","extensions":["arc"]},"application/x-futuresplash":{"source":"apache","extensions":["spl"]},"application/x-gca-compressed":{"source":"apache","extensions":["gca"]},"application/x-glulx":{"source":"apache","extensions":["ulx"]},"application/x-gnumeric":{"source":"apache","extensions":["gnumeric"]},"application/x-gramps-xml":{"source":"apache","extensions":["gramps"]},"application/x-gtar":{"source":"apache","extensions":["gtar"]},"application/x-gzip":{"source":"apache"},"application/x-hdf":{"source":"apache","extensions":["hdf"]},"application/x-httpd-php":{"compressible":true,"extensions":["php"]},"application/x-install-instructions":{"source":"apache","extensions":["install"]},"application/x-iso9660-image":{"source":"apache","extensions":["iso"]},"application/x-java-archive-diff":{"source":"nginx","extensions":["jardiff"]},"application/x-java-jnlp-file":{"source":"apache","compressible":false,"extensions":["jnlp"]},"application/x-javascript":{"compressible":true},"application/x-keepass2":{"extensions":["kdbx"]},"application/x-latex":{"source":"apache","compressible":false,"extensions":["latex"]},"application/x-lua-bytecode":{"extensions":["luac"]},"application/x-lzh-compressed":{"source":"apache","extensions":["lzh","lha"]},"application/x-makeself":{"source":"nginx","extensions":["run"]},"application/x-mie":{"source":"apache","extensions":["mie"]},"application/x-mobipocket-ebook":{"source":"apache","extensions":["prc","mobi"]},"application/x-mpegurl":{"compressible":false},"application/x-ms-application":{"source":"apache","extensions":["application"]},"application/x-ms-shortcut":{"source":"apache","extensions":["lnk"]},"application/x-ms-wmd":{"source":"apache","extensions":["wmd"]},"application/x-ms-wmz":{"source":"apache","extensions":["wmz"]},"application/x-ms-xbap":{"source":"apache","extensions":["xbap"]},"application/x-msaccess":{"source":"apache","extensions":["mdb"]},"application/x-msbinder":{"source":"apache","extensions":["obd"]},"application/x-mscardfile":{"source":"apache","extensions":["crd"]},"application/x-msclip":{"source":"apache","extensions":["clp"]},"application/x-msdos-program":{"extensions":["exe"]},"application/x-msdownload":{"source":"apache","extensions":["exe","dll","com","bat","msi"]},"application/x-msmediaview":{"source":"apache","extensions":["mvb","m13","m14"]},"application/x-msmetafile":{"source":"apache","extensions":["wmf","wmz","emf","emz"]},"application/x-msmoney":{"source":"apache","extensions":["mny"]},"application/x-mspublisher":{"source":"apache","extensions":["pub"]},"application/x-msschedule":{"source":"apache","extensions":["scd"]},"application/x-msterminal":{"source":"apache","extensions":["trm"]},"application/x-mswrite":{"source":"apache","extensions":["wri"]},"application/x-netcdf":{"source":"apache","extensions":["nc","cdf"]},"application/x-ns-proxy-autoconfig":{"compressible":true,"extensions":["pac"]},"application/x-nzb":{"source":"apache","extensions":["nzb"]},"application/x-perl":{"source":"nginx","extensions":["pl","pm"]},"application/x-pilot":{"source":"nginx","extensions":["prc","pdb"]},"application/x-pkcs12":{"source":"apache","compressible":false,"extensions":["p12","pfx"]},"application/x-pkcs7-certificates":{"source":"apache","extensions":["p7b","spc"]},"application/x-pkcs7-certreqresp":{"source":"apache","extensions":["p7r"]},"application/x-pki-message":{"source":"iana"},"application/x-rar-compressed":{"source":"apache","compressible":false,"extensions":["rar"]},"application/x-redhat-package-manager":{"source":"nginx","extensions":["rpm"]},"application/x-research-info-systems":{"source":"apache","extensions":["ris"]},"application/x-sea":{"source":"nginx","extensions":["sea"]},"application/x-sh":{"source":"apache","compressible":true,"extensions":["sh"]},"application/x-shar":{"source":"apache","extensions":["shar"]},"application/x-shockwave-flash":{"source":"apache","compressible":false,"extensions":["swf"]},"application/x-silverlight-app":{"source":"apache","extensions":["xap"]},"application/x-sql":{"source":"apache","extensions":["sql"]},"application/x-stuffit":{"source":"apache","compressible":false,"extensions":["sit"]},"application/x-stuffitx":{"source":"apache","extensions":["sitx"]},"application/x-subrip":{"source":"apache","extensions":["srt"]},"application/x-sv4cpio":{"source":"apache","extensions":["sv4cpio"]},"application/x-sv4crc":{"source":"apache","extensions":["sv4crc"]},"application/x-t3vm-image":{"source":"apache","extensions":["t3"]},"application/x-tads":{"source":"apache","extensions":["gam"]},"application/x-tar":{"source":"apache","compressible":true,"extensions":["tar"]},"application/x-tcl":{"source":"apache","extensions":["tcl","tk"]},"application/x-tex":{"source":"apache","extensions":["tex"]},"application/x-tex-tfm":{"source":"apache","extensions":["tfm"]},"application/x-texinfo":{"source":"apache","extensions":["texinfo","texi"]},"application/x-tgif":{"source":"apache","extensions":["obj"]},"application/x-ustar":{"source":"apache","extensions":["ustar"]},"application/x-virtualbox-hdd":{"compressible":true,"extensions":["hdd"]},"application/x-virtualbox-ova":{"compressible":true,"extensions":["ova"]},"application/x-virtualbox-ovf":{"compressible":true,"extensions":["ovf"]},"application/x-virtualbox-vbox":{"compressible":true,"extensions":["vbox"]},"application/x-virtualbox-vbox-extpack":{"compressible":false,"extensions":["vbox-extpack"]},"application/x-virtualbox-vdi":{"compressible":true,"extensions":["vdi"]},"application/x-virtualbox-vhd":{"compressible":true,"extensions":["vhd"]},"application/x-virtualbox-vmdk":{"compressible":true,"extensions":["vmdk"]},"application/x-wais-source":{"source":"apache","extensions":["src"]},"application/x-web-app-manifest+json":{"compressible":true,"extensions":["webapp"]},"application/x-www-form-urlencoded":{"source":"iana","compressible":true},"application/x-x509-ca-cert":{"source":"iana","extensions":["der","crt","pem"]},"application/x-x509-ca-ra-cert":{"source":"iana"},"application/x-x509-next-ca-cert":{"source":"iana"},"application/x-xfig":{"source":"apache","extensions":["fig"]},"application/x-xliff+xml":{"source":"apache","compressible":true,"extensions":["xlf"]},"application/x-xpinstall":{"source":"apache","compressible":false,"extensions":["xpi"]},"application/x-xz":{"source":"apache","extensions":["xz"]},"application/x-zmachine":{"source":"apache","extensions":["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{"source":"iana"},"application/xacml+xml":{"source":"iana","compressible":true},"application/xaml+xml":{"source":"apache","compressible":true,"extensions":["xaml"]},"application/xcap-att+xml":{"source":"iana","compressible":true,"extensions":["xav"]},"application/xcap-caps+xml":{"source":"iana","compressible":true,"extensions":["xca"]},"application/xcap-diff+xml":{"source":"iana","compressible":true,"extensions":["xdf"]},"application/xcap-el+xml":{"source":"iana","compressible":true,"extensions":["xel"]},"application/xcap-error+xml":{"source":"iana","compressible":true,"extensions":["xer"]},"application/xcap-ns+xml":{"source":"iana","compressible":true,"extensions":["xns"]},"application/xcon-conference-info+xml":{"source":"iana","compressible":true},"application/xcon-conference-info-diff+xml":{"source":"iana","compressible":true},"application/xenc+xml":{"source":"iana","compressible":true,"extensions":["xenc"]},"application/xhtml+xml":{"source":"iana","compressible":true,"extensions":["xhtml","xht"]},"application/xhtml-voice+xml":{"source":"apache","compressible":true},"application/xliff+xml":{"source":"iana","compressible":true,"extensions":["xlf"]},"application/xml":{"source":"iana","compressible":true,"extensions":["xml","xsl","xsd","rng"]},"application/xml-dtd":{"source":"iana","compressible":true,"extensions":["dtd"]},"application/xml-external-parsed-entity":{"source":"iana"},"application/xml-patch+xml":{"source":"iana","compressible":true},"application/xmpp+xml":{"source":"iana","compressible":true},"application/xop+xml":{"source":"iana","compressible":true,"extensions":["xop"]},"application/xproc+xml":{"source":"apache","compressible":true,"extensions":["xpl"]},"application/xslt+xml":{"source":"iana","compressible":true,"extensions":["xslt"]},"application/xspf+xml":{"source":"apache","compressible":true,"extensions":["xspf"]},"application/xv+xml":{"source":"iana","compressible":true,"extensions":["mxml","xhvml","xvml","xvm"]},"application/yang":{"source":"iana","extensions":["yang"]},"application/yang-data+json":{"source":"iana","compressible":true},"application/yang-data+xml":{"source":"iana","compressible":true},"application/yang-patch+json":{"source":"iana","compressible":true},"application/yang-patch+xml":{"source":"iana","compressible":true},"application/yin+xml":{"source":"iana","compressible":true,"extensions":["yin"]},"application/zip":{"source":"iana","compressible":false,"extensions":["zip"]},"application/zlib":{"source":"iana"},"application/zstd":{"source":"iana"},"audio/1d-interleaved-parityfec":{"source":"iana"},"audio/32kadpcm":{"source":"iana"},"audio/3gpp":{"source":"iana","compressible":false,"extensions":["3gpp"]},"audio/3gpp2":{"source":"iana"},"audio/aac":{"source":"iana"},"audio/ac3":{"source":"iana"},"audio/adpcm":{"source":"apache","extensions":["adp"]},"audio/amr":{"source":"iana"},"audio/amr-wb":{"source":"iana"},"audio/amr-wb+":{"source":"iana"},"audio/aptx":{"source":"iana"},"audio/asc":{"source":"iana"},"audio/atrac-advanced-lossless":{"source":"iana"},"audio/atrac-x":{"source":"iana"},"audio/atrac3":{"source":"iana"},"audio/basic":{"source":"iana","compressible":false,"extensions":["au","snd"]},"audio/bv16":{"source":"iana"},"audio/bv32":{"source":"iana"},"audio/clearmode":{"source":"iana"},"audio/cn":{"source":"iana"},"audio/dat12":{"source":"iana"},"audio/dls":{"source":"iana"},"audio/dsr-es201108":{"source":"iana"},"audio/dsr-es202050":{"source":"iana"},"audio/dsr-es202211":{"source":"iana"},"audio/dsr-es202212":{"source":"iana"},"audio/dv":{"source":"iana"},"audio/dvi4":{"source":"iana"},"audio/eac3":{"source":"iana"},"audio/encaprtp":{"source":"iana"},"audio/evrc":{"source":"iana"},"audio/evrc-qcp":{"source":"iana"},"audio/evrc0":{"source":"iana"},"audio/evrc1":{"source":"iana"},"audio/evrcb":{"source":"iana"},"audio/evrcb0":{"source":"iana"},"audio/evrcb1":{"source":"iana"},"audio/evrcnw":{"source":"iana"},"audio/evrcnw0":{"source":"iana"},"audio/evrcnw1":{"source":"iana"},"audio/evrcwb":{"source":"iana"},"audio/evrcwb0":{"source":"iana"},"audio/evrcwb1":{"source":"iana"},"audio/evs":{"source":"iana"},"audio/flexfec":{"source":"iana"},"audio/fwdred":{"source":"iana"},"audio/g711-0":{"source":"iana"},"audio/g719":{"source":"iana"},"audio/g722":{"source":"iana"},"audio/g7221":{"source":"iana"},"audio/g723":{"source":"iana"},"audio/g726-16":{"source":"iana"},"audio/g726-24":{"source":"iana"},"audio/g726-32":{"source":"iana"},"audio/g726-40":{"source":"iana"},"audio/g728":{"source":"iana"},"audio/g729":{"source":"iana"},"audio/g7291":{"source":"iana"},"audio/g729d":{"source":"iana"},"audio/g729e":{"source":"iana"},"audio/gsm":{"source":"iana"},"audio/gsm-efr":{"source":"iana"},"audio/gsm-hr-08":{"source":"iana"},"audio/ilbc":{"source":"iana"},"audio/ip-mr_v2.5":{"source":"iana"},"audio/isac":{"source":"apache"},"audio/l16":{"source":"iana"},"audio/l20":{"source":"iana"},"audio/l24":{"source":"iana","compressible":false},"audio/l8":{"source":"iana"},"audio/lpc":{"source":"iana"},"audio/melp":{"source":"iana"},"audio/melp1200":{"source":"iana"},"audio/melp2400":{"source":"iana"},"audio/melp600":{"source":"iana"},"audio/mhas":{"source":"iana"},"audio/midi":{"source":"apache","extensions":["mid","midi","kar","rmi"]},"audio/mobile-xmf":{"source":"iana","extensions":["mxmf"]},"audio/mp3":{"compressible":false,"extensions":["mp3"]},"audio/mp4":{"source":"iana","compressible":false,"extensions":["m4a","mp4a"]},"audio/mp4a-latm":{"source":"iana"},"audio/mpa":{"source":"iana"},"audio/mpa-robust":{"source":"iana"},"audio/mpeg":{"source":"iana","compressible":false,"extensions":["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{"source":"iana"},"audio/musepack":{"source":"apache"},"audio/ogg":{"source":"iana","compressible":false,"extensions":["oga","ogg","spx"]},"audio/opus":{"source":"iana"},"audio/parityfec":{"source":"iana"},"audio/pcma":{"source":"iana"},"audio/pcma-wb":{"source":"iana"},"audio/pcmu":{"source":"iana"},"audio/pcmu-wb":{"source":"iana"},"audio/prs.sid":{"source":"iana"},"audio/qcelp":{"source":"iana"},"audio/raptorfec":{"source":"iana"},"audio/red":{"source":"iana"},"audio/rtp-enc-aescm128":{"source":"iana"},"audio/rtp-midi":{"source":"iana"},"audio/rtploopback":{"source":"iana"},"audio/rtx":{"source":"iana"},"audio/s3m":{"source":"apache","extensions":["s3m"]},"audio/silk":{"source":"apache","extensions":["sil"]},"audio/smv":{"source":"iana"},"audio/smv-qcp":{"source":"iana"},"audio/smv0":{"source":"iana"},"audio/sp-midi":{"source":"iana"},"audio/speex":{"source":"iana"},"audio/t140c":{"source":"iana"},"audio/t38":{"source":"iana"},"audio/telephone-event":{"source":"iana"},"audio/tetra_acelp":{"source":"iana"},"audio/tetra_acelp_bb":{"source":"iana"},"audio/tone":{"source":"iana"},"audio/uemclip":{"source":"iana"},"audio/ulpfec":{"source":"iana"},"audio/usac":{"source":"iana"},"audio/vdvi":{"source":"iana"},"audio/vmr-wb":{"source":"iana"},"audio/vnd.3gpp.iufp":{"source":"iana"},"audio/vnd.4sb":{"source":"iana"},"audio/vnd.audiokoz":{"source":"iana"},"audio/vnd.celp":{"source":"iana"},"audio/vnd.cisco.nse":{"source":"iana"},"audio/vnd.cmles.radio-events":{"source":"iana"},"audio/vnd.cns.anp1":{"source":"iana"},"audio/vnd.cns.inf1":{"source":"iana"},"audio/vnd.dece.audio":{"source":"iana","extensions":["uva","uvva"]},"audio/vnd.digital-winds":{"source":"iana","extensions":["eol"]},"audio/vnd.dlna.adts":{"source":"iana"},"audio/vnd.dolby.heaac.1":{"source":"iana"},"audio/vnd.dolby.heaac.2":{"source":"iana"},"audio/vnd.dolby.mlp":{"source":"iana"},"audio/vnd.dolby.mps":{"source":"iana"},"audio/vnd.dolby.pl2":{"source":"iana"},"audio/vnd.dolby.pl2x":{"source":"iana"},"audio/vnd.dolby.pl2z":{"source":"iana"},"audio/vnd.dolby.pulse.1":{"source":"iana"},"audio/vnd.dra":{"source":"iana","extensions":["dra"]},"audio/vnd.dts":{"source":"iana","extensions":["dts"]},"audio/vnd.dts.hd":{"source":"iana","extensions":["dtshd"]},"audio/vnd.dts.uhd":{"source":"iana"},"audio/vnd.dvb.file":{"source":"iana"},"audio/vnd.everad.plj":{"source":"iana"},"audio/vnd.hns.audio":{"source":"iana"},"audio/vnd.lucent.voice":{"source":"iana","extensions":["lvp"]},"audio/vnd.ms-playready.media.pya":{"source":"iana","extensions":["pya"]},"audio/vnd.nokia.mobile-xmf":{"source":"iana"},"audio/vnd.nortel.vbk":{"source":"iana"},"audio/vnd.nuera.ecelp4800":{"source":"iana","extensions":["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{"source":"iana","extensions":["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{"source":"iana","extensions":["ecelp9600"]},"audio/vnd.octel.sbc":{"source":"iana"},"audio/vnd.presonus.multitrack":{"source":"iana"},"audio/vnd.qcelp":{"source":"iana"},"audio/vnd.rhetorex.32kadpcm":{"source":"iana"},"audio/vnd.rip":{"source":"iana","extensions":["rip"]},"audio/vnd.rn-realaudio":{"compressible":false},"audio/vnd.sealedmedia.softseal.mpeg":{"source":"iana"},"audio/vnd.vmx.cvsd":{"source":"iana"},"audio/vnd.wave":{"compressible":false},"audio/vorbis":{"source":"iana","compressible":false},"audio/vorbis-config":{"source":"iana"},"audio/wav":{"compressible":false,"extensions":["wav"]},"audio/wave":{"compressible":false,"extensions":["wav"]},"audio/webm":{"source":"apache","compressible":false,"extensions":["weba"]},"audio/x-aac":{"source":"apache","compressible":false,"extensions":["aac"]},"audio/x-aiff":{"source":"apache","extensions":["aif","aiff","aifc"]},"audio/x-caf":{"source":"apache","compressible":false,"extensions":["caf"]},"audio/x-flac":{"source":"apache","extensions":["flac"]},"audio/x-m4a":{"source":"nginx","extensions":["m4a"]},"audio/x-matroska":{"source":"apache","extensions":["mka"]},"audio/x-mpegurl":{"source":"apache","extensions":["m3u"]},"audio/x-ms-wax":{"source":"apache","extensions":["wax"]},"audio/x-ms-wma":{"source":"apache","extensions":["wma"]},"audio/x-pn-realaudio":{"source":"apache","extensions":["ram","ra"]},"audio/x-pn-realaudio-plugin":{"source":"apache","extensions":["rmp"]},"audio/x-realaudio":{"source":"nginx","extensions":["ra"]},"audio/x-tta":{"source":"apache"},"audio/x-wav":{"source":"apache","extensions":["wav"]},"audio/xm":{"source":"apache","extensions":["xm"]},"chemical/x-cdx":{"source":"apache","extensions":["cdx"]},"chemical/x-cif":{"source":"apache","extensions":["cif"]},"chemical/x-cmdf":{"source":"apache","extensions":["cmdf"]},"chemical/x-cml":{"source":"apache","extensions":["cml"]},"chemical/x-csml":{"source":"apache","extensions":["csml"]},"chemical/x-pdb":{"source":"apache"},"chemical/x-xyz":{"source":"apache","extensions":["xyz"]},"font/collection":{"source":"iana","extensions":["ttc"]},"font/otf":{"source":"iana","compressible":true,"extensions":["otf"]},"font/sfnt":{"source":"iana"},"font/ttf":{"source":"iana","compressible":true,"extensions":["ttf"]},"font/woff":{"source":"iana","extensions":["woff"]},"font/woff2":{"source":"iana","extensions":["woff2"]},"image/aces":{"source":"iana","extensions":["exr"]},"image/apng":{"compressible":false,"extensions":["apng"]},"image/avci":{"source":"iana"},"image/avcs":{"source":"iana"},"image/bmp":{"source":"iana","compressible":true,"extensions":["bmp"]},"image/cgm":{"source":"iana","extensions":["cgm"]},"image/dicom-rle":{"source":"iana","extensions":["drle"]},"image/emf":{"source":"iana","extensions":["emf"]},"image/fits":{"source":"iana","extensions":["fits"]},"image/g3fax":{"source":"iana","extensions":["g3"]},"image/gif":{"source":"iana","compressible":false,"extensions":["gif"]},"image/heic":{"source":"iana","extensions":["heic"]},"image/heic-sequence":{"source":"iana","extensions":["heics"]},"image/heif":{"source":"iana","extensions":["heif"]},"image/heif-sequence":{"source":"iana","extensions":["heifs"]},"image/hej2k":{"source":"iana","extensions":["hej2"]},"image/hsj2":{"source":"iana","extensions":["hsj2"]},"image/ief":{"source":"iana","extensions":["ief"]},"image/jls":{"source":"iana","extensions":["jls"]},"image/jp2":{"source":"iana","compressible":false,"extensions":["jp2","jpg2"]},"image/jpeg":{"source":"iana","compressible":false,"extensions":["jpeg","jpg","jpe"]},"image/jph":{"source":"iana","extensions":["jph"]},"image/jphc":{"source":"iana","extensions":["jhc"]},"image/jpm":{"source":"iana","compressible":false,"extensions":["jpm"]},"image/jpx":{"source":"iana","compressible":false,"extensions":["jpx","jpf"]},"image/jxr":{"source":"iana","extensions":["jxr"]},"image/jxra":{"source":"iana","extensions":["jxra"]},"image/jxrs":{"source":"iana","extensions":["jxrs"]},"image/jxs":{"source":"iana","extensions":["jxs"]},"image/jxsc":{"source":"iana","extensions":["jxsc"]},"image/jxsi":{"source":"iana","extensions":["jxsi"]},"image/jxss":{"source":"iana","extensions":["jxss"]},"image/ktx":{"source":"iana","extensions":["ktx"]},"image/naplps":{"source":"iana"},"image/pjpeg":{"compressible":false},"image/png":{"source":"iana","compressible":false,"extensions":["png"]},"image/prs.btif":{"source":"iana","extensions":["btif"]},"image/prs.pti":{"source":"iana","extensions":["pti"]},"image/pwg-raster":{"source":"iana"},"image/sgi":{"source":"apache","extensions":["sgi"]},"image/svg+xml":{"source":"iana","compressible":true,"extensions":["svg","svgz"]},"image/t38":{"source":"iana","extensions":["t38"]},"image/tiff":{"source":"iana","compressible":false,"extensions":["tif","tiff"]},"image/tiff-fx":{"source":"iana","extensions":["tfx"]},"image/vnd.adobe.photoshop":{"source":"iana","compressible":true,"extensions":["psd"]},"image/vnd.airzip.accelerator.azv":{"source":"iana","extensions":["azv"]},"image/vnd.cns.inf2":{"source":"iana"},"image/vnd.dece.graphic":{"source":"iana","extensions":["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{"source":"iana","extensions":["djvu","djv"]},"image/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"image/vnd.dwg":{"source":"iana","extensions":["dwg"]},"image/vnd.dxf":{"source":"iana","extensions":["dxf"]},"image/vnd.fastbidsheet":{"source":"iana","extensions":["fbs"]},"image/vnd.fpx":{"source":"iana","extensions":["fpx"]},"image/vnd.fst":{"source":"iana","extensions":["fst"]},"image/vnd.fujixerox.edmics-mmr":{"source":"iana","extensions":["mmr"]},"image/vnd.fujixerox.edmics-rlc":{"source":"iana","extensions":["rlc"]},"image/vnd.globalgraphics.pgb":{"source":"iana"},"image/vnd.microsoft.icon":{"source":"iana","extensions":["ico"]},"image/vnd.mix":{"source":"iana"},"image/vnd.mozilla.apng":{"source":"iana"},"image/vnd.ms-dds":{"extensions":["dds"]},"image/vnd.ms-modi":{"source":"iana","extensions":["mdi"]},"image/vnd.ms-photo":{"source":"apache","extensions":["wdp"]},"image/vnd.net-fpx":{"source":"iana","extensions":["npx"]},"image/vnd.radiance":{"source":"iana"},"image/vnd.sealed.png":{"source":"iana"},"image/vnd.sealedmedia.softseal.gif":{"source":"iana"},"image/vnd.sealedmedia.softseal.jpg":{"source":"iana"},"image/vnd.svf":{"source":"iana"},"image/vnd.tencent.tap":{"source":"iana","extensions":["tap"]},"image/vnd.valve.source.texture":{"source":"iana","extensions":["vtf"]},"image/vnd.wap.wbmp":{"source":"iana","extensions":["wbmp"]},"image/vnd.xiff":{"source":"iana","extensions":["xif"]},"image/vnd.zbrush.pcx":{"source":"iana","extensions":["pcx"]},"image/webp":{"source":"apache","extensions":["webp"]},"image/wmf":{"source":"iana","extensions":["wmf"]},"image/x-3ds":{"source":"apache","extensions":["3ds"]},"image/x-cmu-raster":{"source":"apache","extensions":["ras"]},"image/x-cmx":{"source":"apache","extensions":["cmx"]},"image/x-freehand":{"source":"apache","extensions":["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{"source":"apache","compressible":true,"extensions":["ico"]},"image/x-jng":{"source":"nginx","extensions":["jng"]},"image/x-mrsid-image":{"source":"apache","extensions":["sid"]},"image/x-ms-bmp":{"source":"nginx","compressible":true,"extensions":["bmp"]},"image/x-pcx":{"source":"apache","extensions":["pcx"]},"image/x-pict":{"source":"apache","extensions":["pic","pct"]},"image/x-portable-anymap":{"source":"apache","extensions":["pnm"]},"image/x-portable-bitmap":{"source":"apache","extensions":["pbm"]},"image/x-portable-graymap":{"source":"apache","extensions":["pgm"]},"image/x-portable-pixmap":{"source":"apache","extensions":["ppm"]},"image/x-rgb":{"source":"apache","extensions":["rgb"]},"image/x-tga":{"source":"apache","extensions":["tga"]},"image/x-xbitmap":{"source":"apache","extensions":["xbm"]},"image/x-xcf":{"compressible":false},"image/x-xpixmap":{"source":"apache","extensions":["xpm"]},"image/x-xwindowdump":{"source":"apache","extensions":["xwd"]},"message/cpim":{"source":"iana"},"message/delivery-status":{"source":"iana"},"message/disposition-notification":{"source":"iana","extensions":["disposition-notification"]},"message/external-body":{"source":"iana"},"message/feedback-report":{"source":"iana"},"message/global":{"source":"iana","extensions":["u8msg"]},"message/global-delivery-status":{"source":"iana","extensions":["u8dsn"]},"message/global-disposition-notification":{"source":"iana","extensions":["u8mdn"]},"message/global-headers":{"source":"iana","extensions":["u8hdr"]},"message/http":{"source":"iana","compressible":false},"message/imdn+xml":{"source":"iana","compressible":true},"message/news":{"source":"iana"},"message/partial":{"source":"iana","compressible":false},"message/rfc822":{"source":"iana","compressible":true,"extensions":["eml","mime"]},"message/s-http":{"source":"iana"},"message/sip":{"source":"iana"},"message/sipfrag":{"source":"iana"},"message/tracking-status":{"source":"iana"},"message/vnd.si.simp":{"source":"iana"},"message/vnd.wfa.wsc":{"source":"iana","extensions":["wsc"]},"model/3mf":{"source":"iana","extensions":["3mf"]},"model/gltf+json":{"source":"iana","compressible":true,"extensions":["gltf"]},"model/gltf-binary":{"source":"iana","compressible":true,"extensions":["glb"]},"model/iges":{"source":"iana","compressible":false,"extensions":["igs","iges"]},"model/mesh":{"source":"iana","compressible":false,"extensions":["msh","mesh","silo"]},"model/mtl":{"source":"iana","extensions":["mtl"]},"model/obj":{"source":"iana","extensions":["obj"]},"model/stl":{"source":"iana","extensions":["stl"]},"model/vnd.collada+xml":{"source":"iana","compressible":true,"extensions":["dae"]},"model/vnd.dwf":{"source":"iana","extensions":["dwf"]},"model/vnd.flatland.3dml":{"source":"iana"},"model/vnd.gdl":{"source":"iana","extensions":["gdl"]},"model/vnd.gs-gdl":{"source":"apache"},"model/vnd.gs.gdl":{"source":"iana"},"model/vnd.gtw":{"source":"iana","extensions":["gtw"]},"model/vnd.moml+xml":{"source":"iana","compressible":true},"model/vnd.mts":{"source":"iana","extensions":["mts"]},"model/vnd.opengex":{"source":"iana","extensions":["ogex"]},"model/vnd.parasolid.transmit.binary":{"source":"iana","extensions":["x_b"]},"model/vnd.parasolid.transmit.text":{"source":"iana","extensions":["x_t"]},"model/vnd.rosette.annotated-data-model":{"source":"iana"},"model/vnd.usdz+zip":{"source":"iana","compressible":false,"extensions":["usdz"]},"model/vnd.valve.source.compiled-map":{"source":"iana","extensions":["bsp"]},"model/vnd.vtu":{"source":"iana","extensions":["vtu"]},"model/vrml":{"source":"iana","compressible":false,"extensions":["wrl","vrml"]},"model/x3d+binary":{"source":"apache","compressible":false,"extensions":["x3db","x3dbz"]},"model/x3d+fastinfoset":{"source":"iana","extensions":["x3db"]},"model/x3d+vrml":{"source":"apache","compressible":false,"extensions":["x3dv","x3dvz"]},"model/x3d+xml":{"source":"iana","compressible":true,"extensions":["x3d","x3dz"]},"model/x3d-vrml":{"source":"iana","extensions":["x3dv"]},"multipart/alternative":{"source":"iana","compressible":false},"multipart/appledouble":{"source":"iana"},"multipart/byteranges":{"source":"iana"},"multipart/digest":{"source":"iana"},"multipart/encrypted":{"source":"iana","compressible":false},"multipart/form-data":{"source":"iana","compressible":false},"multipart/header-set":{"source":"iana"},"multipart/mixed":{"source":"iana"},"multipart/multilingual":{"source":"iana"},"multipart/parallel":{"source":"iana"},"multipart/related":{"source":"iana","compressible":false},"multipart/report":{"source":"iana"},"multipart/signed":{"source":"iana","compressible":false},"multipart/vnd.bint.med-plus":{"source":"iana"},"multipart/voice-message":{"source":"iana"},"multipart/x-mixed-replace":{"source":"iana"},"text/1d-interleaved-parityfec":{"source":"iana"},"text/cache-manifest":{"source":"iana","compressible":true,"extensions":["appcache","manifest"]},"text/calendar":{"source":"iana","extensions":["ics","ifb"]},"text/calender":{"compressible":true},"text/cmd":{"compressible":true},"text/coffeescript":{"extensions":["coffee","litcoffee"]},"text/css":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["css"]},"text/csv":{"source":"iana","compressible":true,"extensions":["csv"]},"text/csv-schema":{"source":"iana"},"text/directory":{"source":"iana"},"text/dns":{"source":"iana"},"text/ecmascript":{"source":"iana"},"text/encaprtp":{"source":"iana"},"text/enriched":{"source":"iana"},"text/flexfec":{"source":"iana"},"text/fwdred":{"source":"iana"},"text/grammar-ref-list":{"source":"iana"},"text/html":{"source":"iana","compressible":true,"extensions":["html","htm","shtml"]},"text/jade":{"extensions":["jade"]},"text/javascript":{"source":"iana","compressible":true},"text/jcr-cnd":{"source":"iana"},"text/jsx":{"compressible":true,"extensions":["jsx"]},"text/less":{"compressible":true,"extensions":["less"]},"text/markdown":{"source":"iana","compressible":true,"extensions":["markdown","md"]},"text/mathml":{"source":"nginx","extensions":["mml"]},"text/mdx":{"compressible":true,"extensions":["mdx"]},"text/mizar":{"source":"iana"},"text/n3":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["n3"]},"text/parameters":{"source":"iana","charset":"UTF-8"},"text/parityfec":{"source":"iana"},"text/plain":{"source":"iana","compressible":true,"extensions":["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{"source":"iana","charset":"UTF-8"},"text/prs.fallenstein.rst":{"source":"iana"},"text/prs.lines.tag":{"source":"iana","extensions":["dsc"]},"text/prs.prop.logic":{"source":"iana"},"text/raptorfec":{"source":"iana"},"text/red":{"source":"iana"},"text/rfc822-headers":{"source":"iana"},"text/richtext":{"source":"iana","compressible":true,"extensions":["rtx"]},"text/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"text/rtp-enc-aescm128":{"source":"iana"},"text/rtploopback":{"source":"iana"},"text/rtx":{"source":"iana"},"text/sgml":{"source":"iana","extensions":["sgml","sgm"]},"text/shex":{"extensions":["shex"]},"text/slim":{"extensions":["slim","slm"]},"text/strings":{"source":"iana"},"text/stylus":{"extensions":["stylus","styl"]},"text/t140":{"source":"iana"},"text/tab-separated-values":{"source":"iana","compressible":true,"extensions":["tsv"]},"text/troff":{"source":"iana","extensions":["t","tr","roff","man","me","ms"]},"text/turtle":{"source":"iana","charset":"UTF-8","extensions":["ttl"]},"text/ulpfec":{"source":"iana"},"text/uri-list":{"source":"iana","compressible":true,"extensions":["uri","uris","urls"]},"text/vcard":{"source":"iana","compressible":true,"extensions":["vcard"]},"text/vnd.a":{"source":"iana"},"text/vnd.abc":{"source":"iana"},"text/vnd.ascii-art":{"source":"iana"},"text/vnd.curl":{"source":"iana","extensions":["curl"]},"text/vnd.curl.dcurl":{"source":"apache","extensions":["dcurl"]},"text/vnd.curl.mcurl":{"source":"apache","extensions":["mcurl"]},"text/vnd.curl.scurl":{"source":"apache","extensions":["scurl"]},"text/vnd.debian.copyright":{"source":"iana","charset":"UTF-8"},"text/vnd.dmclientscript":{"source":"iana"},"text/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"text/vnd.esmertec.theme-descriptor":{"source":"iana","charset":"UTF-8"},"text/vnd.ficlab.flt":{"source":"iana"},"text/vnd.fly":{"source":"iana","extensions":["fly"]},"text/vnd.fmi.flexstor":{"source":"iana","extensions":["flx"]},"text/vnd.gml":{"source":"iana"},"text/vnd.graphviz":{"source":"iana","extensions":["gv"]},"text/vnd.hgl":{"source":"iana"},"text/vnd.in3d.3dml":{"source":"iana","extensions":["3dml"]},"text/vnd.in3d.spot":{"source":"iana","extensions":["spot"]},"text/vnd.iptc.newsml":{"source":"iana"},"text/vnd.iptc.nitf":{"source":"iana"},"text/vnd.latex-z":{"source":"iana"},"text/vnd.motorola.reflex":{"source":"iana"},"text/vnd.ms-mediapackage":{"source":"iana"},"text/vnd.net2phone.commcenter.command":{"source":"iana"},"text/vnd.radisys.msml-basic-layout":{"source":"iana"},"text/vnd.senx.warpscript":{"source":"iana"},"text/vnd.si.uricatalogue":{"source":"iana"},"text/vnd.sosi":{"source":"iana"},"text/vnd.sun.j2me.app-descriptor":{"source":"iana","charset":"UTF-8","extensions":["jad"]},"text/vnd.trolltech.linguist":{"source":"iana","charset":"UTF-8"},"text/vnd.wap.si":{"source":"iana"},"text/vnd.wap.sl":{"source":"iana"},"text/vnd.wap.wml":{"source":"iana","extensions":["wml"]},"text/vnd.wap.wmlscript":{"source":"iana","extensions":["wmls"]},"text/vtt":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["vtt"]},"text/x-asm":{"source":"apache","extensions":["s","asm"]},"text/x-c":{"source":"apache","extensions":["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{"source":"nginx","extensions":["htc"]},"text/x-fortran":{"source":"apache","extensions":["f","for","f77","f90"]},"text/x-gwt-rpc":{"compressible":true},"text/x-handlebars-template":{"extensions":["hbs"]},"text/x-java-source":{"source":"apache","extensions":["java"]},"text/x-jquery-tmpl":{"compressible":true},"text/x-lua":{"extensions":["lua"]},"text/x-markdown":{"compressible":true,"extensions":["mkd"]},"text/x-nfo":{"source":"apache","extensions":["nfo"]},"text/x-opml":{"source":"apache","extensions":["opml"]},"text/x-org":{"compressible":true,"extensions":["org"]},"text/x-pascal":{"source":"apache","extensions":["p","pas"]},"text/x-processing":{"compressible":true,"extensions":["pde"]},"text/x-sass":{"extensions":["sass"]},"text/x-scss":{"extensions":["scss"]},"text/x-setext":{"source":"apache","extensions":["etx"]},"text/x-sfv":{"source":"apache","extensions":["sfv"]},"text/x-suse-ymp":{"compressible":true,"extensions":["ymp"]},"text/x-uuencode":{"source":"apache","extensions":["uu"]},"text/x-vcalendar":{"source":"apache","extensions":["vcs"]},"text/x-vcard":{"source":"apache","extensions":["vcf"]},"text/xml":{"source":"iana","compressible":true,"extensions":["xml"]},"text/xml-external-parsed-entity":{"source":"iana"},"text/yaml":{"extensions":["yaml","yml"]},"video/1d-interleaved-parityfec":{"source":"iana"},"video/3gpp":{"source":"iana","extensions":["3gp","3gpp"]},"video/3gpp-tt":{"source":"iana"},"video/3gpp2":{"source":"iana","extensions":["3g2"]},"video/bmpeg":{"source":"iana"},"video/bt656":{"source":"iana"},"video/celb":{"source":"iana"},"video/dv":{"source":"iana"},"video/encaprtp":{"source":"iana"},"video/flexfec":{"source":"iana"},"video/h261":{"source":"iana","extensions":["h261"]},"video/h263":{"source":"iana","extensions":["h263"]},"video/h263-1998":{"source":"iana"},"video/h263-2000":{"source":"iana"},"video/h264":{"source":"iana","extensions":["h264"]},"video/h264-rcdo":{"source":"iana"},"video/h264-svc":{"source":"iana"},"video/h265":{"source":"iana"},"video/iso.segment":{"source":"iana"},"video/jpeg":{"source":"iana","extensions":["jpgv"]},"video/jpeg2000":{"source":"iana"},"video/jpm":{"source":"apache","extensions":["jpm","jpgm"]},"video/mj2":{"source":"iana","extensions":["mj2","mjp2"]},"video/mp1s":{"source":"iana"},"video/mp2p":{"source":"iana"},"video/mp2t":{"source":"iana","extensions":["ts"]},"video/mp4":{"source":"iana","compressible":false,"extensions":["mp4","mp4v","mpg4"]},"video/mp4v-es":{"source":"iana"},"video/mpeg":{"source":"iana","compressible":false,"extensions":["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{"source":"iana"},"video/mpv":{"source":"iana"},"video/nv":{"source":"iana"},"video/ogg":{"source":"iana","compressible":false,"extensions":["ogv"]},"video/parityfec":{"source":"iana"},"video/pointer":{"source":"iana"},"video/quicktime":{"source":"iana","compressible":false,"extensions":["qt","mov"]},"video/raptorfec":{"source":"iana"},"video/raw":{"source":"iana"},"video/rtp-enc-aescm128":{"source":"iana"},"video/rtploopback":{"source":"iana"},"video/rtx":{"source":"iana"},"video/smpte291":{"source":"iana"},"video/smpte292m":{"source":"iana"},"video/ulpfec":{"source":"iana"},"video/vc1":{"source":"iana"},"video/vc2":{"source":"iana"},"video/vnd.cctv":{"source":"iana"},"video/vnd.dece.hd":{"source":"iana","extensions":["uvh","uvvh"]},"video/vnd.dece.mobile":{"source":"iana","extensions":["uvm","uvvm"]},"video/vnd.dece.mp4":{"source":"iana"},"video/vnd.dece.pd":{"source":"iana","extensions":["uvp","uvvp"]},"video/vnd.dece.sd":{"source":"iana","extensions":["uvs","uvvs"]},"video/vnd.dece.video":{"source":"iana","extensions":["uvv","uvvv"]},"video/vnd.directv.mpeg":{"source":"iana"},"video/vnd.directv.mpeg-tts":{"source":"iana"},"video/vnd.dlna.mpeg-tts":{"source":"iana"},"video/vnd.dvb.file":{"source":"iana","extensions":["dvb"]},"video/vnd.fvt":{"source":"iana","extensions":["fvt"]},"video/vnd.hns.video":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.ttsavc":{"source":"iana"},"video/vnd.iptvforum.ttsmpeg2":{"source":"iana"},"video/vnd.motorola.video":{"source":"iana"},"video/vnd.motorola.videop":{"source":"iana"},"video/vnd.mpegurl":{"source":"iana","extensions":["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{"source":"iana","extensions":["pyv"]},"video/vnd.nokia.interleaved-multimedia":{"source":"iana"},"video/vnd.nokia.mp4vr":{"source":"iana"},"video/vnd.nokia.videovoip":{"source":"iana"},"video/vnd.objectvideo":{"source":"iana"},"video/vnd.radgamettools.bink":{"source":"iana"},"video/vnd.radgamettools.smacker":{"source":"iana"},"video/vnd.sealed.mpeg1":{"source":"iana"},"video/vnd.sealed.mpeg4":{"source":"iana"},"video/vnd.sealed.swf":{"source":"iana"},"video/vnd.sealedmedia.softseal.mov":{"source":"iana"},"video/vnd.uvvu.mp4":{"source":"iana","extensions":["uvu","uvvu"]},"video/vnd.vivo":{"source":"iana","extensions":["viv"]},"video/vnd.youtube.yt":{"source":"iana"},"video/vp8":{"source":"iana"},"video/webm":{"source":"apache","compressible":false,"extensions":["webm"]},"video/x-f4v":{"source":"apache","extensions":["f4v"]},"video/x-fli":{"source":"apache","extensions":["fli"]},"video/x-flv":{"source":"apache","compressible":false,"extensions":["flv"]},"video/x-m4v":{"source":"apache","extensions":["m4v"]},"video/x-matroska":{"source":"apache","compressible":false,"extensions":["mkv","mk3d","mks"]},"video/x-mng":{"source":"apache","extensions":["mng"]},"video/x-ms-asf":{"source":"apache","extensions":["asf","asx"]},"video/x-ms-vob":{"source":"apache","extensions":["vob"]},"video/x-ms-wm":{"source":"apache","extensions":["wm"]},"video/x-ms-wmv":{"source":"apache","compressible":false,"extensions":["wmv"]},"video/x-ms-wmx":{"source":"apache","extensions":["wmx"]},"video/x-ms-wvx":{"source":"apache","extensions":["wvx"]},"video/x-msvideo":{"source":"apache","extensions":["avi"]},"video/x-sgi-movie":{"source":"apache","extensions":["movie"]},"video/x-smv":{"source":"apache","extensions":["smv"]},"x-conference/x-cooltalk":{"source":"apache","extensions":["ice"]},"x-shader/x-fragment":{"compressible":true},"x-shader/x-vertex":{"compressible":true}}')},function(e,t,n){(function(e){function n(e,t){for(var n=0,i=e.length-1;i>=0;i--){var o=e[i];"."===o?e.splice(i,1):".."===o?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],i=0;i<e.length;i++)t(e[i],i,e)&&n.push(e[i]);return n}t.resolve=function(){for(var t="",o=!1,r=arguments.length-1;r>=-1&&!o;r--){var a=r>=0?arguments[r]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,o="/"===a.charAt(0))}return(o?"/":"")+(t=n(i(t.split("/"),(function(e){return!!e})),!o).join("/"))||"."},t.normalize=function(e){var r=t.isAbsolute(e),a="/"===o(e,-1);return(e=n(i(e.split("/"),(function(e){return!!e})),!r).join("/"))||r||(e="."),e&&a&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function i(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var o=i(e.split("/")),r=i(n.split("/")),a=Math.min(o.length,r.length),s=a,l=0;l<a;l++)if(o[l]!==r[l]){s=l;break}var c=[];for(l=s;l<o.length;l++)c.push("..");return(c=c.concat(r.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,i=-1,o=!0,r=e.length-1;r>=1;--r)if(47===(t=e.charCodeAt(r))){if(!o){i=r;break}}else o=!1;return-1===i?n?"/":".":n&&1===i?"/":e.slice(0,i)},t.basename=function(e,t){var n=function(e){"string"!=typeof e&&(e+="");var t,n=0,i=-1,o=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!o){n=t+1;break}}else-1===i&&(o=!1,i=t+1);return-1===i?"":e.slice(n,i)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,i=-1,o=!0,r=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===i&&(o=!1,i=a+1),46===s?-1===t?t=a:1!==r&&(r=1):-1!==t&&(r=-1);else if(!o){n=a+1;break}}return-1===t||-1===i||0===r||1===r&&t===i-1&&t===n+1?"":e.slice(t,i)};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n(88))},function(e,t,n){"use strict";n.r(t),t.default='<fieldset class="flex-item form">\r\n    <div class="form-group">\r\n        <input class="form-control" type="search" role="searchbox" data-bind="textInput: searchPattern, valueUpdate: \'keyup\', focus: true" placeholder="Search fonts..." aria-label="Search fonts" aria-controls="searchResult">\r\n        <p id="searchResult" class="text-hide" role="region" aria-live="polite" data-bind="text: `Fonts found: ${fonts().length}`">\r\n        </p>\r\n    </div>\r\n</fieldset>\r\n\r\n<div class="flex flex-column flex-item flex-item-grow fonts" role="list" data-bind="scrollable: { onEndReach: $component.loadNextPage }" aria-live="polite">\r\n    \x3c!-- ko foreach: { data: fonts, as: \'font\' } --\x3e\r\n    <div class="list-item font-box" data-bind="css: { selected: font === $component.selectedFont() }, scrolledIntoView: { onInView: font.loadPreview }">\r\n        <style data-bind="jss: preview"></style>\r\n        <a href="#" role="listitem" class="font-family" data-bind="click: $component.selectFont, text: font.family, style: { \'font-family\': font.family }">\r\n        </a>\r\n    </div>\r\n    \x3c!--/ko --\x3e\r\n</div>\r\n\r\n<div class="flex-item btn-group">\r\n    <button class="btn" data-bind="click: uploadFont">\r\n        <i class="paperbits-icon paperbits-square-upload"></i>\r\n        Upload font\r\n    </button>\r\n</div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GoogleFont=void 0;const i=n(6),o=n(0),r=n(8);t.GoogleFont=class{constructor(e){this.loadPreview=this.loadPreview.bind(this),this.identifier=i.identifier(),this.preview=o.observable(),this.displayName=e.family,this.family=e.family,this.files=e.files,this.variants=e.variants,this.version=e.version,this.category=e.category,this.lastModified=e.lastModified}loadPreview(){if(this.preview())return;const e=this.files.regular||this.files[400]||this.files[this.variants[0]],t=new r.FontFace;t.fontFamily=this.family,t.src=e.replace("http://","https://"),t.fontStyle="normal",t.fontWeight="normal";const n=new r.StyleSheet;n.fontFaces.push(t),this.preview(n)}toContract(){return{key:"fonts/"+this.identifier,family:this.family,displayName:this.family,category:this.category,version:this.version,lastModified:this.lastModified,variants:this.variants.map(e=>{const t=/(\d*)(\w*)/gm.exec(e);return{weight:+t[1]||400,style:("regular"===t[2]?"normal":t[2])||"normal",file:this.files[e].replace("http://","https://")}})}}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.FontParser=void 0;const o=n(941),r=n(6);t.FontParser=class{static parse(e){return i(this,void 0,void 0,(function*(){let t,n,i;try{const r=o.parse(e);t=r.names.fontFamily.en;const a=/(\d*)(\w*)/gm.exec(r.names.fontSubfamily.en);n=a[1]||"400",i=a[2]||"normal"}catch(s){t="Font",n="normal",i="normal"}const a=r.guid();return{key:"fonts/"+a,family:t,displayName:t,category:null,version:null,lastModified:(new Date).toISOString(),variants:[{weight:n,style:i.toLowerCase(),sourceKey:a}]}}))}}},function(e,t,n){"use strict";n.r(t),function(e){var i,o;function r(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function a(e,t){this.source=e,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=t,this.destLen=0,this.ltree=new r,this.dtree=new r}n.d(t,"BoundingBox",(function(){return _})),n.d(t,"Font",(function(){return Si})),n.d(t,"Glyph",(function(){return ye})),n.d(t,"Path",(function(){return O})),n.d(t,"_parse",(function(){return re})),n.d(t,"load",(function(){return Di})),n.d(t,"loadSync",(function(){return Bi})),n.d(t,"parse",(function(){return Ai})),String.prototype.codePointAt||(o=function(e){if(null==this)throw TypeError();var t=String(this),n=t.length,i=e?Number(e):0;if(i!=i&&(i=0),!(i<0||i>=n)){var o,r=t.charCodeAt(i);return r>=55296&&r<=56319&&n>i+1&&(o=t.charCodeAt(i+1))>=56320&&o<=57343?1024*(r-55296)+o-56320+65536:r}},(i=function(){try{var e={},t=Object.defineProperty,n=t(e,e,e)&&t}catch(i){}return n}())?i(String.prototype,"codePointAt",{value:o,configurable:!0,writable:!0}):String.prototype.codePointAt=o);var s=new r,l=new r,c=new Uint8Array(30),u=new Uint16Array(30),d=new Uint8Array(30),p=new Uint16Array(30),h=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),f=new r,m=new Uint8Array(320);function v(e,t,n,i){var o,r;for(o=0;o<n;++o)e[o]=0;for(o=0;o<30-n;++o)e[o+n]=o/n|0;for(r=i,o=0;o<30;++o)t[o]=r,r+=1<<e[o]}var g=new Uint16Array(16);function y(e,t,n,i){var o,r;for(o=0;o<16;++o)e.table[o]=0;for(o=0;o<i;++o)e.table[t[n+o]]++;for(e.table[0]=0,r=0,o=0;o<16;++o)g[o]=r,r+=e.table[o];for(o=0;o<i;++o)t[n+o]&&(e.trans[g[t[n+o]]++]=o)}function b(e){e.bitcount--||(e.tag=e.source[e.sourceIndex++],e.bitcount=7);var t=1&e.tag;return e.tag>>>=1,t}function x(e,t,n){if(!t)return n;for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var i=e.tag&65535>>>16-t;return e.tag>>>=t,e.bitcount-=t,i+n}function w(e,t){for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var n=0,i=0,o=0,r=e.tag;do{i=2*i+(1&r),r>>>=1,++o,n+=t.table[o],i-=t.table[o]}while(i>=0);return e.tag=r,e.bitcount-=o,t.trans[n+i]}function S(e,t,n){var i,o,r,a,s,l;for(i=x(e,5,257),o=x(e,5,1),r=x(e,4,4),a=0;a<19;++a)m[a]=0;for(a=0;a<r;++a){var c=x(e,3,0);m[h[a]]=c}for(y(f,m,0,19),s=0;s<i+o;){var u=w(e,f);switch(u){case 16:var d=m[s-1];for(l=x(e,2,3);l;--l)m[s++]=d;break;case 17:for(l=x(e,3,3);l;--l)m[s++]=0;break;case 18:for(l=x(e,7,11);l;--l)m[s++]=0;break;default:m[s++]=u}}y(t,m,0,i),y(n,m,i,o)}function k(e,t,n){for(;;){var i,o,r,a,s=w(e,t);if(256===s)return 0;if(s<256)e.dest[e.destLen++]=s;else for(i=x(e,c[s-=257],u[s]),o=w(e,n),a=r=e.destLen-x(e,d[o],p[o]);a<r+i;++a)e.dest[e.destLen++]=e.dest[a]}}function C(e){for(var t,n;e.bitcount>8;)e.sourceIndex--,e.bitcount-=8;if((t=256*(t=e.source[e.sourceIndex+1])+e.source[e.sourceIndex])!==(65535&~(256*e.source[e.sourceIndex+3]+e.source[e.sourceIndex+2])))return-3;for(e.sourceIndex+=4,n=t;n;--n)e.dest[e.destLen++]=e.source[e.sourceIndex++];return e.bitcount=0,0}!function(e,t){var n;for(n=0;n<7;++n)e.table[n]=0;for(e.table[7]=24,e.table[8]=152,e.table[9]=112,n=0;n<24;++n)e.trans[n]=256+n;for(n=0;n<144;++n)e.trans[24+n]=n;for(n=0;n<8;++n)e.trans[168+n]=280+n;for(n=0;n<112;++n)e.trans[176+n]=144+n;for(n=0;n<5;++n)t.table[n]=0;for(t.table[5]=32,n=0;n<32;++n)t.trans[n]=n}(s,l),v(c,u,4,3),v(d,p,2,1),c[28]=0,u[28]=258;function M(e,t,n,i,o){return Math.pow(1-o,3)*e+3*Math.pow(1-o,2)*o*t+3*(1-o)*Math.pow(o,2)*n+Math.pow(o,3)*i}function _(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function O(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function P(e){throw new Error(e)}function E(e,t){e||P(t)}_.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},_.prototype.addPoint=function(e,t){"number"==typeof e&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),"number"==typeof t&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))},_.prototype.addX=function(e){this.addPoint(e,null)},_.prototype.addY=function(e){this.addPoint(null,e)},_.prototype.addBezier=function(e,t,n,i,o,r,a,s){var l=[e,t],c=[n,i],u=[o,r],d=[a,s];this.addPoint(e,t),this.addPoint(a,s);for(var p=0;p<=1;p++){var h=6*l[p]-12*c[p]+6*u[p],f=-3*l[p]+9*c[p]-9*u[p]+3*d[p],m=3*c[p]-3*l[p];if(0!==f){var v=Math.pow(h,2)-4*m*f;if(!(v<0)){var g=(-h+Math.sqrt(v))/(2*f);0<g&&g<1&&(0===p&&this.addX(M(l[p],c[p],u[p],d[p],g)),1===p&&this.addY(M(l[p],c[p],u[p],d[p],g)));var y=(-h-Math.sqrt(v))/(2*f);0<y&&y<1&&(0===p&&this.addX(M(l[p],c[p],u[p],d[p],y)),1===p&&this.addY(M(l[p],c[p],u[p],d[p],y)))}}else{if(0===h)continue;var b=-m/h;0<b&&b<1&&(0===p&&this.addX(M(l[p],c[p],u[p],d[p],b)),1===p&&this.addY(M(l[p],c[p],u[p],d[p],b)))}}},_.prototype.addQuad=function(e,t,n,i,o,r){var a=e+2/3*(n-e),s=t+2/3*(i-t),l=a+1/3*(o-e),c=s+1/3*(r-t);this.addBezier(e,t,a,s,l,c,o,r)},O.prototype.moveTo=function(e,t){this.commands.push({type:"M",x:e,y:t})},O.prototype.lineTo=function(e,t){this.commands.push({type:"L",x:e,y:t})},O.prototype.curveTo=O.prototype.bezierCurveTo=function(e,t,n,i,o,r){this.commands.push({type:"C",x1:e,y1:t,x2:n,y2:i,x:o,y:r})},O.prototype.quadTo=O.prototype.quadraticCurveTo=function(e,t,n,i){this.commands.push({type:"Q",x1:e,y1:t,x:n,y:i})},O.prototype.close=O.prototype.closePath=function(){this.commands.push({type:"Z"})},O.prototype.extend=function(e){if(e.commands)e=e.commands;else if(e instanceof _){var t=e;return this.moveTo(t.x1,t.y1),this.lineTo(t.x2,t.y1),this.lineTo(t.x2,t.y2),this.lineTo(t.x1,t.y2),void this.close()}Array.prototype.push.apply(this.commands,e)},O.prototype.getBoundingBox=function(){for(var e=new _,t=0,n=0,i=0,o=0,r=0;r<this.commands.length;r++){var a=this.commands[r];switch(a.type){case"M":e.addPoint(a.x,a.y),t=i=a.x,n=o=a.y;break;case"L":e.addPoint(a.x,a.y),i=a.x,o=a.y;break;case"Q":e.addQuad(i,o,a.x1,a.y1,a.x,a.y),i=a.x,o=a.y;break;case"C":e.addBezier(i,o,a.x1,a.y1,a.x2,a.y2,a.x,a.y),i=a.x,o=a.y;break;case"Z":i=t,o=n;break;default:throw new Error("Unexpected path command "+a.type)}}return e.isEmpty()&&e.addPoint(0,0),e},O.prototype.draw=function(e){e.beginPath();for(var t=0;t<this.commands.length;t+=1){var n=this.commands[t];"M"===n.type?e.moveTo(n.x,n.y):"L"===n.type?e.lineTo(n.x,n.y):"C"===n.type?e.bezierCurveTo(n.x1,n.y1,n.x2,n.y2,n.x,n.y):"Q"===n.type?e.quadraticCurveTo(n.x1,n.y1,n.x,n.y):"Z"===n.type&&e.closePath()}this.fill&&(e.fillStyle=this.fill,e.fill()),this.stroke&&(e.strokeStyle=this.stroke,e.lineWidth=this.strokeWidth,e.stroke())},O.prototype.toPathData=function(e){function t(t){return Math.round(t)===t?""+Math.round(t):t.toFixed(e)}function n(){for(var e=arguments,n="",i=0;i<arguments.length;i+=1){var o=e[i];o>=0&&i>0&&(n+=" "),n+=t(o)}return n}e=void 0!==e?e:2;for(var i="",o=0;o<this.commands.length;o+=1){var r=this.commands[o];"M"===r.type?i+="M"+n(r.x,r.y):"L"===r.type?i+="L"+n(r.x,r.y):"C"===r.type?i+="C"+n(r.x1,r.y1,r.x2,r.y2,r.x,r.y):"Q"===r.type?i+="Q"+n(r.x1,r.y1,r.x,r.y):"Z"===r.type&&(i+="Z")}return i},O.prototype.toSVG=function(e){var t='<path d="';return t+=this.toPathData(e),t+='"',this.fill&&"black"!==this.fill&&(null===this.fill?t+=' fill="none"':t+=' fill="'+this.fill+'"'),this.stroke&&(t+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),t+"/>"},O.prototype.toDOMElement=function(e){var t=this.toPathData(e),n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",t),n};var T={fail:P,argument:E,assert:E},j={},R={},N={};function A(e){return function(){return e}}R.BYTE=function(e){return T.argument(e>=0&&e<=255,"Byte value should be between 0 and 255."),[e]},N.BYTE=A(1),R.CHAR=function(e){return[e.charCodeAt(0)]},N.CHAR=A(1),R.CHARARRAY=function(e){for(var t=[],n=0;n<e.length;n+=1)t[n]=e.charCodeAt(n);return t},N.CHARARRAY=function(e){return e.length},R.USHORT=function(e){return[e>>8&255,255&e]},N.USHORT=A(2),R.SHORT=function(e){return e>=32768&&(e=-(65536-e)),[e>>8&255,255&e]},N.SHORT=A(2),R.UINT24=function(e){return[e>>16&255,e>>8&255,255&e]},N.UINT24=A(3),R.ULONG=function(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]},N.ULONG=A(4),R.LONG=function(e){return e>=2147483648&&(e=-(4294967296-e)),[e>>24&255,e>>16&255,e>>8&255,255&e]},N.LONG=A(4),R.FIXED=R.ULONG,N.FIXED=N.ULONG,R.FWORD=R.SHORT,N.FWORD=N.SHORT,R.UFWORD=R.USHORT,N.UFWORD=N.USHORT,R.LONGDATETIME=function(e){return[0,0,0,0,e>>24&255,e>>16&255,e>>8&255,255&e]},N.LONGDATETIME=A(8),R.TAG=function(e){return T.argument(4===e.length,"Tag should be exactly 4 ASCII characters."),[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]},N.TAG=A(4),R.Card8=R.BYTE,N.Card8=N.BYTE,R.Card16=R.USHORT,N.Card16=N.USHORT,R.OffSize=R.BYTE,N.OffSize=N.BYTE,R.SID=R.USHORT,N.SID=N.USHORT,R.NUMBER=function(e){return e>=-107&&e<=107?[e+139]:e>=108&&e<=1131?[247+((e-=108)>>8),255&e]:e>=-1131&&e<=-108?[251+((e=-e-108)>>8),255&e]:e>=-32768&&e<=32767?R.NUMBER16(e):R.NUMBER32(e)},N.NUMBER=function(e){return R.NUMBER(e).length},R.NUMBER16=function(e){return[28,e>>8&255,255&e]},N.NUMBER16=A(3),R.NUMBER32=function(e){return[29,e>>24&255,e>>16&255,e>>8&255,255&e]},N.NUMBER32=A(5),R.REAL=function(e){var t=e.toString(),n=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(t);if(n){var i=parseFloat("1e"+((n[2]?+n[2]:0)+n[1].length));t=(Math.round(e*i)/i).toString()}for(var o="",r=0,a=t.length;r<a;r+=1){var s=t[r];o+="e"===s?"-"===t[++r]?"c":"b":"."===s?"a":"-"===s?"e":s}for(var l=[30],c=0,u=(o+=1&o.length?"f":"ff").length;c<u;c+=2)l.push(parseInt(o.substr(c,2),16));return l},N.REAL=function(e){return R.REAL(e).length},R.NAME=R.CHARARRAY,N.NAME=N.CHARARRAY,R.STRING=R.CHARARRAY,N.STRING=N.CHARARRAY,j.UTF8=function(e,t,n){for(var i=[],o=n,r=0;r<o;r++,t+=1)i[r]=e.getUint8(t);return String.fromCharCode.apply(null,i)},j.UTF16=function(e,t,n){for(var i=[],o=n/2,r=0;r<o;r++,t+=2)i[r]=e.getUint16(t);return String.fromCharCode.apply(null,i)},R.UTF16=function(e){for(var t=[],n=0;n<e.length;n+=1){var i=e.charCodeAt(n);t[t.length]=i>>8&255,t[t.length]=255&i}return t},N.UTF16=function(e){return 2*e.length};var D={"x-mac-croatian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\u0160\u2122\xb4\xa8\u2260\u017d\xd8\u221e\xb1\u2264\u2265\u2206\xb5\u2202\u2211\u220f\u0161\u222b\xaa\xba\u03a9\u017e\xf8\xbf\xa1\xac\u221a\u0192\u2248\u0106\xab\u010c\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u0110\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\uf8ff\xa9\u2044\u20ac\u2039\u203a\xc6\xbb\u2013\xb7\u201a\u201e\u2030\xc2\u0107\xc1\u010d\xc8\xcd\xce\xcf\xcc\xd3\xd4\u0111\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u03c0\xcb\u02da\xb8\xca\xe6\u02c7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041a\u041b\u041c\u041d\u041e\u041f\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042a\u042b\u042c\u042d\u042e\u042f\u2020\xb0\u0490\xa3\xa7\u2022\xb6\u0406\xae\xa9\u2122\u0402\u0452\u2260\u0403\u0453\u221e\xb1\u2264\u2265\u0456\xb5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040a\u045a\u0458\u0405\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\u040b\u045b\u040c\u045c\u0455\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u201e\u040e\u045e\u040f\u045f\u2116\u0401\u0451\u044f\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e","x-mac-gaelic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u1e02\xb1\u2264\u2265\u1e03\u010a\u010b\u1e0a\u1e0b\u1e1e\u1e1f\u0120\u0121\u1e40\xe6\xf8\u1e41\u1e56\u1e57\u027c\u0192\u017f\u1e60\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\u1e61\u1e9b\xff\u0178\u1e6a\u20ac\u2039\u203a\u0176\u0177\u1e6b\xb7\u1ef2\u1ef3\u204a\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\u2663\xd2\xda\xdb\xd9\u0131\xdd\xfd\u0174\u0175\u1e84\u1e85\u1e80\u1e81\u1e82\u1e83","x-mac-greek":"\xc4\xb9\xb2\xc9\xb3\xd6\xdc\u0385\xe0\xe2\xe4\u0384\xa8\xe7\xe9\xe8\xea\xeb\xa3\u2122\xee\xef\u2022\xbd\u2030\xf4\xf6\xa6\u20ac\xf9\xfb\xfc\u2020\u0393\u0394\u0398\u039b\u039e\u03a0\xdf\xae\xa9\u03a3\u03aa\xa7\u2260\xb0\xb7\u0391\xb1\u2264\u2265\xa5\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u03a6\u03ab\u03a8\u03a9\u03ac\u039d\xac\u039f\u03a1\u2248\u03a4\xab\xbb\u2026\xa0\u03a5\u03a7\u0386\u0388\u0153\u2013\u2015\u201c\u201d\u2018\u2019\xf7\u0389\u038a\u038c\u038e\u03ad\u03ae\u03af\u03cc\u038f\u03cd\u03b1\u03b2\u03c8\u03b4\u03b5\u03c6\u03b3\u03b7\u03b9\u03be\u03ba\u03bb\u03bc\u03bd\u03bf\u03c0\u03ce\u03c1\u03c3\u03c4\u03b8\u03c9\u03c2\u03c7\u03c5\u03b6\u03ca\u03cb\u0390\u03b0\xad","x-mac-icelandic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xdd\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\xd0\xf0\xde\xfe\xfd\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140a\u140b\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144e\u144f\u1450\u1451\u1455\u1456\u1466\u146d\u146e\u146f\u1470\u1472\u1473\u1483\u148b\u148c\u148d\u148e\u1490\u1491\xb0\u14a1\u14a5\u14a6\u2022\xb6\u14a7\xae\xa9\u2122\u14a8\u14aa\u14ab\u14bb\u14c2\u14c3\u14c4\u14c5\u14c7\u14c8\u14d0\u14ef\u14f0\u14f1\u14f2\u14f4\u14f5\u1505\u14d5\u14d6\u14d7\u14d8\u14da\u14db\u14ea\u1528\u1529\u152a\u152b\u152d\u2026\xa0\u152e\u153e\u1555\u1556\u1557\u2013\u2014\u201c\u201d\u2018\u2019\u1558\u1559\u155a\u155d\u1546\u1547\u1548\u1549\u154b\u154c\u1550\u157f\u1580\u1581\u1582\u1583\u1584\u1585\u158f\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15a0\u15a1\u15a2\u15a3\u15a4\u15a5\u15a6\u157c\u0141\u0142","x-mac-ce":"\xc4\u0100\u0101\xc9\u0104\xd6\xdc\xe1\u0105\u010c\xe4\u010d\u0106\u0107\xe9\u0179\u017a\u010e\xed\u010f\u0112\u0113\u0116\xf3\u0117\xf4\xf6\xf5\xfa\u011a\u011b\xfc\u2020\xb0\u0118\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\u0119\xa8\u2260\u0123\u012e\u012f\u012a\u2264\u2265\u012b\u0136\u2202\u2211\u0142\u013b\u013c\u013d\u013e\u0139\u013a\u0145\u0146\u0143\xac\u221a\u0144\u0147\u2206\xab\xbb\u2026\xa0\u0148\u0150\xd5\u0151\u014c\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\u014d\u0154\u0155\u0158\u2039\u203a\u0159\u0156\u0157\u0160\u201a\u201e\u0161\u015a\u015b\xc1\u0164\u0165\xcd\u017d\u017e\u016a\xd3\xd4\u016b\u016e\xda\u016f\u0170\u0171\u0172\u0173\xdd\xfd\u0137\u017b\u0141\u017c\u0122\u02c7",macintosh:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\ufb01\ufb02\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-romanian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\u0102\u0218\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\u0103\u0219\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\u021a\u021b\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-turkish":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u011e\u011f\u0130\u0131\u015e\u015f\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\uf8a0\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7"};j.MACSTRING=function(e,t,n,i){var o=D[i];if(void 0!==o){for(var r="",a=0;a<n;a++){var s=e.getUint8(t+a);r+=s<=127?String.fromCharCode(s):o[127&s]}return r}};var B,I="function"==typeof WeakMap&&new WeakMap;function L(e){return e>=-128&&e<=127}function U(e,t,n){for(var i=0,o=e.length;t<o&&i<64&&0===e[t];)++t,++i;return n.push(128|i-1),t}function F(e,t,n){for(var i=0,o=e.length,r=t;r<o&&i<64;){var a=e[r];if(!L(a))break;if(0===a&&r+1<o&&0===e[r+1])break;++r,++i}n.push(i-1);for(var s=t;s<r;++s)n.push(e[s]+256&255);return r}function z(e,t,n){for(var i=0,o=e.length,r=t;r<o&&i<64;){var a=e[r];if(0===a)break;if(L(a)&&r+1<o&&L(e[r+1]))break;++r,++i}n.push(64|i-1);for(var s=t;s<r;++s){var l=e[s];n.push(l+65536>>8&255,l+256&255)}return r}R.MACSTRING=function(e,t){var n=function(e){if(!B)for(var t in B={},D)B[t]=new String(t);var n=B[e];if(void 0!==n){if(I){var i=I.get(n);if(void 0!==i)return i}var o=D[e];if(void 0!==o){for(var r={},a=0;a<o.length;a++)r[o.charCodeAt(a)]=a+128;return I&&I.set(n,r),r}}}(t);if(void 0!==n){for(var i=[],o=0;o<e.length;o++){var r=e.charCodeAt(o);if(r>=128&&void 0===(r=n[r]))return;i[o]=r}return i}},N.MACSTRING=function(e,t){var n=R.MACSTRING(e,t);return void 0!==n?n.length:0},R.VARDELTAS=function(e){for(var t=0,n=[];t<e.length;){var i=e[t];t=0===i?U(e,t,n):i>=-128&&i<=127?F(e,t,n):z(e,t,n)}return n},R.INDEX=function(e){for(var t=1,n=[t],i=[],o=0;o<e.length;o+=1){var r=R.OBJECT(e[o]);Array.prototype.push.apply(i,r),t+=r.length,n.push(t)}if(0===i.length)return[0,0];for(var a=[],s=1+Math.floor(Math.log(t)/Math.log(2))/8|0,l=[void 0,R.BYTE,R.USHORT,R.UINT24,R.ULONG][s],c=0;c<n.length;c+=1){var u=l(n[c]);Array.prototype.push.apply(a,u)}return Array.prototype.concat(R.Card16(e.length),R.OffSize(s),a,i)},N.INDEX=function(e){return R.INDEX(e).length},R.DICT=function(e){for(var t=[],n=Object.keys(e),i=n.length,o=0;o<i;o+=1){var r=parseInt(n[o],0),a=e[r];t=(t=t.concat(R.OPERAND(a.value,a.type))).concat(R.OPERATOR(r))}return t},N.DICT=function(e){return R.DICT(e).length},R.OPERATOR=function(e){return e<1200?[e]:[12,e-1200]},R.OPERAND=function(e,t){var n=[];if(Array.isArray(t))for(var i=0;i<t.length;i+=1)T.argument(e.length===t.length,"Not enough arguments given for type"+t),n=n.concat(R.OPERAND(e[i],t[i]));else if("SID"===t)n=n.concat(R.NUMBER(e));else if("offset"===t)n=n.concat(R.NUMBER32(e));else if("number"===t)n=n.concat(R.NUMBER(e));else{if("real"!==t)throw new Error("Unknown operand type "+t);n=n.concat(R.REAL(e))}return n},R.OP=R.BYTE,N.OP=N.BYTE;var H="function"==typeof WeakMap&&new WeakMap;function V(e,t,n){for(var i=0;i<t.length;i+=1){var o=t[i];this[o.name]=o.value}if(this.tableName=e,this.fields=t,n)for(var r=Object.keys(n),a=0;a<r.length;a+=1){var s=r[a],l=n[s];void 0!==this[s]&&(this[s]=l)}}function W(e,t,n){void 0===n&&(n=t.length);var i=new Array(t.length+1);i[0]={name:e+"Count",type:"USHORT",value:n};for(var o=0;o<t.length;o++)i[o+1]={name:e+o,type:"USHORT",value:t[o]};return i}function $(e,t,n){var i=t.length,o=new Array(i+1);o[0]={name:e+"Count",type:"USHORT",value:i};for(var r=0;r<i;r++)o[r+1]={name:e+r,type:"TABLE",value:n(t[r],r)};return o}function K(e,t,n){var i=t.length,o=[];o[0]={name:e+"Count",type:"USHORT",value:i};for(var r=0;r<i;r++)o=o.concat(n(t[r],r));return o}function G(e){1===e.format?V.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(W("glyph",e.glyphs))):T.assert(!1,"Can't create coverage table format 2 yet.")}function q(e){V.call(this,"scriptListTable",K("scriptRecord",e,(function(e,t){var n=e.script,i=n.defaultLangSys;return T.assert(!!i,"Unable to write GSUB: script "+e.tag+" has no default language system."),[{name:"scriptTag"+t,type:"TAG",value:e.tag},{name:"script"+t,type:"TABLE",value:new V("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new V("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:i.reqFeatureIndex}].concat(W("featureIndex",i.featureIndexes)))}].concat(K("langSys",n.langSysRecords,(function(e,t){var n=e.langSys;return[{name:"langSysTag"+t,type:"TAG",value:e.tag},{name:"langSys"+t,type:"TABLE",value:new V("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:n.reqFeatureIndex}].concat(W("featureIndex",n.featureIndexes)))}]}))))}]})))}function Y(e){V.call(this,"featureListTable",K("featureRecord",e,(function(e,t){var n=e.feature;return[{name:"featureTag"+t,type:"TAG",value:e.tag},{name:"feature"+t,type:"TABLE",value:new V("featureTable",[{name:"featureParams",type:"USHORT",value:n.featureParams}].concat(W("lookupListIndex",n.lookupListIndexes)))}]})))}function X(e,t){V.call(this,"lookupListTable",$("lookup",e,(function(e){var n=t[e.lookupType];return T.assert(!!n,"Unable to write GSUB lookup type "+e.lookupType+" tables."),new V("lookupTable",[{name:"lookupType",type:"USHORT",value:e.lookupType},{name:"lookupFlag",type:"USHORT",value:e.lookupFlag}].concat($("subtable",e.subtables,n)))})))}R.CHARSTRING=function(e){if(H){var t=H.get(e);if(void 0!==t)return t}for(var n=[],i=e.length,o=0;o<i;o+=1){var r=e[o];n=n.concat(R[r.type](r.value))}return H&&H.set(e,n),n},N.CHARSTRING=function(e){return R.CHARSTRING(e).length},R.OBJECT=function(e){var t=R[e.type];return T.argument(void 0!==t,"No encoding function for type "+e.type),t(e.value)},N.OBJECT=function(e){var t=N[e.type];return T.argument(void 0!==t,"No sizeOf function for type "+e.type),t(e.value)},R.TABLE=function(e){for(var t=[],n=e.fields.length,i=[],o=[],r=0;r<n;r+=1){var a=e.fields[r],s=R[a.type];T.argument(void 0!==s,"No encoding function for field type "+a.type+" ("+a.name+")");var l=e[a.name];void 0===l&&(l=a.value);var c=s(l);"TABLE"===a.type?(o.push(t.length),t=t.concat([0,0]),i.push(c)):t=t.concat(c)}for(var u=0;u<i.length;u+=1){var d=o[u],p=t.length;T.argument(p<65536,"Table "+e.tableName+" too big."),t[d]=p>>8,t[d+1]=255&p,t=t.concat(i[u])}return t},N.TABLE=function(e){for(var t=0,n=e.fields.length,i=0;i<n;i+=1){var o=e.fields[i],r=N[o.type];T.argument(void 0!==r,"No sizeOf function for field type "+o.type+" ("+o.name+")");var a=e[o.name];void 0===a&&(a=o.value),t+=r(a),"TABLE"===o.type&&(t+=2)}return t},R.RECORD=R.TABLE,N.RECORD=N.TABLE,R.LITERAL=function(e){return e},N.LITERAL=function(e){return e.length},V.prototype.encode=function(){return R.TABLE(this)},V.prototype.sizeOf=function(){return N.TABLE(this)},G.prototype=Object.create(V.prototype),G.prototype.constructor=G,q.prototype=Object.create(V.prototype),q.prototype.constructor=q,Y.prototype=Object.create(V.prototype),Y.prototype.constructor=Y,X.prototype=Object.create(V.prototype),X.prototype.constructor=X;var J={Table:V,Record:V,Coverage:G,ScriptList:q,FeatureList:Y,LookupList:X,ushortList:W,tableList:$,recordList:K};function Q(e,t){return e.getUint8(t)}function Z(e,t){return e.getUint16(t,!1)}function ee(e,t){return e.getUint32(t,!1)}function te(e,t){return e.getInt16(t,!1)+e.getUint16(t+2,!1)/65535}var ne={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function ie(e,t){this.data=e,this.offset=t,this.relativeOffset=0}ie.prototype.parseByte=function(){var e=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},ie.prototype.parseChar=function(){var e=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},ie.prototype.parseCard8=ie.prototype.parseByte,ie.prototype.parseUShort=function(){var e=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},ie.prototype.parseCard16=ie.prototype.parseUShort,ie.prototype.parseSID=ie.prototype.parseUShort,ie.prototype.parseOffset16=ie.prototype.parseUShort,ie.prototype.parseShort=function(){var e=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},ie.prototype.parseF2Dot14=function(){var e=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,e},ie.prototype.parseULong=function(){var e=ee(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},ie.prototype.parseOffset32=ie.prototype.parseULong,ie.prototype.parseFixed=function(){var e=te(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},ie.prototype.parseString=function(e){var t=this.data,n=this.offset+this.relativeOffset,i="";this.relativeOffset+=e;for(var o=0;o<e;o++)i+=String.fromCharCode(t.getUint8(n+o));return i},ie.prototype.parseTag=function(){return this.parseString(4)},ie.prototype.parseLongDateTime=function(){var e=ee(this.data,this.offset+this.relativeOffset+4);return e-=2082844800,this.relativeOffset+=8,e},ie.prototype.parseVersion=function(e){var t=Z(this.data,this.offset+this.relativeOffset),n=Z(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,void 0===e&&(e=4096),t+n/e/10},ie.prototype.skip=function(e,t){void 0===t&&(t=1),this.relativeOffset+=ne[e]*t},ie.prototype.parseULongList=function(e){void 0===e&&(e=this.parseULong());for(var t=new Array(e),n=this.data,i=this.offset+this.relativeOffset,o=0;o<e;o++)t[o]=n.getUint32(i),i+=4;return this.relativeOffset+=4*e,t},ie.prototype.parseOffset16List=ie.prototype.parseUShortList=function(e){void 0===e&&(e=this.parseUShort());for(var t=new Array(e),n=this.data,i=this.offset+this.relativeOffset,o=0;o<e;o++)t[o]=n.getUint16(i),i+=2;return this.relativeOffset+=2*e,t},ie.prototype.parseShortList=function(e){for(var t=new Array(e),n=this.data,i=this.offset+this.relativeOffset,o=0;o<e;o++)t[o]=n.getInt16(i),i+=2;return this.relativeOffset+=2*e,t},ie.prototype.parseByteList=function(e){for(var t=new Array(e),n=this.data,i=this.offset+this.relativeOffset,o=0;o<e;o++)t[o]=n.getUint8(i++);return this.relativeOffset+=e,t},ie.prototype.parseList=function(e,t){t||(t=e,e=this.parseUShort());for(var n=new Array(e),i=0;i<e;i++)n[i]=t.call(this);return n},ie.prototype.parseList32=function(e,t){t||(t=e,e=this.parseULong());for(var n=new Array(e),i=0;i<e;i++)n[i]=t.call(this);return n},ie.prototype.parseRecordList=function(e,t){t||(t=e,e=this.parseUShort());for(var n=new Array(e),i=Object.keys(t),o=0;o<e;o++){for(var r={},a=0;a<i.length;a++){var s=i[a],l=t[s];r[s]=l.call(this)}n[o]=r}return n},ie.prototype.parseRecordList32=function(e,t){t||(t=e,e=this.parseULong());for(var n=new Array(e),i=Object.keys(t),o=0;o<e;o++){for(var r={},a=0;a<i.length;a++){var s=i[a],l=t[s];r[s]=l.call(this)}n[o]=r}return n},ie.prototype.parseStruct=function(e){if("function"==typeof e)return e.call(this);for(var t=Object.keys(e),n={},i=0;i<t.length;i++){var o=t[i],r=e[o];n[o]=r.call(this)}return n},ie.prototype.parseValueRecord=function(e){if(void 0===e&&(e=this.parseUShort()),0!==e){var t={};return 1&e&&(t.xPlacement=this.parseShort()),2&e&&(t.yPlacement=this.parseShort()),4&e&&(t.xAdvance=this.parseShort()),8&e&&(t.yAdvance=this.parseShort()),16&e&&(t.xPlaDevice=void 0,this.parseShort()),32&e&&(t.yPlaDevice=void 0,this.parseShort()),64&e&&(t.xAdvDevice=void 0,this.parseShort()),128&e&&(t.yAdvDevice=void 0,this.parseShort()),t}},ie.prototype.parseValueRecordList=function(){for(var e=this.parseUShort(),t=this.parseUShort(),n=new Array(t),i=0;i<t;i++)n[i]=this.parseValueRecord(e);return n},ie.prototype.parsePointer=function(e){var t=this.parseOffset16();if(t>0)return new ie(this.data,this.offset+t).parseStruct(e)},ie.prototype.parsePointer32=function(e){var t=this.parseOffset32();if(t>0)return new ie(this.data,this.offset+t).parseStruct(e)},ie.prototype.parseListOfLists=function(e){for(var t=this.parseOffset16List(),n=t.length,i=this.relativeOffset,o=new Array(n),r=0;r<n;r++){var a=t[r];if(0!==a)if(this.relativeOffset=a,e){for(var s=this.parseOffset16List(),l=new Array(s.length),c=0;c<s.length;c++)this.relativeOffset=a+s[c],l[c]=e.call(this);o[r]=l}else o[r]=this.parseUShortList();else o[r]=void 0}return this.relativeOffset=i,o},ie.prototype.parseCoverage=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort(),n=this.parseUShort();if(1===t)return{format:1,glyphs:this.parseUShortList(n)};if(2===t){for(var i=new Array(n),o=0;o<n;o++)i[o]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:i}}throw new Error("0x"+e.toString(16)+": Coverage format must be 1 or 2.")},ie.prototype.parseClassDef=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(1===t)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===t)return{format:2,ranges:this.parseRecordList({start:ie.uShort,end:ie.uShort,classId:ie.uShort})};throw new Error("0x"+e.toString(16)+": ClassDef format must be 1 or 2.")},ie.list=function(e,t){return function(){return this.parseList(e,t)}},ie.list32=function(e,t){return function(){return this.parseList32(e,t)}},ie.recordList=function(e,t){return function(){return this.parseRecordList(e,t)}},ie.recordList32=function(e,t){return function(){return this.parseRecordList32(e,t)}},ie.pointer=function(e){return function(){return this.parsePointer(e)}},ie.pointer32=function(e){return function(){return this.parsePointer32(e)}},ie.tag=ie.prototype.parseTag,ie.byte=ie.prototype.parseByte,ie.uShort=ie.offset16=ie.prototype.parseUShort,ie.uShortList=ie.prototype.parseUShortList,ie.uLong=ie.offset32=ie.prototype.parseULong,ie.uLongList=ie.prototype.parseULongList,ie.struct=ie.prototype.parseStruct,ie.coverage=ie.prototype.parseCoverage,ie.classDef=ie.prototype.parseClassDef;var oe={reserved:ie.uShort,reqFeatureIndex:ie.uShort,featureIndexes:ie.uShortList};ie.prototype.parseScriptList=function(){return this.parsePointer(ie.recordList({tag:ie.tag,script:ie.pointer({defaultLangSys:ie.pointer(oe),langSysRecords:ie.recordList({tag:ie.tag,langSys:ie.pointer(oe)})})}))||[]},ie.prototype.parseFeatureList=function(){return this.parsePointer(ie.recordList({tag:ie.tag,feature:ie.pointer({featureParams:ie.offset16,lookupListIndexes:ie.uShortList})}))||[]},ie.prototype.parseLookupList=function(e){return this.parsePointer(ie.list(ie.pointer((function(){var t=this.parseUShort();T.argument(1<=t&&t<=9,"GPOS/GSUB lookup type "+t+" unknown.");var n=this.parseUShort(),i=16&n;return{lookupType:t,lookupFlag:n,subtables:this.parseList(ie.pointer(e[t])),markFilteringSet:i?this.parseUShort():void 0}}))))||[]},ie.prototype.parseFeatureVariationsList=function(){return this.parsePointer32((function(){var e=this.parseUShort(),t=this.parseUShort();return T.argument(1===e&&t<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:ie.offset32,featureTableSubstitutionOffset:ie.offset32})}))||[]};var re={getByte:Q,getCard8:Q,getUShort:Z,getCard16:Z,getShort:function(e,t){return e.getInt16(t,!1)},getULong:ee,getFixed:te,getTag:function(e,t){for(var n="",i=t;i<t+4;i+=1)n+=String.fromCharCode(e.getInt8(i));return n},getOffset:function(e,t,n){for(var i=0,o=0;o<n;o+=1)i<<=8,i+=e.getUint8(t+o);return i},getBytes:function(e,t,n){for(var i=[],o=t;o<n;o+=1)i.push(e.getUint8(o));return i},bytesToString:function(e){for(var t="",n=0;n<e.length;n+=1)t+=String.fromCharCode(e[n]);return t},Parser:ie};function ae(e,t,n){e.segments.push({end:t,start:t,delta:-(t-n),offset:0,glyphIndex:n})}var se=function(e,t){var n={};n.version=re.getUShort(e,t),T.argument(0===n.version,"cmap table version should be 0."),n.numTables=re.getUShort(e,t+2);for(var i=-1,o=n.numTables-1;o>=0;o-=1){var r=re.getUShort(e,t+4+8*o),a=re.getUShort(e,t+4+8*o+2);if(3===r&&(0===a||1===a||10===a)||0===r&&(0===a||1===a||2===a||3===a||4===a)){i=re.getULong(e,t+4+8*o+4);break}}if(-1===i)throw new Error("No valid cmap sub-tables found.");var s=new re.Parser(e,t+i);if(n.format=s.parseUShort(),12===n.format)!function(e,t){var n;t.parseUShort(),e.length=t.parseULong(),e.language=t.parseULong(),e.groupCount=n=t.parseULong(),e.glyphIndexMap={};for(var i=0;i<n;i+=1)for(var o=t.parseULong(),r=t.parseULong(),a=t.parseULong(),s=o;s<=r;s+=1)e.glyphIndexMap[s]=a,a++}(n,s);else{if(4!==n.format)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+n.format+").");!function(e,t,n,i,o){var r;e.length=t.parseUShort(),e.language=t.parseUShort(),e.segCount=r=t.parseUShort()>>1,t.skip("uShort",3),e.glyphIndexMap={};for(var a=new re.Parser(n,i+o+14),s=new re.Parser(n,i+o+16+2*r),l=new re.Parser(n,i+o+16+4*r),c=new re.Parser(n,i+o+16+6*r),u=i+o+16+8*r,d=0;d<r-1;d+=1)for(var p=void 0,h=a.parseUShort(),f=s.parseUShort(),m=l.parseShort(),v=c.parseUShort(),g=f;g<=h;g+=1)0!==v?(u=c.offset+c.relativeOffset-2,u+=v,u+=2*(g-f),0!==(p=re.getUShort(n,u))&&(p=p+m&65535)):p=g+m&65535,e.glyphIndexMap[g]=p}(n,s,e,t,i)}return n},le=function(e){var t,n=!0;for(t=e.length-1;t>0;t-=1)if(e.get(t).unicode>65535){console.log("Adding CMAP format 12 (needed!)"),n=!1;break}var i=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:n?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:n?12:20}];n||(i=i.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),i=i.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var o=new J.Table("cmap",i);for(o.segments=[],t=0;t<e.length;t+=1){for(var r=e.get(t),a=0;a<r.unicodes.length;a+=1)ae(o,r.unicodes[a],t);o.segments=o.segments.sort((function(e,t){return e.start-t.start}))}!function(e){e.segments.push({end:65535,start:65535,delta:1,offset:0})}(o);var s=o.segments.length,l=0,c=[],u=[],d=[],p=[],h=[],f=[];for(t=0;t<s;t+=1){var m=o.segments[t];m.end<=65535&&m.start<=65535?(c=c.concat({name:"end_"+t,type:"USHORT",value:m.end}),u=u.concat({name:"start_"+t,type:"USHORT",value:m.start}),d=d.concat({name:"idDelta_"+t,type:"SHORT",value:m.delta}),p=p.concat({name:"idRangeOffset_"+t,type:"USHORT",value:m.offset}),void 0!==m.glyphId&&(h=h.concat({name:"glyph_"+t,type:"USHORT",value:m.glyphId}))):l+=1,n||void 0===m.glyphIndex||(f=(f=(f=f.concat({name:"cmap12Start_"+t,type:"ULONG",value:m.start})).concat({name:"cmap12End_"+t,type:"ULONG",value:m.end})).concat({name:"cmap12Glyph_"+t,type:"ULONG",value:m.glyphIndex}))}if(o.segCountX2=2*(s-l),o.searchRange=2*Math.pow(2,Math.floor(Math.log(s-l)/Math.log(2))),o.entrySelector=Math.log(o.searchRange/2)/Math.log(2),o.rangeShift=o.segCountX2-o.searchRange,o.fields=o.fields.concat(c),o.fields.push({name:"reservedPad",type:"USHORT",value:0}),o.fields=o.fields.concat(u),o.fields=o.fields.concat(d),o.fields=o.fields.concat(p),o.fields=o.fields.concat(h),o.cmap4Length=14+2*c.length+2+2*u.length+2*d.length+2*p.length+2*h.length,!n){var v=16+4*f.length;o.cmap12Offset=20+o.cmap4Length,o.fields=o.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:v},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:f.length/3}]),o.fields=o.fields.concat(f)}return o},ce=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],ue=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],de=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],pe=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function he(e){this.font=e}function fe(e){this.cmap=e}function me(e,t){this.encoding=e,this.charset=t}function ve(e){switch(e.version){case 1:this.names=pe.slice();break;case 2:this.names=new Array(e.numberOfGlyphs);for(var t=0;t<e.numberOfGlyphs;t++)e.glyphNameIndex[t]<pe.length?this.names[t]=pe[e.glyphNameIndex[t]]:this.names[t]=e.names[e.glyphNameIndex[t]-pe.length];break;case 2.5:this.names=new Array(e.numberOfGlyphs);for(var n=0;n<e.numberOfGlyphs;n++)this.names[n]=pe[n+e.glyphNameIndex[n]];break;case 3:default:this.names=[]}}he.prototype.charToGlyphIndex=function(e){var t=e.codePointAt(0),n=this.font.glyphs;if(n)for(var i=0;i<n.length;i+=1)for(var o=n.get(i),r=0;r<o.unicodes.length;r+=1)if(o.unicodes[r]===t)return i;return null},fe.prototype.charToGlyphIndex=function(e){return this.cmap.glyphIndexMap[e.codePointAt(0)]||0},me.prototype.charToGlyphIndex=function(e){var t=e.codePointAt(0),n=this.encoding[t];return this.charset.indexOf(n)},ve.prototype.nameToGlyphIndex=function(e){return this.names.indexOf(e)},ve.prototype.glyphIndexToName=function(e){return this.names[e]};var ge=function(e,t,n,i,o){e.beginPath(),e.moveTo(t,n),e.lineTo(i,o),e.stroke()};function ye(e){this.bindConstructorValues(e)}function be(e,t,n){Object.defineProperty(e,t,{get:function(){return e.path,e[n]},set:function(t){e[n]=t},enumerable:!0,configurable:!0})}function xe(e,t){if(this.font=e,this.glyphs={},Array.isArray(t))for(var n=0;n<t.length;n++){var i=t[n];i.path.unitsPerEm=e.unitsPerEm,this.glyphs[n]=i}this.length=t&&t.length||0}ye.prototype.bindConstructorValues=function(e){var t,n;this.index=e.index||0,this.name=e.name||null,this.unicode=e.unicode||void 0,this.unicodes=e.unicodes||void 0!==e.unicode?[e.unicode]:[],"xMin"in e&&(this.xMin=e.xMin),"yMin"in e&&(this.yMin=e.yMin),"xMax"in e&&(this.xMax=e.xMax),"yMax"in e&&(this.yMax=e.yMax),"advanceWidth"in e&&(this.advanceWidth=e.advanceWidth),Object.defineProperty(this,"path",(t=e.path,n=t||new O,{configurable:!0,get:function(){return"function"==typeof n&&(n=n()),n},set:function(e){n=e}}))},ye.prototype.addUnicode=function(e){0===this.unicodes.length&&(this.unicode=e),this.unicodes.push(e)},ye.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},ye.prototype.getPath=function(e,t,n,i,o){var r,a;e=void 0!==e?e:0,t=void 0!==t?t:0,n=void 0!==n?n:72,i||(i={});var s=i.xScale,l=i.yScale;if(i.hinting&&o&&o.hinting&&(a=this.path&&o.hinting.exec(this,n)),a)r=o.hinting.getCommands(a),e=Math.round(e),t=Math.round(t),s=l=1;else{r=this.path.commands;var c=1/(this.path.unitsPerEm||1e3)*n;void 0===s&&(s=c),void 0===l&&(l=c)}for(var u=new O,d=0;d<r.length;d+=1){var p=r[d];"M"===p.type?u.moveTo(e+p.x*s,t+-p.y*l):"L"===p.type?u.lineTo(e+p.x*s,t+-p.y*l):"Q"===p.type?u.quadraticCurveTo(e+p.x1*s,t+-p.y1*l,e+p.x*s,t+-p.y*l):"C"===p.type?u.curveTo(e+p.x1*s,t+-p.y1*l,e+p.x2*s,t+-p.y2*l,e+p.x*s,t+-p.y*l):"Z"===p.type&&u.closePath()}return u},ye.prototype.getContours=function(){if(void 0===this.points)return[];for(var e=[],t=[],n=0;n<this.points.length;n+=1){var i=this.points[n];t.push(i),i.lastPointOfContour&&(e.push(t),t=[])}return T.argument(0===t.length,"There are still points left in the current contour."),e},ye.prototype.getMetrics=function(){for(var e=this.path.commands,t=[],n=[],i=0;i<e.length;i+=1){var o=e[i];"Z"!==o.type&&(t.push(o.x),n.push(o.y)),"Q"!==o.type&&"C"!==o.type||(t.push(o.x1),n.push(o.y1)),"C"===o.type&&(t.push(o.x2),n.push(o.y2))}var r={xMin:Math.min.apply(null,t),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,t),yMax:Math.max.apply(null,n),leftSideBearing:this.leftSideBearing};return isFinite(r.xMin)||(r.xMin=0),isFinite(r.xMax)||(r.xMax=this.advanceWidth),isFinite(r.yMin)||(r.yMin=0),isFinite(r.yMax)||(r.yMax=0),r.rightSideBearing=this.advanceWidth-r.leftSideBearing-(r.xMax-r.xMin),r},ye.prototype.draw=function(e,t,n,i,o){this.getPath(t,n,i,o).draw(e)},ye.prototype.drawPoints=function(e,t,n,i){function o(t,n,i,o){e.beginPath();for(var r=0;r<t.length;r+=1)e.moveTo(n+t[r].x*o,i+t[r].y*o),e.arc(n+t[r].x*o,i+t[r].y*o,2,0,2*Math.PI,!1);e.closePath(),e.fill()}t=void 0!==t?t:0,n=void 0!==n?n:0,i=void 0!==i?i:24;for(var r=1/this.path.unitsPerEm*i,a=[],s=[],l=this.path,c=0;c<l.commands.length;c+=1){var u=l.commands[c];void 0!==u.x&&a.push({x:u.x,y:-u.y}),void 0!==u.x1&&s.push({x:u.x1,y:-u.y1}),void 0!==u.x2&&s.push({x:u.x2,y:-u.y2})}e.fillStyle="blue",o(a,t,n,r),e.fillStyle="red",o(s,t,n,r)},ye.prototype.drawMetrics=function(e,t,n,i){var o;t=void 0!==t?t:0,n=void 0!==n?n:0,i=void 0!==i?i:24,o=1/this.path.unitsPerEm*i,e.lineWidth=1,e.strokeStyle="black",ge(e,t,-1e4,t,1e4),ge(e,-1e4,n,1e4,n);var r=this.xMin||0,a=this.yMin||0,s=this.xMax||0,l=this.yMax||0,c=this.advanceWidth||0;e.strokeStyle="blue",ge(e,t+r*o,-1e4,t+r*o,1e4),ge(e,t+s*o,-1e4,t+s*o,1e4),ge(e,-1e4,n+-a*o,1e4,n+-a*o),ge(e,-1e4,n+-l*o,1e4,n+-l*o),e.strokeStyle="green",ge(e,t+c*o,-1e4,t+c*o,1e4)},xe.prototype.get=function(e){if(void 0===this.glyphs[e]){this.font._push(e),"function"==typeof this.glyphs[e]&&(this.glyphs[e]=this.glyphs[e]());var t=this.glyphs[e],n=this.font._IndexToUnicodeMap[e];if(n)for(var i=0;i<n.unicodes.length;i++)t.addUnicode(n.unicodes[i]);this.font.cffEncoding?this.font.isCIDFont?t.name="gid"+e:t.name=this.font.cffEncoding.charset[e]:this.font.glyphNames.names&&(t.name=this.font.glyphNames.glyphIndexToName(e)),this.glyphs[e].advanceWidth=this.font._hmtxTableData[e].advanceWidth,this.glyphs[e].leftSideBearing=this.font._hmtxTableData[e].leftSideBearing}else"function"==typeof this.glyphs[e]&&(this.glyphs[e]=this.glyphs[e]());return this.glyphs[e]},xe.prototype.push=function(e,t){this.glyphs[e]=t,this.length++};var we={GlyphSet:xe,glyphLoader:function(e,t){return new ye({index:t,font:e})},ttfGlyphLoader:function(e,t,n,i,o,r){return function(){var a=new ye({index:t,font:e});return a.path=function(){n(a,i,o);var t=r(e.glyphs,a);return t.unitsPerEm=e.unitsPerEm,t},be(a,"xMin","_xMin"),be(a,"xMax","_xMax"),be(a,"yMin","_yMin"),be(a,"yMax","_yMax"),a}},cffGlyphLoader:function(e,t,n,i){return function(){var o=new ye({index:t,font:e});return o.path=function(){var t=n(e,o,i);return t.unitsPerEm=e.unitsPerEm,t},o}}};function Se(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n+=1)if(!Se(e[n],t[n]))return!1;return!0}return!1}function ke(e){return e.length<1240?107:e.length<33900?1131:32768}function Ce(e,t,n){var i,o,r=[],a=[],s=re.getCard16(e,t);if(0!==s){var l=re.getByte(e,t+2);i=t+(s+1)*l+2;for(var c=t+3,u=0;u<s+1;u+=1)r.push(re.getOffset(e,c,l)),c+=l;o=i+r[s]}else o=t+2;for(var d=0;d<r.length-1;d+=1){var p=re.getBytes(e,i+r[d],i+r[d+1]);n&&(p=n(p)),a.push(p)}return{objects:a,startOffset:t,endOffset:o}}function Me(e,t){if(28===t)return e.parseByte()<<8|e.parseByte();if(29===t)return e.parseByte()<<24|e.parseByte()<<16|e.parseByte()<<8|e.parseByte();if(30===t)return function(e){for(var t="",n=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var i=e.parseByte(),o=i>>4,r=15&i;if(15===o)break;if(t+=n[o],15===r)break;t+=n[r]}return parseFloat(t)}(e);if(t>=32&&t<=246)return t-139;if(t>=247&&t<=250)return 256*(t-247)+e.parseByte()+108;if(t>=251&&t<=254)return 256*-(t-251)-e.parseByte()-108;throw new Error("Invalid b0 "+t)}function _e(e,t,n){t=void 0!==t?t:0;var i=new re.Parser(e,t),o=[],r=[];for(n=void 0!==n?n:e.length;i.relativeOffset<n;){var a=i.parseByte();a<=21?(12===a&&(a=1200+i.parseByte()),o.push([a,r]),r=[]):r.push(Me(i,a))}return function(e){for(var t={},n=0;n<e.length;n+=1){var i,o=e[n][0],r=e[n][1];if(i=1===r.length?r[0]:r,t.hasOwnProperty(o)&&!isNaN(t[o]))throw new Error("Object "+t+" already has key "+o);t[o]=i}return t}(o)}function Oe(e,t){return t<=390?ce[t]:e[t-391]}function Pe(e,t,n){for(var i,o={},r=0;r<t.length;r+=1){var a=t[r];if(Array.isArray(a.type)){var s=[];s.length=a.type.length;for(var l=0;l<a.type.length;l++)void 0===(i=void 0!==e[a.op]?e[a.op][l]:void 0)&&(i=void 0!==a.value&&void 0!==a.value[l]?a.value[l]:null),"SID"===a.type[l]&&(i=Oe(n,i)),s[l]=i;o[a.name]=s}else void 0===(i=e[a.op])&&(i=void 0!==a.value?a.value:null),"SID"===a.type&&(i=Oe(n,i)),o[a.name]=i}return o}var Ee=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Te=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function je(e,t){return Pe(_e(e,0,e.byteLength),Ee,t)}function Re(e,t,n,i){return Pe(_e(e,t,n),Te,i)}function Ne(e,t,n,i){for(var o=[],r=0;r<n.length;r+=1){var a=je(new DataView(new Uint8Array(n[r]).buffer),i);a._subrs=[],a._subrsBias=0;var s=a.private[0],l=a.private[1];if(0!==s&&0!==l){var c=Re(e,l+t,s,i);if(a._defaultWidthX=c.defaultWidthX,a._nominalWidthX=c.nominalWidthX,0!==c.subrs){var u=Ce(e,l+c.subrs+t);a._subrs=u.objects,a._subrsBias=ke(a._subrs)}a._privateDict=c}o.push(a)}return o}function Ae(e,t,n){var i,o,r,a,s,l,c,u,d=new O,p=[],h=0,f=!1,m=!1,v=0,g=0;if(e.isCIDFont){var y=e.tables.cff.topDict._fdSelect[t.index],b=e.tables.cff.topDict._fdArray[y];s=b._subrs,l=b._subrsBias,c=b._defaultWidthX,u=b._nominalWidthX}else s=e.tables.cff.topDict._subrs,l=e.tables.cff.topDict._subrsBias,c=e.tables.cff.topDict._defaultWidthX,u=e.tables.cff.topDict._nominalWidthX;var x=c;function w(e,t){m&&d.closePath(),d.moveTo(e,t),m=!0}function S(){p.length%2!=0&&!f&&(x=p.shift()+u),h+=p.length>>1,p.length=0,f=!0}return function n(c){for(var y,b,k,C,M,_,O,P,E,T,j,R,N=0;N<c.length;){var A=c[N];switch(N+=1,A){case 1:case 3:S();break;case 4:p.length>1&&!f&&(x=p.shift()+u,f=!0),g+=p.pop(),w(v,g);break;case 5:for(;p.length>0;)v+=p.shift(),g+=p.shift(),d.lineTo(v,g);break;case 6:for(;p.length>0&&(v+=p.shift(),d.lineTo(v,g),0!==p.length);)g+=p.shift(),d.lineTo(v,g);break;case 7:for(;p.length>0&&(g+=p.shift(),d.lineTo(v,g),0!==p.length);)v+=p.shift(),d.lineTo(v,g);break;case 8:for(;p.length>0;)i=v+p.shift(),o=g+p.shift(),r=i+p.shift(),a=o+p.shift(),v=r+p.shift(),g=a+p.shift(),d.curveTo(i,o,r,a,v,g);break;case 10:M=p.pop()+l,(_=s[M])&&n(_);break;case 11:return;case 12:switch(A=c[N],N+=1,A){case 35:i=v+p.shift(),o=g+p.shift(),r=i+p.shift(),a=o+p.shift(),O=r+p.shift(),P=a+p.shift(),E=O+p.shift(),T=P+p.shift(),j=E+p.shift(),R=T+p.shift(),v=j+p.shift(),g=R+p.shift(),p.shift(),d.curveTo(i,o,r,a,O,P),d.curveTo(E,T,j,R,v,g);break;case 34:i=v+p.shift(),o=g,r=i+p.shift(),a=o+p.shift(),O=r+p.shift(),P=a,E=O+p.shift(),T=a,j=E+p.shift(),R=g,v=j+p.shift(),d.curveTo(i,o,r,a,O,P),d.curveTo(E,T,j,R,v,g);break;case 36:i=v+p.shift(),o=g+p.shift(),r=i+p.shift(),a=o+p.shift(),O=r+p.shift(),P=a,E=O+p.shift(),T=a,j=E+p.shift(),R=T+p.shift(),v=j+p.shift(),d.curveTo(i,o,r,a,O,P),d.curveTo(E,T,j,R,v,g);break;case 37:i=v+p.shift(),o=g+p.shift(),r=i+p.shift(),a=o+p.shift(),O=r+p.shift(),P=a+p.shift(),E=O+p.shift(),T=P+p.shift(),j=E+p.shift(),R=T+p.shift(),Math.abs(j-v)>Math.abs(R-g)?v=j+p.shift():g=R+p.shift(),d.curveTo(i,o,r,a,O,P),d.curveTo(E,T,j,R,v,g);break;default:console.log("Glyph "+t.index+": unknown operator 1200"+A),p.length=0}break;case 14:p.length>0&&!f&&(x=p.shift()+u,f=!0),m&&(d.closePath(),m=!1);break;case 18:S();break;case 19:case 20:S(),N+=h+7>>3;break;case 21:p.length>2&&!f&&(x=p.shift()+u,f=!0),g+=p.pop(),w(v+=p.pop(),g);break;case 22:p.length>1&&!f&&(x=p.shift()+u,f=!0),w(v+=p.pop(),g);break;case 23:S();break;case 24:for(;p.length>2;)i=v+p.shift(),o=g+p.shift(),r=i+p.shift(),a=o+p.shift(),v=r+p.shift(),g=a+p.shift(),d.curveTo(i,o,r,a,v,g);v+=p.shift(),g+=p.shift(),d.lineTo(v,g);break;case 25:for(;p.length>6;)v+=p.shift(),g+=p.shift(),d.lineTo(v,g);i=v+p.shift(),o=g+p.shift(),r=i+p.shift(),a=o+p.shift(),v=r+p.shift(),g=a+p.shift(),d.curveTo(i,o,r,a,v,g);break;case 26:for(p.length%2&&(v+=p.shift());p.length>0;)i=v,o=g+p.shift(),r=i+p.shift(),a=o+p.shift(),v=r,g=a+p.shift(),d.curveTo(i,o,r,a,v,g);break;case 27:for(p.length%2&&(g+=p.shift());p.length>0;)i=v+p.shift(),o=g,r=i+p.shift(),a=o+p.shift(),v=r+p.shift(),g=a,d.curveTo(i,o,r,a,v,g);break;case 28:y=c[N],b=c[N+1],p.push((y<<24|b<<16)>>16),N+=2;break;case 29:M=p.pop()+e.gsubrsBias,(_=e.gsubrs[M])&&n(_);break;case 30:for(;p.length>0&&(i=v,o=g+p.shift(),r=i+p.shift(),a=o+p.shift(),v=r+p.shift(),g=a+(1===p.length?p.shift():0),d.curveTo(i,o,r,a,v,g),0!==p.length);)i=v+p.shift(),o=g,r=i+p.shift(),a=o+p.shift(),g=a+p.shift(),v=r+(1===p.length?p.shift():0),d.curveTo(i,o,r,a,v,g);break;case 31:for(;p.length>0&&(i=v+p.shift(),o=g,r=i+p.shift(),a=o+p.shift(),g=a+p.shift(),v=r+(1===p.length?p.shift():0),d.curveTo(i,o,r,a,v,g),0!==p.length);)i=v,o=g+p.shift(),r=i+p.shift(),a=o+p.shift(),v=r+p.shift(),g=a+(1===p.length?p.shift():0),d.curveTo(i,o,r,a,v,g);break;default:A<32?console.log("Glyph "+t.index+": unknown operator "+A):A<247?p.push(A-139):A<251?(y=c[N],N+=1,p.push(256*(A-247)+y+108)):A<255?(y=c[N],N+=1,p.push(256*-(A-251)-y-108)):(y=c[N],b=c[N+1],k=c[N+2],C=c[N+3],N+=4,p.push((y<<24|b<<16|k<<8|C)/65536))}}}(n),t.advanceWidth=x,d}function De(e,t){var n,i=ce.indexOf(e);return i>=0&&(n=i),(i=t.indexOf(e))>=0?n=i+ce.length:(n=ce.length+t.length,t.push(e)),n}function Be(e,t,n){for(var i={},o=0;o<e.length;o+=1){var r=e[o],a=t[r.name];void 0===a||Se(a,r.value)||("SID"===r.type&&(a=De(a,n)),i[r.op]={name:r.name,type:r.type,value:a})}return i}function Ie(e,t){var n=new J.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=Be(Ee,e,t),n}function Le(e){var t=new J.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return t.topDicts=[{name:"topDict_0",type:"TABLE",value:e}],t}function Ue(e){var t=[],n=e.path;t.push({name:"width",type:"NUMBER",value:e.advanceWidth});for(var i=0,o=0,r=0;r<n.commands.length;r+=1){var a=void 0,s=void 0,l=n.commands[r];if("Q"===l.type){var c=1/3,u=2/3;l={type:"C",x:l.x,y:l.y,x1:c*i+u*l.x1,y1:c*o+u*l.y1,x2:c*l.x+u*l.x1,y2:c*l.y+u*l.y1}}if("M"===l.type)a=Math.round(l.x-i),s=Math.round(l.y-o),t.push({name:"dx",type:"NUMBER",value:a}),t.push({name:"dy",type:"NUMBER",value:s}),t.push({name:"rmoveto",type:"OP",value:21}),i=Math.round(l.x),o=Math.round(l.y);else if("L"===l.type)a=Math.round(l.x-i),s=Math.round(l.y-o),t.push({name:"dx",type:"NUMBER",value:a}),t.push({name:"dy",type:"NUMBER",value:s}),t.push({name:"rlineto",type:"OP",value:5}),i=Math.round(l.x),o=Math.round(l.y);else if("C"===l.type){var d=Math.round(l.x1-i),p=Math.round(l.y1-o),h=Math.round(l.x2-l.x1),f=Math.round(l.y2-l.y1);a=Math.round(l.x-l.x2),s=Math.round(l.y-l.y2),t.push({name:"dx1",type:"NUMBER",value:d}),t.push({name:"dy1",type:"NUMBER",value:p}),t.push({name:"dx2",type:"NUMBER",value:h}),t.push({name:"dy2",type:"NUMBER",value:f}),t.push({name:"dx",type:"NUMBER",value:a}),t.push({name:"dy",type:"NUMBER",value:s}),t.push({name:"rrcurveto",type:"OP",value:8}),i=Math.round(l.x),o=Math.round(l.y)}}return t.push({name:"endchar",type:"OP",value:14}),t}var Fe=function(e,t,n,i){n.tables.cff={};var o=function(e,t){var n={};return n.formatMajor=re.getCard8(e,t),n.formatMinor=re.getCard8(e,t+1),n.size=re.getCard8(e,t+2),n.offsetSize=re.getCard8(e,t+3),n.startOffset=t,n.endOffset=t+4,n}(e,t),r=Ce(e,o.endOffset,re.bytesToString),a=Ce(e,r.endOffset),s=Ce(e,a.endOffset,re.bytesToString),l=Ce(e,s.endOffset);n.gsubrs=l.objects,n.gsubrsBias=ke(n.gsubrs);var c=Ne(e,t,a.objects,s.objects);if(1!==c.length)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+c.length);var u=c[0];if(n.tables.cff.topDict=u,u._privateDict&&(n.defaultWidthX=u._privateDict.defaultWidthX,n.nominalWidthX=u._privateDict.nominalWidthX),void 0!==u.ros[0]&&void 0!==u.ros[1]&&(n.isCIDFont=!0),n.isCIDFont){var d=u.fdArray,p=u.fdSelect;if(0===d||0===p)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");var h=Ce(e,d+=t),f=Ne(e,t,h.objects,s.objects);u._fdArray=f,p+=t,u._fdSelect=function(e,t,n,i){var o,r=[],a=new re.Parser(e,t),s=a.parseCard8();if(0===s)for(var l=0;l<n;l++){if((o=a.parseCard8())>=i)throw new Error("CFF table CID Font FDSelect has bad FD index value "+o+" (FD count "+i+")");r.push(o)}else{if(3!==s)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+s);var c,u=a.parseCard16(),d=a.parseCard16();if(0!==d)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+d);for(var p=0;p<u;p++){if(o=a.parseCard8(),c=a.parseCard16(),o>=i)throw new Error("CFF table CID Font FDSelect has bad FD index value "+o+" (FD count "+i+")");if(c>n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+c);for(;d<c;d++)r.push(o);d=c}if(c!==n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+c)}return r}(e,p,n.numGlyphs,f.length)}var m,v=t+u.private[1],g=Re(e,v,u.private[0],s.objects);if(n.defaultWidthX=g.defaultWidthX,n.nominalWidthX=g.nominalWidthX,0!==g.subrs){var y=v+g.subrs,b=Ce(e,y);n.subrs=b.objects,n.subrsBias=ke(n.subrs)}else n.subrs=[],n.subrsBias=0;i.lowMemory?(m=function(e,t){var n,i,o=[],r=re.getCard16(e,t);if(0!==r){var a=re.getByte(e,t+2);n=t+(r+1)*a+2;for(var s=t+3,l=0;l<r+1;l+=1)o.push(re.getOffset(e,s,a)),s+=a;i=n+o[r]}else i=t+2;return{offsets:o,startOffset:t,endOffset:i}}(e,t+u.charStrings),n.nGlyphs=m.offsets.length):(m=Ce(e,t+u.charStrings),n.nGlyphs=m.objects.length);var x=function(e,t,n,i){var o,r,a=new re.Parser(e,t);n-=1;var s=[".notdef"],l=a.parseCard8();if(0===l)for(var c=0;c<n;c+=1)o=a.parseSID(),s.push(Oe(i,o));else if(1===l)for(;s.length<=n;){o=a.parseSID(),r=a.parseCard8();for(var u=0;u<=r;u+=1)s.push(Oe(i,o)),o+=1}else{if(2!==l)throw new Error("Unknown charset format "+l);for(;s.length<=n;){o=a.parseSID(),r=a.parseCard16();for(var d=0;d<=r;d+=1)s.push(Oe(i,o)),o+=1}}return s}(e,t+u.charset,n.nGlyphs,s.objects);if(0===u.encoding?n.cffEncoding=new me(ue,x):1===u.encoding?n.cffEncoding=new me(de,x):n.cffEncoding=function(e,t,n){var i,o={},r=new re.Parser(e,t),a=r.parseCard8();if(0===a)for(var s=r.parseCard8(),l=0;l<s;l+=1)o[i=r.parseCard8()]=l;else{if(1!==a)throw new Error("Unknown encoding format "+a);var c=r.parseCard8();i=1;for(var u=0;u<c;u+=1)for(var d=r.parseCard8(),p=r.parseCard8(),h=d;h<=d+p;h+=1)o[h]=i,i+=1}return new me(o,n)}(e,t+u.encoding,x),n.encoding=n.encoding||n.cffEncoding,n.glyphs=new we.GlyphSet(n),i.lowMemory)n._push=function(i){var o=function(e,t,n,i,o){var r=re.getCard16(n,i),a=0;0!==r&&(a=i+(r+1)*re.getByte(n,i+2)+2);var s=re.getBytes(n,a+t[e],a+t[e+1]);return s}(i,m.offsets,e,t+u.charStrings);n.glyphs.push(i,we.cffGlyphLoader(n,i,Ae,o))};else for(var w=0;w<n.nGlyphs;w+=1){var S=m.objects[w];n.glyphs.push(w,we.cffGlyphLoader(n,w,Ae,S))}},ze=function(e,t){for(var n,i=new J.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),o=1/t.unitsPerEm,r={version:t.version,fullName:t.fullName,familyName:t.familyName,weight:t.weightName,fontBBox:t.fontBBox||[0,0,0,0],fontMatrix:[o,0,0,o,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},a=[],s=1;s<e.length;s+=1)n=e.get(s),a.push(n.name);var l=[];i.header=new J.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),i.nameIndex=function(e){var t=new J.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);t.names=[];for(var n=0;n<e.length;n+=1)t.names.push({name:"name_"+n,type:"NAME",value:e[n]});return t}([t.postScriptName]);var c=Ie(r,l);i.topDictIndex=Le(c),i.globalSubrIndex=new J.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),i.charsets=function(e,t){for(var n=new J.Record("Charsets",[{name:"format",type:"Card8",value:0}]),i=0;i<e.length;i+=1){var o=De(e[i],t);n.fields.push({name:"glyph_"+i,type:"SID",value:o})}return n}(a,l),i.charStringsIndex=function(e){for(var t=new J.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),n=0;n<e.length;n+=1){var i=e.get(n),o=Ue(i);t.charStrings.push({name:i.name,type:"CHARSTRING",value:o})}return t}(e),i.privateDict=function(e,t){var n=new J.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=Be(Te,{},t),n}(0,l),i.stringIndex=function(e){var t=new J.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);t.strings=[];for(var n=0;n<e.length;n+=1)t.strings.push({name:"string_"+n,type:"STRING",value:e[n]});return t}(l);var u=i.header.sizeOf()+i.nameIndex.sizeOf()+i.topDictIndex.sizeOf()+i.stringIndex.sizeOf()+i.globalSubrIndex.sizeOf();return r.charset=u,r.encoding=0,r.charStrings=r.charset+i.charsets.sizeOf(),r.private[1]=r.charStrings+i.charStringsIndex.sizeOf(),c=Ie(r,l),i.topDictIndex=Le(c),i},He=function(e,t){var n={},i=new re.Parser(e,t);return n.version=i.parseVersion(),n.fontRevision=Math.round(1e3*i.parseFixed())/1e3,n.checkSumAdjustment=i.parseULong(),n.magicNumber=i.parseULong(),T.argument(1594834165===n.magicNumber,"Font header has wrong magic number."),n.flags=i.parseUShort(),n.unitsPerEm=i.parseUShort(),n.created=i.parseLongDateTime(),n.modified=i.parseLongDateTime(),n.xMin=i.parseShort(),n.yMin=i.parseShort(),n.xMax=i.parseShort(),n.yMax=i.parseShort(),n.macStyle=i.parseUShort(),n.lowestRecPPEM=i.parseUShort(),n.fontDirectionHint=i.parseShort(),n.indexToLocFormat=i.parseShort(),n.glyphDataFormat=i.parseShort(),n},Ve=function(e){var t=Math.round((new Date).getTime()/1e3)+2082844800,n=t;return e.createdTimestamp&&(n=e.createdTimestamp+2082844800),new J.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:n},{name:"modified",type:"LONGDATETIME",value:t},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],e)},We=function(e,t){var n={},i=new re.Parser(e,t);return n.version=i.parseVersion(),n.ascender=i.parseShort(),n.descender=i.parseShort(),n.lineGap=i.parseShort(),n.advanceWidthMax=i.parseUShort(),n.minLeftSideBearing=i.parseShort(),n.minRightSideBearing=i.parseShort(),n.xMaxExtent=i.parseShort(),n.caretSlopeRise=i.parseShort(),n.caretSlopeRun=i.parseShort(),n.caretOffset=i.parseShort(),i.relativeOffset+=8,n.metricDataFormat=i.parseShort(),n.numberOfHMetrics=i.parseUShort(),n},$e=function(e){return new J.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],e)},Ke=function(e,t,n,i,o,r,a){a.lowMemory?function(e,t,n,i,o){var r,a;e._hmtxTableData={};for(var s=new re.Parser(t,n),l=0;l<o;l+=1)l<i&&(r=s.parseUShort(),a=s.parseShort()),e._hmtxTableData[l]={advanceWidth:r,leftSideBearing:a}}(e,t,n,i,o):function(e,t,n,i,o){for(var r,a,s=new re.Parser(e,t),l=0;l<i;l+=1){l<n&&(r=s.parseUShort(),a=s.parseShort());var c=o.get(l);c.advanceWidth=r,c.leftSideBearing=a}}(t,n,i,o,r)},Ge=function(e){for(var t=new J.Table("hmtx",[]),n=0;n<e.length;n+=1){var i=e.get(n),o=i.advanceWidth||0,r=i.leftSideBearing||0;t.fields.push({name:"advanceWidth_"+n,type:"USHORT",value:o}),t.fields.push({name:"leftSideBearing_"+n,type:"SHORT",value:r})}return t},qe=function(e){for(var t=new J.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:e.length}]),n="",i=12+4*e.length,o=0;o<e.length;++o){var r=n.indexOf(e[o]);r<0&&(r=n.length,n+=e[o]),t.fields.push({name:"offset "+o,type:"USHORT",value:i+r}),t.fields.push({name:"length "+o,type:"USHORT",value:e[o].length})}return t.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),t},Ye=function(e,t){var n=new re.Parser(e,t),i=n.parseULong();T.argument(1===i,"Unsupported ltag table version."),n.skip("uLong",1);for(var o=n.parseULong(),r=[],a=0;a<o;a++){for(var s="",l=t+n.parseUShort(),c=n.parseUShort(),u=l;u<l+c;++u)s+=String.fromCharCode(e.getInt8(u));r.push(s)}return r},Xe=function(e,t){var n={},i=new re.Parser(e,t);return n.version=i.parseVersion(),n.numGlyphs=i.parseUShort(),1===n.version&&(n.maxPoints=i.parseUShort(),n.maxContours=i.parseUShort(),n.maxCompositePoints=i.parseUShort(),n.maxCompositeContours=i.parseUShort(),n.maxZones=i.parseUShort(),n.maxTwilightPoints=i.parseUShort(),n.maxStorage=i.parseUShort(),n.maxFunctionDefs=i.parseUShort(),n.maxInstructionDefs=i.parseUShort(),n.maxStackElements=i.parseUShort(),n.maxSizeOfInstructions=i.parseUShort(),n.maxComponentElements=i.parseUShort(),n.maxComponentDepth=i.parseUShort()),n},Je=function(e){return new J.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:e}])},Qe=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Ze={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},et={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},tt={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function nt(e,t,n){switch(e){case 0:if(65535===t)return"und";if(n)return n[t];break;case 1:return Ze[t];case 3:return tt[t]}}var it={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},ot={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function rt(e,t,n){switch(e){case 0:return"utf-16";case 1:return ot[n]||it[t];case 3:if(1===t||10===t)return"utf-16"}}function at(e){var t={};for(var n in e)t[e[n]]=parseInt(n);return t}function st(e,t,n,i,o,r){return new J.Record("NameRecord",[{name:"platformID",type:"USHORT",value:e},{name:"encodingID",type:"USHORT",value:t},{name:"languageID",type:"USHORT",value:n},{name:"nameID",type:"USHORT",value:i},{name:"length",type:"USHORT",value:o},{name:"offset",type:"USHORT",value:r}])}function lt(e,t){var n=function(e,t){var n=e.length,i=t.length-n+1;e:for(var o=0;o<i;o++)for(;o<i;o++){for(var r=0;r<n;r++)if(t[o+r]!==e[r])continue e;return o}return-1}(e,t);if(n<0){n=t.length;for(var i=0,o=e.length;i<o;++i)t.push(e[i])}return n}var ct=function(e,t,n){for(var i={},o=new re.Parser(e,t),r=o.parseUShort(),a=o.parseUShort(),s=o.offset+o.parseUShort(),l=0;l<a;l++){var c=o.parseUShort(),u=o.parseUShort(),d=o.parseUShort(),p=o.parseUShort(),h=Qe[p]||p,f=o.parseUShort(),m=o.parseUShort(),v=nt(c,d,n),g=rt(c,u,d);if(void 0!==g&&void 0!==v){var y;if(y="utf-16"===g?j.UTF16(e,s+m,f):j.MACSTRING(e,s+m,f,g)){var b=i[h];void 0===b&&(b=i[h]={}),b[v]=y}}}return 1===r&&o.parseUShort(),i},ut=function(e,t){var n,i=[],o={},r=at(Qe);for(var a in e){var s=r[a];if(void 0===s&&(s=a),n=parseInt(s),isNaN(n))throw new Error('Name table entry "'+a+'" does not exist, see nameTableNames for complete list.');o[n]=e[a],i.push(n)}for(var l=at(Ze),c=at(tt),u=[],d=[],p=0;p<i.length;p++){var h=o[n=i[p]];for(var f in h){var m=h[f],v=1,g=l[f],y=et[g],b=rt(v,y,g),x=R.MACSTRING(m,b);void 0===x&&(v=0,(g=t.indexOf(f))<0&&(g=t.length,t.push(f)),y=4,x=R.UTF16(m));var w=lt(x,d);u.push(st(v,y,g,n,x.length,w));var S=c[f];if(void 0!==S){var k=R.UTF16(m),C=lt(k,d);u.push(st(3,1,S,n,k.length,C))}}}u.sort((function(e,t){return e.platformID-t.platformID||e.encodingID-t.encodingID||e.languageID-t.languageID||e.nameID-t.nameID}));for(var M=new J.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:u.length},{name:"stringOffset",type:"USHORT",value:6+12*u.length}]),_=0;_<u.length;_++)M.fields.push({name:"record_"+_,type:"RECORD",value:u[_]});return M.fields.push({name:"strings",type:"LITERAL",value:d}),M},dt=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],pt=function(e,t){var n={},i=new re.Parser(e,t);n.version=i.parseUShort(),n.xAvgCharWidth=i.parseShort(),n.usWeightClass=i.parseUShort(),n.usWidthClass=i.parseUShort(),n.fsType=i.parseUShort(),n.ySubscriptXSize=i.parseShort(),n.ySubscriptYSize=i.parseShort(),n.ySubscriptXOffset=i.parseShort(),n.ySubscriptYOffset=i.parseShort(),n.ySuperscriptXSize=i.parseShort(),n.ySuperscriptYSize=i.parseShort(),n.ySuperscriptXOffset=i.parseShort(),n.ySuperscriptYOffset=i.parseShort(),n.yStrikeoutSize=i.parseShort(),n.yStrikeoutPosition=i.parseShort(),n.sFamilyClass=i.parseShort(),n.panose=[];for(var o=0;o<10;o++)n.panose[o]=i.parseByte();return n.ulUnicodeRange1=i.parseULong(),n.ulUnicodeRange2=i.parseULong(),n.ulUnicodeRange3=i.parseULong(),n.ulUnicodeRange4=i.parseULong(),n.achVendID=String.fromCharCode(i.parseByte(),i.parseByte(),i.parseByte(),i.parseByte()),n.fsSelection=i.parseUShort(),n.usFirstCharIndex=i.parseUShort(),n.usLastCharIndex=i.parseUShort(),n.sTypoAscender=i.parseShort(),n.sTypoDescender=i.parseShort(),n.sTypoLineGap=i.parseShort(),n.usWinAscent=i.parseUShort(),n.usWinDescent=i.parseUShort(),n.version>=1&&(n.ulCodePageRange1=i.parseULong(),n.ulCodePageRange2=i.parseULong()),n.version>=2&&(n.sxHeight=i.parseShort(),n.sCapHeight=i.parseShort(),n.usDefaultChar=i.parseUShort(),n.usBreakChar=i.parseUShort(),n.usMaxContent=i.parseUShort()),n},ht=function(e){return new J.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],e)},ft=function(e){for(var t=0;t<dt.length;t+=1){var n=dt[t];if(e>=n.begin&&e<n.end)return t}return-1},mt=function(e,t){var n={},i=new re.Parser(e,t);switch(n.version=i.parseVersion(),n.italicAngle=i.parseFixed(),n.underlinePosition=i.parseShort(),n.underlineThickness=i.parseShort(),n.isFixedPitch=i.parseULong(),n.minMemType42=i.parseULong(),n.maxMemType42=i.parseULong(),n.minMemType1=i.parseULong(),n.maxMemType1=i.parseULong(),n.version){case 1:n.names=pe.slice();break;case 2:n.numberOfGlyphs=i.parseUShort(),n.glyphNameIndex=new Array(n.numberOfGlyphs);for(var o=0;o<n.numberOfGlyphs;o++)n.glyphNameIndex[o]=i.parseUShort();n.names=[];for(var r=0;r<n.numberOfGlyphs;r++)if(n.glyphNameIndex[r]>=pe.length){var a=i.parseChar();n.names.push(i.parseString(a))}break;case 2.5:n.numberOfGlyphs=i.parseUShort(),n.offset=new Array(n.numberOfGlyphs);for(var s=0;s<n.numberOfGlyphs;s++)n.offset[s]=i.parseChar()}return n},vt=function(){return new J.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])},gt=new Array(9);gt[1]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{substFormat:1,coverage:this.parsePointer(ie.coverage),deltaGlyphId:this.parseUShort()}:2===t?{substFormat:2,coverage:this.parsePointer(ie.coverage),substitute:this.parseOffset16List()}:void T.assert(!1,"0x"+e.toString(16)+": lookup type 1 format must be 1 or 2.")},gt[2]=function(){var e=this.parseUShort();return T.argument(1===e,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(ie.coverage),sequences:this.parseListOfLists()}},gt[3]=function(){var e=this.parseUShort();return T.argument(1===e,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(ie.coverage),alternateSets:this.parseListOfLists()}},gt[4]=function(){var e=this.parseUShort();return T.argument(1===e,"GSUB ligature table identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(ie.coverage),ligatureSets:this.parseListOfLists((function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}}))}};var yt={sequenceIndex:ie.uShort,lookupListIndex:ie.uShort};gt[5]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(1===t)return{substFormat:t,coverage:this.parsePointer(ie.coverage),ruleSets:this.parseListOfLists((function(){var e=this.parseUShort(),t=this.parseUShort();return{input:this.parseUShortList(e-1),lookupRecords:this.parseRecordList(t,yt)}}))};if(2===t)return{substFormat:t,coverage:this.parsePointer(ie.coverage),classDef:this.parsePointer(ie.classDef),classSets:this.parseListOfLists((function(){var e=this.parseUShort(),t=this.parseUShort();return{classes:this.parseUShortList(e-1),lookupRecords:this.parseRecordList(t,yt)}}))};if(3===t){var n=this.parseUShort(),i=this.parseUShort();return{substFormat:t,coverages:this.parseList(n,ie.pointer(ie.coverage)),lookupRecords:this.parseRecordList(i,yt)}}T.assert(!1,"0x"+e.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},gt[6]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{substFormat:1,coverage:this.parsePointer(ie.coverage),chainRuleSets:this.parseListOfLists((function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(yt)}}))}:2===t?{substFormat:2,coverage:this.parsePointer(ie.coverage),backtrackClassDef:this.parsePointer(ie.classDef),inputClassDef:this.parsePointer(ie.classDef),lookaheadClassDef:this.parsePointer(ie.classDef),chainClassSet:this.parseListOfLists((function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(yt)}}))}:3===t?{substFormat:3,backtrackCoverage:this.parseList(ie.pointer(ie.coverage)),inputCoverage:this.parseList(ie.pointer(ie.coverage)),lookaheadCoverage:this.parseList(ie.pointer(ie.coverage)),lookupRecords:this.parseRecordList(yt)}:void T.assert(!1,"0x"+e.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},gt[7]=function(){var e=this.parseUShort();T.argument(1===e,"GSUB Extension Substitution subtable identifier-format must be 1");var t=this.parseUShort(),n=new ie(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:t,extension:gt[t].call(n)}},gt[8]=function(){var e=this.parseUShort();return T.argument(1===e,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(ie.coverage),backtrackCoverage:this.parseList(ie.pointer(ie.coverage)),lookaheadCoverage:this.parseList(ie.pointer(ie.coverage)),substitutes:this.parseUShortList()}};var bt=new Array(9);bt[1]=function(e){return 1===e.substFormat?new J.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new J.Coverage(e.coverage)},{name:"deltaGlyphID",type:"USHORT",value:e.deltaGlyphId}]):new J.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new J.Coverage(e.coverage)}].concat(J.ushortList("substitute",e.substitute)))},bt[3]=function(e){return T.assert(1===e.substFormat,"Lookup type 3 substFormat must be 1."),new J.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new J.Coverage(e.coverage)}].concat(J.tableList("altSet",e.alternateSets,(function(e){return new J.Table("alternateSetTable",J.ushortList("alternate",e))}))))},bt[4]=function(e){return T.assert(1===e.substFormat,"Lookup type 4 substFormat must be 1."),new J.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new J.Coverage(e.coverage)}].concat(J.tableList("ligSet",e.ligatureSets,(function(e){return new J.Table("ligatureSetTable",J.tableList("ligature",e,(function(e){return new J.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:e.ligGlyph}].concat(J.ushortList("component",e.components,e.components.length+1)))})))}))))};var xt=function(e,t){var n=new ie(e,t=t||0),i=n.parseVersion(1);return T.argument(1===i||1.1===i,"Unsupported GSUB table version."),1===i?{version:i,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(gt)}:{version:i,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(gt),variations:n.parseFeatureVariationsList()}},wt=function(e){return new J.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new J.ScriptList(e.scripts)},{name:"features",type:"TABLE",value:new J.FeatureList(e.features)},{name:"lookups",type:"TABLE",value:new J.LookupList(e.lookups,bt)}])},St=function(e,t){var n=new re.Parser(e,t),i=n.parseULong();T.argument(1===i,"Unsupported META table version."),n.parseULong(),n.parseULong();for(var o=n.parseULong(),r={},a=0;a<o;a++){var s=n.parseTag(),l=n.parseULong(),c=n.parseULong(),u=j.UTF8(e,t+l,c);r[s]=u}return r},kt=function(e){var t=Object.keys(e).length,n="",i=16+12*t,o=new J.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:i},{name:"numTags",type:"ULONG",value:t}]);for(var r in e){var a=n.length;n+=e[r],o.fields.push({name:"tag "+r,type:"TAG",value:r}),o.fields.push({name:"offset "+r,type:"ULONG",value:i+a}),o.fields.push({name:"length "+r,type:"ULONG",value:e[r].length})}return o.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),o};function Ct(e){return Math.log(e)/Math.log(2)|0}function Mt(e){for(;e.length%4!=0;)e.push(0);for(var t=0,n=0;n<e.length;n+=4)t+=(e[n]<<24)+(e[n+1]<<16)+(e[n+2]<<8)+e[n+3];return t%Math.pow(2,32)}function _t(e,t,n,i){return new J.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==e?e:""},{name:"checkSum",type:"ULONG",value:void 0!==t?t:0},{name:"offset",type:"ULONG",value:void 0!==n?n:0},{name:"length",type:"ULONG",value:void 0!==i?i:0}])}function Ot(e){var t=new J.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);t.tables=e,t.numTables=e.length;var n=Math.pow(2,Ct(t.numTables));t.searchRange=16*n,t.entrySelector=Ct(n),t.rangeShift=16*t.numTables-t.searchRange;for(var i=[],o=[],r=t.sizeOf()+_t().sizeOf()*t.numTables;r%4!=0;)r+=1,o.push({name:"padding",type:"BYTE",value:0});for(var a=0;a<e.length;a+=1){var s=e[a];T.argument(4===s.tableName.length,"Table name"+s.tableName+" is invalid.");var l=s.sizeOf(),c=_t(s.tableName,Mt(s.encode()),r,l);for(i.push({name:c.tag+" Table Record",type:"RECORD",value:c}),o.push({name:s.tableName+" table",type:"RECORD",value:s}),r+=l,T.argument(!isNaN(r),"Something went wrong calculating the offset.");r%4!=0;)r+=1,o.push({name:"padding",type:"BYTE",value:0})}return i.sort((function(e,t){return e.value.tag>t.value.tag?1:-1})),t.fields=t.fields.concat(i),t.fields=t.fields.concat(o),t}function Pt(e,t,n){for(var i=0;i<t.length;i+=1){var o=e.charToGlyphIndex(t[i]);if(o>0)return e.glyphs.get(o).getMetrics()}return n}function Et(e){for(var t=0,n=0;n<e.length;n+=1)t+=e[n];return t/e.length}var Tt=function(e){for(var t,n=[],i=[],o=[],r=[],a=[],s=[],l=[],c=0,u=0,d=0,p=0,h=0,f=0;f<e.glyphs.length;f+=1){var m=e.glyphs.get(f),v=0|m.unicode;if(isNaN(m.advanceWidth))throw new Error("Glyph "+m.name+" ("+f+"): advanceWidth is not a number.");(t>v||void 0===t)&&v>0&&(t=v),c<v&&(c=v);var g=ft(v);if(g<32)u|=1<<g;else if(g<64)d|=1<<g-32;else if(g<96)p|=1<<g-64;else{if(!(g<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");h|=1<<g-96}if(".notdef"!==m.name){var y=m.getMetrics();n.push(y.xMin),i.push(y.yMin),o.push(y.xMax),r.push(y.yMax),s.push(y.leftSideBearing),l.push(y.rightSideBearing),a.push(m.advanceWidth)}}var b={xMin:Math.min.apply(null,n),yMin:Math.min.apply(null,i),xMax:Math.max.apply(null,o),yMax:Math.max.apply(null,r),advanceWidthMax:Math.max.apply(null,a),advanceWidthAvg:Et(a),minLeftSideBearing:Math.min.apply(null,s),maxLeftSideBearing:Math.max.apply(null,s),minRightSideBearing:Math.min.apply(null,l)};b.ascender=e.ascender,b.descender=e.descender;var x=Ve({flags:3,unitsPerEm:e.unitsPerEm,xMin:b.xMin,yMin:b.yMin,xMax:b.xMax,yMax:b.yMax,lowestRecPPEM:3,createdTimestamp:e.createdTimestamp}),w=$e({ascender:b.ascender,descender:b.descender,advanceWidthMax:b.advanceWidthMax,minLeftSideBearing:b.minLeftSideBearing,minRightSideBearing:b.minRightSideBearing,xMaxExtent:b.maxLeftSideBearing+(b.xMax-b.xMin),numberOfHMetrics:e.glyphs.length}),S=Je(e.glyphs.length),k=ht(Object.assign({xAvgCharWidth:Math.round(b.advanceWidthAvg),usFirstCharIndex:t,usLastCharIndex:c,ulUnicodeRange1:u,ulUnicodeRange2:d,ulUnicodeRange3:p,ulUnicodeRange4:h,sTypoAscender:b.ascender,sTypoDescender:b.descender,sTypoLineGap:0,usWinAscent:b.yMax,usWinDescent:Math.abs(b.yMin),ulCodePageRange1:1,sxHeight:Pt(e,"xyvw",{yMax:Math.round(b.ascender/2)}).yMax,sCapHeight:Pt(e,"HIKLEFJMNTZBDPRAGOQSUVWXY",b).yMax,usDefaultChar:e.hasChar(" ")?32:0,usBreakChar:e.hasChar(" ")?32:0},e.tables.os2)),C=Ge(e.glyphs),M=le(e.glyphs),_=e.getEnglishName("fontFamily"),O=e.getEnglishName("fontSubfamily"),P=_+" "+O,E=e.getEnglishName("postScriptName");E||(E=_.replace(/\s/g,"")+"-"+O);var T={};for(var j in e.names)T[j]=e.names[j];T.uniqueID||(T.uniqueID={en:e.getEnglishName("manufacturer")+":"+P}),T.postScriptName||(T.postScriptName={en:E}),T.preferredFamily||(T.preferredFamily=e.names.fontFamily),T.preferredSubfamily||(T.preferredSubfamily=e.names.fontSubfamily);var R=[],N=ut(T,R),A=R.length>0?qe(R):void 0,D=vt(),B=ze(e.glyphs,{version:e.getEnglishName("version"),fullName:P,familyName:_,weightName:O,postScriptName:E,unitsPerEm:e.unitsPerEm,fontBBox:[0,b.yMin,b.ascender,b.advanceWidthMax]}),I=e.metas&&Object.keys(e.metas).length>0?kt(e.metas):void 0,L=[x,w,S,k,N,M,D,B,C];A&&L.push(A),e.tables.gsub&&L.push(wt(e.tables.gsub)),I&&L.push(I);for(var U=Ot(L),F=Mt(U.encode()),z=U.fields,H=!1,V=0;V<z.length;V+=1)if("head table"===z[V].name){z[V].value.checkSumAdjustment=2981146554-F,H=!0;break}if(!H)throw new Error("Could not find head table with checkSum to adjust.");return U};function jt(e,t){for(var n=0,i=e.length-1;n<=i;){var o=n+i>>>1,r=e[o].tag;if(r===t)return o;r<t?n=o+1:i=o-1}return-n-1}function Rt(e,t){for(var n=0,i=e.length-1;n<=i;){var o=n+i>>>1,r=e[o];if(r===t)return o;r<t?n=o+1:i=o-1}return-n-1}function Nt(e,t){for(var n,i=0,o=e.length-1;i<=o;){var r=i+o>>>1,a=(n=e[r]).start;if(a===t)return n;a<t?i=r+1:o=r-1}if(i>0)return t>(n=e[i-1]).end?0:n}function At(e,t){this.font=e,this.tableName=t}function Dt(e){At.call(this,e,"gpos")}function Bt(e){At.call(this,e,"gsub")}function It(e,t){var n=e.length;if(n!==t.length)return!1;for(var i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function Lt(e,t,n){for(var i=e.subtables,o=0;o<i.length;o++){var r=i[o];if(r.substFormat===t)return r}if(n)return i.push(n),n}function Ut(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),i=0;i<e.length;++i)n[i]=e[i];return t}function Ft(e,t){if(!e)throw t}function zt(e,t,n,i,o){var r;return(t&i)>0?(r=e.parseByte(),0==(t&o)&&(r=-r),r=n+r):r=(t&o)>0?n:n+e.parseShort(),r}function Ht(e,t,n){var i,o,r=new re.Parser(t,n);if(e.numberOfContours=r.parseShort(),e._xMin=r.parseShort(),e._yMin=r.parseShort(),e._xMax=r.parseShort(),e._yMax=r.parseShort(),e.numberOfContours>0){for(var a=e.endPointIndices=[],s=0;s<e.numberOfContours;s+=1)a.push(r.parseUShort());e.instructionLength=r.parseUShort(),e.instructions=[];for(var l=0;l<e.instructionLength;l+=1)e.instructions.push(r.parseByte());var c=a[a.length-1]+1;i=[];for(var u=0;u<c;u+=1)if(o=r.parseByte(),i.push(o),(8&o)>0)for(var d=r.parseByte(),p=0;p<d;p+=1)i.push(o),u+=1;if(T.argument(i.length===c,"Bad flags."),a.length>0){var h,f=[];if(c>0){for(var m=0;m<c;m+=1)o=i[m],(h={}).onCurve=!!(1&o),h.lastPointOfContour=a.indexOf(m)>=0,f.push(h);for(var v=0,g=0;g<c;g+=1)o=i[g],(h=f[g]).x=zt(r,o,v,2,16),v=h.x;for(var y=0,b=0;b<c;b+=1)o=i[b],(h=f[b]).y=zt(r,o,y,4,32),y=h.y}e.points=f}else e.points=[]}else if(0===e.numberOfContours)e.points=[];else{e.isComposite=!0,e.points=[],e.components=[];for(var x=!0;x;){i=r.parseUShort();var w={glyphIndex:r.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(1&i)>0?(2&i)>0?(w.dx=r.parseShort(),w.dy=r.parseShort()):w.matchedPoints=[r.parseUShort(),r.parseUShort()]:(2&i)>0?(w.dx=r.parseChar(),w.dy=r.parseChar()):w.matchedPoints=[r.parseByte(),r.parseByte()],(8&i)>0?w.xScale=w.yScale=r.parseF2Dot14():(64&i)>0?(w.xScale=r.parseF2Dot14(),w.yScale=r.parseF2Dot14()):(128&i)>0&&(w.xScale=r.parseF2Dot14(),w.scale01=r.parseF2Dot14(),w.scale10=r.parseF2Dot14(),w.yScale=r.parseF2Dot14()),e.components.push(w),x=!!(32&i)}if(256&i){e.instructionLength=r.parseUShort(),e.instructions=[];for(var S=0;S<e.instructionLength;S+=1)e.instructions.push(r.parseByte())}}}function Vt(e,t){for(var n=[],i=0;i<e.length;i+=1){var o=e[i],r={x:t.xScale*o.x+t.scale01*o.y+t.dx,y:t.scale10*o.x+t.yScale*o.y+t.dy,onCurve:o.onCurve,lastPointOfContour:o.lastPointOfContour};n.push(r)}return n}function Wt(e){var t=new O;if(!e)return t;for(var n=function(e){for(var t=[],n=[],i=0;i<e.length;i+=1){var o=e[i];n.push(o),o.lastPointOfContour&&(t.push(n),n=[])}return T.argument(0===n.length,"There are still points left in the current contour."),t}(e),i=0;i<n.length;++i){var o=n[i],r=null,a=o[o.length-1],s=o[0];if(a.onCurve)t.moveTo(a.x,a.y);else if(s.onCurve)t.moveTo(s.x,s.y);else{var l={x:.5*(a.x+s.x),y:.5*(a.y+s.y)};t.moveTo(l.x,l.y)}for(var c=0;c<o.length;++c)if(r=a,a=s,s=o[(c+1)%o.length],a.onCurve)t.lineTo(a.x,a.y);else{var u=s;r.onCurve||(a.x,r.x,a.y,r.y),s.onCurve||(u={x:.5*(a.x+s.x),y:.5*(a.y+s.y)}),t.quadraticCurveTo(a.x,a.y,u.x,u.y)}t.closePath()}return t}function $t(e,t){if(t.isComposite)for(var n=0;n<t.components.length;n+=1){var i=t.components[n],o=e.get(i.glyphIndex);if(o.getPath(),o.points){var r=void 0;if(void 0===i.matchedPoints)r=Vt(o.points,i);else{if(i.matchedPoints[0]>t.points.length-1||i.matchedPoints[1]>o.points.length-1)throw Error("Matched points out of range in "+t.name);var a=t.points[i.matchedPoints[0]],s=o.points[i.matchedPoints[1]],l={xScale:i.xScale,scale01:i.scale01,scale10:i.scale10,yScale:i.yScale,dx:0,dy:0};s=Vt([s],l)[0],l.dx=a.x-s.x,l.dy=a.y-s.y,r=Vt(o.points,l)}t.points=t.points.concat(r)}}return Wt(t.points)}At.prototype={searchTag:jt,binSearch:Rt,getTable:function(e){var t=this.font.tables[this.tableName];return!t&&e&&(t=this.font.tables[this.tableName]=this.createDefaultTable()),t},getScriptNames:function(){var e=this.getTable();return e?e.scripts.map((function(e){return e.tag})):[]},getDefaultScriptName:function(){var e=this.getTable();if(e){for(var t=!1,n=0;n<e.scripts.length;n++){var i=e.scripts[n].tag;if("DFLT"===i)return i;"latn"===i&&(t=!0)}return t?"latn":void 0}},getScriptTable:function(e,t){var n=this.getTable(t);if(n){e=e||"DFLT";var i=n.scripts,o=jt(n.scripts,e);if(o>=0)return i[o].script;if(t){var r={tag:e,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return i.splice(-1-o,0,r),r.script}}},getLangSysTable:function(e,t,n){var i=this.getScriptTable(e,n);if(i){if(!t||"dflt"===t||"DFLT"===t)return i.defaultLangSys;var o=jt(i.langSysRecords,t);if(o>=0)return i.langSysRecords[o].langSys;if(n){var r={tag:t,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return i.langSysRecords.splice(-1-o,0,r),r.langSys}}},getFeatureTable:function(e,t,n,i){var o=this.getLangSysTable(e,t,i);if(o){for(var r,a=o.featureIndexes,s=this.font.tables[this.tableName].features,l=0;l<a.length;l++)if((r=s[a[l]]).tag===n)return r.feature;if(i){var c=s.length;return T.assert(0===c||n>=s[c-1].tag,"Features must be added in alphabetical order."),r={tag:n,feature:{params:0,lookupListIndexes:[]}},s.push(r),a.push(c),r.feature}}},getLookupTables:function(e,t,n,i,o){var r=this.getFeatureTable(e,t,n,o),a=[];if(r){for(var s,l=r.lookupListIndexes,c=this.font.tables[this.tableName].lookups,u=0;u<l.length;u++)(s=c[l[u]]).lookupType===i&&a.push(s);if(0===a.length&&o){s={lookupType:i,lookupFlag:0,subtables:[],markFilteringSet:void 0};var d=c.length;return c.push(s),l.push(d),[s]}}return a},getGlyphClass:function(e,t){switch(e.format){case 1:return e.startGlyph<=t&&t<e.startGlyph+e.classes.length?e.classes[t-e.startGlyph]:0;case 2:var n=Nt(e.ranges,t);return n?n.classId:0}},getCoverageIndex:function(e,t){switch(e.format){case 1:var n=Rt(e.glyphs,t);return n>=0?n:-1;case 2:var i=Nt(e.ranges,t);return i?i.index+t-i.start:-1}},expandCoverage:function(e){if(1===e.format)return e.glyphs;for(var t=[],n=e.ranges,i=0;i<n.length;i++)for(var o=n[i],r=o.start,a=o.end,s=r;s<=a;s++)t.push(s);return t}},Dt.prototype=At.prototype,Dt.prototype.init=function(){var e=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(e)},Dt.prototype.getKerningValue=function(e,t,n){for(var i=0;i<e.length;i++)for(var o=e[i].subtables,r=0;r<o.length;r++){var a=o[r],s=this.getCoverageIndex(a.coverage,t);if(!(s<0))switch(a.posFormat){case 1:for(var l=a.pairSets[s],c=0;c<l.length;c++){var u=l[c];if(u.secondGlyph===n)return u.value1&&u.value1.xAdvance||0}break;case 2:var d=this.getGlyphClass(a.classDef1,t),p=this.getGlyphClass(a.classDef2,n),h=a.classRecords[d][p];return h.value1&&h.value1.xAdvance||0}}return 0},Dt.prototype.getKerningTables=function(e,t){if(this.font.tables.gpos)return this.getLookupTables(e,t,"kern",2)},Bt.prototype=At.prototype,Bt.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},Bt.prototype.getSingle=function(e,t,n){for(var i=[],o=this.getLookupTables(t,n,e,1),r=0;r<o.length;r++)for(var a=o[r].subtables,s=0;s<a.length;s++){var l=a[s],c=this.expandCoverage(l.coverage),u=void 0;if(1===l.substFormat){var d=l.deltaGlyphId;for(u=0;u<c.length;u++){var p=c[u];i.push({sub:p,by:p+d})}}else{var h=l.substitute;for(u=0;u<c.length;u++)i.push({sub:c[u],by:h[u]})}}return i},Bt.prototype.getAlternates=function(e,t,n){for(var i=[],o=this.getLookupTables(t,n,e,3),r=0;r<o.length;r++)for(var a=o[r].subtables,s=0;s<a.length;s++)for(var l=a[s],c=this.expandCoverage(l.coverage),u=l.alternateSets,d=0;d<c.length;d++)i.push({sub:c[d],by:u[d]});return i},Bt.prototype.getLigatures=function(e,t,n){for(var i=[],o=this.getLookupTables(t,n,e,4),r=0;r<o.length;r++)for(var a=o[r].subtables,s=0;s<a.length;s++)for(var l=a[s],c=this.expandCoverage(l.coverage),u=l.ligatureSets,d=0;d<c.length;d++)for(var p=c[d],h=u[d],f=0;f<h.length;f++){var m=h[f];i.push({sub:[p].concat(m.components),by:m.ligGlyph})}return i},Bt.prototype.addSingle=function(e,t,n,i){var o=Lt(this.getLookupTables(n,i,e,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});T.assert(1===o.coverage.format,"Ligature: unable to modify coverage table format "+o.coverage.format);var r=t.sub,a=this.binSearch(o.coverage.glyphs,r);a<0&&(a=-1-a,o.coverage.glyphs.splice(a,0,r),o.substitute.splice(a,0,0)),o.substitute[a]=t.by},Bt.prototype.addAlternate=function(e,t,n,i){var o=Lt(this.getLookupTables(n,i,e,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});T.assert(1===o.coverage.format,"Ligature: unable to modify coverage table format "+o.coverage.format);var r=t.sub,a=this.binSearch(o.coverage.glyphs,r);a<0&&(a=-1-a,o.coverage.glyphs.splice(a,0,r),o.alternateSets.splice(a,0,0)),o.alternateSets[a]=t.by},Bt.prototype.addLigature=function(e,t,n,i){var o=this.getLookupTables(n,i,e,4,!0)[0],r=o.subtables[0];r||(r={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},o.subtables[0]=r),T.assert(1===r.coverage.format,"Ligature: unable to modify coverage table format "+r.coverage.format);var a=t.sub[0],s=t.sub.slice(1),l={ligGlyph:t.by,components:s},c=this.binSearch(r.coverage.glyphs,a);if(c>=0){for(var u=r.ligatureSets[c],d=0;d<u.length;d++)if(It(u[d].components,s))return;u.push(l)}else c=-1-c,r.coverage.glyphs.splice(c,0,a),r.ligatureSets.splice(c,0,[l])},Bt.prototype.getFeature=function(e,t,n){if(/ss\d\d/.test(e))return this.getSingle(e,t,n);switch(e){case"aalt":case"salt":return this.getSingle(e,t,n).concat(this.getAlternates(e,t,n));case"dlig":case"liga":case"rlig":return this.getLigatures(e,t,n)}},Bt.prototype.add=function(e,t,n,i){if(/ss\d\d/.test(e))return this.addSingle(e,t,n,i);switch(e){case"aalt":case"salt":return"number"==typeof t.by?this.addSingle(e,t,n,i):this.addAlternate(e,t,n,i);case"dlig":case"liga":case"rlig":return this.addLigature(e,t,n,i)}};var Kt,Gt,qt,Yt,Xt={getPath:Wt,parse:function(e,t,n,i,o){return o.lowMemory?function(e,t,n,i){var o=new we.GlyphSet(i);return i._push=function(r){var a=n[r];a!==n[r+1]?o.push(r,we.ttfGlyphLoader(i,r,Ht,e,t+a,$t)):o.push(r,we.glyphLoader(i,r))},o}(e,t,n,i):function(e,t,n,i){for(var o=new we.GlyphSet(i),r=0;r<n.length-1;r+=1){var a=n[r];a!==n[r+1]?o.push(r,we.ttfGlyphLoader(i,r,Ht,e,t+a,$t)):o.push(r,we.glyphLoader(i,r))}return o}(e,t,n,i)}};function Jt(e){this.font=e,this.getCommands=function(e){return Xt.getPath(e).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Qt(e){return e}function Zt(e){return Math.sign(e)*Math.round(Math.abs(e))}function en(e){return Math.sign(e)*Math.round(Math.abs(2*e))/2}function tn(e){return Math.sign(e)*(Math.round(Math.abs(e)+.5)-.5)}function nn(e){return Math.sign(e)*Math.ceil(Math.abs(e))}function on(e){return Math.sign(e)*Math.floor(Math.abs(e))}var rn=function(e){var t=this.srPeriod,n=this.srPhase,i=1;return e<0&&(e=-e,i=-1),e+=this.srThreshold-n,e=Math.trunc(e/t)*t,(e+=n)<0?n*i:e*i},an={x:1,y:0,axis:"x",distance:function(e,t,n,i){return(n?e.xo:e.x)-(i?t.xo:t.x)},interpolate:function(e,t,n,i){var o,r,a,s,l,c,u;if(!i||i===this)return o=e.xo-t.xo,r=e.xo-n.xo,l=t.x-t.xo,c=n.x-n.xo,0===(u=(a=Math.abs(o))+(s=Math.abs(r)))?void(e.x=e.xo+(l+c)/2):void(e.x=e.xo+(l*s+c*a)/u);o=i.distance(e,t,!0,!0),r=i.distance(e,n,!0,!0),l=i.distance(t,t,!1,!0),c=i.distance(n,n,!1,!0),0!==(u=(a=Math.abs(o))+(s=Math.abs(r)))?an.setRelative(e,e,(l*s+c*a)/u,i,!0):an.setRelative(e,e,(l+c)/2,i,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(e,t,n,i,o){if(i&&i!==this){var r=o?t.xo:t.x,a=o?t.yo:t.y,s=r+n*i.x,l=a+n*i.y;e.x=s+(e.y-l)/i.normalSlope}else e.x=(o?t.xo:t.x)+n},slope:0,touch:function(e){e.xTouched=!0},touched:function(e){return e.xTouched},untouch:function(e){e.xTouched=!1}},sn={x:0,y:1,axis:"y",distance:function(e,t,n,i){return(n?e.yo:e.y)-(i?t.yo:t.y)},interpolate:function(e,t,n,i){var o,r,a,s,l,c,u;if(!i||i===this)return o=e.yo-t.yo,r=e.yo-n.yo,l=t.y-t.yo,c=n.y-n.yo,0===(u=(a=Math.abs(o))+(s=Math.abs(r)))?void(e.y=e.yo+(l+c)/2):void(e.y=e.yo+(l*s+c*a)/u);o=i.distance(e,t,!0,!0),r=i.distance(e,n,!0,!0),l=i.distance(t,t,!1,!0),c=i.distance(n,n,!1,!0),0!==(u=(a=Math.abs(o))+(s=Math.abs(r)))?sn.setRelative(e,e,(l*s+c*a)/u,i,!0):sn.setRelative(e,e,(l+c)/2,i,!0)},normalSlope:0,setRelative:function(e,t,n,i,o){if(i&&i!==this){var r=o?t.xo:t.x,a=o?t.yo:t.y,s=r+n*i.x,l=a+n*i.y;e.y=l+i.normalSlope*(e.x-s)}else e.y=(o?t.yo:t.y)+n},slope:Number.POSITIVE_INFINITY,touch:function(e){e.yTouched=!0},touched:function(e){return e.yTouched},untouch:function(e){e.yTouched=!1}};function ln(e,t){this.x=e,this.y=t,this.axis=void 0,this.slope=t/e,this.normalSlope=-e/t,Object.freeze(this)}function cn(e,t){var n=Math.sqrt(e*e+t*t);return t/=n,1===(e/=n)&&0===t?an:0===e&&1===t?sn:new ln(e,t)}function un(e,t,n,i){this.x=this.xo=Math.round(64*e)/64,this.y=this.yo=Math.round(64*t)/64,this.lastPointOfContour=n,this.onCurve=i,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(an),Object.freeze(sn),ln.prototype.distance=function(e,t,n,i){return this.x*an.distance(e,t,n,i)+this.y*sn.distance(e,t,n,i)},ln.prototype.interpolate=function(e,t,n,i){var o,r,a,s,l,c,u;a=i.distance(e,t,!0,!0),s=i.distance(e,n,!0,!0),o=i.distance(t,t,!1,!0),r=i.distance(n,n,!1,!0),0!==(u=(l=Math.abs(a))+(c=Math.abs(s)))?this.setRelative(e,e,(o*c+r*l)/u,i,!0):this.setRelative(e,e,(o+r)/2,i,!0)},ln.prototype.setRelative=function(e,t,n,i,o){i=i||this;var r=o?t.xo:t.x,a=o?t.yo:t.y,s=r+n*i.x,l=a+n*i.y,c=i.normalSlope,u=this.slope,d=e.x,p=e.y;e.x=(u*d-c*s+l-p)/(u-c),e.y=u*(e.x-d)+p},ln.prototype.touch=function(e){e.xTouched=!0,e.yTouched=!0},un.prototype.nextTouched=function(e){for(var t=this.nextPointOnContour;!e.touched(t)&&t!==this;)t=t.nextPointOnContour;return t},un.prototype.prevTouched=function(e){for(var t=this.prevPointOnContour;!e.touched(t)&&t!==this;)t=t.prevPointOnContour;return t};var dn=Object.freeze(new un(0,0)),pn={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function hn(e,t){switch(this.env=e,this.stack=[],this.prog=t,e){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=an,this.round=Zt}}function fn(e){for(var t=e.tZone=new Array(e.gZone.length),n=0;n<t.length;n++)t[n]=new un(0,0)}function mn(e,t){var n,i=e.prog,o=e.ip,r=1;do{if(88===(n=i[++o]))r++;else if(89===n)r--;else if(64===n)o+=i[o+1]+1;else if(65===n)o+=2*i[o+1]+1;else if(n>=176&&n<=183)o+=n-176+1;else if(n>=184&&n<=191)o+=2*(n-184+1);else if(t&&1===r&&27===n)break}while(r>0);e.ip=o}function vn(e,t){exports.DEBUG&&console.log(t.step,"SVTCA["+e.axis+"]"),t.fv=t.pv=t.dpv=e}function gn(e,t){exports.DEBUG&&console.log(t.step,"SPVTCA["+e.axis+"]"),t.pv=t.dpv=e}function yn(e,t){exports.DEBUG&&console.log(t.step,"SFVTCA["+e.axis+"]"),t.fv=e}function bn(e,t){var n,i,o=t.stack,r=o.pop(),a=o.pop(),s=t.z2[r],l=t.z1[a];exports.DEBUG&&console.log("SPVTL["+e+"]",r,a),e?(n=s.y-l.y,i=l.x-s.x):(n=l.x-s.x,i=l.y-s.y),t.pv=t.dpv=cn(n,i)}function xn(e,t){var n,i,o=t.stack,r=o.pop(),a=o.pop(),s=t.z2[r],l=t.z1[a];exports.DEBUG&&console.log("SFVTL["+e+"]",r,a),e?(n=s.y-l.y,i=l.x-s.x):(n=l.x-s.x,i=l.y-s.y),t.fv=cn(n,i)}function wn(e){exports.DEBUG&&console.log(e.step,"POP[]"),e.stack.pop()}function Sn(e,t){var n=t.stack.pop(),i=t.z0[n],o=t.fv,r=t.pv;exports.DEBUG&&console.log(t.step,"MDAP["+e+"]",n);var a=r.distance(i,dn);e&&(a=t.round(a)),o.setRelative(i,dn,a,r),o.touch(i),t.rp0=t.rp1=n}function kn(e,t){var n,i,o,r=t.z2,a=r.length-2;exports.DEBUG&&console.log(t.step,"IUP["+e.axis+"]");for(var s=0;s<a;s++)n=r[s],e.touched(n)||(i=n.prevTouched(e))!==n&&(i===(o=n.nextTouched(e))&&e.setRelative(n,n,e.distance(i,i,!1,!0),e,!0),e.interpolate(n,i,o,e))}function Cn(e,t){for(var n=t.stack,i=e?t.rp1:t.rp2,o=(e?t.z0:t.z1)[i],r=t.fv,a=t.pv,s=t.loop,l=t.z2;s--;){var c=n.pop(),u=l[c],d=a.distance(o,o,!1,!0);r.setRelative(u,u,d,a),r.touch(u),exports.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-s)+": ":"")+"SHP["+(e?"rp1":"rp2")+"]",c)}t.loop=1}function Mn(e,t){var n=t.stack,i=e?t.rp1:t.rp2,o=(e?t.z0:t.z1)[i],r=t.fv,a=t.pv,s=n.pop(),l=t.z2[t.contours[s]],c=l;exports.DEBUG&&console.log(t.step,"SHC["+e+"]",s);var u=a.distance(o,o,!1,!0);do{c!==o&&r.setRelative(c,c,u,a),c=c.nextPointOnContour}while(c!==l)}function _n(e,t){var n,i,o=t.stack,r=e?t.rp1:t.rp2,a=(e?t.z0:t.z1)[r],s=t.fv,l=t.pv,c=o.pop();switch(exports.DEBUG&&console.log(t.step,"SHZ["+e+"]",c),c){case 0:n=t.tZone;break;case 1:n=t.gZone;break;default:throw new Error("Invalid zone")}for(var u=l.distance(a,a,!1,!0),d=n.length-2,p=0;p<d;p++)i=n[p],s.setRelative(i,i,u,l)}function On(e,t){var n=t.stack,i=n.pop()/64,o=n.pop(),r=t.z1[o],a=t.z0[t.rp0],s=t.fv,l=t.pv;s.setRelative(r,a,i,l),s.touch(r),exports.DEBUG&&console.log(t.step,"MSIRP["+e+"]",i,o),t.rp1=t.rp0,t.rp2=o,e&&(t.rp0=o)}function Pn(e,t){var n=t.stack,i=n.pop(),o=n.pop(),r=t.z0[o],a=t.fv,s=t.pv,l=t.cvt[i];exports.DEBUG&&console.log(t.step,"MIAP["+e+"]",i,"(",l,")",o);var c=s.distance(r,dn);e&&(Math.abs(c-l)<t.cvCutIn&&(c=l),c=t.round(c)),a.setRelative(r,dn,c,s),0===t.zp0&&(r.xo=r.x,r.yo=r.y),a.touch(r),t.rp0=t.rp1=o}function En(e,t){var n=t.stack,i=n.pop(),o=t.z2[i];exports.DEBUG&&console.log(t.step,"GC["+e+"]",i),n.push(64*t.dpv.distance(o,dn,e,!1))}function Tn(e,t){var n=t.stack,i=n.pop(),o=n.pop(),r=t.z1[i],a=t.z0[o],s=t.dpv.distance(a,r,e,e);exports.DEBUG&&console.log(t.step,"MD["+e+"]",i,o,"->",s),t.stack.push(Math.round(64*s))}function jn(e,t){var n=t.stack,i=n.pop(),o=t.fv,r=t.pv,a=t.ppem,s=t.deltaBase+16*(e-1),l=t.deltaShift,c=t.z0;exports.DEBUG&&console.log(t.step,"DELTAP["+e+"]",i,n);for(var u=0;u<i;u++){var d=n.pop(),p=n.pop();if(s+((240&p)>>4)===a){var h=(15&p)-8;h>=0&&h++,exports.DEBUG&&console.log(t.step,"DELTAPFIX",d,"by",h*l);var f=c[d];o.setRelative(f,f,h*l,r)}}}function Rn(e,t){var n=t.stack,i=n.pop();exports.DEBUG&&console.log(t.step,"ROUND[]"),n.push(64*t.round(i/64))}function Nn(e,t){var n=t.stack,i=n.pop(),o=t.ppem,r=t.deltaBase+16*(e-1),a=t.deltaShift;exports.DEBUG&&console.log(t.step,"DELTAC["+e+"]",i,n);for(var s=0;s<i;s++){var l=n.pop(),c=n.pop();if(r+((240&c)>>4)===o){var u=(15&c)-8;u>=0&&u++;var d=u*a;exports.DEBUG&&console.log(t.step,"DELTACFIX",l,"by",d),t.cvt[l]+=d}}}function An(e,t){var n,i,o=t.stack,r=o.pop(),a=o.pop(),s=t.z2[r],l=t.z1[a];exports.DEBUG&&console.log(t.step,"SDPVTL["+e+"]",r,a),e?(n=s.y-l.y,i=l.x-s.x):(n=l.x-s.x,i=l.y-s.y),t.dpv=cn(n,i)}function Dn(e,t){var n=t.stack,i=t.prog,o=t.ip;exports.DEBUG&&console.log(t.step,"PUSHB["+e+"]");for(var r=0;r<e;r++)n.push(i[++o]);t.ip=o}function Bn(e,t){var n=t.ip,i=t.prog,o=t.stack;exports.DEBUG&&console.log(t.ip,"PUSHW["+e+"]");for(var r=0;r<e;r++){var a=i[++n]<<8|i[++n];32768&a&&(a=-(1+(65535^a))),o.push(a)}t.ip=n}function In(e,t,n,i,o,r){var a,s,l,c,u=r.stack,d=e&&u.pop(),p=u.pop(),h=r.rp0,f=r.z0[h],m=r.z1[p],v=r.minDis,g=r.fv,y=r.dpv;l=(s=a=y.distance(m,f,!0,!0))>=0?1:-1,s=Math.abs(s),e&&(c=r.cvt[d],i&&Math.abs(s-c)<r.cvCutIn&&(s=c)),n&&s<v&&(s=v),i&&(s=r.round(s)),g.setRelative(m,f,l*s,y),g.touch(m),exports.DEBUG&&console.log(r.step,(e?"MIRP[":"MDRP[")+(t?"M":"m")+(n?">":"_")+(i?"R":"_")+(0===o?"Gr":1===o?"Bl":2===o?"Wh":"")+"]",e?d+"("+r.cvt[d]+","+c+")":"",p,"(d =",a,"->",l*s,")"),r.rp1=r.rp0,r.rp2=p,t&&(r.rp0=p)}function Ln(e){this.char=e,this.state={},this.activeState=null}function Un(e,t,n){this.contextName=n,this.startIndex=e,this.endOffset=t}function Fn(e,t,n){this.contextName=e,this.openRange=null,this.ranges=[],this.checkStart=t,this.checkEnd=n}function zn(e,t){this.context=e,this.index=t,this.length=e.length,this.current=e[t],this.backtrack=e.slice(0,t),this.lookahead=e.slice(t+1)}function Hn(e){this.eventId=e,this.subscribers=[]}function Vn(e){var t=this,n=["start","end","next","newToken","contextStart","contextEnd","insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD","updateContextsRanges"];n.forEach((function(e){Object.defineProperty(t.events,e,{value:new Hn(e)})})),e&&n.forEach((function(n){var i=e[n];"function"==typeof i&&t.events[n].subscribe(i)})),["insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD"].forEach((function(e){t.events[e].subscribe(t.updateContextsRanges)}))}function Wn(e){this.tokens=[],this.registeredContexts={},this.contextCheckers=[],this.events={},this.registeredModifiers=[],Vn.call(this,e)}function $n(e){return/[\u0600-\u065F\u066A-\u06D2\u06FA-\u06FF]/.test(e)}function Kn(e){return/[\u0630\u0690\u0621\u0631\u0661\u0671\u0622\u0632\u0672\u0692\u06C2\u0623\u0673\u0693\u06C3\u0624\u0694\u06C4\u0625\u0675\u0695\u06C5\u06E5\u0676\u0696\u06C6\u0627\u0677\u0697\u06C7\u0648\u0688\u0698\u06C8\u0689\u0699\u06C9\u068A\u06CA\u066B\u068B\u06CB\u068C\u068D\u06CD\u06FD\u068E\u06EE\u06FE\u062F\u068F\u06CF\u06EF]/.test(e)}function Gn(e){return/[\u0600-\u0605\u060C-\u060E\u0610-\u061B\u061E\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/.test(e)}function qn(e){return/[A-z]/.test(e)}function Yn(e){this.font=e,this.features={}}function Xn(e){this.id=e.id,this.tag=e.tag,this.substitution=e.substitution}function Jn(e,t){if(!e)return-1;switch(t.format){case 1:return t.glyphs.indexOf(e);case 2:for(var n=t.ranges,i=0;i<n.length;i++){var o=n[i];if(e>=o.start&&e<=o.end){var r=e-o.start;return o.index+r}}break;default:return-1}return-1}function Qn(e,t){return-1===Jn(e,t.coverage)?null:e+t.deltaGlyphId}function Zn(e,t){var n=Jn(e,t.coverage);return-1===n?null:t.substitute[n]}function ei(e,t){for(var n=[],i=0;i<e.length;i++){var o=e[i],r=t.current,a=Jn(r=Array.isArray(r)?r[0]:r,o);-1!==a&&n.push(a)}return n.length!==e.length?-1:n}function ti(e,t){var n=t.inputCoverage.length+t.lookaheadCoverage.length+t.backtrackCoverage.length;if(e.context.length<n)return[];var i=ei(t.inputCoverage,e);if(-1===i)return[];var o=t.inputCoverage.length-1;if(e.lookahead.length<t.lookaheadCoverage.length)return[];for(var r=e.lookahead.slice(o);r.length&&Gn(r[0].char);)r.shift();var a=new zn(r,0),s=ei(t.lookaheadCoverage,a),l=[].concat(e.backtrack);for(l.reverse();l.length&&Gn(l[0].char);)l.shift();if(l.length<t.backtrackCoverage.length)return[];var c=new zn(l,0),u=ei(t.backtrackCoverage,c),d=[];if(i.length===t.inputCoverage.length&&s.length===t.lookaheadCoverage.length&&u.length===t.backtrackCoverage.length)for(var p=0;p<t.lookupRecords.length;p++)for(var h=t.lookupRecords[p].lookupListIndex,f=this.getLookupByIndex(h),m=0;m<f.subtables.length;m++){var v=f.subtables[m],g=this.getLookupMethod(f,v);if("12"===this.getSubstitutionType(f,v))for(var y=0;y<i.length;y++){var b=g(e.get(y));b&&d.push(b)}}return d}function ni(e,t){var n,i=Jn(e.current,t.coverage);if(-1===i)return null;for(var o=t.ligatureSets[i],r=0;r<o.length;r++){n=o[r];for(var a=0;a<n.components.length&&e.lookahead[a]===n.components[a];a++)if(a===n.components.length-1)return n}return null}function ii(e,t){var n=Jn(e,t.coverage);return-1===n?null:t.sequences[n]}Jt.prototype.exec=function(e,t){if("number"!=typeof t)throw new Error("Point size is not a number!");if(!(this._errorState>2)){var n=this.font,i=this._prepState;if(!i||i.ppem!==t){var o=this._fpgmState;if(!o){hn.prototype=pn,(o=this._fpgmState=new hn("fpgm",n.tables.fpgm)).funcs=[],o.font=n,exports.DEBUG&&(console.log("---EXEC FPGM---"),o.step=-1);try{Gt(o)}catch(c){return console.log("Hinting error in FPGM:"+c),void(this._errorState=3)}}hn.prototype=o,(i=this._prepState=new hn("prep",n.tables.prep)).ppem=t;var r=n.tables.cvt;if(r)for(var a=i.cvt=new Array(r.length),s=t/n.unitsPerEm,l=0;l<r.length;l++)a[l]=r[l]*s;else i.cvt=[];exports.DEBUG&&(console.log("---EXEC PREP---"),i.step=-1);try{Gt(i)}catch(c){this._errorState<2&&console.log("Hinting error in PREP:"+c),this._errorState=2}}if(!(this._errorState>1))try{return qt(e,i)}catch(c){return this._errorState<1&&(console.log("Hinting error:"+c),console.log("Note: further hinting errors are silenced")),void(this._errorState=1)}}},qt=function(e,t){var n,i,o,r=t.ppem/t.font.unitsPerEm,a=r,s=e.components;if(hn.prototype=t,s){var l=t.font;i=[],n=[];for(var c=0;c<s.length;c++){var u=s[c],d=l.glyphs.get(u.glyphIndex);o=new hn("glyf",d.instructions),exports.DEBUG&&(console.log("---EXEC COMP "+c+"---"),o.step=-1),Yt(d,o,r,a);for(var p=Math.round(u.dx*r),h=Math.round(u.dy*a),f=o.gZone,m=o.contours,v=0;v<f.length;v++){var g=f[v];g.xTouched=g.yTouched=!1,g.xo=g.x=g.x+p,g.yo=g.y=g.y+h}var y=i.length;i.push.apply(i,f);for(var b=0;b<m.length;b++)n.push(m[b]+y)}e.instructions&&!o.inhibitGridFit&&((o=new hn("glyf",e.instructions)).gZone=o.z0=o.z1=o.z2=i,o.contours=n,i.push(new un(0,0),new un(Math.round(e.advanceWidth*r),0)),exports.DEBUG&&(console.log("---EXEC COMPOSITE---"),o.step=-1),Gt(o),i.length-=2)}else o=new hn("glyf",e.instructions),exports.DEBUG&&(console.log("---EXEC GLYPH---"),o.step=-1),Yt(e,o,r,a),i=o.gZone;return i},Yt=function(e,t,n,i){for(var o,r,a,s=e.points||[],l=s.length,c=t.gZone=t.z0=t.z1=t.z2=[],u=t.contours=[],d=0;d<l;d++)o=s[d],c[d]=new un(o.x*n,o.y*i,o.lastPointOfContour,o.onCurve);for(var p=0;p<l;p++)o=c[p],r||(r=o,u.push(p)),o.lastPointOfContour?(o.nextPointOnContour=r,r.prevPointOnContour=o,r=void 0):(a=c[p+1],o.nextPointOnContour=a,a.prevPointOnContour=o);if(!t.inhibitGridFit){if(exports.DEBUG){console.log("PROCESSING GLYPH",t.stack);for(var h=0;h<l;h++)console.log(h,c[h].x,c[h].y)}if(c.push(new un(0,0),new un(Math.round(e.advanceWidth*n),0)),Gt(t),c.length-=2,exports.DEBUG){console.log("FINISHED GLYPH",t.stack);for(var f=0;f<l;f++)console.log(f,c[f].x,c[f].y)}}},Gt=function(e){var t=e.prog;if(t){var n,i=t.length;for(e.ip=0;e.ip<i;e.ip++){if(exports.DEBUG&&e.step++,!(n=Kt[t[e.ip]]))throw new Error("unknown instruction: 0x"+Number(t[e.ip]).toString(16));n(e)}}},Kt=[vn.bind(void 0,sn),vn.bind(void 0,an),gn.bind(void 0,sn),gn.bind(void 0,an),yn.bind(void 0,sn),yn.bind(void 0,an),bn.bind(void 0,0),bn.bind(void 0,1),xn.bind(void 0,0),xn.bind(void 0,1),function(e){var t=e.stack,n=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"SPVFS[]",n,i),e.pv=e.dpv=cn(i,n)},function(e){var t=e.stack,n=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"SPVFS[]",n,i),e.fv=cn(i,n)},function(e){var t=e.stack,n=e.pv;exports.DEBUG&&console.log(e.step,"GPV[]"),t.push(16384*n.x),t.push(16384*n.y)},function(e){var t=e.stack,n=e.fv;exports.DEBUG&&console.log(e.step,"GFV[]"),t.push(16384*n.x),t.push(16384*n.y)},function(e){e.fv=e.pv,exports.DEBUG&&console.log(e.step,"SFVTPV[]")},function(e){var t=e.stack,n=t.pop(),i=t.pop(),o=t.pop(),r=t.pop(),a=t.pop(),s=e.z0,l=e.z1,c=s[n],u=s[i],d=l[o],p=l[r],h=e.z2[a];exports.DEBUG&&console.log("ISECT[], ",n,i,o,r,a);var f=c.x,m=c.y,v=u.x,g=u.y,y=d.x,b=d.y,x=p.x,w=p.y,S=(f-v)*(b-w)-(m-g)*(y-x),k=f*g-m*v,C=y*w-b*x;h.x=(k*(y-x)-C*(f-v))/S,h.y=(k*(b-w)-C*(m-g))/S},function(e){e.rp0=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SRP0[]",e.rp0)},function(e){e.rp1=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SRP1[]",e.rp1)},function(e){e.rp2=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SRP2[]",e.rp2)},function(e){var t=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZP0[]",t),e.zp0=t,t){case 0:e.tZone||fn(e),e.z0=e.tZone;break;case 1:e.z0=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){var t=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZP1[]",t),e.zp1=t,t){case 0:e.tZone||fn(e),e.z1=e.tZone;break;case 1:e.z1=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){var t=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZP2[]",t),e.zp2=t,t){case 0:e.tZone||fn(e),e.z2=e.tZone;break;case 1:e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){var t=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZPS[]",t),e.zp0=e.zp1=e.zp2=t,t){case 0:e.tZone||fn(e),e.z0=e.z1=e.z2=e.tZone;break;case 1:e.z0=e.z1=e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){e.loop=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SLOOP[]",e.loop)},function(e){exports.DEBUG&&console.log(e.step,"RTG[]"),e.round=Zt},function(e){exports.DEBUG&&console.log(e.step,"RTHG[]"),e.round=tn},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SMD[]",t),e.minDis=t/64},function(e){exports.DEBUG&&console.log(e.step,"ELSE[]"),mn(e,!1)},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"JMPR[]",t),e.ip+=t-1},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SCVTCI[]",t),e.cvCutIn=t/64},void 0,void 0,function(e){var t=e.stack;exports.DEBUG&&console.log(e.step,"DUP[]"),t.push(t[t.length-1])},wn,function(e){exports.DEBUG&&console.log(e.step,"CLEAR[]"),e.stack.length=0},function(e){var t=e.stack,n=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"SWAP[]"),t.push(n),t.push(i)},function(e){var t=e.stack;exports.DEBUG&&console.log(e.step,"DEPTH[]"),t.push(t.length)},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"CINDEX[]",n),t.push(t[t.length-n])},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"MINDEX[]",n),t.push(t.splice(t.length-n,1)[0])},void 0,void 0,void 0,function(e){var t=e.stack,n=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"LOOPCALL[]",n,i);var o=e.ip,r=e.prog;e.prog=e.funcs[n];for(var a=0;a<i;a++)Gt(e),exports.DEBUG&&console.log(++e.step,a+1<i?"next loopcall":"done loopcall",a);e.ip=o,e.prog=r},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"CALL[]",t);var n=e.ip,i=e.prog;e.prog=e.funcs[t],Gt(e),e.ip=n,e.prog=i,exports.DEBUG&&console.log(++e.step,"returning from",t)},function(e){if("fpgm"!==e.env)throw new Error("FDEF not allowed here");var t=e.stack,n=e.prog,i=e.ip,o=t.pop(),r=i;for(exports.DEBUG&&console.log(e.step,"FDEF[]",o);45!==n[++i];);e.ip=i,e.funcs[o]=n.slice(r+1,i)},void 0,Sn.bind(void 0,0),Sn.bind(void 0,1),kn.bind(void 0,sn),kn.bind(void 0,an),Cn.bind(void 0,0),Cn.bind(void 0,1),Mn.bind(void 0,0),Mn.bind(void 0,1),_n.bind(void 0,0),_n.bind(void 0,1),function(e){for(var t=e.stack,n=e.loop,i=e.fv,o=t.pop()/64,r=e.z2;n--;){var a=t.pop(),s=r[a];exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-n)+": ":"")+"SHPIX[]",a,o),i.setRelative(s,s,o),i.touch(s)}e.loop=1},function(e){for(var t=e.stack,n=e.rp1,i=e.rp2,o=e.loop,r=e.z0[n],a=e.z1[i],s=e.fv,l=e.dpv,c=e.z2;o--;){var u=t.pop(),d=c[u];exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-o)+": ":"")+"IP[]",u,n,"<->",i),s.interpolate(d,r,a,l),s.touch(d)}e.loop=1},On.bind(void 0,0),On.bind(void 0,1),function(e){for(var t=e.stack,n=e.rp0,i=e.z0[n],o=e.loop,r=e.fv,a=e.pv,s=e.z1;o--;){var l=t.pop(),c=s[l];exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-o)+": ":"")+"ALIGNRP[]",l),r.setRelative(c,i,0,a),r.touch(c)}e.loop=1},function(e){exports.DEBUG&&console.log(e.step,"RTDG[]"),e.round=en},Pn.bind(void 0,0),Pn.bind(void 0,1),function(e){var t=e.prog,n=e.ip,i=e.stack,o=t[++n];exports.DEBUG&&console.log(e.step,"NPUSHB[]",o);for(var r=0;r<o;r++)i.push(t[++n]);e.ip=n},function(e){var t=e.ip,n=e.prog,i=e.stack,o=n[++t];exports.DEBUG&&console.log(e.step,"NPUSHW[]",o);for(var r=0;r<o;r++){var a=n[++t]<<8|n[++t];32768&a&&(a=-(1+(65535^a))),i.push(a)}e.ip=t},function(e){var t=e.stack,n=e.store;n||(n=e.store=[]);var i=t.pop(),o=t.pop();exports.DEBUG&&console.log(e.step,"WS",i,o),n[o]=i},function(e){var t=e.stack,n=e.store,i=t.pop();exports.DEBUG&&console.log(e.step,"RS",i);var o=n&&n[i]||0;t.push(o)},function(e){var t=e.stack,n=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"WCVTP",n,i),e.cvt[i]=n/64},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"RCVT",n),t.push(64*e.cvt[n])},En.bind(void 0,0),En.bind(void 0,1),void 0,Tn.bind(void 0,0),Tn.bind(void 0,1),function(e){exports.DEBUG&&console.log(e.step,"MPPEM[]"),e.stack.push(e.ppem)},void 0,function(e){exports.DEBUG&&console.log(e.step,"FLIPON[]"),e.autoFlip=!0},void 0,void 0,function(e){var t=e.stack,n=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"LT[]",n,i),t.push(i<n?1:0)},function(e){var t=e.stack,n=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"LTEQ[]",n,i),t.push(i<=n?1:0)},function(e){var t=e.stack,n=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"GT[]",n,i),t.push(i>n?1:0)},function(e){var t=e.stack,n=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"GTEQ[]",n,i),t.push(i>=n?1:0)},function(e){var t=e.stack,n=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"EQ[]",n,i),t.push(n===i?1:0)},function(e){var t=e.stack,n=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"NEQ[]",n,i),t.push(n!==i?1:0)},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"ODD[]",n),t.push(Math.trunc(n)%2?1:0)},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"EVEN[]",n),t.push(Math.trunc(n)%2?0:1)},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"IF[]",t),t||(mn(e,!0),exports.DEBUG&&console.log(e.step,"EIF[]"))},function(e){exports.DEBUG&&console.log(e.step,"EIF[]")},function(e){var t=e.stack,n=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"AND[]",n,i),t.push(n&&i?1:0)},function(e){var t=e.stack,n=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"OR[]",n,i),t.push(n||i?1:0)},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"NOT[]",n),t.push(n?0:1)},jn.bind(void 0,1),function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SDB[]",t),e.deltaBase=t},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SDS[]",t),e.deltaShift=Math.pow(.5,t)},function(e){var t=e.stack,n=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"ADD[]",n,i),t.push(i+n)},function(e){var t=e.stack,n=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"SUB[]",n,i),t.push(i-n)},function(e){var t=e.stack,n=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"DIV[]",n,i),t.push(64*i/n)},function(e){var t=e.stack,n=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"MUL[]",n,i),t.push(i*n/64)},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"ABS[]",n),t.push(Math.abs(n))},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"NEG[]",n),t.push(-n)},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"FLOOR[]",n),t.push(64*Math.floor(n/64))},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"CEILING[]",n),t.push(64*Math.ceil(n/64))},Rn.bind(void 0,0),Rn.bind(void 0,1),Rn.bind(void 0,2),Rn.bind(void 0,3),void 0,void 0,void 0,void 0,function(e){var t=e.stack,n=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"WCVTF[]",n,i),e.cvt[i]=n*e.ppem/e.font.unitsPerEm},jn.bind(void 0,2),jn.bind(void 0,3),Nn.bind(void 0,1),Nn.bind(void 0,2),Nn.bind(void 0,3),function(e){var t,n=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SROUND[]",n),e.round=rn,192&n){case 0:t=.5;break;case 64:t=1;break;case 128:t=2;break;default:throw new Error("invalid SROUND value")}switch(e.srPeriod=t,48&n){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*t;break;case 32:e.srPhase=.5*t;break;case 48:e.srPhase=.75*t;break;default:throw new Error("invalid SROUND value")}n&=15,e.srThreshold=0===n?0:(n/8-.5)*t},function(e){var t,n=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"S45ROUND[]",n),e.round=rn,192&n){case 0:t=Math.sqrt(2)/2;break;case 64:t=Math.sqrt(2);break;case 128:t=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(e.srPeriod=t,48&n){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*t;break;case 32:e.srPhase=.5*t;break;case 48:e.srPhase=.75*t;break;default:throw new Error("invalid S45ROUND value")}n&=15,e.srThreshold=0===n?0:(n/8-.5)*t},void 0,void 0,function(e){exports.DEBUG&&console.log(e.step,"ROFF[]"),e.round=Qt},void 0,function(e){exports.DEBUG&&console.log(e.step,"RUTG[]"),e.round=nn},function(e){exports.DEBUG&&console.log(e.step,"RDTG[]"),e.round=on},wn,wn,void 0,void 0,void 0,void 0,void 0,function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SCANCTRL[]",t)},An.bind(void 0,0),An.bind(void 0,1),function(e){var t=e.stack,n=t.pop(),i=0;exports.DEBUG&&console.log(e.step,"GETINFO[]",n),1&n&&(i=35),32&n&&(i|=4096),t.push(i)},void 0,function(e){var t=e.stack,n=t.pop(),i=t.pop(),o=t.pop();exports.DEBUG&&console.log(e.step,"ROLL[]"),t.push(i),t.push(n),t.push(o)},function(e){var t=e.stack,n=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"MAX[]",n,i),t.push(Math.max(i,n))},function(e){var t=e.stack,n=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"MIN[]",n,i),t.push(Math.min(i,n))},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SCANTYPE[]",t)},function(e){var t=e.stack.pop(),n=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"INSTCTRL[]",t,n),t){case 1:return void(e.inhibitGridFit=!!n);case 2:return void(e.ignoreCvt=!!n);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Dn.bind(void 0,1),Dn.bind(void 0,2),Dn.bind(void 0,3),Dn.bind(void 0,4),Dn.bind(void 0,5),Dn.bind(void 0,6),Dn.bind(void 0,7),Dn.bind(void 0,8),Bn.bind(void 0,1),Bn.bind(void 0,2),Bn.bind(void 0,3),Bn.bind(void 0,4),Bn.bind(void 0,5),Bn.bind(void 0,6),Bn.bind(void 0,7),Bn.bind(void 0,8),In.bind(void 0,0,0,0,0,0),In.bind(void 0,0,0,0,0,1),In.bind(void 0,0,0,0,0,2),In.bind(void 0,0,0,0,0,3),In.bind(void 0,0,0,0,1,0),In.bind(void 0,0,0,0,1,1),In.bind(void 0,0,0,0,1,2),In.bind(void 0,0,0,0,1,3),In.bind(void 0,0,0,1,0,0),In.bind(void 0,0,0,1,0,1),In.bind(void 0,0,0,1,0,2),In.bind(void 0,0,0,1,0,3),In.bind(void 0,0,0,1,1,0),In.bind(void 0,0,0,1,1,1),In.bind(void 0,0,0,1,1,2),In.bind(void 0,0,0,1,1,3),In.bind(void 0,0,1,0,0,0),In.bind(void 0,0,1,0,0,1),In.bind(void 0,0,1,0,0,2),In.bind(void 0,0,1,0,0,3),In.bind(void 0,0,1,0,1,0),In.bind(void 0,0,1,0,1,1),In.bind(void 0,0,1,0,1,2),In.bind(void 0,0,1,0,1,3),In.bind(void 0,0,1,1,0,0),In.bind(void 0,0,1,1,0,1),In.bind(void 0,0,1,1,0,2),In.bind(void 0,0,1,1,0,3),In.bind(void 0,0,1,1,1,0),In.bind(void 0,0,1,1,1,1),In.bind(void 0,0,1,1,1,2),In.bind(void 0,0,1,1,1,3),In.bind(void 0,1,0,0,0,0),In.bind(void 0,1,0,0,0,1),In.bind(void 0,1,0,0,0,2),In.bind(void 0,1,0,0,0,3),In.bind(void 0,1,0,0,1,0),In.bind(void 0,1,0,0,1,1),In.bind(void 0,1,0,0,1,2),In.bind(void 0,1,0,0,1,3),In.bind(void 0,1,0,1,0,0),In.bind(void 0,1,0,1,0,1),In.bind(void 0,1,0,1,0,2),In.bind(void 0,1,0,1,0,3),In.bind(void 0,1,0,1,1,0),In.bind(void 0,1,0,1,1,1),In.bind(void 0,1,0,1,1,2),In.bind(void 0,1,0,1,1,3),In.bind(void 0,1,1,0,0,0),In.bind(void 0,1,1,0,0,1),In.bind(void 0,1,1,0,0,2),In.bind(void 0,1,1,0,0,3),In.bind(void 0,1,1,0,1,0),In.bind(void 0,1,1,0,1,1),In.bind(void 0,1,1,0,1,2),In.bind(void 0,1,1,0,1,3),In.bind(void 0,1,1,1,0,0),In.bind(void 0,1,1,1,0,1),In.bind(void 0,1,1,1,0,2),In.bind(void 0,1,1,1,0,3),In.bind(void 0,1,1,1,1,0),In.bind(void 0,1,1,1,1,1),In.bind(void 0,1,1,1,1,2),In.bind(void 0,1,1,1,1,3)],Ln.prototype.setState=function(e,t){return this.state[e]=t,this.activeState={key:e,value:this.state[e]},this.activeState},Ln.prototype.getState=function(e){return this.state[e]||null},Wn.prototype.inboundIndex=function(e){return e>=0&&e<this.tokens.length},Wn.prototype.composeRUD=function(e){var t=this,n=e.map((function(e){return t[e[0]].apply(t,e.slice(1).concat(!0))})),i=function(e){return"object"==typeof e&&e.hasOwnProperty("FAIL")};if(n.every(i))return{FAIL:"composeRUD: one or more operations hasn't completed successfully",report:n.filter(i)};this.dispatch("composeRUD",[n.filter((function(e){return!i(e)}))])},Wn.prototype.replaceRange=function(e,t,n,i){t=null!==t?t:this.tokens.length;var o=n.every((function(e){return e instanceof Ln}));if(!isNaN(e)&&this.inboundIndex(e)&&o){var r=this.tokens.splice.apply(this.tokens,[e,t].concat(n));return i||this.dispatch("replaceToken",[e,t,n]),[r,n]}return{FAIL:"replaceRange: invalid tokens or startIndex."}},Wn.prototype.replaceToken=function(e,t,n){if(!isNaN(e)&&this.inboundIndex(e)&&t instanceof Ln){var i=this.tokens.splice(e,1,t);return n||this.dispatch("replaceToken",[e,t]),[i[0],t]}return{FAIL:"replaceToken: invalid token or index."}},Wn.prototype.removeRange=function(e,t,n){t=isNaN(t)?this.tokens.length:t;var i=this.tokens.splice(e,t);return n||this.dispatch("removeRange",[i,e,t]),i},Wn.prototype.removeToken=function(e,t){if(!isNaN(e)&&this.inboundIndex(e)){var n=this.tokens.splice(e,1);return t||this.dispatch("removeToken",[n,e]),n}return{FAIL:"removeToken: invalid token index."}},Wn.prototype.insertToken=function(e,t,n){return e.every((function(e){return e instanceof Ln}))?(this.tokens.splice.apply(this.tokens,[t,0].concat(e)),n||this.dispatch("insertToken",[e,t]),e):{FAIL:"insertToken: invalid token(s)."}},Wn.prototype.registerModifier=function(e,t,n){this.events.newToken.subscribe((function(i,o){var r=[i,o],a=[i,o];if(null===t||!0===t.apply(this,r)){var s=n.apply(this,a);i.setState(e,s)}})),this.registeredModifiers.push(e)},Hn.prototype.subscribe=function(e){return"function"==typeof e?this.subscribers.push(e)-1:{FAIL:"invalid '"+this.eventId+"' event handler"}},Hn.prototype.unsubscribe=function(e){this.subscribers.splice(e,1)},zn.prototype.setCurrentIndex=function(e){this.index=e,this.current=this.context[e],this.backtrack=this.context.slice(0,e),this.lookahead=this.context.slice(e+1)},zn.prototype.get=function(e){switch(!0){case 0===e:return this.current;case e<0&&Math.abs(e)<=this.backtrack.length:return this.backtrack.slice(e)[0];case e>0&&e<=this.lookahead.length:return this.lookahead[e-1];default:return null}},Wn.prototype.rangeToText=function(e){if(e instanceof Un)return this.getRangeTokens(e).map((function(e){return e.char})).join("")},Wn.prototype.getText=function(){return this.tokens.map((function(e){return e.char})).join("")},Wn.prototype.getContext=function(e){return this.registeredContexts[e]||null},Wn.prototype.on=function(e,t){var n=this.events[e];return n?n.subscribe(t):null},Wn.prototype.dispatch=function(e,t){var n=this,i=this.events[e];i instanceof Hn&&i.subscribers.forEach((function(e){e.apply(n,t||[])}))},Wn.prototype.registerContextChecker=function(e,t,n){if(this.getContext(e))return{FAIL:"context name '"+e+"' is already registered."};if("function"!=typeof t)return{FAIL:"missing context start check."};if("function"!=typeof n)return{FAIL:"missing context end check."};var i=new Fn(e,t,n);return this.registeredContexts[e]=i,this.contextCheckers.push(i),i},Wn.prototype.getRangeTokens=function(e){var t=e.startIndex+e.endOffset;return[].concat(this.tokens.slice(e.startIndex,t))},Wn.prototype.getContextRanges=function(e){var t=this.getContext(e);return t?t.ranges:{FAIL:"context checker '"+e+"' is not registered."}},Wn.prototype.resetContextsRanges=function(){var e=this.registeredContexts;for(var t in e)e.hasOwnProperty(t)&&(e[t].ranges=[])},Wn.prototype.updateContextsRanges=function(){this.resetContextsRanges();for(var e=this.tokens.map((function(e){return e.char})),t=0;t<e.length;t++){var n=new zn(e,t);this.runContextCheck(n)}this.dispatch("updateContextsRanges",[this.registeredContexts])},Wn.prototype.setEndOffset=function(e,t){var n=new Un(this.getContext(t).openRange.startIndex,e,t),i=this.getContext(t).ranges;return n.rangeId=t+"."+i.length,i.push(n),this.getContext(t).openRange=null,n},Wn.prototype.runContextCheck=function(e){var t=this,n=e.index;this.contextCheckers.forEach((function(i){var o=i.contextName,r=t.getContext(o).openRange;if(!r&&i.checkStart(e)&&(r=new Un(n,null,o),t.getContext(o).openRange=r,t.dispatch("contextStart",[o,n])),r&&i.checkEnd(e)){var a=n-r.startIndex+1,s=t.setEndOffset(a,o);t.dispatch("contextEnd",[o,s])}}))},Wn.prototype.tokenize=function(e){this.tokens=[],this.resetContextsRanges();var t=Array.from(e);this.dispatch("start");for(var n=0;n<t.length;n++){var i=t[n],o=new zn(t,n);this.dispatch("next",[o]),this.runContextCheck(o);var r=new Ln(i);this.tokens.push(r),this.dispatch("newToken",[r,o])}return this.dispatch("end",[this.tokens]),this.tokens},Yn.prototype.getDefaultScriptFeaturesIndexes=function(){for(var e=this.font.tables.gsub.scripts,t=0;t<e.length;t++){var n=e[t];if("DFLT"===n.tag)return n.script.defaultLangSys.featureIndexes}return[]},Yn.prototype.getScriptFeaturesIndexes=function(e){if(!this.font.tables.gsub)return[];if(!e)return this.getDefaultScriptFeaturesIndexes();for(var t=this.font.tables.gsub.scripts,n=0;n<t.length;n++){var i=t[n];if(i.tag===e&&i.script.defaultLangSys)return i.script.defaultLangSys.featureIndexes;var o=i.langSysRecords;if(o)for(var r=0;r<o.length;r++){var a=o[r];if(a.tag===e)return a.langSys.featureIndexes}}return this.getDefaultScriptFeaturesIndexes()},Yn.prototype.mapTagsToFeatures=function(e,t){for(var n={},i=0;i<e.length;i++){var o=e[i].tag,r=e[i].feature;n[o]=r}this.features[t].tags=n},Yn.prototype.getScriptFeatures=function(e){var t=this.features[e];if(this.features.hasOwnProperty(e))return t;var n=this.getScriptFeaturesIndexes(e);if(!n)return null;var i=this.font.tables.gsub;return t=n.map((function(e){return i.features[e]})),this.features[e]=t,this.mapTagsToFeatures(t,e),t},Yn.prototype.getSubstitutionType=function(e,t){return e.lookupType.toString()+t.substFormat.toString()},Yn.prototype.getLookupMethod=function(e,t){var n=this;switch(this.getSubstitutionType(e,t)){case"11":return function(e){return Qn.apply(n,[e,t])};case"12":return function(e){return Zn.apply(n,[e,t])};case"63":return function(e){return ti.apply(n,[e,t])};case"41":return function(e){return ni.apply(n,[e,t])};case"21":return function(e){return ii.apply(n,[e,t])};default:throw new Error("lookupType: "+e.lookupType+" - substFormat: "+t.substFormat+" is not yet supported")}},Yn.prototype.lookupFeature=function(e){var t=e.contextParams,n=t.index,i=this.getFeature({tag:e.tag,script:e.script});if(!i)return new Error("font '"+this.font.names.fullName.en+"' doesn't support feature '"+e.tag+"' for script '"+e.script+"'.");for(var o=this.getFeatureLookups(i),r=[].concat(t.context),a=0;a<o.length;a++)for(var s=o[a],l=this.getLookupSubtables(s),c=0;c<l.length;c++){var u=l[c],d=this.getSubstitutionType(s,u),p=this.getLookupMethod(s,u),h=void 0;switch(d){case"11":(h=p(t.current))&&r.splice(n,1,new Xn({id:11,tag:e.tag,substitution:h}));break;case"12":(h=p(t.current))&&r.splice(n,1,new Xn({id:12,tag:e.tag,substitution:h}));break;case"63":h=p(t),Array.isArray(h)&&h.length&&r.splice(n,1,new Xn({id:63,tag:e.tag,substitution:h}));break;case"41":(h=p(t))&&r.splice(n,1,new Xn({id:41,tag:e.tag,substitution:h}));break;case"21":(h=p(t.current))&&r.splice(n,1,new Xn({id:21,tag:e.tag,substitution:h}))}t=new zn(r,n),Array.isArray(h)&&!h.length||(h=null)}return r.length?r:null},Yn.prototype.supports=function(e){if(!e.script)return!1;this.getScriptFeatures(e.script);var t=this.features.hasOwnProperty(e.script);if(!e.tag)return t;var n=this.features[e.script].some((function(t){return t.tag===e.tag}));return t&&n},Yn.prototype.getLookupSubtables=function(e){return e.subtables||null},Yn.prototype.getLookupByIndex=function(e){return this.font.tables.gsub.lookups[e]||null},Yn.prototype.getFeatureLookups=function(e){return e.lookupListIndexes.map(this.getLookupByIndex.bind(this))},Yn.prototype.getFeature=function(e){if(!this.font)return{FAIL:"No font was found"};this.features.hasOwnProperty(e.script)||this.getScriptFeatures(e.script);var t=this.features[e.script];return t?t.tags[e.tag]?this.features[e.script].tags[e.tag]:null:{FAIL:"No feature for script "+e.script}};var oi={startCheck:function(e){var t=e.current,n=e.get(-1);return null===n&&$n(t)||!$n(n)&&$n(t)},endCheck:function(e){var t=e.get(1);return null===t||!$n(t)}},ri={startCheck:function(e){var t=e.current,n=e.get(-1);return($n(t)||Gn(t))&&!$n(n)},endCheck:function(e){var t=e.get(1);switch(!0){case null===t:return!0;case!$n(t)&&!Gn(t):var n=/\s/.test(t);if(!n)return!0;if(n&&!e.lookahead.some((function(e){return $n(e)||Gn(e)})))return!0;break;default:return!1}}},ai={11:function(e,t,n){t[n].setState(e.tag,e.substitution)},12:function(e,t,n){t[n].setState(e.tag,e.substitution)},63:function(e,t,n){e.substitution.forEach((function(i,o){t[n+o].setState(e.tag,i)}))},41:function(e,t,n){var i=t[n];i.setState(e.tag,e.substitution.ligGlyph);for(var o=e.substitution.components.length,r=0;r<o;r++)(i=t[n+r+1]).setState("deleted",!0)}};function si(e,t,n){e instanceof Xn&&ai[e.id]&&ai[e.id](e,t,n)}function li(e){var t=this,n=this.featuresTags.arab,i=this.tokenizer.getRangeTokens(e);if(1!==i.length){var o=new zn(i.map((function(e){return e.getState("glyphIndex")})),0),r=new zn(i.map((function(e){return e.char})),0);i.forEach((function(e,a){if(!Gn(e.char)){o.setCurrentIndex(a),r.setCurrentIndex(a);var s,l=0;switch(function(e){for(var t=[].concat(e.backtrack),n=t.length-1;n>=0;n--){var i=t[n],o=Kn(i),r=Gn(i);if(!o&&!r)return!0;if(o)return!1}return!1}(r)&&(l|=1),function(e){if(Kn(e.current))return!1;for(var t=0;t<e.lookahead.length;t++)if(!Gn(e.lookahead[t]))return!0;return!1}(r)&&(l|=2),l){case 1:s="fina";break;case 2:s="init";break;case 3:s="medi"}if(-1!==n.indexOf(s)){var c=t.query.lookupFeature({tag:s,script:"arab",contextParams:o});if(c instanceof Error)return console.info(c.message);c.forEach((function(e,t){e instanceof Xn&&(si(e,i,t),o.context[t]=e.substitution)}))}}}))}}function ci(e,t){return new zn(e.map((function(e){return e.activeState.value})),t||0)}function ui(e){var t=this,n=this.tokenizer.getRangeTokens(e),i=ci(n);i.context.forEach((function(e,o){i.setCurrentIndex(o);var r=t.query.lookupFeature({tag:"rlig",script:"arab",contextParams:i});r.length&&(r.forEach((function(e){return si(e,n,o)})),i=ci(n))}))}var di={startCheck:function(e){var t=e.current,n=e.get(-1);return null===n&&qn(t)||!qn(n)&&qn(t)},endCheck:function(e){var t=e.get(1);return null===t||!qn(t)}};function pi(e,t){return new zn(e.map((function(e){return e.activeState.value})),t||0)}function hi(e){var t=this,n=this.tokenizer.getRangeTokens(e),i=pi(n);i.context.forEach((function(e,o){i.setCurrentIndex(o);var r=t.query.lookupFeature({tag:"liga",script:"latn",contextParams:i});r.length&&(r.forEach((function(e){return si(e,n,o)})),i=pi(n))}))}function fi(e){this.baseDir=e||"ltr",this.tokenizer=new Wn,this.featuresTags={}}function mi(e){var t=this.contextChecks[e+"Check"];return this.tokenizer.registerContextChecker(e,t.startCheck,t.endCheck)}function vi(){return mi.call(this,"latinWord"),mi.call(this,"arabicWord"),mi.call(this,"arabicSentence"),this.tokenizer.tokenize(this.text)}function gi(){var e=this;this.tokenizer.getContextRanges("arabicSentence").forEach((function(t){var n=e.tokenizer.getRangeTokens(t);e.tokenizer.replaceRange(t.startIndex,t.endOffset,n.reverse())}))}function yi(){if(-1===this.tokenizer.registeredModifiers.indexOf("glyphIndex"))throw new Error("glyphIndex modifier is required to apply arabic presentation features.")}function bi(){var e=this;this.featuresTags.hasOwnProperty("arab")&&(yi.call(this),this.tokenizer.getContextRanges("arabicWord").forEach((function(t){li.call(e,t)})))}function xi(){var e=this;this.featuresTags.hasOwnProperty("arab")&&-1!==this.featuresTags.arab.indexOf("rlig")&&(yi.call(this),this.tokenizer.getContextRanges("arabicWord").forEach((function(t){ui.call(e,t)})))}function wi(){var e=this;this.featuresTags.hasOwnProperty("latn")&&-1!==this.featuresTags.latn.indexOf("liga")&&(yi.call(this),this.tokenizer.getContextRanges("latinWord").forEach((function(t){hi.call(e,t)})))}function Si(e){(e=e||{}).tables=e.tables||{},e.empty||(Ft(e.familyName,"When creating a new Font object, familyName is required."),Ft(e.styleName,"When creating a new Font object, styleName is required."),Ft(e.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Ft(e.ascender,"When creating a new Font object, ascender is required."),Ft(e.descender<=0,"When creating a new Font object, negative descender value is required."),this.names={fontFamily:{en:e.familyName||" "},fontSubfamily:{en:e.styleName||" "},fullName:{en:e.fullName||e.familyName+" "+e.styleName},postScriptName:{en:e.postScriptName||(e.familyName+e.styleName).replace(/\s/g,"")},designer:{en:e.designer||" "},designerURL:{en:e.designerURL||" "},manufacturer:{en:e.manufacturer||" "},manufacturerURL:{en:e.manufacturerURL||" "},license:{en:e.license||" "},licenseURL:{en:e.licenseURL||" "},version:{en:e.version||"Version 0.1"},description:{en:e.description||" "},copyright:{en:e.copyright||" "},trademark:{en:e.trademark||" "}},this.unitsPerEm=e.unitsPerEm||1e3,this.ascender=e.ascender,this.descender=e.descender,this.createdTimestamp=e.createdTimestamp,this.tables=Object.assign(e.tables,{os2:Object.assign({usWeightClass:e.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:e.widthClass||this.usWidthClasses.MEDIUM,fsSelection:e.fsSelection||this.fsSelectionValues.REGULAR},e.tables.os2)})),this.supported=!0,this.glyphs=new we.GlyphSet(this,e.glyphs||[]),this.encoding=new he(this),this.position=new Dt(this),this.substitution=new Bt(this),this.tables=this.tables||{},this._push=null,this._hmtxTableData={},Object.defineProperty(this,"hinting",{get:function(){return this._hinting?this._hinting:"truetype"===this.outlinesFormat?this._hinting=new Jt(this):void 0}})}function ki(e,t,n){var i={},o=new re.Parser(e,t);return i.tag=o.parseTag(),i.minValue=o.parseFixed(),i.defaultValue=o.parseFixed(),i.maxValue=o.parseFixed(),o.skip("uShort",1),i.name=n[o.parseUShort()]||{},i}function Ci(e,t,n,i){var o={},r=new re.Parser(e,t);o.name=i[r.parseUShort()]||{},r.skip("uShort",1),o.coordinates={};for(var a=0;a<n.length;++a)o.coordinates[n[a].tag]=r.parseFixed();return o}fi.prototype.setText=function(e){this.text=e},fi.prototype.contextChecks={latinWordCheck:di,arabicWordCheck:oi,arabicSentenceCheck:ri},fi.prototype.registerFeatures=function(e,t){var n=this,i=t.filter((function(t){return n.query.supports({script:e,tag:t})}));this.featuresTags.hasOwnProperty(e)?this.featuresTags[e]=this.featuresTags[e].concat(i):this.featuresTags[e]=i},fi.prototype.applyFeatures=function(e,t){if(!e)throw new Error("No valid font was provided to apply features");this.query||(this.query=new Yn(e));for(var n=0;n<t.length;n++){var i=t[n];this.query.supports({script:i.script})&&this.registerFeatures(i.script,i.tags)}},fi.prototype.registerModifier=function(e,t,n){this.tokenizer.registerModifier(e,t,n)},fi.prototype.checkContextReady=function(e){return!!this.tokenizer.getContext(e)},fi.prototype.applyFeaturesToContexts=function(){this.checkContextReady("arabicWord")&&(bi.call(this),xi.call(this)),this.checkContextReady("latinWord")&&wi.call(this),this.checkContextReady("arabicSentence")&&gi.call(this)},fi.prototype.processText=function(e){this.text&&this.text===e||(this.setText(e),vi.call(this),this.applyFeaturesToContexts())},fi.prototype.getBidiText=function(e){return this.processText(e),this.tokenizer.getText()},fi.prototype.getTextGlyphs=function(e){this.processText(e);for(var t=[],n=0;n<this.tokenizer.tokens.length;n++){var i=this.tokenizer.tokens[n];if(!i.state.deleted){var o=i.activeState.value;t.push(Array.isArray(o)?o[0]:o)}}return t},Si.prototype.hasChar=function(e){return null!==this.encoding.charToGlyphIndex(e)},Si.prototype.charToGlyphIndex=function(e){return this.encoding.charToGlyphIndex(e)},Si.prototype.charToGlyph=function(e){var t=this.charToGlyphIndex(e),n=this.glyphs.get(t);return n||(n=this.glyphs.get(0)),n},Si.prototype.updateFeatures=function(e){return this.defaultRenderOptions.features.map((function(t){return"latn"===t.script?{script:"latn",tags:t.tags.filter((function(t){return e[t]}))}:t}))},Si.prototype.stringToGlyphs=function(e,t){var n=this,i=new fi;i.registerModifier("glyphIndex",null,(function(e){return n.charToGlyphIndex(e.char)}));var o=t?this.updateFeatures(t.features):this.defaultRenderOptions.features;i.applyFeatures(this,o);for(var r=i.getTextGlyphs(e),a=r.length,s=new Array(a),l=this.glyphs.get(0),c=0;c<a;c+=1)s[c]=this.glyphs.get(r[c])||l;return s},Si.prototype.nameToGlyphIndex=function(e){return this.glyphNames.nameToGlyphIndex(e)},Si.prototype.nameToGlyph=function(e){var t=this.nameToGlyphIndex(e),n=this.glyphs.get(t);return n||(n=this.glyphs.get(0)),n},Si.prototype.glyphIndexToName=function(e){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(e):""},Si.prototype.getKerningValue=function(e,t){e=e.index||e,t=t.index||t;var n=this.position.defaultKerningTables;return n?this.position.getKerningValue(n,e,t):this.kerningPairs[e+","+t]||0},Si.prototype.defaultRenderOptions={kerning:!0,features:[{script:"arab",tags:["init","medi","fina","rlig"]},{script:"latn",tags:["liga","rlig"]}]},Si.prototype.forEachGlyph=function(e,t,n,i,o,r){t=void 0!==t?t:0,n=void 0!==n?n:0,i=void 0!==i?i:72,o=Object.assign({},this.defaultRenderOptions,o);var a,s=1/this.unitsPerEm*i,l=this.stringToGlyphs(e,o);if(o.kerning){var c=o.script||this.position.getDefaultScriptName();a=this.position.getKerningTables(c,o.language)}for(var u=0;u<l.length;u+=1){var d=l[u];r.call(this,d,t,n,i,o),d.advanceWidth&&(t+=d.advanceWidth*s),o.kerning&&u<l.length-1&&(t+=(a?this.position.getKerningValue(a,d.index,l[u+1].index):this.getKerningValue(d,l[u+1]))*s),o.letterSpacing?t+=o.letterSpacing*i:o.tracking&&(t+=o.tracking/1e3*i)}return t},Si.prototype.getPath=function(e,t,n,i,o){var r=new O;return this.forEachGlyph(e,t,n,i,o,(function(e,t,n,i){var a=e.getPath(t,n,i,o,this);r.extend(a)})),r},Si.prototype.getPaths=function(e,t,n,i,o){var r=[];return this.forEachGlyph(e,t,n,i,o,(function(e,t,n,i){var a=e.getPath(t,n,i,o,this);r.push(a)})),r},Si.prototype.getAdvanceWidth=function(e,t,n){return this.forEachGlyph(e,0,0,t,n,(function(){}))},Si.prototype.draw=function(e,t,n,i,o,r){this.getPath(t,n,i,o,r).draw(e)},Si.prototype.drawPoints=function(e,t,n,i,o,r){this.forEachGlyph(t,n,i,o,r,(function(t,n,i,o){t.drawPoints(e,n,i,o)}))},Si.prototype.drawMetrics=function(e,t,n,i,o,r){this.forEachGlyph(t,n,i,o,r,(function(t,n,i,o){t.drawMetrics(e,n,i,o)}))},Si.prototype.getEnglishName=function(e){var t=this.names[e];if(t)return t.en},Si.prototype.validate=function(){var e=this;function t(t){var n=e.getEnglishName(t);n&&n.trim().length}t("fontFamily"),t("weightName"),t("manufacturer"),t("copyright"),t("version"),this.unitsPerEm},Si.prototype.toTables=function(){return Tt(this)},Si.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},Si.prototype.toArrayBuffer=function(){for(var e=this.toTables().encode(),t=new ArrayBuffer(e.length),n=new Uint8Array(t),i=0;i<e.length;i++)n[i]=e[i];return t},Si.prototype.download=function(t){var i=this.getEnglishName("fontFamily"),o=this.getEnglishName("fontSubfamily");t=t||i.replace(/\s/g,"")+"-"+o+".otf";var r=this.toArrayBuffer();if("undefined"!=typeof window)if(window.URL=window.URL||window.webkitURL,window.URL){var a=new DataView(r),s=new Blob([a],{type:"font/opentype"}),l=document.createElement("a");l.href=window.URL.createObjectURL(s),l.download=t;var c=document.createEvent("MouseEvents");c.initEvent("click",!0,!1),l.dispatchEvent(c)}else console.warn("Font file could not be downloaded. Try using a different browser.");else{var u=n(153),d=function(t){for(var n=new e(t.byteLength),i=new Uint8Array(t),o=0;o<n.length;++o)n[o]=i[o];return n}(r);u.writeFileSync(t,d)}},Si.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},Si.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},Si.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Mi=function(e,t,n){var i=new re.Parser(e,t),o=i.parseULong();T.argument(65536===o,"Unsupported fvar table version.");var r=i.parseOffset16();i.skip("uShort",1);for(var a=i.parseUShort(),s=i.parseUShort(),l=i.parseUShort(),c=i.parseUShort(),u=[],d=0;d<a;d++)u.push(ki(e,t+r+d*s,n));for(var p=[],h=t+r+a*s,f=0;f<l;f++)p.push(Ci(e,h+f*c,u,n));return{axes:u,instances:p}},_i=new Array(10);_i[1]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{posFormat:1,coverage:this.parsePointer(ie.coverage),value:this.parseValueRecord()}:2===t?{posFormat:2,coverage:this.parsePointer(ie.coverage),values:this.parseValueRecordList()}:void T.assert(!1,"0x"+e.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},_i[2]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();T.assert(1===t||2===t,"0x"+e.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var n=this.parsePointer(ie.coverage),i=this.parseUShort(),o=this.parseUShort();if(1===t)return{posFormat:t,coverage:n,valueFormat1:i,valueFormat2:o,pairSets:this.parseList(ie.pointer(ie.list((function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(i),value2:this.parseValueRecord(o)}}))))};if(2===t){var r=this.parsePointer(ie.classDef),a=this.parsePointer(ie.classDef),s=this.parseUShort(),l=this.parseUShort();return{posFormat:t,coverage:n,valueFormat1:i,valueFormat2:o,classDef1:r,classDef2:a,class1Count:s,class2Count:l,classRecords:this.parseList(s,ie.list(l,(function(){return{value1:this.parseValueRecord(i),value2:this.parseValueRecord(o)}})))}}},_i[3]=function(){return{error:"GPOS Lookup 3 not supported"}},_i[4]=function(){return{error:"GPOS Lookup 4 not supported"}},_i[5]=function(){return{error:"GPOS Lookup 5 not supported"}},_i[6]=function(){return{error:"GPOS Lookup 6 not supported"}},_i[7]=function(){return{error:"GPOS Lookup 7 not supported"}},_i[8]=function(){return{error:"GPOS Lookup 8 not supported"}},_i[9]=function(){return{error:"GPOS Lookup 9 not supported"}};new Array(10);var Oi=function(e,t){var n=new ie(e,t=t||0),i=n.parseVersion(1);return T.argument(1===i||1.1===i,"Unsupported GPOS table version "+i),1===i?{version:i,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(_i)}:{version:i,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(_i),variations:n.parseFeatureVariationsList()}},Pi=function(e,t){var n=new re.Parser(e,t),i=n.parseUShort();if(0===i)return function(e){var t={};e.skip("uShort");var n=e.parseUShort();T.argument(0===n,"Unsupported kern sub-table version."),e.skip("uShort",2);var i=e.parseUShort();e.skip("uShort",3);for(var o=0;o<i;o+=1){var r=e.parseUShort(),a=e.parseUShort(),s=e.parseShort();t[r+","+a]=s}return t}(n);if(1===i)return function(e){var t={};e.skip("uShort"),e.parseULong()>1&&console.warn("Only the first kern subtable is supported."),e.skip("uLong");var n=255&e.parseUShort();if(e.skip("uShort"),0===n){var i=e.parseUShort();e.skip("uShort",3);for(var o=0;o<i;o+=1){var r=e.parseUShort(),a=e.parseUShort(),s=e.parseShort();t[r+","+a]=s}}return t}(n);throw new Error("Unsupported kern table version ("+i+").")},Ei=function(e,t,n,i){for(var o=new re.Parser(e,t),r=i?o.parseUShort:o.parseULong,a=[],s=0;s<n+1;s+=1){var l=r.call(o);i&&(l*=2),a.push(l)}return a};function Ti(e,t){n(153).readFile(e,(function(e,n){if(e)return t(e.message);t(null,Ut(n))}))}function ji(e,t){var n=new XMLHttpRequest;n.open("get",e,!0),n.responseType="arraybuffer",n.onload=function(){return n.response?t(null,n.response):t("Font could not be loaded: "+n.statusText)},n.onerror=function(){t("Font could not be loaded")},n.send()}function Ri(e,t){for(var n=[],i=12,o=0;o<t;o+=1){var r=re.getTag(e,i),a=re.getULong(e,i+4),s=re.getULong(e,i+8),l=re.getULong(e,i+12);n.push({tag:r,checksum:a,offset:s,length:l,compression:!1}),i+=16}return n}function Ni(e,t){if("WOFF"===t.compression){var n=new Uint8Array(e.buffer,t.offset+2,t.compressedLength-2),i=new Uint8Array(t.length);if(function(e,t){var n,i,o=new a(e,t);do{switch(n=b(o),x(o,2,0)){case 0:i=C(o);break;case 1:i=k(o,s,l);break;case 2:S(o,o.ltree,o.dtree),i=k(o,o.ltree,o.dtree);break;default:i=-3}if(0!==i)throw new Error("Data error")}while(!n);o.destLen<o.dest.length?"function"==typeof o.dest.slice?o.dest.slice(0,o.destLen):o.dest.subarray(0,o.destLen):o.dest}(n,i),i.byteLength!==t.length)throw new Error("Decompression error: "+t.tag+" decompressed length doesn't match recorded length");return{data:new DataView(i.buffer,0),offset:0}}return{data:e,offset:t.offset}}function Ai(e,t){var n,i;t=null==t?{}:t;var o,r,a,s,l,c,u,d,p,h,f,m,v=new Si({empty:!0}),g=new DataView(e,0),y=[],b=re.getTag(g,0);if(b===String.fromCharCode(0,1,0,0)||"true"===b||"typ1"===b)v.outlinesFormat="truetype",y=Ri(g,o=re.getUShort(g,4));else if("OTTO"===b)v.outlinesFormat="cff",y=Ri(g,o=re.getUShort(g,4));else{if("wOFF"!==b)throw new Error("Unsupported OpenType signature "+b);var x=re.getTag(g,4);if(x===String.fromCharCode(0,1,0,0))v.outlinesFormat="truetype";else{if("OTTO"!==x)throw new Error("Unsupported OpenType flavor "+b);v.outlinesFormat="cff"}y=function(e,t){for(var n=[],i=44,o=0;o<t;o+=1){var r,a=re.getTag(e,i),s=re.getULong(e,i+4),l=re.getULong(e,i+8),c=re.getULong(e,i+12);r=l<c&&"WOFF",n.push({tag:a,offset:s,compression:r,compressedLength:l,length:c}),i+=20}return n}(g,o=re.getUShort(g,12))}for(var w=0;w<o;w+=1){var S=y[w],k=void 0;switch(S.tag){case"cmap":k=Ni(g,S),v.tables.cmap=se(k.data,k.offset),v.encoding=new fe(v.tables.cmap);break;case"cvt ":k=Ni(g,S),m=new re.Parser(k.data,k.offset),v.tables.cvt=m.parseShortList(S.length/2);break;case"fvar":a=S;break;case"fpgm":k=Ni(g,S),m=new re.Parser(k.data,k.offset),v.tables.fpgm=m.parseByteList(S.length);break;case"head":k=Ni(g,S),v.tables.head=He(k.data,k.offset),v.unitsPerEm=v.tables.head.unitsPerEm,n=v.tables.head.indexToLocFormat;break;case"hhea":k=Ni(g,S),v.tables.hhea=We(k.data,k.offset),v.ascender=v.tables.hhea.ascender,v.descender=v.tables.hhea.descender,v.numberOfHMetrics=v.tables.hhea.numberOfHMetrics;break;case"hmtx":u=S;break;case"ltag":k=Ni(g,S),i=Ye(k.data,k.offset);break;case"maxp":k=Ni(g,S),v.tables.maxp=Xe(k.data,k.offset),v.numGlyphs=v.tables.maxp.numGlyphs;break;case"name":h=S;break;case"OS/2":k=Ni(g,S),v.tables.os2=pt(k.data,k.offset);break;case"post":k=Ni(g,S),v.tables.post=mt(k.data,k.offset),v.glyphNames=new ve(v.tables.post);break;case"prep":k=Ni(g,S),m=new re.Parser(k.data,k.offset),v.tables.prep=m.parseByteList(S.length);break;case"glyf":s=S;break;case"loca":p=S;break;case"CFF ":r=S;break;case"kern":d=S;break;case"GPOS":l=S;break;case"GSUB":c=S;break;case"meta":f=S}}var C=Ni(g,h);if(v.tables.name=ct(C.data,C.offset,i),v.names=v.tables.name,s&&p){var M=0===n,_=Ni(g,p),O=Ei(_.data,_.offset,v.numGlyphs,M),P=Ni(g,s);v.glyphs=Xt.parse(P.data,P.offset,O,v,t)}else{if(!r)throw new Error("Font doesn't contain TrueType or CFF outlines.");var E=Ni(g,r);Fe(E.data,E.offset,v,t)}var T=Ni(g,u);if(Ke(v,T.data,T.offset,v.numberOfHMetrics,v.numGlyphs,v.glyphs,t),function(e,t){t.lowMemory?function(e){e._IndexToUnicodeMap={};for(var t=e.tables.cmap.glyphIndexMap,n=Object.keys(t),i=0;i<n.length;i+=1){var o=n[i],r=t[o];void 0===e._IndexToUnicodeMap[r]?e._IndexToUnicodeMap[r]={unicodes:[parseInt(o)]}:e._IndexToUnicodeMap[r].unicodes.push(parseInt(o))}}(e):function(e){for(var t,n=e.tables.cmap.glyphIndexMap,i=Object.keys(n),o=0;o<i.length;o+=1){var r=i[o],a=n[r];(t=e.glyphs.get(a)).addUnicode(parseInt(r))}for(var s=0;s<e.glyphs.length;s+=1)t=e.glyphs.get(s),e.cffEncoding?e.isCIDFont?t.name="gid"+s:t.name=e.cffEncoding.charset[s]:e.glyphNames.names&&(t.name=e.glyphNames.glyphIndexToName(s))}(e)}(v,t),d){var j=Ni(g,d);v.kerningPairs=Pi(j.data,j.offset)}else v.kerningPairs={};if(l){var R=Ni(g,l);v.tables.gpos=Oi(R.data,R.offset),v.position.init()}if(c){var N=Ni(g,c);v.tables.gsub=xt(N.data,N.offset)}if(a){var A=Ni(g,a);v.tables.fvar=Mi(A.data,A.offset,v.names)}if(f){var D=Ni(g,f);v.tables.meta=St(D.data,D.offset),v.metas=v.tables.meta}return v}function Di(e,t,n){var i="undefined"==typeof window?Ti:ji;return new Promise((function(o,r){i(e,(function(e,i){if(e){if(t)return t(e);r(e)}var a;try{a=Ai(i,n)}catch(s){if(t)return t(s,null);r(s)}if(t)return t(null,a);o(a)}))}))}function Bi(e,t){return Ai(Ut(n(153).readFileSync(e)),t)}var Ii=Object.freeze({__proto__:null,Font:Si,Glyph:ye,Path:O,BoundingBox:_,_parse:re,parse:Ai,load:Di,loadSync:Bi});t.default=Ii}.call(this,n(202).Buffer)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(944),t)},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationSelector=void 0;const a=n(0),s=n(945),l=n(2),c=n(20);let u=class{constructor(e){this.styleService=e,this.animations=a.observableArray(),this.selectedAnimation=a.observable()}loadAnimations(){return r(this,void 0,void 0,(function*(){const e=yield this.styleService.getStyles(),t=Object.keys(e.animations).map(t=>e.animations[t]);this.animations(t)}))}selectAnimation(e){this.selectedAnimation&&this.selectedAnimation(e),this.onSelect&&this.onSelect(e)}clearAnimations(){this.selectedAnimation&&this.selectedAnimation(null),this.onSelect&&this.onSelect(null)}};i([l.Param(),o("design:type",Function)],u.prototype,"selectedAnimation",void 0),i([l.Event(),o("design:type",Function)],u.prototype,"onSelect",void 0),i([l.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],u.prototype,"loadAnimations",null),u=i([l.Component({selector:"animation-selector",template:s.default}),o("design:paramtypes",[c.StyleService])],u),t.AnimationSelector=u},function(e,t,n){"use strict";n.r(t),t.default='<div class="editor">\r\n    <h1>Animation</h1>\r\n    <hr>\r\n\r\n    <div class="flex flex-column list">\r\n        <div class="list" data-bind="scrollable: true">\r\n            <div class="list-item">\r\n                <a href="#" title="Clear animation" class="list-item-label" data-bind="click: $component.clearAnimations">\r\n                    (Inherit)\r\n                </a>\r\n            </div>\r\n\r\n            \x3c!-- ko foreach: { data: animations, as: \'animation\' } --\x3e\r\n            <div class="list-item" data-bind="css: { selected: animation.key == $component.selectedAnimation() }">\r\n                <a href="#" class="list-item-label" data-bind="click: $component.selectAnimation, text: animation.displayName"></a>\r\n            </div>\r\n            \x3c!--/ko --\x3e\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationEditor=void 0;const a=n(0),s=n(19),l=n(947),c=n(2),u=n(20);let d=class{constructor(e){this.styleService=e,this.applyChanges=this.applyChanges.bind(this),this.loadAnimations=this.loadAnimations.bind(this),this.onAnimationSelected=this.onAnimationSelected.bind(this),this.animationKey=a.observable(),this.displayName=a.observable(),this.iterationCount=a.observable(),this.duration=a.observable(),this.animation=a.observable()}loadAnimations(){return r(this,void 0,void 0,(function*(){const e=this.animation();if(e){const t=yield this.styleService.getStyles(),n=s.getObjectAt(e.animationKey,t);this.displayName(n.displayName),this.animationKey(e.animationKey),this.duration(e.duration),this.iterationCount(e.iterationCount)}else this.duration(1),this.iterationCount(void 0),this.displayName("(Inherit)");this.duration.subscribe(this.applyChanges),this.iterationCount.subscribe(this.applyChanges)}))}onAnimationSelected(e){this.displayName(e?e.displayName:"(Inherit)"),this.animationKey(e?e.key:void 0),this.applyChanges()}applyChanges(){this.onUpdate&&(this.animationKey()?this.onUpdate({iterationCount:this.iterationCount(),duration:this.duration(),timingFunction:"linear",animationKey:this.animationKey()}):this.onUpdate(void 0))}};i([c.Param(),o("design:type",Function)],d.prototype,"animation",void 0),i([c.Event(),o("design:type",Function)],d.prototype,"onUpdate",void 0),i([c.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],d.prototype,"loadAnimations",null),d=i([c.Component({selector:"animation",template:l.default}),o("design:paramtypes",[u.StyleService])],d),t.AnimationEditor=d},function(e,t,n){"use strict";n.r(t),t.default='<div class="form-group form-group-collapsible">\r\n    <label class="form-label">\r\n        <a href="#" class="form-group-toggle" title="Toggle section" data-bind="collapse: \'#animationCollapse\'"></a>\r\n        <b>Animation</b>\r\n    </label>\r\n\r\n    <div id="animationCollapse" class="collapse form-group-collapse">\r\n        <div class="form-group">\r\n            <label for="animationType">Type</label>\r\n            <button id="animationType" class="btn" data-bind="text: $component.displayName, balloon: { component: { name: \'animation-selector\', params: { onSelect: $component.onAnimationSelected, selectedAnimation: $component.animationKey } } }"></button>\r\n        </div>\r\n\r\n        \x3c!-- ko if: $component.animationKey --\x3e\r\n        <div class="form-group">\r\n            <label for="animationDuration">Duration (seconds)</label>\r\n            <input id="animationDuration" type="number" class="form-control" min="0.5" step="0.5" data-bind="textInput: $component.duration">\r\n        </div>\r\n        <div class="form-group">\r\n            <label for="animationIterationCount">Iteration count</label>\r\n            <input id="animationIterationCount" type="number" class="form-control" min="1" step="1" placeholder="infinite" data-bind="textInput: $component.iterationCount">\r\n        </div>\r\n        \x3c!-- /ko --\x3e\r\n    </div>\r\n</div>'},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(949),t),o(n(951),t),o(n(953),t)},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ShadowSelector=void 0;const a=n(0),s=n(950),l=n(2),c=n(20);let u=class{constructor(e){this.styleService=e,this.loadShadows=this.loadShadows.bind(this),this.selectShadow=this.selectShadow.bind(this),this.shadows=a.observableArray(),this.selectedShadow=a.observable()}loadShadows(){return r(this,void 0,void 0,(function*(){const e=yield this.styleService.getStyles(),t=Object.keys(e.shadows).map(t=>e.shadows[t]);this.shadows(t)}))}selectShadow(e){this.selectedShadow&&this.selectedShadow(e),this.onSelect&&this.onSelect(e)}clearShadow(){this.selectedShadow&&this.selectedShadow(null),this.onSelect&&this.onSelect(null)}};i([l.Param(),o("design:type",Function)],u.prototype,"selectedShadow",void 0),i([l.Event(),o("design:type",Function)],u.prototype,"onSelect",void 0),i([l.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],u.prototype,"loadShadows",null),u=i([l.Component({selector:"shadow-selector",template:s.default}),o("design:paramtypes",[c.StyleService])],u),t.ShadowSelector=u},function(e,t,n){"use strict";n.r(t),t.default='<div class="editor">\r\n    <h1>Shadow</h1>\r\n    <hr>\r\n\r\n    <div class="list" data-bind="scrollable: true">\r\n        <a href="#" class="list-item" title="Clear shadow" data-bind="click: $component.clearShadow, focus: true">\r\n            <span class="list-item-label">\r\n                (Inherit)\r\n            </span>\r\n        </a>\r\n\r\n        \x3c!-- ko foreach: { data: shadows, as: \'shadow\' } --\x3e\r\n        <a href="#" class="list-item shadow-box" data-bind="click: $component.selectShadow, css: { selected: shadow.key == $component.selectedShadow() }">\r\n            <span class="list-item-label" data-bind="text: shadow.displayName"></span>\r\n        </a>\r\n        \x3c!--/ko --\x3e\r\n    </div>\r\n</div>'},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ShadowEditor=void 0;const a=n(0),s=n(952),l=n(2);let c=class{constructor(){this.loadStyle=this.loadStyle.bind(this),this.onStyleChange=this.onStyleChange.bind(this),this.styleName=a.observable(),this.colorValue=a.observable(),this.blur=a.observable(),this.inset=a.observable(),this.offsetX=a.observable(),this.offsetY=a.observable(),this.spread=a.observable(),this.selectedShadow=a.observable()}loadStyle(){return r(this,void 0,void 0,(function*(){this.styleName(this.selectedShadow().displayName),this.colorValue(this.selectedShadow().color),this.blur(+this.selectedShadow().blur),this.inset(this.selectedShadow().inset),this.offsetX(+this.selectedShadow().offsetX),this.offsetY(+this.selectedShadow().offsetY),this.spread(+this.selectedShadow().spread),this.styleName.subscribe(this.onStyleChange),this.colorValue.subscribe(this.onStyleChange),this.blur.subscribe(this.onStyleChange),this.inset.subscribe(this.onStyleChange),this.offsetX.subscribe(this.onStyleChange),this.offsetY.subscribe(this.onStyleChange),this.spread.subscribe(this.onStyleChange)}))}onStyleChange(){const e=this.selectedShadow();e.color=this.colorValue(),e.displayName=this.styleName(),e.blur=+this.blur(),e.inset=this.inset(),e.offsetX=+this.offsetX(),e.offsetY=+this.offsetY(),e.spread=+this.spread(),clearTimeout(this.selectTimeout),this.selectTimeout=setTimeout(()=>this.scheduleColorUpdate(e),600)}scheduleColorUpdate(e){this.selectedShadow&&this.selectedShadow(e),this.onSelect&&this.onSelect(e)}};i([l.Param(),o("design:type",Function)],c.prototype,"selectedShadow",void 0),i([l.Event(),o("design:type",Function)],c.prototype,"onSelect",void 0),i([l.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],c.prototype,"loadStyle",null),c=i([l.Component({selector:"shadow-editor",template:s.default}),o("design:paramtypes",[])],c),t.ShadowEditor=c},function(e,t,n){"use strict";n.r(t),t.default='<fieldset class="form flex-item flex-item-grow" data-bind="scrollable: true">\r\n    <div class="form-group form-group-collapsible">\r\n        <label class="form-label">\r\n            <a href="#" class="form-group-toggle" title="Toggle section" data-bind="collapse: \'#mainCollapse\'"></a>\r\n            <b>Main</b>\r\n        </label>\r\n        <div id="mainCollapse" class="collapse form-group-collapse">\r\n            <div class="form-group">\r\n                <button class="btn btn-info" type="button" data-bind="tooltip: \'Name of the style\'"></button>\r\n                <label for="style-name">Style name</label>\r\n                <input id="style-name" type="text" class="form-control" spellcheck="false" data-bind="textInput: styleName">\r\n            </div>\r\n            <div class="color-picker">\r\n                \x3c!-- ko if: colorValue --\x3e\r\n                <div data-bind="colorPicker: { selectedColor: colorValue }"></div>\r\n                \x3c!-- /ko --\x3e\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="form-group form-group-collapsible">\r\n        <label class="form-label">\r\n            <a href="#" class="form-group-toggle" title="Toggle section" data-bind="collapse: \'#miscellaneousCollapse\'"></a>\r\n            <b>Shadow</b>\r\n        </label>\r\n        <div id="miscellaneousCollapse" class="collapse form-group-collapse">\r\n            <div class="form-group">\r\n                <label for="blur">Blur radius (in px)</label>\r\n                <input id="blur" type="range" class="form-control" min="1" max="50" data-bind="textInput: blur">\r\n            </div>\r\n            <div class="form-group">\r\n                <label for="spread">Spread radius (in px)</label>\r\n                <input id="spread" type="range" class="form-control" min="1" max="50" data-bind="textInput: spread">\r\n            </div>\r\n            <div class="form-group">\r\n                <label for="offsetX">Offset X (in px)</label>\r\n                <input id="offsetX" type="range" min="-50" max="50" class="form-control" data-bind="textInput: offsetX">\r\n            </div>\r\n            <div class="form-group">\r\n                <label for="offsetY">Offset Y (in px)</label>\r\n                <input id="offsetY" type="range" min="-50" max="50" class="form-control" data-bind="textInput: offsetY">\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="form-label">\r\n                    <input name="scrollOnOverlow" type="checkbox" data-bind="checked: inset"> Display the shadow inset\r\n                </label>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</fieldset>'},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ShadowEditorGroup=void 0;const a=n(0),s=n(19),l=n(954),c=n(2),u=n(20);let d=class{constructor(e){this.styleService=e,this.shadow=a.observable(),this.shadowKey=a.observable(),this.displayName=a.observable()}loadShadows(){return r(this,void 0,void 0,(function*(){const e=this.shadow();if(e){const t=yield this.styleService.getStyles(),n=s.getObjectAt(e.shadowKey,t);this.displayName(n.displayName),this.shadowKey(e.shadowKey)}else this.displayName("(Inherit)")}))}onShadowSelected(e){this.displayName(e?e.displayName:"(Inherit)"),this.shadowKey(e?e.key:void 0),this.applyChanges()}applyChanges(){this.onUpdate&&(this.shadowKey()?this.onUpdate({shadowKey:this.shadowKey()}):this.onUpdate(void 0))}};i([c.Param(),o("design:type",Function)],d.prototype,"shadow",void 0),i([c.Event(),o("design:type",Function)],d.prototype,"onUpdate",void 0),i([c.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],d.prototype,"loadShadows",null),d=i([c.Component({selector:"shadow-editor-group",template:l.default}),o("design:paramtypes",[u.StyleService])],d),t.ShadowEditorGroup=d},function(e,t,n){"use strict";n.r(t),t.default='<div class="form-group form-group-collapsible">\r\n    <label class="form-label">\r\n        <a href="#" class="form-group-toggle" title="Toggle section" data-bind="collapse: \'#shadowCollapse\'"></a>\r\n        <b>Shadow</b>\r\n    </label>\r\n\r\n    <div id="shadowCollapse" class="collapse form-group-collapse">\r\n        <div class="form-group">\r\n            <label for="shadowType">Type</label>\r\n            <button id="shadowType" class="btn" data-bind="text: $component.displayName, balloon: { component: { name: \'shadow-selector\', params: { onSelect: $component.onShadowSelected, selectedShadow: $component.shadowKey } } }"></button>\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(956),t)},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Typography=void 0;const a=n(0),s=n(19),l=n(957),c=n(20),u=n(2),d=n(17);let p=class{constructor(e){this.styleService=e,this.fontWeights=[],this.fontStyles=[],this.textTransformOptions=[{value:void 0,text:"(Inherit)"},{value:"none",text:"None"},{value:"capitalize",text:"Capitalize"},{value:"lowercase",text:"Lower-case"},{value:"uppercase",text:"Upper-case"}],this.textDecorationOptions=[{value:void 0,text:"(Inherit)"},{value:"none",text:"None"},{value:"underline",text:"Underline"},{value:"overline",text:"Overline"},{value:"line-through",text:"Line through"}],this.typography=a.observable(),this.fontKey=a.observable(),this.fontSize=a.observable(),this.fontWeight=a.observable(),this.fontStyle=a.observable(),this.lineHeight=a.observable(),this.letterSpacing=a.observable(),this.colorKey=a.observable(),this.shadowKey=a.observable(),this.textAlign=a.observable(),this.textTransform=a.observable(),this.textDecoration=a.observable(),this.fontName=a.observable(),this.colorName=a.observable(),this.shadowName=a.observable(),this.currentWeight=a.pureComputed(()=>""+(this.fontWeight()||"(Inherit)")),this.currentStyle=a.pureComputed(()=>""+(this.fontStyle()||"(Inherit)"))}updateObservables(e){return r(this,void 0,void 0,(function*(){if(!e)return;const t=yield this.styleService.getStyles();if(e.fontKey){const n=s.getObjectAt(e.fontKey,t);if(n){this.fontName(n.displayName),this.fontKey(e.fontKey);const t=n.variants.map(e=>e.weight.toString()),i=t.filter((e,n)=>t.indexOf(e)===n);this.fontWeights=[].concat(i,void 0)}else console.warn(`Font with key "${e.fontKey}" not found. Elements using it will fallback to parent's definition.`)}else this.fontWeights=["bold","normal",void 0];if(this.fontStyles=["italic","normal",void 0],e.colorKey){const n=s.getObjectAt(e.colorKey,t);n?(this.colorName(n.displayName),this.colorKey(e.colorKey)):console.warn(`Color with key "${e.colorKey}" not found. Elements using it will fallback to parent's definition.`)}if(this.fontSize(e.fontSize),this.fontWeight(e.fontWeight),this.fontStyle(e.fontStyle),this.textTransform(e.textTransform),this.textDecoration(e.textDecoration),this.lineHeight(e.lineHeight),this.letterSpacing(e.letterSpacing),e.shadowKey){const n=s.getObjectAt(e.shadowKey,t);n?(this.shadowName(n.displayName),this.shadowKey(e.shadowKey)):console.warn(`Shadow with key "${e.shadowKey}" not found. Elements using it will fallback to parent's definition.`)}this.textAlign(e.textAlign)}))}initialize(){return r(this,void 0,void 0,(function*(){const e=this.typography();this.fontName("(Inherit)"),this.colorName("(Inherit)"),this.shadowName("(Inherit)"),yield this.updateObservables(e),this.fontKey.extend(d.ChangeRateLimit).subscribe(this.applyChanges),this.fontWeight.subscribe(this.applyChanges),this.fontStyle.subscribe(this.applyChanges),this.fontSize.extend(d.ChangeRateLimit).subscribe(this.applyChanges),this.lineHeight.extend(d.ChangeRateLimit).subscribe(this.applyChanges),this.letterSpacing.extend(d.ChangeRateLimit).subscribe(this.applyChanges),this.colorKey.extend(d.ChangeRateLimit).subscribe(this.applyChanges),this.shadowKey.extend(d.ChangeRateLimit).subscribe(this.applyChanges),this.textAlign.extend(d.ChangeRateLimit).subscribe(this.applyChanges),this.textTransform.extend(d.ChangeRateLimit).subscribe(this.applyChanges),this.textDecoration.extend(d.ChangeRateLimit).subscribe(this.applyChanges),this.typography.extend(d.ChangeRateLimit).subscribe(this.updateObservables)}))}onFontSelected(e){return r(this,void 0,void 0,(function*(){this.fontName(e?e.displayName:"(Inherit)"),this.fontKey(e?e.key:void 0),yield this.updateObservables({fontKey:this.fontKey()})}))}onColorSelected(e){this.colorName(e?e.displayName:"(Inherit)"),this.colorKey(e?e.key:void 0)}onShadowSelected(e){this.shadowName(e?e.displayName:"(Inherit)"),this.shadowKey(e?e.key:void 0)}toggleBold(){const e=this.fontWeight();let t=this.fontWeights.indexOf(e);t++,t>this.fontWeights.length-1&&(t=0);const n=this.fontWeights[t];this.fontWeight(n)}toggleItalic(){const e=this.fontStyle();let t=this.fontStyles.indexOf(e);t++,t>this.fontStyles.length-1&&(t=0);const n=this.fontStyles[t];this.fontStyle(n)}alignLeft(){const e=this.textAlign();this.textAlign("left"===e?void 0:"left")}alignCenter(){const e=this.textAlign();this.textAlign("center"===e?void 0:"center")}alignRight(){const e=this.textAlign();this.textAlign("right"===e?void 0:"right")}justify(){const e=this.textAlign();this.textAlign("justify"===e?void 0:"justify")}getFontWeght(e){if(e)if("bold"===e){const e=+this.fontWeights[this.fontWeights.length-1].weight;if(e>=600)return e}else{const t=+e;if(t)return t}}applyChanges(){this.onUpdate&&this.onUpdate({fontKey:this.fontKey(),fontSize:this.fontSize()?parseInt(this.fontSize()):void 0,fontWeight:this.fontWeight(),fontStyle:this.fontStyle(),lineHeight:this.lineHeight()||null,letterSpacing:this.letterSpacing()||null,colorKey:this.colorKey(),shadowKey:this.shadowKey(),textAlign:this.textAlign(),textTransform:this.textTransform(),textDecoration:this.textDecoration()})}};i([u.Param(),o("design:type",Function)],p.prototype,"typography",void 0),i([u.Event(),o("design:type",Function)],p.prototype,"onUpdate",void 0),i([u.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],p.prototype,"initialize",null),p=i([u.Component({selector:"typography",template:l.default}),o("design:paramtypes",[c.StyleService])],p),t.Typography=p},function(e,t,n){"use strict";n.r(t),t.default='<div class="form-group form-group-collapsible">\r\n    <label class="form-label">\r\n        <a href="#" class="form-group-toggle" title="Toggle section" data-bind="collapse: \'#typographyCollapse\'"></a>\r\n        <b>Typography</b>\r\n        <button class="btn btn-info" type="button" data-bind="tooltip: \'Manage text appearance\'"></button>\r\n    </label>\r\n\r\n    <div id="typographyCollapse" class="collapse form-group-collapse">\r\n        <div class="form-group">\r\n            <label for="fontFamily">Font family</label>\r\n            <button id="fontFamily" class="btn" data-bind="text: $component.fontName, balloon: { component: { name: \'font-selector\', params: { onSelect: $component.onFontSelected } } }">\r\n            </button>\r\n        </div>\r\n\r\n        <div class="form-group">\r\n            <label for="fontSize">Font size</label>\r\n            <input id="fontSize" type="number" class="form-control" placeholder="(Inherit)" min="5" max="100" data-bind="textInput: $component.fontSize">\r\n            \x3c!-- input id="fontSize" type="range" class="form-control" min="5" max="100" data-bind="textInput: $component.fontSize" /--\x3e\r\n        </div>\r\n\r\n        <div class="form-group">\r\n            <label for="lineHeight">Line height</label>\r\n            <input id="lineHeight" type="number" class="form-control" placeholder="(Inherit)" min="1" max="100" data-bind="textInput: $component.lineHeight">\r\n            \x3c!-- <input id="lineHeight" type="range" class="form-control" min="5" max="100" data-bind="textInput: $component.lineHeight" /> --\x3e\r\n        </div>\r\n\r\n        <div class="form-group">\r\n            <label for="letterSpacing">Letter spacing</label>\r\n            <input id="letterSpacing" type="number" class="form-control" placeholder="(Inherit)" min="1" max="100" data-bind="textInput: $component.letterSpacing">\r\n            \x3c!-- <input id="letterSpacing" type="range" class="form-control" min="0" max="20" data-bind="textInput: $component.letterSpacing" /> --\x3e\r\n        </div>\r\n\r\n        <div class="form-group">\r\n            <div class="toolbox-btn" title="Font weight" data-bind="css: { \'toolbox-btn-is-active\': fontWeight }, tooltip: currentWeight">\r\n                <a href="#" role="button" data-bind="click: toggleBold" aria-label="Change font weight">\r\n                    <i class="paperbits-icon paperbits-bold"></i>\r\n                </a>\r\n            </div>\r\n            <div class="toolbox-btn" title="Font style" data-bind="css: { \'toolbox-btn-is-active\': fontStyle }, tooltip: currentStyle">\r\n                <a href="#" role="button" data-bind="click: toggleItalic" aria-label="Change font style">\r\n                    <i class="paperbits-icon paperbits-italic"></i>\r\n                </a>\r\n            </div>\r\n            <div class="toolbox-btn" data-bind="css: { \'toolbox-btn-is-active\': textAlign() == \'left\' }" title="Align left">\r\n                <a href="#" role="button" data-bind="click: alignLeft" aria-label="Align text left">\r\n                    <i class="paperbits-icon paperbits-align-left-2"></i>\r\n                </a>\r\n            </div>\r\n            <div class="toolbox-btn" data-bind="css: { \'toolbox-btn-is-active\': textAlign() == \'center\' }" title="Align center">\r\n                <a href="#" role="button" data-bind="click: alignCenter" aria-label="Align text center">\r\n                    <i class="paperbits-icon paperbits-align-center"></i>\r\n                </a>\r\n            </div>\r\n            <div class="toolbox-btn" data-bind="css: { \'toolbox-btn-is-active\': textAlign() == \'right\' }" title="Align right">\r\n                <a href="#" role="button" data-bind="click: alignRight" aria-label="Align text right">\r\n                    <i class="paperbits-icon paperbits-align-right-2"></i>\r\n                </a>\r\n            </div>\r\n            <div class="toolbox-btn" data-bind="css: { \'toolbox-btn-is-active\': textAlign() == \'justify\' }" title="Justify">\r\n                <a href="#" role="button" data-bind="click: justify" aria-label="Justify text">\r\n                    <i class="paperbits-icon paperbits-align-justify"></i>\r\n                </a>\r\n            </div>\r\n        </div>\r\n\r\n\r\n        <div class="form-group">\r\n            <label for="textColor">Text color</label>\r\n            <button id="textColor" class="btn" data-bind="text: $component.colorName, balloon: { component: { name: \'color-selector\', params: { onSelect: $component.onColorSelected, selectedColor: $component.colorKey } } }">\r\n            </button>\r\n        </div>\r\n\r\n        <div class="form-group">\r\n            <label for="textShadow">Text shadow</label>\r\n            <button id="textShadow" class="btn" data-bind="text: $component.shadowName, balloon: { component: { name: \'shadow-selector\', params: { onSelect: $component.onShadowSelected } } }">\r\n            </button>\r\n        </div>\r\n\r\n        <div class="form-group">\r\n            <label for="textTransform">Transformation</label>\r\n            <select id="textTransform" class="form-control" data-bind="options: textTransformOptions, optionsValue: \'value\', optionsText: \'text\', value: $component.textTransform"></select>\r\n        </div>\r\n\r\n        <div class="form-group">\r\n            <label for="textDecoration">Decoration</label>\r\n            <select id="textDecoration" class="form-control" data-bind="options: textDecorationOptions, optionsValue: \'value\', optionsText: \'text\', value: $component.textDecoration"></select>\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(959),t)},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Background=void 0;const a=n(0),s=n(19),l=n(960),c=n(2),u=n(8),d=n(47),p=n(223),h=n(17);let f=class{constructor(e,t,n){this.styleService=e,this.mediaService=t,this.mediaPermalinkResolver=n,this.size=a.observable(),this.position=a.observable(),this.attachment=a.observable(),this.color=a.observable(),this.colorKey=a.observable(),this.gradientKey=a.observable(),this.repeat=a.observable(),this.background=a.observable(),this.source=a.observable(),this.sourceKey=a.observable(),this.backgroundPreview=a.observable(),this.direction=a.observable(),this.horizontalOffsetDirection=a.observable(),this.verticalOffsetDirection=a.observable(),this.horizontalOffset=a.observable(),this.vertialOffset=a.observable()}initialize(){return r(this,void 0,void 0,(function*(){yield this.fillout(),this.background.subscribe(this.fillout),this.size.subscribe(this.applyChanges),this.attachment.subscribe(this.applyChanges),this.horizontalOffset.extend(h.ChangeRateLimit).subscribe(this.applyDirectionOffset),this.vertialOffset.extend(h.ChangeRateLimit).subscribe(this.applyDirectionOffset)}))}getBackgroundStylePlugin(e){return this.backgroundStylePlugin||(this.backgroundStylePlugin=new p.BackgroundStylePlugin(e,this.mediaPermalinkResolver)),this.backgroundStylePlugin}fillout(){return r(this,void 0,void 0,(function*(){const e=this.background();if(!e)return this.size(null),this.position(null),this.attachment(null),this.color(null),this.colorKey(null),this.gradientKey(null),this.repeat(null),this.source(null),this.sourceKey(null),this.backgroundPreview(null),void this.clearBackgroundImageOffset();const t=yield this.styleService.getStyles(),n=yield this.getBackgroundStylePlugin(t).configToStyleRules(e),i=new u.Style("background-preview");i.addRules(n);const o=new u.StyleSheet;if(o.styles.push(i),this.backgroundPreview(o),e.colorKey){const n=s.getObjectAt(e.colorKey,t);n?(this.color(n),this.colorKey(e.colorKey)):console.warn(`Color with key "${e.colorKey}" not found. Elements using it will fallback to parent's definition.`)}if(e.images&&e.images.length>0){const t=e.images[0];this.sourceKey(t.sourceKey),this.repeat(t.repeat||"no-repeat"),this.size(t.size||"original"),this.attachment(t.attachment||"inherit"),this.position(t.position||"center");const n=yield this.mediaService.getMediaByKey(t.sourceKey);n&&this.source(`url("${n.downloadUrl}")`)}e.gradientKey&&this.gradientKey(e.gradientKey)}))}onAlignmentChange(e){this.direction(e),this.clearBackgroundImageOffset(),e.includes("left")?this.horizontalOffsetDirection("left"):e.includes("right")?this.horizontalOffsetDirection("right"):this.horizontalOffsetDirection("center"),e.includes("top")?this.verticalOffsetDirection("top"):e.includes("bottom")?this.verticalOffsetDirection("bottom"):this.verticalOffsetDirection("center"),this.applyDirectionOffset()}applyDirectionOffset(){let e="";this.horizontalOffsetDirection()&&"center"!==this.horizontalOffsetDirection()?e+=`${this.horizontalOffsetDirection()} ${this.horizontalOffset()||0}px `:e+="center ",this.verticalOffsetDirection()&&"center"!==this.verticalOffsetDirection()?e+=`${this.verticalOffsetDirection()} ${this.vertialOffset()||0}px`:e+="center",this.position(e),this.applyChanges()}onAttachmentChange(e){this.attachment(e),this.applyChanges()}onMediaSelected(e){this.source(e?`url("${e.downloadUrl}")`:"none"),this.sourceKey(e?e.key:void 0),this.repeat(this.repeat()||"no-repeat"),this.size(this.size()||"original"),this.attachment(this.attachment()||"inherit"),this.position(this.position()||"center center"),this.applyChanges()}onColorSelected(e){this.color(e),this.colorKey(e?e.key:void 0),this.applyChanges()}onGradientSelected(e){this.gradientKey(e?e.key:void 0),this.applyChanges()}clearBackground(){this.color(void 0),this.colorKey(void 0),this.source("none"),this.sourceKey(void 0),this.size(void 0),this.position(void 0),this.attachment(void 0),this.gradientKey(void 0),this.applyChanges()}applyChanges(){return r(this,void 0,void 0,(function*(){let e;this.sourceKey()&&(e=[],e.push({sourceKey:this.sourceKey(),position:this.position(),size:"original"!==this.size()?this.size():void 0,repeat:this.repeat(),attachment:"inherit"!==this.attachment()?this.attachment():void 0}));const t={colorKey:this.colorKey(),gradientKey:this.gradientKey(),images:e},n=yield this.styleService.getStyles(),i=yield this.getBackgroundStylePlugin(n).configToStyleRules(t),o=new u.Style("background-preview");o.addRules(i);const r=new u.StyleSheet;r.styles.push(o),this.backgroundPreview(r),this.onUpdate&&this.onUpdate(t)}))}clearBackgroundImageOffset(){this.horizontalOffsetDirection(null),this.verticalOffsetDirection(null),this.horizontalOffset(0),this.vertialOffset(0)}};i([c.Param(),o("design:type",Function)],f.prototype,"background",void 0),i([c.Event(),o("design:type",Function)],f.prototype,"onUpdate",void 0),i([c.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],f.prototype,"initialize",null),f=i([c.Component({selector:"background",template:l.default}),o("design:paramtypes",[d.StyleService,Object,Object])],f),t.Background=f},function(e,t,n){"use strict";n.r(t),t.default='<div class="form-group form-group-collapsible">\r\n    <label class="form-label">\r\n        <a href="#" class="form-group-toggle" title="Toggle section" data-bind="collapse: \'#backgroundCollapse\'"></a>\r\n        <b>Background</b>\r\n        <button class="btn btn-info" type="button" data-bind="tooltip: \'Manage background\'"></button>\r\n    </label>\r\n\r\n    <div id="backgroundCollapse" class="collapse form-group-collapse">\r\n        <div class="tabs">\r\n            <div class="tab" data-bind="css: { \'tab-is-active\': !sourceKey() && !colorKey() && !gradientKey() }">\r\n                <a href="#" role="button" aria-label="Clear background" data-bind="tooltip: \'Clear background\', click: clearBackground">\r\n                    <i class="paperbits-icon paperbits-ban"></i>\r\n                </a>\r\n            </div>\r\n\r\n            <div class="tab" data-bind="css: { \'tab-is-active\': sourceKey }">\r\n                <a href="#" role="button" aria-label="Background picture" aria-haspopup="true" data-bind="tooltip: \'Background picture\', balloon: { component: { name: \'media-selector\', params: { onSelect: $component.onMediaSelected } } }">\r\n                    <i class="paperbits-icon paperbits-image-2"></i>\r\n                </a>\r\n            </div>\r\n\r\n            <div class="tab" data-bind="css: { \'tab-is-active\': colorKey }">\r\n                <a href="#" role="button" aria-label="Background color" aria-haspopup="true" data-bind="tooltip: \'Background color\', balloon: { component: { name: \'color-selector\', params: { onSelect: $component.onColorSelected, selectedColor: $component.color } } }">\r\n                    <i class="paperbits-icon paperbits-paint-bucket-40"></i>\r\n                </a>\r\n            </div>\r\n\r\n            <div class="tab" data-bind="css: { \'tab-is-active\': gradientKey }">\r\n                <a href="#" role="button" aria-label="Background gradient" aria-haspopup="true" data-bind="tooltip: \'Background gradient\', balloon: { component: { name: \'gradient-selector\', params: { onSelect: $component.onGradientSelected, selectedGradient: $component.gradientKey } } }">\r\n                    <i class="paperbits-icon paperbits-gradient"></i>\r\n                </a>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="dropzone">\r\n            <div class="dropzone-controls">\r\n                \x3c!-- ko if: sourceKey() --\x3e\r\n                <svg alignment="top left" data-bind="alignment: { position: direction, onChange: onAlignmentChange }">\r\n                    <polygon points="2,2 14,2 14,14"/>\r\n                </svg>\r\n                <svg alignment="top center" data-bind="alignment: { position: direction, onChange: onAlignmentChange }">\r\n                    <polygon points="2,2 14,2 14,14"/>\r\n                </svg>\r\n                <svg alignment="top right" data-bind="alignment: { position: direction, onChange: onAlignmentChange }">\r\n                    <polygon points="2,2 14,2 14,14"/>\r\n                </svg>\r\n                <svg alignment="center left" data-bind="alignment: { position: direction, onChange: onAlignmentChange }">\r\n                    <polygon points="2,2 14,2 14,14"/>\r\n                </svg>\r\n                <svg alignment="center right" data-bind="alignment: { position: direction, onChange: onAlignmentChange }">\r\n                    <polygon points="2,2 14,2 14,14"/>\r\n                </svg>\r\n                <svg alignment="bottom left" data-bind="alignment: { position: direction, onChange: onAlignmentChange }">\r\n                    <polygon points="2,2 14,2 14,14"/>\r\n                </svg>\r\n                <svg alignment="bottom center" data-bind="alignment: { position: direction, onChange: onAlignmentChange }">\r\n                    <polygon points="2,2 14,2 14,14"/>\r\n                </svg>\r\n                <svg alignment="bottom right" data-bind="alignment: { position: direction, onChange: onAlignmentChange }">\r\n                    <polygon points="2,2 14,2 14,14"/>\r\n                </svg>\r\n                \x3c!-- /ko --\x3e\r\n                <style data-bind="jss: backgroundPreview"></style>\r\n                <a href="#" class="dropzone-showbox" alignment="center center" data-bind="alignment: { position: direction, onChange: onAlignmentChange }">\r\n                    <div class="fit background-preview"></div>\r\n                </a>\r\n            </div>\r\n        </div>\r\n\r\n        \x3c!-- ko if: sourceKey() --\x3e\r\n  \r\n        \x3c!-- ko if: horizontalOffsetDirection() && horizontalOffsetDirection() !== \'center\' --\x3e\r\n            <div class="form-group">\r\n                <label class="form-label"><span class="capitalize" data-bind="text: horizontalOffsetDirection"></span> offset (px)</label>\r\n                <input type="number" min="0" class="form-control" data-bind="textInput: horizontalOffset">\r\n            </div>\r\n        \x3c!-- /ko --\x3e\r\n\r\n        \x3c!-- ko if: verticalOffsetDirection() && verticalOffsetDirection() !== \'center\' --\x3e\r\n            <div class="form-group">\r\n                <label class="form-label"><span class="capitalize" data-bind="text: verticalOffsetDirection"></span> offset (px)</label>\r\n                <input type="number" min="0" class="form-control" data-bind="textInput: vertialOffset">\r\n            </div>\r\n        \x3c!-- /ko --\x3e\r\n        \r\n        <label class="form-label">\r\n            Background sizing\r\n            <button class="btn btn-info" type="button" data-bind="tooltip: \'<p><b>Contain:</b> Resize the background image to cover the entire container, even if it has to stretch the image or cut a little bit off one of the edges.</p><p><b>Cover:</b> Resize the background image to make sure the image is fully visible.</p>\'"></button>\r\n        </label>\r\n        <div class="form-group">\r\n            <label class="form-label">\r\n                <input name="size" type="radio" value="original" data-bind="checked: size">Original\r\n            </label>\r\n            <label class="form-label">\r\n                <input name="size" type="radio" value="cover" data-bind="checked: size, event: { change: applyChanges }">Cover\r\n            </label>\r\n            <label class="form-label">\r\n                <input name="size" type="radio" value="contain" data-bind="checked: size, event: { change: applyChanges }">Contain\r\n            </label>\r\n        </div>\r\n\r\n        <label class="form-label">\r\n            Background attachment\r\n            <button class="btn btn-info" type="button" data-bind="tooltip: \'<p><b>Contain:</b> Resize the background image to cover the entire container, even if it has to stretch the image or cut a little bit off one of the edges.</p><p><b>Cover:</b> Resize the background image to make sure the image is fully visible.</p>\'"></button>\r\n        </label>\r\n        <div class="form-group">\r\n            <label class="form-label">\r\n                <input name="attachment" type="radio" value="inherit" data-bind="checked: attachment">Inherit\r\n            </label>\r\n            <label class="form-label">\r\n                <input name="attachment" type="radio" value="scroll" data-bind="checked: attachment, event: { change: applyChanges }">Scroll\r\n            </label>\r\n            <label class="form-label">\r\n                <input name="attachment" type="radio" value="fixed" data-bind="checked: attachment, event: { change: applyChanges }">Fixed\r\n            </label>\r\n            <label class="form-label">\r\n                <input name="attachment" type="radio" value="local" data-bind="checked: attachment, event: { change: applyChanges }">Local\r\n            </label>\r\n        </div>\r\n        \x3c!-- /ko --\x3e\r\n    </div>\r\n</div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StylesWorkshopSection=void 0,t.StylesWorkshopSection=class{constructor(e){this.viewManager=e,this.iconClass="paperbits-icon paperbits-palette",this.title="Styles",this.helpText="Manage website global styles."}onActivate(){this.viewManager.clearJourney(),this.viewManager.setHost({name:"style-guide"})}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.StylePreviewBindingHandler=void 0;const o=n(0),r=n(48);t.StylePreviewBindingHandler=class{constructor(e,t){this.styleCompiler=e,this.styleService=t,o.bindingHandlers.stylePreview={update:(e,t)=>i(this,void 0,void 0,(function*(){const n=o.unwrap(t());let i,a;if(i="string"==typeof n?yield this.styleService.getStyleByKey(n):n,!i)return;const s=o.observable();if("string"==typeof i||i instanceof String)a=yield this.styleCompiler.getClassNameByStyleKeyAsync(i);else if(i.key)a=yield this.styleCompiler.getClassNameByStyleKeyAsync(i.key);else{const t=yield this.styleCompiler.getStyleModelAsync(i);a=t.classNames;const n=document.createElement("style"),o=(new r.JssCompiler).compile(t.styleSheet);n.innerHTML=o,e.parentElement.insertBefore(n,e)}s(a),o.applyBindingsToNode(e,{css:s},null)}))}}}},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Transform=void 0;const a=n(0),s=n(964),l=n(20),c=n(2);let u=class{constructor(e){this.styleService=e,this.transform=a.observable(),this.translateX=a.observable(),this.translateY=a.observable(),this.scaleX=a.observable(),this.scaleY=a.observable(),this.rotate=a.observable()}initialize(){return r(this,void 0,void 0,(function*(){const e=this.transform();e&&(e.translate&&(this.translateX(e.translate.x),this.translateY(e.translate.y)),e.scale&&(this.scaleX(e.scale.x),this.scaleY(e.scale.y)),e.rotate&&this.rotate(e.rotate)),this.translateX.subscribe(this.applyChanges),this.translateY.subscribe(this.applyChanges),this.scaleX.subscribe(this.applyChanges),this.scaleY.subscribe(this.applyChanges),this.rotate.subscribe(this.applyChanges)}))}applyChanges(){this.onUpdate&&this.onUpdate({translate:{x:this.translateX(),y:this.translateY()},scale:{x:this.scaleX(),y:this.scaleY()},rotate:this.rotate()})}};i([c.Param(),o("design:type",Function)],u.prototype,"transform",void 0),i([c.Event(),o("design:type",Function)],u.prototype,"onUpdate",void 0),i([c.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],u.prototype,"initialize",null),u=i([c.Component({selector:"transform",template:s.default}),o("design:paramtypes",[l.StyleService])],u),t.Transform=u},function(e,t,n){"use strict";n.r(t),t.default='<div class="form-group form-group-collapsible">\r\n    <label class="form-label">\r\n        <a href="#" class="form-group-toggle" title="Toggle section" data-bind="collapse: \'#transformCollapse\'"></a>\r\n        <b>Transform</b>\r\n        <button class="btn btn-info" type="button" data-bind="tooltip: \'Manage element transformations\'"></button>\r\n    </label>\r\n\r\n    <div id="transformCollapse" class="collapse form-group-collapse">\r\n        <div class="form-group">\r\n            <label for="translateX">Translate X (px)</label>\r\n            <input id="translateX" type="number" class="form-control" placeholder="(Inherit)" data-bind="textInput: $component.translateX">\r\n        </div>\r\n        <div class="form-group">\r\n            <label for="translateY">Translate Y (px)</label>\r\n            <input id="translateY" type="number" class="form-control" placeholder="(Inherit)" data-bind="textInput: $component.translateY">\r\n        </div>\r\n        <div class="form-group">\r\n            <label for="scaleX">Scale X</label>\r\n            <input id="scaleeX" type="number" class="form-control" placeholder="(Inherit)" data-bind="textInput: $component.scaleX">\r\n        </div>\r\n        <div class="form-group">\r\n            <label for="scaleY">Scale Y</label>\r\n            <input id="scaleY" type="number" class="form-control" placeholder="(Inherit)" data-bind="textInput: $component.scaleY">\r\n        </div>\r\n        <div class="form-group">\r\n            <label for="rotate">Rotate (degrees)</label>\r\n            <input id="rotate" type="number" class="form-control" placeholder="(Inherit)" data-bind="textInput: $component.rotate">\r\n        </div>\r\n    </div>\r\n    </div>\r\n'},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Transition=void 0;const a=n(0),s=n(966),l=n(20),c=n(2);let u=class{constructor(e){this.styleService=e,this.timingFunctionOptions=[{value:void 0,text:"(Inherit)"},{value:"none",text:"None"},{value:"ease",text:"Ease"},{value:"ease-in",text:"Ease in"},{value:"ease-out",text:"Ease out"},{value:"ease-in-out",text:"Ease in and out"}],this.transition=a.observable(),this.delay=a.observable(),this.duration=a.observable(),this.property=a.observable(),this.timingFunction=a.observable(),this.enabled=a.computed(()=>this.timingFunction()&&"none"!==this.timingFunction())}initialize(){return r(this,void 0,void 0,(function*(){const e=this.transition();yield this.fillout(e),this.delay.subscribe(this.applyChanges),this.duration.subscribe(this.applyChanges),this.property.subscribe(this.applyChanges),this.timingFunction.subscribe(this.applyChanges)}))}fillout(e){return r(this,void 0,void 0,(function*(){e&&(this.delay(e.delay||0),this.duration(e.duration||1),this.property(e.property||"all"),this.timingFunction(e.timingFunction))}))}applyChanges(){this.onUpdate&&this.onUpdate({delay:this.delay(),duration:this.duration(),property:this.property(),timingFunction:this.timingFunction()})}};i([c.Param(),o("design:type",Function)],u.prototype,"transition",void 0),i([c.Event(),o("design:type",Function)],u.prototype,"onUpdate",void 0),i([c.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],u.prototype,"initialize",null),u=i([c.Component({selector:"transition",template:s.default}),o("design:paramtypes",[l.StyleService])],u),t.Transition=u},function(e,t,n){"use strict";n.r(t),t.default='<div class="form-group form-group-collapsible">\r\n    <label class="form-label">\r\n        <a href="#" class="form-group-toggle" title="Toggle section" data-bind="collapse: \'#transitionsCollapse\'"></a>\r\n        <b>Transition</b>\r\n    </label>\r\n\r\n    <div id="transitionsCollapse" class="collapse form-group-collapse">\r\n        <div class="form-group">\r\n            <label for="textDecoration">Timing function</label>\r\n            <select id="textDecoration" class="form-control" data-bind="options: timingFunctionOptions, optionsValue: \'value\', optionsText: \'text\', value: $component.timingFunction"></select>\r\n        </div>\r\n\r\n        \x3c!-- ko if: $component.enabled --\x3e\r\n        <div class="form-group">\r\n            <label for="transitionsDelay">Delay (seconds)</label>\r\n            <input id="transitionsDelay" type="number" class="form-control" min="0" step="0.5" placeholder="e.g. 1.5" data-bind="textInput: $component.delay">\r\n        </div>\r\n        <div class="form-group">\r\n            <label for="transitionsDuration">Duration (seconds)</label>\r\n            <input id="transitionsDuration" type="number" class="form-control" min="0" step="0.5" placeholder="e.g. 1.5" data-bind="textInput: $component.duration">\r\n            \x3c!-- <input id="transitionsDuration" type="range" min="0" step="0.5" class="form-control" data-bind="textInput: $component.duration" /> --\x3e\r\n        </div>\r\n        \x3c!-- /ko --\x3e\r\n    </div>\r\n</div>'},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.Container=void 0;const r=n(0),a=n(968),s=n(2);let l=class{constructor(){this.alignment=r.observable(),this.verticalAlignment=r.observable(),this.horizontalAlignment=r.observable(),this.scrollOnOverlow=r.observable(),this.container=r.observable(),this.overflowControls=r.observable(!1)}initialize(){this.updateObservables(),this.container.subscribe(this.updateObservables),this.scrollOnOverlow.subscribe(this.onOverflowChange)}updateObservables(){var e,t;const n=this.container();(null==n?void 0:n.overflow)?this.scrollOnOverlow(!0):this.scrollOnOverlow(!1),this.verticalAlignment(null===(e=null==n?void 0:n.alignment)||void 0===e?void 0:e.vertical),this.horizontalAlignment(null===(t=null==n?void 0:n.alignment)||void 0===t?void 0:t.horizontal)}applyChanges(){this.alignment(`${this.verticalAlignment()} ${this.horizontalAlignment()}`);const e=this.scrollOnOverlow()?{vertical:"scroll",horizontal:"scroll"}:null;this.onUpdate({alignment:{vertical:this.verticalAlignment(),horizontal:this.horizontalAlignment()},overflow:e})}alignContent(e){this.alignment(e)}toggleHorizontal(){switch(this.horizontalAlignment()){case"center":this.horizontalAlignment("around");break;case"around":this.horizontalAlignment("between");break;case"between":this.horizontalAlignment("center")}}toggleVertical(){switch(this.verticalAlignment()){case"center":this.verticalAlignment("around");break;case"around":this.verticalAlignment("between");break;case"between":this.verticalAlignment("center")}}alignLeft(){this.horizontalAlignment("start"),this.applyChanges()}alignRight(){this.horizontalAlignment("end"),this.applyChanges()}alignCenter(){"center"===this.horizontalAlignment()||"around"===this.horizontalAlignment()||"between"===this.horizontalAlignment()?this.toggleHorizontal():this.horizontalAlignment("center"),this.applyChanges()}alignTop(){this.verticalAlignment("start"),this.applyChanges()}alignBottom(){this.verticalAlignment("end"),this.applyChanges()}alignMiddle(){"center"===this.verticalAlignment()||"around"===this.verticalAlignment()||"between"===this.verticalAlignment()?this.toggleVertical():this.verticalAlignment("center"),this.applyChanges()}onOverflowChange(){this.applyChanges()}};i([s.Param(),o("design:type",Function)],l.prototype,"container",void 0),i([s.Param(),o("design:type",Function)],l.prototype,"overflowControls",void 0),i([s.Event(),o("design:type",Function)],l.prototype,"onUpdate",void 0),i([s.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],l.prototype,"initialize",null),l=i([s.Component({selector:"container",template:a.default}),o("design:paramtypes",[])],l),t.Container=l},function(e,t,n){"use strict";n.r(t),t.default='<div class="form-group form-group-collapsible">\r\n    <label class="form-label">\r\n        <a href="#" class="form-group-toggle" title="Toggle section" data-bind="collapse: \'#alignmentCollapse\'"></a>\r\n        <b>Content alignment</b>\r\n        <button class="btn btn-info" type="button" data-bind="tooltip: \'Align content inside the container. Depending on viewport, the alignment can be different, following mobile-first approach. If not specified in current one, container applies configuration from closest smaller viewports.\'"></button>\r\n    </label>\r\n\r\n    <div id="alignmentCollapse" class="collapse form-group-collapse">\r\n        <div class="form-group">\r\n            <label>Horizontal</label>\r\n            <a href="#" class="toolbox-btn" role="button" data-bind="click: alignLeft, css: { \'toolbox-btn-is-active\': horizontalAlignment() === \'start\' }">\r\n                <i class="paperbits-icon paperbits-align-left"></i>\r\n            </a>\r\n            <a href="#" class="toolbox-btn" role="button" data-bind="click: alignCenter, css: { \'toolbox-btn-is-active\': horizontalAlignment() === \'center\' || horizontalAlignment() === \'around\' || horizontalAlignment() === \'between\' }">\r\n                <i class="paperbits-icon paperbits-align-center-horizontal"></i>\r\n            </a>\r\n            <a href="#" class="toolbox-btn" role="button" data-bind="click: alignRight, css: { \'toolbox-btn-is-active\': horizontalAlignment() === \'end\' }">\r\n                <i class="paperbits-icon paperbits-align-right"></i>\r\n            </a>\r\n        </div>\r\n\r\n        <div class="form-group">\r\n            <label>Vertical</label>\r\n            <a href="#" class="toolbox-btn" role="button" data-bind="click: alignTop, css: { \'toolbox-btn-is-active\': verticalAlignment() === \'start\' }">\r\n                <i class="paperbits-icon paperbits-align-top"></i>\r\n            </a>\r\n            <a href="#" class="toolbox-btn" role="button" data-bind="click: alignMiddle, css: { \'toolbox-btn-is-active\': verticalAlignment() === \'center\' || verticalAlignment() === \'around\' || verticalAlignment() === \'between\' }">\r\n                <i class="paperbits-icon paperbits-align-center-vertical"></i>\r\n            </a>\r\n            <a href="#" class="toolbox-btn" role="button" data-bind="click: alignBottom, css: { \'toolbox-btn-is-active\': verticalAlignment() === \'end\' }">\r\n                <i class="paperbits-icon paperbits-align-bottom"></i>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\x3c!-- ko if: overflowControls --\x3e\r\n<div class="form-group form-group-collapsible">\r\n    <label class="form-label">\r\n        <a href="#" class="form-group-toggle" title="Toggle section" data-bind="collapse: \'#contentFlowCollapse\'"></a>\r\n        <b>Content flow</b>\r\n        <button class="btn btn-info" type="button" data-bind="tooltip: \'Manage scrolling settings for container\'"></button>\r\n    </label>\r\n    <div id="contentFlowCollapse" class="collapse form-group-collapse">\r\n        <label class="form-label">\r\n            <input name="scrollOnOverlow" type="checkbox" data-bind="checked: scrollOnOverlow">Scroll on overflow\r\n        </label>\r\n    </div>\r\n</div>\r\n\x3c!-- /ko --\x3e'},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.StyleSnippetSelector=void 0;const a=n(0),s=n(85),l=n(970),c=n(2),u=n(302),d=n(154),p=n(97),h=n(6),f=n(30);let m=class{constructor(e,t,n){this.styleSnippetService=e,this.mediaPermalinkResolver=t,this.styleGroups=n,this.snippetStyleCompiler=new p.DefaultStyleCompiler(void 0,this.mediaPermalinkResolver),this.loadSnippets=this.loadSnippets.bind(this),this.selectSnippet=this.selectSnippet.bind(this),this.snippets=a.observableArray(),this.existingSnippetKeys=[],this.selectedSnippet=a.observable(),this.working=a.observable(!0)}loadSnippets(){return r(this,void 0,void 0,(function*(){if(!this.snippetType)return;this.working(!0),this.isThemeSelected||(yield this.initSnippetService());const e=yield this.styleSnippetService.getStyleByKey(this.snippetType);this.itemTemplate=this.getSnippetTypeTemplate(this.snippetType);const t=[];for(const n of Object.values(e)){const e=n,i=yield this.loadThemeForItem(e),o=new d.StyleItem(e,i,this.snippetType),r=this.getStyleCompiler(i);o.stylesContent=yield r.compileCss(),o.classNames=yield r.getClassNameByStyleKeyAsync(e.key),t.push(o)}this.snippets(t),this.working(!1)}))}getSnippetTypeTemplate(e){const t=this.styleGroups.find(t=>t.name===e.replaceAll("/","_"));return t?t.selectorTemplate:""}initSnippetService(){return r(this,void 0,void 0,(function*(){if(!this.styleSnippetService.getSelectedThemeName()){const e=yield this.styleSnippetService.getThemesNames();this.isThemeSelected=yield this.styleSnippetService.selectCurrentTheme(e[0])}}))}loadThemeForItem(e){return r(this,void 0,void 0,(function*(){const t=e.key.split("/"),n="components"===t[0];let i=this.getAllStyleKeys(e);if(n&&"default"!==t[2]){const e=`${t[0]}/${t[1]}/default`,n=yield this.styleSnippetService.getStyleByKey(e),o=this.getAllStyleKeys(n);i.push(...o)}const o={};i=i.filter((e,t,n)=>n.indexOf(e)===t);for(const e of i){const t=yield this.styleSnippetService.getStyleByKey(e);t?this.mergeNestedObj(o,e,t):console.warn("styleKey not found: ",e)}return o}))}mergeNestedObj(e,t,n){const i=t.split("/"),o=i.pop();i.reduce((e,t)=>e[t]=e[t]||{},e)[o]=n}getStyleCompiler(e){return this.snippetStyleCompiler.setStyles(e),this.snippetStyleCompiler}getAllStyleKeys(e){const t=[];if(Array.isArray(e))e.every(e=>t.push(...this.getAllStyleKeys(e)));else if("object"==typeof e){const n=Object.keys(e);for(const i of n){const n=e[i];i.toLowerCase().endsWith("key")?t.push(n):"object"==typeof n&&t.push(...this.getAllStyleKeys(n))}}return t}selectSnippet(e){return r(this,void 0,void 0,(function*(){const t=this.selectedSnippet();t&&t.hasFocus(!1),e.hasFocus(!0),this.selectedSnippet(e)}))}addSnippet(){if(!this.onSelect)return;const e=s.cloneDeep(this.selectedSnippet()),t=e.stylesConfig;e.stylesConfig=t;const n=this.getAllStyleKeys(t).filter((e,t,n)=>n.indexOf(e)===t),i={};for(const r of n){const e=h.identifier(),n=f.getObjectAt(r,t),o=r.split("/"),a=o.pop(),s=o.reduce((e,t)=>e[t]=e[t]||{},t);n.key=n.key.replace(a,e),n.displayName=n.displayName+" - "+e,s[e]=n,delete s[a],i[r]=o.join("/")+"/"+e}this.syncStyleKeys(t,i),e.key=i[e.key],e.itemConfig=f.getObjectAt(e.key,t);const o=e.key.split("/");delete e.stylesConfig[o[0]],this.onSelect(e)}syncStyleKeys(e,t){if(Array.isArray(e))e.every(e=>this.syncStyleKeys(e,t));else if("object"==typeof e){const n=Object.keys(e);for(const i of n){const n=e[i];if(i.toLowerCase().endsWith("key")){const o=t[n];o&&(e[i]=o)}else"object"==typeof n&&this.syncStyleKeys(n,t)}}}};i([c.Param(),o("design:type",String)],m.prototype,"snippetType",void 0),i([c.Event(),o("design:type",Function)],m.prototype,"onSelect",void 0),i([c.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],m.prototype,"loadSnippets",null),m=i([c.Component({selector:"style-snippet-selector",template:l.default}),o("design:paramtypes",[u.StyleSnippetService,Object,Array])],m),t.StyleSnippetSelector=m},function(e,t,n){"use strict";n.r(t),t.default='<div class="editor">\r\n    <h1>Snippets</h1>\r\n    <hr>\r\n    \r\n    <div class="flex flex-column list">\r\n        \x3c!--ko if: $component.working()--\x3e\r\n        <spinner></spinner>\r\n        \x3c!--/ko--\x3e\r\n        <ul class="flex-item flex-item-grow list" data-bind="foreach: { data: snippets, as: \'snippet\' }, scrollable: {}">\r\n            <li class="list-item" data-bind="css: { selected: snippet.hasFocus }, click: $component.selectSnippet, event: { keydown: $component.keydown }, attr: { title: snippet.displayName }">\r\n                <style-snippet data-bind="itemTemplate: $parent.itemTemplate" params="{ snippetItem: snippet }"></style-snippet>\r\n            </li>\r\n        </ul>\r\n\r\n        <div class="flex-item btn-group">\r\n            <button class="btn" data-bind="click: addSnippet, enable: !!selectedSnippet()">\r\n                <i class="paperbits-icon paperbits-simple-add"></i> Add\r\n            </button>\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.StyleSnippet=void 0;const a=n(972),s=n(2),l=n(154);let c=class{loadSnippet(){return r(this,void 0,void 0,(function*(){this.snippetItem&&(this.classNames=this.snippetItem.classNames,this.stylesContent=this.snippetItem.stylesContent)}))}};i([s.Param(),o("design:type",l.StyleItem)],c.prototype,"snippetItem",void 0),i([s.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],c.prototype,"loadSnippet",null),c=i([s.Component({selector:"style-snippet",template:a.default,encapsulation:s.Encapsulation.shadowDom})],c),t.StyleSnippet=c},function(e,t,n){"use strict";n.r(t),t.default='<div>\r\n    <style data-bind="html: snippetItem.stylesContent"></style>\r\n    \x3c!-- ko template: { nodes: $componentTemplateNodes, data: snippetItem } --\x3e\x3c!-- /ko --\x3e\r\n</div>'},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.StyleVariationSelector=void 0;const a=n(0),s=n(974),l=n(2),c=n(154),u=n(97),d=n(20);let p=class{constructor(e,t,n){this.styleService=e,this.mediaPermalinkResolver=t,this.styleGroups=n,this.snippetStyleCompiler=new u.DefaultStyleCompiler(void 0,this.mediaPermalinkResolver),this.loadSnippets=this.loadSnippets.bind(this),this.selectSnippet=this.selectSnippet.bind(this),this.snippets=a.observableArray(),this.selectedSnippet=a.observable(),this.working=a.observable(!0)}loadSnippets(){return r(this,void 0,void 0,(function*(){if(!this.snippetType)return;this.working(!0);const e=yield this.styleService.getStyleByKey(this.snippetType);this.itemTemplate=this.getSnippetTypeTemplate(this.snippetType);const t=[];for(const n of Object.values(e)){const e=n,i=yield this.loadThemeForItem(e),o=new c.StyleItem(e,i,this.snippetType),r=this.getStyleCompiler(i);o.stylesContent=yield r.compileCss(),o.classNames=yield r.getClassNameByStyleKeyAsync(e.key),t.push(o)}this.snippets(t),this.working(!1)}))}getSnippetTypeTemplate(e){const t=this.styleGroups.find(t=>t.name===e.replaceAll("/","_"));return t?t.selectorTemplate:""}loadThemeForItem(e){return r(this,void 0,void 0,(function*(){const t=e.key.split("/"),n="components"===t[0];let i=this.getAllStyleKeys(e);if(n&&"default"!==t[2]){const e=`${t[0]}/${t[1]}/default`;try{const t=yield this.styleService.getStyleByKey(e),n=this.getAllStyleKeys(t);i.push(...n)}catch(r){}}const o={};i=i.filter((e,t,n)=>n.indexOf(e)===t);for(const e of i)try{const t=yield this.styleService.getStyleByKey(e);t?this.mergeNestedObj(o,e,t):console.warn(`Style with key "${e}" not found: `)}catch(r){}return o}))}mergeNestedObj(e,t,n){const i=t.split("/"),o=i.pop();i.reduce((e,t)=>e[t]=e[t]||{},e)[o]=n}getStyleCompiler(e){return this.snippetStyleCompiler.setStyles(e),this.snippetStyleCompiler}getAllStyleKeys(e){const t=[];if(Array.isArray(e))e.every(e=>t.push(...this.getAllStyleKeys(e)));else if("object"==typeof e){const n=Object.keys(e);for(const i of n){const n=e[i];i.toLowerCase().endsWith("key")?t.push(n):"object"==typeof n&&t.push(...this.getAllStyleKeys(n))}}return t}selectSnippet(e){return r(this,void 0,void 0,(function*(){const t=this.selectedSnippet();t&&t.hasFocus(!1),e.hasFocus(!0),this.selectedSnippet(e),this.onSelect&&this.onSelect(e)}))}};i([l.Param(),o("design:type",String)],p.prototype,"snippetType",void 0),i([l.Event(),o("design:type",Function)],p.prototype,"onSelect",void 0),i([l.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],p.prototype,"loadSnippets",null),p=i([l.Component({selector:"style-variation-selector",template:s.default}),o("design:paramtypes",[d.StyleService,Object,Array])],p),t.StyleVariationSelector=p},function(e,t,n){"use strict";n.r(t),t.default='<div class="editor">    \r\n    <div class="flex flex-column list">\r\n        \x3c!--ko if: $component.working()--\x3e\r\n        <spinner></spinner>\r\n        \x3c!--/ko--\x3e\r\n        <ul class="flex-item flex-item-grow list" data-bind="foreach: { data: snippets, as: \'snippet\' }, scrollable: {}">\r\n            <li class="list-item" data-bind="css: { selected: snippet.hasFocus }, click: $component.selectSnippet, event: { keydown: $component.keydown }, attr: { title: snippet.displayName }">\r\n                <style-snippet data-bind="itemTemplate: $parent.itemTemplate" params="{ snippetItem: snippet }"></style-snippet>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n</div>'},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(301),t),o(n(299),t),o(n(300),t),o(n(298),t)},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OptionSelectorEditor=void 0;const a=n(0),s=n(977),l=n(2),c=n(17);let u=class{constructor(){this.optionItems=[],this.optionsItems=a.observable(),this.initialValue=a.observable(),this.selectedValue=a.observable(),this.enteredValue=a.observable(0),this.selected=a.observable()}initialize(){return r(this,void 0,void 0,(function*(){this.optionsItems()&&this.optionItems.push(...this.optionsItems().split(","));const e=this.initialValue();0===e||e||this.initialValue("inherit");const t=this.optionItems.find(e=>e===this.initialValue());t?(this.selected("options"),this.selectedValue(t)):this.enteredValue(this.initialValue()),this.selected.subscribe(this.applyChanges),this.selectedValue.subscribe(this.applyChanges),this.enteredValue.extend(c.ChangeRateLimit).subscribe(this.applyChanges)}))}applyChanges(){let e;e="options"===this.selected()?this.selectedValue():this.enteredValue(),this.onChange(e)}};i([l.Param(),o("design:type",Function)],u.prototype,"optionsItems",void 0),i([l.Param(),o("design:type",Function)],u.prototype,"initialValue",void 0),i([l.Event(),o("design:type",Function)],u.prototype,"onChange",void 0),i([l.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],u.prototype,"initialize",null),u=i([l.Component({selector:"option-selector-editor",template:s.default}),o("design:paramtypes",[])],u),t.OptionSelectorEditor=u},function(e,t,n){"use strict";n.r(t),t.default='<div class="editor">\r\n    <h1>Select value</h1>\r\n    <hr>\r\n\r\n    <div class="tabs" role="tablist">\r\n        <div class="tab" data-bind="css: { \'tab-is-active\': !selected() }, attr: { \'aria-selected\': !selected() }">\r\n            <a href="#" data-bind="click: selected.bind($data,undefined), focus: true" title="Numeric value" role="tab" aria-label="enter numeric value">\r\n                Enter\r\n            </a>\r\n        </div>\r\n        <div class="tab" data-bind="css: { \'tab-is-active\': selected() === \'options\' }, attr: { \'aria-selected\': selected() === \'options\' }">\r\n            <a href="#" data-bind="click: selected.bind($data,\'options\')" title="Predefined options" role="tab" aria-label="Predefined options">\r\n                Choose\r\n            </a>\r\n        </div>\r\n    </div>\r\n\r\n    \x3c!-- ko if: !selected() --\x3e\r\n    <div class="flex flex-column">\r\n        <div class="flex-item flex-item-grow" role="tabpanel">\r\n            <div class="form-group">\r\n                <input id="enteredValue" type="number" class="form-control" placeholder="0" min="0" max="1000" data-bind="textInput: enteredValue">\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \x3c!-- /ko --\x3e\r\n\r\n    \x3c!-- ko if: selected() === \'options\' --\x3e\r\n    <div class="flex-item flex-item-grow add-block-container" role="tabpanel">\r\n        <div class="form-group">\r\n            <select id="valueStyle" class="form-control" data-bind="options: optionItems, value: selectedValue"></select>\r\n        </div>\r\n    </div>\r\n    \x3c!-- /ko --\x3e\r\n</div>'},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.SizeEditor=void 0;const r=n(0),a=n(979),s=n(2),l=n(17);let c=class{constructor(){this.sizeConfig=r.observable(),this.features="height,minMaxHeight,width,minMaxWidth",this.heightEnabled=r.observable(),this.itemHeight=r.observable(),this.widthEnabled=r.observable(),this.itemWidth=r.observable(),this.minMaxHeightEnabled=r.observable(),this.minHeight=r.observable(),this.maxHeight=r.observable(),this.minMaxWidthEnabled=r.observable(),this.minWidth=r.observable(),this.maxWidth=r.observable()}init(){const e=this.features.split(",");this.heightEnabled(e.includes("height")),this.minMaxHeightEnabled(e.includes("minMaxHeight")),this.widthEnabled(e.includes("width")),this.minMaxWidthEnabled(e.includes("minMaxWidth")),this.updateObservables(),this.sizeConfig.subscribe(this.updateObservables),this.itemHeight.extend(l.ChangeRateLimit).subscribe(this.applyChanges),this.minHeight.extend(l.ChangeRateLimit).subscribe(this.applyChanges),this.maxHeight.extend(l.ChangeRateLimit).subscribe(this.applyChanges),this.itemWidth.extend(l.ChangeRateLimit).subscribe(this.applyChanges),this.minWidth.extend(l.ChangeRateLimit).subscribe(this.applyChanges),this.maxWidth.extend(l.ChangeRateLimit).subscribe(this.applyChanges)}updateObservables(){const e=this.sizeConfig();this.itemHeight(null==e?void 0:e.height),this.minHeight(null==e?void 0:e.minHeight),this.maxHeight(null==e?void 0:e.maxHeight),this.itemWidth(null==e?void 0:e.width),this.minWidth(null==e?void 0:e.minWidth),this.maxWidth(null==e?void 0:e.maxWidth)}applyChanges(){if(!this.onUpdate)return;const e={height:this.itemHeight(),minHeight:this.minHeight(),maxHeight:this.maxHeight(),width:this.itemWidth(),minWidth:this.minWidth(),maxWidth:this.maxWidth()};this.onUpdate(e)}};i([s.Param(),o("design:type",Function)],c.prototype,"sizeConfig",void 0),i([s.Param(),o("design:type",String)],c.prototype,"features",void 0),i([s.Event(),o("design:type",Function)],c.prototype,"onUpdate",void 0),i([s.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],c.prototype,"init",null),c=i([s.Component({selector:"size-editor",template:a.default}),o("design:paramtypes",[])],c),t.SizeEditor=c},function(e,t,n){"use strict";n.r(t),t.default='<div class="form-group form-group-collapsible">\r\n    <label class="form-label">\r\n        <a href="#" class="form-group-toggle" title="Toggle section" data-bind="collapse: \'#sizeCollapse\'"></a>\r\n        <b>Size</b>\r\n    </label>\r\n    <div id="sizeCollapse" class="collapse form-group-collapse">\r\n        \x3c!-- ko if: widthEnabled --\x3e\r\n        <div class="form-group">\r\n            <label for="itemWidth" class="form-label">Width (px)</label>\r\n            <input type="number" min="0" id="itemWidth" class="form-control" placeholder="(Not set)" data-bind="textInput: itemWidth">\r\n        </div>\r\n        \x3c!-- /ko --\x3e\r\n        \x3c!-- ko if: minMaxWidthEnabled --\x3e\r\n        <div class="form-group">\r\n            <label for="minWidth" class="form-label">Min width (px)</label>\r\n            <input type="number" min="0" id="minWidth" class="form-control" placeholder="(Not set)" data-bind="textInput: minWidth">\r\n        </div>\r\n        <div class="form-group">\r\n            <label for="maxWidth" class="form-label">Max width (px)</label>\r\n            <input type="number" min="0" id="maxWidth" class="form-control" placeholder="(Not set)" data-bind="textInput: maxWidth">\r\n        </div>\r\n        \x3c!-- /ko --\x3e\r\n        \x3c!-- ko if: heightEnabled --\x3e\r\n        <div class="form-group">\r\n            <label for="itemHeight" class="form-label">Height (px)</label>\r\n            <input type="number" min="0" id="itemHeight" class="form-control" placeholder="(Not set)" data-bind="textInput: itemHeight">\r\n        </div>\r\n        \x3c!-- /ko --\x3e\r\n        \x3c!-- ko if: minMaxHeightEnabled --\x3e\r\n        <div class="form-group">\r\n            <label for="minHeight" class="form-label">Min height (px)</label>\r\n            <input type="number" min="0" id="minHeight" class="form-control" placeholder="(Not set)" data-bind="textInput: minHeight">\r\n        </div>\r\n        <div class="form-group">\r\n            <label for="maxHeight" class="form-label">Max height (px)</label>\r\n            <input type="number" min="0" id="maxHeight" class="form-control" placeholder="(Not set)" data-bind="textInput: maxHeight">\r\n        </div>\r\n        \x3c!-- /ko --\x3e\r\n    </div>\r\n</div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProseMirrorModule=void 0;const i=n(981);t.ProseMirrorModule=class{register(e){e.bind("htmlEditor",i.ProseMirrorHtmlEditor),e.bind("htmlEditorFactory",(function(){return{createHtmlEditor:()=>e.resolve("htmlEditor")}}))}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ProseMirrorHtmlEditor=void 0;const o=n(66),r=n(1),a=n(3),s=n(982),l=n(303),c=n(304),u=n(308),d=n(1018),p=n(983),h=n(984),f=n(986);t.ProseMirrorHtmlEditor=class{constructor(e,t,n){this.eventManager=e,this.styleCompiler=t,this.logger=n,this.eventManager.addEventListener("onEscape",this.detachFromElement.bind(this));const i=new f.SchemaBuilder;this.schema=i.build()}getState(){let e;return e=this.editorView?this.editorView.state.toJSON().doc.content:this.content.content,this.proseMirrorModelToModel(e)}setState(e){e=this.modelToProseMirrorModel(e),this.content={type:"doc",content:e},this.node=this.schema.nodeFromJSON(this.content);const t=r.DOMSerializer.fromSchema(this.schema).serializeFragment(this.node);this.element.appendChild(t)}modelToProseMirrorModel(e){let t=JSON.stringify(e);return t=t.replaceAll("ordered-list","ordered_list").replaceAll("bulleted-list","bulleted_list").replaceAll("list-item","list_item").replaceAll('"nodes":','"content":'),JSON.parse(t)}proseMirrorModelToModel(e){let t=JSON.stringify(e);return t=t.replaceAll("ordered_list","ordered-list").replaceAll("bulleted_list","bulleted-list").replaceAll("list_item","list-item").replaceAll('"content":','"nodes":'),JSON.parse(t)}getSelectionState(){const e=this.editorView.state;let t=e.selection.from;const n=e.selection.to;t===n&&(t-=1);const i=new o.SelectionState,r=e.selection.$cursor||e.selection.$from;if(r){const o=r.path.filter(e=>e.type),a=o[o.length-1],s=a.type,l=s.name;i.block=s.name,i.orderedList=l.includes("ordered_list"),i.bulletedList=l.includes("bulleted_list"),i.italic=e.doc.rangeHasMark(t,n,this.schema.marks.italic),i.bold=e.doc.rangeHasMark(t,n,this.schema.marks.bold),i.underlined=e.doc.rangeHasMark(t,n,this.schema.marks.underlined),i.highlighted=e.doc.rangeHasMark(t,n,this.schema.marks.highlighted),i.striked=e.doc.rangeHasMark(t,n,this.schema.marks.striked),i.code=e.doc.rangeHasMark(t,n,this.schema.marks.code),i.colorKey=this.getColor(),a.attrs&&a.attrs.styles&&(a.attrs.styles.alignment&&(i.alignment=a.attrs.styles.alignment),a.attrs.styles.appearance&&(i.appearance=a.attrs.styles.appearance))}return i}clearFormatting(){throw new Error("Not implemented")}insertText(e){throw new Error("Not implemented")}toggleBold(){l.toggleMark(this.schema.marks.bold)(this.editorView.state,this.editorView.dispatch),this.editorView.focus()}toggleItalic(){l.toggleMark(this.schema.marks.italic)(this.editorView.state,this.editorView.dispatch),this.editorView.focus()}toggleUnderlined(){l.toggleMark(this.schema.marks.underlined)(this.editorView.state,this.editorView.dispatch),this.editorView.focus()}toggleHighlighted(){l.toggleMark(this.schema.marks.highlighted)(this.editorView.state,this.editorView.dispatch),this.editorView.focus()}toggleStriked(){l.toggleMark(this.schema.marks.striked)(this.editorView.state,this.editorView.dispatch),this.editorView.focus()}toggleCode(){l.toggleMark(this.schema.marks.code)(this.editorView.state,this.editorView.dispatch),this.editorView.focus()}toggleOrderedList(){p.wrapInList(this.schema.nodes.ordered_list)(this.editorView.state,this.editorView.dispatch),this.editorView.focus()}toggleUnorderedList(e="globals/ul/default"){return i(this,void 0,void 0,(function*(){let t={};if(e){const n=yield this.styleCompiler.getClassNameByStyleKeyAsync(e);n&&(t={className:n,styles:{appearance:e}})}p.wrapInList(this.schema.nodes.bulleted_list,t)(this.editorView.state,this.editorView.dispatch),this.editorView.focus()}))}toggleParagraph(){this.setBlockTypeAndNotify(this.schema.nodes.paragraph)}toggleH1(){this.setBlockTypeAndNotify(this.schema.nodes.heading1)}toggleH2(){this.setBlockTypeAndNotify(this.schema.nodes.heading2)}toggleH3(){this.setBlockTypeAndNotify(this.schema.nodes.heading3)}toggleH4(){this.setBlockTypeAndNotify(this.schema.nodes.heading4)}toggleH5(){this.setBlockTypeAndNotify(this.schema.nodes.heading5)}toggleH6(){this.setBlockTypeAndNotify(this.schema.nodes.heading6)}toggleQuote(){this.setBlockTypeAndNotify(this.schema.nodes.quote)}toggleFormatted(){this.setBlockTypeAndNotify(this.schema.nodes.formatted)}toggleSize(){}updateMark(e,t){if(!t)return;const n=this.editorView.state,i=n.tr,o=i.doc,r=!n.selection.empty&&n.selection||n.selection.$cursor&&this.getMarkLocation(o,n.selection.$cursor.pos,e);if(!r)return;if(n.selection.empty){if(!o.rangeHasMark(r.from,r.to,e))return;i.removeMark(r.from,r.to,e)}const a=e.create(t);this.editorView.dispatch(i.addMark(r.from,r.to,a))}removeMark(e){const t=this.editorView.state,n=!t.selection.empty&&t.selection||this.getMarkLocation(t.tr.doc,t.selection.$cursor.pos,e);n&&this.editorView.dispatch(t.tr.removeMark(n.from,n.to,e))}setColor(e){const t=this.styleCompiler.getClassNameByColorKey(e);this.updateMark(this.schema.marks.color,{colorKey:e,colorClass:t})}getColor(){const e=this.editorView.state.selection.$from.marks().find(e=>"color"===e.type.name);return e?e.attrs.colorKey:null}removeColor(){this.removeMark(this.schema.marks.color)}removeHyperlink(){this.removeMark(this.schema.marks.hyperlink)}setHyperlink(e){(e.href||e.targetKey)&&this.updateMark(this.schema.marks.hyperlink,e)}getMarkLocation(e,t,n){const i=e.resolve(t),o=i.parent.childAfter(i.parentOffset);if(!o.node)return null;const r=o.node.marks.find(e=>e.type===n);if(!r)return null;let a=i.index(),s=i.start()+o.offset;for(;a>0&&r.isInSet(i.parent.child(a-1).marks);)a-=1,s-=i.parent.child(a).nodeSize;let l=i.indexAfter(),c=s+o.node.nodeSize;for(;l<i.parent.childCount&&r.isInSet(i.parent.child(l).marks);)c+=i.parent.child(l).nodeSize,l+=1;return{from:s,to:c}}getHyperlink(){const e=this.editorView.state.tr.doc;if(this.editorView.state.selection.$cursor){const t=e.resolve(this.editorView.state.selection.$cursor.pos),n=t.parent.childAfter(t.parentOffset);if(!n.node)return null;const i=n.node.marks.find(e=>e.type===this.schema.marks.hyperlink);return i?i.attrs:null}{const t=e.resolve(this.editorView.state.selection.$from.pos),n=t.parent.childAfter(t.parentOffset);if(!n.node)return null;const i=n.node.marks.find(e=>e.type===this.schema.marks.hyperlink);return i?i.attrs:null}}setAnchor(e,t){}removeAnchor(){}getSelectionText(){throw new Error("Not implemented")}resetToNormal(){}increaseIndent(){c.sinkListItem(this.schema.nodes.list_item)}decreaseIndent(){c.liftListItem(this.schema.nodes.list_item)}expandSelection(e){throw new Error("Not implemented")}setTextStyle(e,t){this.updateTextStyle(e,t)}updateTextStyle(e,t="xs"){return i(this,void 0,void 0,(function*(){const t=this.editorView.state.selection.$cursor||this.editorView.state.selection.$from;if(!t)return;const n=t.path.filter(e=>e.type),i=n[n.length-1],o=i.type,r=i.attrs.styles||{};if(r.appearance=r.appearance||{},e?r.appearance=e:r.appearance&&delete r.appearance,l.setBlockType(this.schema.nodes.paragraph)(this.editorView.state,this.editorView.dispatch),Object.keys(r).length>0){const e=yield this.styleCompiler.getClassNamesForLocalStylesAsync(r);l.setBlockType(o,{styles:r,className:e})(this.editorView.state,this.editorView.dispatch)}else l.setBlockType(o)(this.editorView.state,this.editorView.dispatch);this.editorView.focus(),this.eventManager.dispatchEvent("onSelectionChange",this)}))}setAlignment(e,t="xs"){return i(this,void 0,void 0,(function*(){const n=this.editorView.state.selection.$cursor||this.editorView.state.selection.$from;if(!n)return;const i=n.path.filter(e=>e.type),o=i[i.length-1],r=o.type,a=o.attrs.styles||{};a.alignment=a.alignment||{},Object.assign(a.alignment,{[t]:e});const s=yield this.styleCompiler.getClassNamesForLocalStylesAsync(a);l.setBlockType(this.schema.nodes.paragraph)(this.editorView.state,this.editorView.dispatch),l.setBlockType(r,{styles:a,className:s})(this.editorView.state,this.editorView.dispatch),this.editorView.focus(),this.eventManager.dispatchEvent("onSelectionChange",this)}))}alignLeft(e="xs"){this.setAlignment(o.alignmentStyleKeys.left,e)}alignCenter(e="xs"){this.setAlignment(o.alignmentStyleKeys.center,e)}alignRight(e="xs"){this.setAlignment(o.alignmentStyleKeys.right,e)}justify(e="xs"){this.setAlignment(o.alignmentStyleKeys.justify,e)}setCaretAtEndOf(e){}setCaretAt(e,t){}setBlockTypeAndNotify(e,t){l.setBlockType(e,t)(this.editorView.state,this.editorView.dispatch),this.eventManager.dispatchEvent("onSelectionChange",this)}handleUpdates(e,t){this.eventManager.dispatchEvent("htmlEditorChanged",this);const n=e.state;t&&!t.doc.eq(n.doc)&&this.eventManager.dispatchEvent("onContentUpdate"),t&&!t.selection.eq(n.selection)&&this.eventManager.dispatchEvent("onSelectionChange",this)}enable(){if(this.editorView)return this.editorView.dom.contentEditable=!0,void this.eventManager.dispatchEvent(o.HtmlEditorEvents.onSelectionChange);const e=this.schema.nodeFromJSON(this.content),t=this.handleUpdates.bind(this),n=[new a.Plugin({view:e=>({update:t})})];this.editorView=new s.EditorView({mount:this.element},{state:a.EditorState.create({doc:e,plugins:n.concat([d.keymap(h.buildKeymap(this.schema,null)),d.keymap(l.baseKeymap),u.history()])})}),this.eventManager.dispatchEvent("htmlEditorChanged",this),this.eventManager.dispatchEvent(o.HtmlEditorEvents.onSelectionChange)}disable(){this.editorView&&(this.editorView.dom.contentEditable=!1)}attachToElement(e){this.element=e}detachFromElement(){this.disable()}addSelectionChangeListener(e){this.eventManager.addEventListener(o.HtmlEditorEvents.onSelectionChange,e)}removeSelectionChangeListener(e){this.eventManager.removeEventListener(o.HtmlEditorEvents.onSelectionChange,e)}}},function(e,t,n){"use strict";n.r(t),n.d(t,"Decoration",(function(){return xt})),n.d(t,"DecorationSet",(function(){return Ct})),n.d(t,"EditorView",(function(){return Dt})),n.d(t,"__endComposition",(function(){return ut})),n.d(t,"__parseFromClipboard",(function(){return Be})),n.d(t,"__serializeForClipboard",(function(){return De}));var i=n(3),o=n(1),r=n(5),a={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var s=/Edge\/(\d+)/.exec(navigator.userAgent),l=/MSIE \d/.test(navigator.userAgent),c=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);a.mac=/Mac/.test(navigator.platform);var u=a.ie=!!(l||c||s);a.ie_version=l?document.documentMode||6:c?+c[1]:s?+s[1]:null,a.gecko=!u&&/gecko\/(\d+)/i.test(navigator.userAgent),a.gecko_version=a.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var d=!u&&/Chrome\/(\d+)/.exec(navigator.userAgent);a.chrome=!!d,a.chrome_version=d&&+d[1],a.ios=!u&&/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),a.android=/Android \d/.test(navigator.userAgent),a.webkit="webkitFontSmoothing"in document.documentElement.style,a.safari=/Apple Computer/.test(navigator.vendor),a.webkit_version=a.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var p=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},h=function(e){var t=e.parentNode;return t&&11==t.nodeType?t.host:t},f=null,m=function(e,t,n){var i=f||(f=document.createRange());return i.setEnd(e,null==n?e.nodeValue.length:n),i.setStart(e,t||0),i},v=function(e,t,n,i){return n&&(y(e,t,n,i,-1)||y(e,t,n,i,1))},g=/^(img|br|input|textarea|hr)$/i;function y(e,t,n,i,o){for(;;){if(e==n&&t==i)return!0;if(t==(o<0?0:b(e))){var r=e.parentNode;if(1!=r.nodeType||x(e)||g.test(e.nodeName)||"false"==e.contentEditable)return!1;t=p(e)+(o<0?0:1),e=r}else{if(1!=e.nodeType)return!1;if("false"==(e=e.childNodes[t+(o<0?-1:0)]).contentEditable)return!1;t=o<0?b(e):0}}}function b(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function x(e){for(var t,n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}var w=function(e){var t=e.isCollapsed;return t&&a.chrome&&e.rangeCount&&!e.getRangeAt(0).collapsed&&(t=!1),t};function S(e,t){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function k(e){return{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function C(e,t){return"number"==typeof e?e:e[t]}function M(e){var t=e.getBoundingClientRect();return{left:t.left,right:t.left+e.clientWidth,top:t.top,bottom:t.top+e.clientHeight}}function _(e,t,n){for(var i=e.someProp("scrollThreshold")||0,o=e.someProp("scrollMargin")||5,r=e.dom.ownerDocument,a=n||e.dom;a;a=h(a))if(1==a.nodeType){var s=a==r.body||1!=a.nodeType,l=s?k(r):M(a),c=0,u=0;if(t.top<l.top+C(i,"top")?u=-(l.top-t.top+C(o,"top")):t.bottom>l.bottom-C(i,"bottom")&&(u=t.bottom-l.bottom+C(o,"bottom")),t.left<l.left+C(i,"left")?c=-(l.left-t.left+C(o,"left")):t.right>l.right-C(i,"right")&&(c=t.right-l.right+C(o,"right")),c||u)if(s)r.defaultView.scrollBy(c,u);else{var d=a.scrollLeft,p=a.scrollTop;u&&(a.scrollTop+=u),c&&(a.scrollLeft+=c);var f=a.scrollLeft-d,m=a.scrollTop-p;t={left:t.left-f,top:t.top-m,right:t.right-f,bottom:t.bottom-m}}if(s)break}}function O(e){for(var t=[],n=e.ownerDocument;e&&(t.push({dom:e,top:e.scrollTop,left:e.scrollLeft}),e!=n);e=h(e));return t}function P(e,t){for(var n=0;n<e.length;n++){var i=e[n],o=i.dom,r=i.top,a=i.left;o.scrollTop!=r+t&&(o.scrollTop=r+t),o.scrollLeft!=a&&(o.scrollLeft=a)}}var E=null;function T(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function j(e,t){var n,i,o,r,s=e.root;if(s.caretPositionFromPoint)try{var l=s.caretPositionFromPoint(t.left,t.top);l&&(o=(n=l).offsetNode,r=n.offset)}catch(g){}if(!o&&s.caretRangeFromPoint){var c=s.caretRangeFromPoint(t.left,t.top);c&&(o=(i=c).startContainer,r=i.startOffset)}var u,d=s.elementFromPoint(t.left,t.top+1);if(!d||!e.dom.contains(1!=d.nodeType?d.parentNode:d)){var p=e.dom.getBoundingClientRect();if(!T(t,p))return null;if(!(d=function e(t,n,i){var o=t.childNodes.length;if(o&&i.top<i.bottom)for(var r=Math.max(0,Math.min(o-1,Math.floor(o*(n.top-i.top)/(i.bottom-i.top))-2)),a=r;;){var s=t.childNodes[a];if(1==s.nodeType)for(var l=s.getClientRects(),c=0;c<l.length;c++){var u=l[c];if(T(n,u))return e(s,n,u)}if((a=(a+1)%o)==r)break}return t}(e.dom,t,p)))return null}if(a.safari&&d.draggable&&(o=r=null),d=function(e,t){var n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}(d,t),o){if(a.gecko&&1==o.nodeType&&(r=Math.min(r,o.childNodes.length))<o.childNodes.length){var h,f=o.childNodes[r];"IMG"==f.nodeName&&(h=f.getBoundingClientRect()).right<=t.left&&h.bottom>t.top&&r++}o==e.dom&&r==o.childNodes.length-1&&1==o.lastChild.nodeType&&t.top>o.lastChild.getBoundingClientRect().bottom?u=e.state.doc.content.size:0!=r&&1==o.nodeType&&"BR"==o.childNodes[r-1].nodeName||(u=function(e,t,n,i){for(var o=-1,r=t;r!=e.dom;){var a=e.docView.nearestDesc(r,!0);if(!a)return null;if(a.node.isBlock&&a.parent){var s=a.dom.getBoundingClientRect();if(s.left>i.left||s.top>i.top)o=a.posBefore;else{if(!(s.right<i.left||s.bottom<i.top))break;o=a.posAfter}}r=a.dom.parentNode}return o>-1?o:e.docView.posFromDOM(t,n)}(e,o,r,t))}null==u&&(u=function(e,t,n){var i=function e(t,n){for(var i,o,r=2e8,a=0,s=n.top,l=n.top,c=t.firstChild,u=0;c;c=c.nextSibling,u++){var d=void 0;if(1==c.nodeType)d=c.getClientRects();else{if(3!=c.nodeType)continue;d=m(c).getClientRects()}for(var p=0;p<d.length;p++){var h=d[p];if(h.top<=s&&h.bottom>=l){s=Math.max(h.bottom,s),l=Math.min(h.top,l);var f=h.left>n.left?h.left-n.left:h.right<n.left?n.left-h.right:0;if(f<r){i=c,r=f,o=f&&3==i.nodeType?{left:h.right<n.left?h.right:h.left,top:n.top}:n,1==c.nodeType&&f&&(a=u+(n.left>=(h.left+h.right)/2?1:0));continue}}!i&&(n.left>=h.right&&n.top>=h.top||n.left>=h.left&&n.top>=h.bottom)&&(a=u+1)}}return i&&3==i.nodeType?function(e,t){for(var n=e.nodeValue.length,i=document.createRange(),o=0;o<n;o++){i.setEnd(e,o+1),i.setStart(e,o);var r=R(i,1);if(r.top!=r.bottom&&T(t,r))return{node:e,offset:o+(t.left>=(r.left+r.right)/2?1:0)}}return{node:e,offset:0}}(i,o):!i||r&&1==i.nodeType?{node:t,offset:a}:e(i,o)}(t,n),o=i.node,r=i.offset,a=-1;if(1==o.nodeType&&!o.firstChild){var s=o.getBoundingClientRect();a=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return e.docView.posFromDOM(o,r,a)}(e,d,t));var v=e.docView.nearestDesc(d,!0);return{pos:u,inside:v?v.posAtStart-v.border:-1}}function R(e,t){var n=e.getClientRects();return n.length?n[t<0?0:n.length-1]:e.getBoundingClientRect()}var N=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function A(e,t,n){var i=e.docView.domFromPos(t),o=i.node,r=i.offset,s=e.state.doc.resolve(t),l=s.parent.inlineContent,c=a.webkit||a.gecko;if(3==o.nodeType&&c&&N.test(o.nodeValue)){var u=R(m(o,r,r),n);if(a.gecko&&r&&/\s/.test(o.nodeValue[r-1])&&r<o.nodeValue.length){var d=R(m(o,r-1,r-1),-1);if(d.top==u.top){var h=R(m(o,r,r+1),-1);if(h.top!=u.top)return D(h,h.left<d.left)}}return u}if(l){for(var f=s.depth?e.docView.domAfterPos(s.before()):e.dom;n<0&&!r&&o!=f;)r=p(o),o=o.parentNode;for(;n>=0&&r==b(o)&&o!=f;)r=p(o)+1,o=o.parentNode}if(3==o.nodeType)return n<0?D(R(m(o,r-1,r),1),!1):D(R(m(o,r,r+1),-1),!0);if(!l){if(r&&(n<0||r==b(o))){var v=o.childNodes[r-1];if(1==v.nodeType)return B(v.getBoundingClientRect(),!1)}if(r<b(o)){var g=o.childNodes[r];if(1==g.nodeType)return B(g.getBoundingClientRect(),!0)}return B(o.getBoundingClientRect(),n>=0)}if(r&&(n<0||r==b(o))){var y=o.childNodes[r-1],x=3==y.nodeType?m(y,b(y)-(c?0:1)):1==y.nodeType&&"BR"!=y.nodeName?y:null;if(x)return D(R(x,1),!1)}if(r<b(o)){var w=o.childNodes[r],S=3==w.nodeType?m(w,0,c?0:1):1==w.nodeType?w:null;if(S)return D(R(S,-1),!0)}return D(R(3==o.nodeType?m(o):o,-n),n>=0)}function D(e,t){if(0==e.width)return e;var n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function B(e,t){if(0==e.height)return e;var n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function I(e,t,n){var i=e.state,o=e.root.activeElement;i!=t&&e.updateState(t),o!=e.dom&&e.focus();try{return n()}finally{i!=t&&e.updateState(i),o!=e.dom&&o&&o.focus()}}var L=/[\u0590-\u08ac]/,U=null,F=null,z=!1;var H=function(e,t,n,i){this.parent=e,this.children=t,this.dom=n,n.pmViewDesc=this,this.contentDOM=i,this.dirty=0},V={beforePosition:{configurable:!0},size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0}};H.prototype.matchesWidget=function(){return!1},H.prototype.matchesMark=function(){return!1},H.prototype.matchesNode=function(){return!1},H.prototype.matchesHack=function(){return!1},V.beforePosition.get=function(){return!1},H.prototype.parseRule=function(){return null},H.prototype.stopEvent=function(){return!1},V.size.get=function(){for(var e=0,t=0;t<this.children.length;t++)e+=this.children[t].size;return e},V.border.get=function(){return 0},H.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var e=0;e<this.children.length;e++)this.children[e].destroy()},H.prototype.posBeforeChild=function(e){for(var t=0,n=this.posAtStart;t<this.children.length;t++){var i=this.children[t];if(i==e)return n;n+=i.size}},V.posBefore.get=function(){return this.parent.posBeforeChild(this)},V.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},V.posAfter.get=function(){return this.posBefore+this.size},V.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},H.prototype.localPosFromDOM=function(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){var i,o;if(e==this.contentDOM)i=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&(!(o=i.pmViewDesc)||o.parent!=this);)i=i.previousSibling;return i?this.posBeforeChild(o)+o.size:this.posAtStart}var r,a;if(e==this.contentDOM)r=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;r=e.nextSibling}for(;r&&(!(a=r.pmViewDesc)||a.parent!=this);)r=r.nextSibling;return r?this.posBeforeChild(a):this.posAtEnd}var s;if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(var l=e;;l=l.parentNode){if(l==this.dom){s=!1;break}if(l.parentNode.firstChild!=l)break}if(null==s&&t==e.childNodes.length)for(var c=e;;c=c.parentNode){if(c==this.dom){s=!0;break}if(c.parentNode.lastChild!=c)break}}return(null==s?n>0:s)?this.posAtEnd:this.posAtStart},H.prototype.nearestDesc=function(e,t){for(var n=!0,i=e;i;i=i.parentNode){var o=this.getDesc(i);if(o&&(!t||o.node)){if(!n||!o.nodeDOM||(1==o.nodeDOM.nodeType?o.nodeDOM.contains(1==e.nodeType?e:e.parentNode):o.nodeDOM==e))return o;n=!1}}},H.prototype.getDesc=function(e){for(var t=e.pmViewDesc,n=t;n;n=n.parent)if(n==this)return t},H.prototype.posFromDOM=function(e,t,n){for(var i=e;i;i=i.parentNode){var o=this.getDesc(i);if(o)return o.localPosFromDOM(e,t,n)}return-1},H.prototype.descAt=function(e){for(var t=0,n=0;t<this.children.length;t++){var i=this.children[t],o=n+i.size;if(n==e&&o!=n){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<o)return i.descAt(e-n-i.border);n=o}},H.prototype.domFromPos=function(e){if(!this.contentDOM)return{node:this.dom,offset:0};for(var t=0,n=0;;n++){if(t==e){for(;n<this.children.length&&(this.children[n].beforePosition||this.children[n].dom.parentNode!=this.contentDOM);)n++;return{node:this.contentDOM,offset:n==this.children.length?this.contentDOM.childNodes.length:p(this.children[n].dom)}}if(n==this.children.length)throw new Error("Invalid position "+e);var i=this.children[n],o=t+i.size;if(e<o)return i.domFromPos(e-t-i.border);t=o}},H.prototype.parseRange=function(e,t,n){if(void 0===n&&(n=0),0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var i=-1,o=-1,r=n,a=0;;a++){var s=this.children[a],l=r+s.size;if(-1==i&&e<=l){var c=r+s.border;if(e>=c&&t<=l-s.border&&s.node&&s.contentDOM&&this.contentDOM.contains(s.contentDOM))return s.parseRange(e,t,c);e=r;for(var u=a;u>0;u--){var d=this.children[u-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){i=p(d.dom)+1;break}e-=d.size}-1==i&&(i=0)}if(i>-1&&(l>t||a==this.children.length-1)){t=l;for(var h=a+1;h<this.children.length;h++){var f=this.children[h];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){o=p(f.dom);break}t+=f.size}-1==o&&(o=this.contentDOM.childNodes.length);break}r=l}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:o}},H.prototype.emptyChildAt=function(e){if(this.border||!this.contentDOM||!this.children.length)return!1;var t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)},H.prototype.domAfterPos=function(e){var t=this.domFromPos(e),n=t.node,i=t.offset;if(1!=n.nodeType||i==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[i]},H.prototype.setSelection=function(e,t,n,i){for(var o=Math.min(e,t),r=Math.max(e,t),s=0,l=0;s<this.children.length;s++){var c=this.children[s],u=l+c.size;if(o>l&&r<u)return c.setSelection(e-l-c.border,t-l-c.border,n,i);l=u}var d=this.domFromPos(e),p=this.domFromPos(t),h=n.getSelection(),f=!1;if((a.gecko||a.safari)&&e==t){var m=d.node.childNodes[d.offset-1];f=m&&("BR"==m.nodeName||"false"==m.contentEditable)}if(i||f&&a.safari||!v(d.node,d.offset,h.anchorNode,h.anchorOffset)||!v(p.node,p.offset,h.focusNode,h.focusOffset)){var g=!1;if((h.extend||e==t)&&!f){h.collapse(d.node,d.offset);try{e!=t&&h.extend(p.node,p.offset),g=!0}catch(x){if(!(x instanceof DOMException))throw x}}if(!g){if(e>t){var y=d;d=p,p=y}var b=document.createRange();b.setEnd(p.node,p.offset),b.setStart(d.node,d.offset),h.removeAllRanges(),h.addRange(b)}}},H.prototype.ignoreMutation=function(e){return!this.contentDOM&&"selection"!=e.type},V.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},H.prototype.markDirty=function(e,t){for(var n=0,i=0;i<this.children.length;i++){var o=this.children[i],r=n+o.size;if(n==r?e<=r&&t>=n:e<r&&t>n){var a=n+o.border,s=r-o.border;if(e>=a&&t<=s)return this.dirty=e==n||t==r?2:1,void(e!=a||t!=s||!o.contentLost&&o.dom.parentNode==this.contentDOM?o.markDirty(e-a,t-a):o.dirty=3);o.dirty=3}n=r}this.dirty=2},H.prototype.markParentsDirty=function(){for(var e=1,t=this.parent;t;t=t.parent,e++){var n=1==e?2:1;t.dirty<n&&(t.dirty=n)}},Object.defineProperties(H.prototype,V);var W=[],$=function(e){function t(t,n,i,o){var r,a=n.type.toDOM;if("function"==typeof a&&(a=a(i,(function(){return r?r.parent?r.parent.posBeforeChild(r):void 0:o}))),!n.type.spec.raw){if(1!=a.nodeType){var s=document.createElement("span");s.appendChild(a),a=s}a.contentEditable=!1,a.classList.add("ProseMirror-widget")}e.call(this,t,W,a,null),this.widget=n,r=this}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={beforePosition:{configurable:!0}};return n.beforePosition.get=function(){return this.widget.type.side<0},t.prototype.matchesWidget=function(e){return 0==this.dirty&&e.type.eq(this.widget.type)},t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.stopEvent=function(e){var t=this.widget.spec.stopEvent;return!!t&&t(e)},t.prototype.ignoreMutation=function(e){return"selection"!=e.type||this.widget.spec.ignoreSelection},Object.defineProperties(t.prototype,n),t}(H),K=function(e){function t(t,n,i,o){e.call(this,t,W,n,null),this.textDOM=i,this.text=o}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{configurable:!0}};return n.size.get=function(){return this.text.length},t.prototype.localPosFromDOM=function(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t},t.prototype.domFromPos=function(e){return{node:this.textDOM,offset:e}},t.prototype.ignoreMutation=function(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue},Object.defineProperties(t.prototype,n),t}(H),G=function(e){function t(t,n,i,o){e.call(this,t,[],i,o),this.mark=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.create=function(e,n,i,r){var a=r.nodeViews[n.type.name],s=a&&a(n,r,i);return s&&s.dom||(s=o.DOMSerializer.renderSpec(document,n.type.spec.toDOM(n,i))),new t(e,n,s.dom,s.contentDOM||s.dom)},t.prototype.parseRule=function(){return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},t.prototype.matchesMark=function(e){return 3!=this.dirty&&this.mark.eq(e)},t.prototype.markDirty=function(t,n){if(e.prototype.markDirty.call(this,t,n),0!=this.dirty){for(var i=this.parent;!i.node;)i=i.parent;i.dirty<this.dirty&&(i.dirty=this.dirty),this.dirty=0}},t.prototype.slice=function(e,n,i){var o=t.create(this.parent,this.mark,!0,i),r=this.children,a=this.size;n<a&&(r=ce(r,n,a,i)),e>0&&(r=ce(r,0,e,i));for(var s=0;s<r.length;s++)r[s].parent=o;return o.children=r,o},t}(H),q=function(e){function t(t,n,i,o,r,a,s,l,c){e.call(this,t,n.isLeaf?W:[],r,a),this.nodeDOM=s,this.node=n,this.outerDeco=i,this.innerDeco=o,a&&this.updateChildren(l,c)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{configurable:!0},border:{configurable:!0}};return t.create=function(e,n,i,r,a,s){var l,c,u=a.nodeViews[n.type.name],d=u&&u(n,a,(function(){return c?c.parent?c.parent.posBeforeChild(c):void 0:s}),i),p=d&&d.dom,h=d&&d.contentDOM;if(n.isText)if(p){if(3!=p.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else p=document.createTextNode(n.text);else p||(p=(l=o.DOMSerializer.renderSpec(document,n.type.spec.toDOM(n))).dom,h=l.contentDOM);h||n.isText||"BR"==p.nodeName||(p.hasAttribute("contenteditable")||(p.contentEditable=!1),n.type.spec.draggable&&(p.draggable=!0));var f=p;return p=oe(p,i,n),d?c=new Q(e,n,i,r,p,h,f,d,a,s+1):n.isText?new X(e,n,i,r,p,f,a):new t(e,n,i,r,p,h,f,a,s+1)},t.prototype.parseRule=function(){var e=this;if(this.node.type.spec.reparseInView)return null;var t={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(t.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?t.contentElement=this.contentDOM:t.getContent=function(){return e.contentDOM?o.Fragment.empty:e.node.content},t},t.prototype.matchesNode=function(e,t,n){return 0==this.dirty&&e.eq(this.node)&&re(t,this.outerDeco)&&n.eq(this.innerDeco)},n.size.get=function(){return this.node.nodeSize},n.border.get=function(){return this.node.isLeaf?0:1},t.prototype.updateChildren=function(e,t){var n=this,i=this.node.inlineContent,r=t,s=i&&e.composing&&this.localCompositionNode(e,t),l=new se(this,s&&s.node);!function(e,t,n,i){var o=t.locals(e),r=0;if(0!=o.length)for(var a=0,s=[],l=null,c=0;;){if(a<o.length&&o[a].to==r){for(var u=o[a++],d=void 0;a<o.length&&o[a].to==r;)(d||(d=[u])).push(o[a++]);if(d){d.sort(le);for(var p=0;p<d.length;p++)n(d[p],c,!!l)}else n(u,c,!!l)}var h=void 0,f=void 0;if(l)f=-1,h=l,l=null;else{if(!(c<e.childCount))break;f=c,h=e.child(c++)}for(var m=0;m<s.length;m++)s[m].to<=r&&s.splice(m--,1);for(;a<o.length&&o[a].from<=r&&o[a].to>r;)s.push(o[a++]);var v=r+h.nodeSize;if(h.isText){var g=v;a<o.length&&o[a].from<g&&(g=o[a].from);for(var y=0;y<s.length;y++)s[y].to<g&&(g=s[y].to);g<v&&(l=h.cut(g-r),h=h.cut(0,g-r),v=g,f=-1)}i(h,s.length?h.isInline&&!h.isLeaf?s.filter((function(e){return!e.inline})):s.slice():W,t.forChild(r,h),f),r=v}else for(var b=0;b<e.childCount;b++){var x=e.child(b);i(x,o,t.forChild(r,x),b),r+=x.nodeSize}}(this.node,this.innerDeco,(function(t,a,s){t.spec.marks?l.syncToMarks(t.spec.marks,i,e):t.type.side>=0&&!s&&l.syncToMarks(a==n.node.childCount?o.Mark.none:n.node.child(a).marks,i,e),l.placeWidget(t,e,r)}),(function(t,n,o,a){l.syncToMarks(t.marks,i,e),l.findNodeMatch(t,n,o,a)||l.updateNextNode(t,n,o,e,a)||l.addNode(t,n,o,e,r),r+=t.nodeSize})),l.syncToMarks(W,i,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||2==this.dirty)&&(s&&this.protectLocalComposition(e,s),function e(t,n,i){for(var o=t.firstChild,r=!1,a=0;a<n.length;a++){var s=n[a],l=s.dom;if(l.parentNode==t){for(;l!=o;)o=ae(o),r=!0;o=o.nextSibling}else r=!0,t.insertBefore(l,o);if(s instanceof G){var c=o?o.previousSibling:t.lastChild;e(s.contentDOM,s.children,i),o=c?c.nextSibling:t.firstChild}}for(;o;)o=ae(o),r=!0;r&&i.trackWrites==t&&(i.trackWrites=null)}(this.contentDOM,this.children,e),a.ios&&function(e){if("UL"==e.nodeName||"OL"==e.nodeName){var t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}(this.dom))},t.prototype.localCompositionNode=function(e,t){var n=e.state.selection,o=n.from,r=n.to;if(!(!(e.state.selection instanceof i.TextSelection)||o<t||r>t+this.node.content.size)){var a=e.root.getSelection(),s=function(e,t){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0){if(e.childNodes.length>t&&3==e.childNodes[t].nodeType)return e.childNodes[t];t=b(e=e.childNodes[t-1])}else{if(!(1==e.nodeType&&t<e.childNodes.length))return null;e=e.childNodes[t],t=0}}}(a.focusNode,a.focusOffset);if(s&&this.dom.contains(s.parentNode)){var l=s.nodeValue,c=function(e,t,n,i){for(var o=0,r=0;o<e.childCount&&r<=i;){var a=e.child(o++),s=r;if(r+=a.nodeSize,a.isText){for(var l=a.text;o<e.childCount;){var c=e.child(o++);if(r+=c.nodeSize,!c.isText)break;l+=c.text}if(r>=n){var u=l.lastIndexOf(t,i-s);if(u>=0&&u+t.length+s>=n)return s+u}}}return-1}(this.node.content,l,o-t,r-t);return c<0?null:{node:s,pos:c,text:l}}}},t.prototype.protectLocalComposition=function(e,t){var n=t.node,i=t.pos,o=t.text;if(!this.getDesc(n)){for(var r=n;r.parentNode!=this.contentDOM;r=r.parentNode){for(;r.previousSibling;)r.parentNode.removeChild(r.previousSibling);for(;r.nextSibling;)r.parentNode.removeChild(r.nextSibling);r.pmViewDesc&&(r.pmViewDesc=null)}var a=new K(this,r,n,o);e.compositionNodes.push(a),this.children=ce(this.children,i,i+o.length,e,a)}},t.prototype.update=function(e,t,n,i){return!(3==this.dirty||!e.sameMarkup(this.node))&&(this.updateInner(e,t,n,i),!0)},t.prototype.updateInner=function(e,t,n,i){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=0},t.prototype.updateOuterDeco=function(e){if(!re(e,this.outerDeco)){var t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=ne(this.dom,this.nodeDOM,te(this.outerDeco,this.node,t),te(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=e}},t.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)},t.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")},Object.defineProperties(t.prototype,n),t}(H);function Y(e,t,n,i,o){return oe(i,t,e),new q(null,e,t,n,i,i,i,o,0)}var X=function(e){function t(t,n,i,o,r,a,s){e.call(this,t,n,i,o,r,null,a,s)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.parseRule=function(){for(var e=this.nodeDOM.parentNode;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}},t.prototype.update=function(e,t,n,i){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node))&&(this.updateOuterDeco(t),0==this.dirty&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=0,!0)},t.prototype.inParent=function(){for(var e=this.parent.contentDOM,t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1},t.prototype.domFromPos=function(e){return{node:this.nodeDOM,offset:e}},t.prototype.localPosFromDOM=function(t,n,i){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):e.prototype.localPosFromDOM.call(this,t,n,i)},t.prototype.ignoreMutation=function(e){return"characterData"!=e.type&&"selection"!=e.type},t.prototype.slice=function(e,n,i){var o=this.node.cut(e,n),r=document.createTextNode(o.text);return new t(this.parent,o,this.outerDeco,this.innerDeco,r,r,i)},t}(q),J=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.matchesHack=function(){return 0==this.dirty},t}(H),Q=function(e){function t(t,n,i,o,r,a,s,l,c,u){e.call(this,t,n,i,o,r,a,s,c,u),this.spec=l}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.update=function(t,n,i,o){if(3==this.dirty)return!1;if(this.spec.update){var r=this.spec.update(t,n);return r&&this.updateInner(t,n,i,o),r}return!(!this.contentDOM&&!t.isLeaf)&&e.prototype.update.call(this,t,n,i,o)},t.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():e.prototype.selectNode.call(this)},t.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():e.prototype.deselectNode.call(this)},t.prototype.setSelection=function(t,n,i,o){this.spec.setSelection?this.spec.setSelection(t,n,i):e.prototype.setSelection.call(this,t,n,i,o)},t.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),e.prototype.destroy.call(this)},t.prototype.stopEvent=function(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)},t.prototype.ignoreMutation=function(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):e.prototype.ignoreMutation.call(this,t)},t}(q);function Z(e){e&&(this.nodeName=e)}Z.prototype=Object.create(null);var ee=[new Z];function te(e,t,n){if(0==e.length)return ee;for(var i=n?ee[0]:new Z,o=[i],r=0;r<e.length;r++){var a=e[r].type.attrs,s=i;if(a)for(var l in a.nodeName&&o.push(s=new Z(a.nodeName)),a){var c=a[l];null!=c&&(n&&1==o.length&&o.push(s=i=new Z(t.isInline?"span":"div")),"class"==l?s.class=(s.class?s.class+" ":"")+c:"style"==l?s.style=(s.style?s.style+";":"")+c:"nodeName"!=l&&(s[l]=c))}}return o}function ne(e,t,n,i){if(n==ee&&i==ee)return t;for(var o=t,r=0;r<i.length;r++){var a=i[r],s=n[r];if(r){var l=void 0;s&&s.nodeName==a.nodeName&&o!=e&&(l=o.parentNode)&&l.tagName.toLowerCase()==a.nodeName||((l=document.createElement(a.nodeName)).pmIsDeco=!0,l.appendChild(o),s=ee[0]),o=l}ie(o,s||ee[0],a)}return o}function ie(e,t,n){for(var i in t)"class"==i||"style"==i||"nodeName"==i||i in n||e.removeAttribute(i);for(var o in n)"class"!=o&&"style"!=o&&"nodeName"!=o&&n[o]!=t[o]&&e.setAttribute(o,n[o]);if(t.class!=n.class){for(var r=t.class?t.class.split(" "):W,a=n.class?n.class.split(" "):W,s=0;s<r.length;s++)-1==a.indexOf(r[s])&&e.classList.remove(r[s]);for(var l=0;l<a.length;l++)-1==r.indexOf(a[l])&&e.classList.add(a[l])}if(t.style!=n.style){if(t.style)for(var c,u=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;c=u.exec(t.style);)e.style.removeProperty(c[1]);n.style&&(e.style.cssText+=n.style)}}function oe(e,t,n){return ne(e,e,ee,te(t,n,1!=e.nodeType))}function re(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function ae(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}var se=function(e,t){this.top=e,this.lock=t,this.index=0,this.stack=[],this.changed=!1;var n=function(e,t){for(var n=[],i=e.childCount,o=t.length-1;i>0&&o>=0;o--){var r=t[o],a=r.node;if(a){if(a!=e.child(i-1))break;n.push(r),--i}}return{nodes:n.reverse(),offset:i}}(e.node.content,e.children);this.preMatched=n.nodes,this.preMatchOffset=n.offset};function le(e,t){return e.type.side-t.type.side}function ce(e,t,n,i,o){for(var r=[],a=0,s=0;a<e.length;a++){var l=e[a],c=s,u=s+=l.size;c>=n||u<=t?r.push(l):(c<t&&r.push(l.slice(0,t-c,i)),o&&(r.push(o),o=null),u>n&&r.push(l.slice(n-c,l.size,i)))}return r}function ue(e,t){var n=e.root.getSelection(),o=e.state.doc;if(!n.focusNode)return null;var r=e.docView.nearestDesc(n.focusNode),a=r&&0==r.size,s=e.docView.posFromDOM(n.focusNode,n.focusOffset);if(s<0)return null;var l,c,u=o.resolve(s);if(w(n)){for(l=u;r&&!r.node;)r=r.parent;if(r&&r.node.isAtom&&i.NodeSelection.isSelectable(r.node)&&r.parent&&(!r.node.isInline||!function(e,t,n){for(var i=0==t,o=t==b(e);i||o;){if(e==n)return!0;var r=p(e);if(!(e=e.parentNode))return!1;i=i&&0==r,o=o&&r==b(e)}}(n.focusNode,n.focusOffset,r.dom))){var d=r.posBefore;c=new i.NodeSelection(s==d?u:o.resolve(d))}}else{var h=e.docView.posFromDOM(n.anchorNode,n.anchorOffset);if(h<0)return null;l=o.resolve(h)}return c||(c=ye(e,l,u,"pointer"==t||e.state.selection.head<u.pos&&!a?1:-1)),c}function de(e,t){var n=e.state.selection;if(ve(e,n),e.editable?e.hasFocus():be(e)&&document.activeElement&&document.activeElement.contains(e.dom)){if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){var t=e.root.getSelection(),n=document.createRange(),i=e.cursorWrapper.dom,o="IMG"==i.nodeName;o?n.setEnd(i.parentNode,p(i)+1):n.setEnd(i,0),n.collapse(!1),t.removeAllRanges(),t.addRange(n),!o&&!e.state.selection.visible&&a.ie&&a.ie_version<=11&&(i.disabled=!0,i.disabled=!1)}(e);else{var o,r,s=n.anchor,l=n.head;!pe||n instanceof i.TextSelection||(n.$from.parent.inlineContent||(o=he(e,n.from)),n.empty||n.$from.parent.inlineContent||(r=he(e,n.to))),e.docView.setSelection(s,l,e.root,t),pe&&(o&&me(o),r&&me(r)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(e){var t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.hideSelectionGuard);var n=e.root.getSelection(),i=n.anchorNode,o=n.anchorOffset;t.addEventListener("selectionchange",e.hideSelectionGuard=function(){n.anchorNode==i&&n.anchorOffset==o||(t.removeEventListener("selectionchange",e.hideSelectionGuard),e.dom.classList.remove("ProseMirror-hideselection"))})}(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}se.prototype.getPreMatch=function(e){return e>=this.preMatchOffset?this.preMatched[e-this.preMatchOffset]:null},se.prototype.destroyBetween=function(e,t){if(e!=t){for(var n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}},se.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)},se.prototype.syncToMarks=function(e,t,n){for(var i=0,o=this.stack.length>>1,r=Math.min(o,e.length);i<r&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&!1!==e[i].type.spec.spanning;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);for(var a=-1,s=this.index;s<Math.min(this.index+3,this.top.children.length);s++)if(this.top.children[s].matchesMark(e[o])){a=s;break}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{var l=G.create(this.top,e[o],t,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}},se.prototype.findNodeMatch=function(e,t,n,i){var o=-1,r=i<0?void 0:this.getPreMatch(i),a=this.top.children;if(r&&r.matchesNode(e,t,n))o=a.indexOf(r);else for(var s=this.index,l=Math.min(a.length,s+5);s<l;s++){var c=a[s];if(c.matchesNode(e,t,n)&&this.preMatched.indexOf(c)<0){o=s;break}}return!(o<0)&&(this.destroyBetween(this.index,o),this.index++,!0)},se.prototype.updateNextNode=function(e,t,n,i,o){for(var r=this.index;r<this.top.children.length;r++){var a=this.top.children[r];if(a instanceof q){var s=this.preMatched.indexOf(a);if(s>-1&&s+this.preMatchOffset!=o)return!1;var l=a.dom;if((!this.lock||!(l==this.lock||1==l.nodeType&&l.contains(this.lock.parentNode))||e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&3!=a.dirty&&re(t,a.outerDeco))&&a.update(e,t,n,i))return this.destroyBetween(this.index,r),a.dom!=l&&(this.changed=!0),this.index++,!0;break}}return!1},se.prototype.addNode=function(e,t,n,i,o){this.top.children.splice(this.index++,0,q.create(this.top,e,t,n,i,o)),this.changed=!0},se.prototype.placeWidget=function(e,t,n){var i=this.index<this.top.children.length?this.top.children[this.index]:null;if(!i||!i.matchesWidget(e)||e!=i.widget&&i.widget.type.toDOM.parentNode){var o=new $(this.top,e,t,n);this.top.children.splice(this.index++,0,o),this.changed=!0}else this.index++},se.prototype.addTextblockHacks=function(){for(var e=this.top.children[this.index-1];e instanceof G;)e=e.children[e.children.length-1];if(!e||!(e instanceof X)||/\n$/.test(e.node.text))if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack())this.index++;else{var t=document.createElement("br");this.top.children.splice(this.index++,0,new J(this.top,W,t,null)),this.changed=!0}};var pe=a.safari||a.chrome&&a.chrome_version<63;function he(e,t){var n=e.docView.domFromPos(t),i=n.node,o=n.offset,r=o<i.childNodes.length?i.childNodes[o]:null,s=o?i.childNodes[o-1]:null;if(a.safari&&r&&"false"==r.contentEditable)return fe(r);if(!(r&&"false"!=r.contentEditable||s&&"false"!=s.contentEditable)){if(r)return fe(r);if(s)return fe(s)}}function fe(e){return e.contentEditable="true",a.safari&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function me(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function ve(e,t){if(t instanceof i.NodeSelection){var n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(ge(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else ge(e)}function ge(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=null)}function ye(e,t,n,o){return e.someProp("createSelectionBetween",(function(i){return i(e,t,n)}))||i.TextSelection.between(t,n,o)}function be(e){var t=e.root.getSelection();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(n){return!1}}function xe(e,t){var n=e.selection,o=n.$anchor,r=n.$head,a=t>0?o.max(r):o.min(r),s=a.parent.inlineContent?a.depth?e.doc.resolve(t>0?a.after():a.before()):null:a;return s&&i.Selection.findFrom(s,t)}function we(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function Se(e,t,n){var o=e.state.selection;if(!(o instanceof i.TextSelection)){if(o instanceof i.NodeSelection&&o.node.isInline)return we(e,new i.TextSelection(t>0?o.$to:o.$from));var r=xe(e.state,t);return!!r&&we(e,r)}if(!o.empty||n.indexOf("s")>-1)return!1;if(e.endOfTextblock(t>0?"right":"left")){var s=xe(e.state,t);return!!(s&&s instanceof i.NodeSelection)&&we(e,s)}if(!(a.mac&&n.indexOf("m")>-1)){var l,c=o.$head,u=c.textOffset?null:t<0?c.nodeBefore:c.nodeAfter;if(!u||u.isText)return!1;var d=t<0?c.pos-u.nodeSize:c.pos;return!!(u.isAtom||(l=e.docView.descAt(d))&&!l.contentDOM)&&(i.NodeSelection.isSelectable(u)?we(e,new i.NodeSelection(t<0?e.state.doc.resolve(c.pos-u.nodeSize):c)):!!a.webkit&&we(e,new i.TextSelection(e.state.doc.resolve(t<0?d:d+u.nodeSize))))}}function ke(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function Ce(e){var t=e.pmViewDesc;return t&&0==t.size&&(e.nextSibling||"BR"!=e.nodeName)}function Me(e){var t=e.root.getSelection(),n=t.focusNode,i=t.focusOffset;if(n){var o,r,s=!1;for(a.gecko&&1==n.nodeType&&i<ke(n)&&Ce(n.childNodes[i])&&(s=!0);;)if(i>0){if(1!=n.nodeType)break;var l=n.childNodes[i-1];if(Ce(l))o=n,r=--i;else{if(3!=l.nodeType)break;i=(n=l).nodeValue.length}}else{if(Oe(n))break;for(var c=n.previousSibling;c&&Ce(c);)o=n.parentNode,r=p(c),c=c.previousSibling;if(c)i=ke(n=c);else{if((n=n.parentNode)==e.dom)break;i=0}}s?Pe(e,t,n,i):o&&Pe(e,t,o,r)}}function _e(e){var t=e.root.getSelection(),n=t.focusNode,i=t.focusOffset;if(n){for(var o,r,a=ke(n);;)if(i<a){if(1!=n.nodeType)break;if(!Ce(n.childNodes[i]))break;o=n,r=++i}else{if(Oe(n))break;for(var s=n.nextSibling;s&&Ce(s);)o=s.parentNode,r=p(s)+1,s=s.nextSibling;if(s)i=0,a=ke(n=s);else{if((n=n.parentNode)==e.dom)break;i=a=0}}o&&Pe(e,t,o,r)}}function Oe(e){var t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function Pe(e,t,n,i){if(w(t)){var o=document.createRange();o.setEnd(n,i),o.setStart(n,i),t.removeAllRanges(),t.addRange(o)}else t.extend&&t.extend(n,i);e.domObserver.setCurSelection();var r=e.state;setTimeout((function(){e.state==r&&de(e)}),50)}function Ee(e,t,n){var o=e.state.selection;if(o instanceof i.TextSelection&&!o.empty||n.indexOf("s")>-1)return!1;if(a.mac&&n.indexOf("m")>-1)return!1;var r=o.$from,s=o.$to;if(!r.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){var l=xe(e.state,t);if(l&&l instanceof i.NodeSelection)return we(e,l)}if(!r.parent.inlineContent){var c=i.Selection.findFrom(t<0?r:s,t);return!c||we(e,c)}return!1}function Te(e,t){if(!(e.state.selection instanceof i.TextSelection))return!0;var n=e.state.selection,o=n.$head,r=n.$anchor,a=n.empty;if(!o.sameParent(r))return!0;if(!a)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;var s=!o.textOffset&&(t<0?o.nodeBefore:o.nodeAfter);if(s&&!s.isText){var l=e.state.tr;return t<0?l.delete(o.pos-s.nodeSize,o.pos):l.delete(o.pos,o.pos+s.nodeSize),e.dispatch(l),!0}return!1}function je(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function Re(e){var t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(a.safari&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){var n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}if(e.parentNode.lastChild==e||a.safari&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0}}function Ne(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:ye(e,t.resolve(n.anchor),t.resolve(n.head))}function Ae(e,t,n){for(var i=e.depth,o=t?e.end():e.pos;i>0&&(t||e.indexAfter(i)==e.node(i).childCount);)i--,o++,t=!1;if(n)for(var r=e.node(i).maybeChild(e.indexAfter(i));r&&!r.isLeaf;)r=r.firstChild,o++;return o}function De(e,t){for(var n=[],i=t.content,r=t.openStart,a=t.openEnd;r>1&&a>1&&1==i.childCount&&1==i.firstChild.childCount;){r--,a--;var s=i.firstChild;n.push(s.type.name,s.attrs!=s.type.defaultAttrs?s.attrs:null),i=s.content}var l=e.someProp("clipboardSerializer")||o.DOMSerializer.fromSchema(e.state.schema),c=ze(),u=c.createElement("div");u.appendChild(l.serializeFragment(i,{document:c}));for(var d,p=u.firstChild;p&&1==p.nodeType&&(d=Ue[p.nodeName.toLowerCase()]);){for(var h=d.length-1;h>=0;h--){for(var f=c.createElement(d[h]);u.firstChild;)f.appendChild(u.firstChild);u.appendChild(f)}p=u.firstChild}return p&&1==p.nodeType&&p.setAttribute("data-pm-slice",r+" "+a+" "+JSON.stringify(n)),{dom:u,text:e.someProp("clipboardTextSerializer",(function(e){return e(t)}))||t.content.textBetween(0,t.content.size,"\n\n")}}function Be(e,t,n,i,r){var a,s,l=r.parent.type.spec.code;if(!n&&!t)return null;var c=t&&(i||l||!n);if(c){if(e.someProp("transformPastedText",(function(e){t=e(t,l||i)})),l)return new o.Slice(o.Fragment.from(e.state.schema.text(t)),0,0);var u=e.someProp("clipboardTextParser",(function(e){return e(t,r,i)}));u?s=u:(a=document.createElement("div"),t.trim().split(/(?:\r\n?|\n)+/).forEach((function(e){a.appendChild(document.createElement("p")).textContent=e})))}else e.someProp("transformPastedHTML",(function(e){n=e(n)})),a=function(e){var t=/(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));var n,i=ze().createElement("div"),o=/(?:<meta [^>]*>)*<([a-z][^>\s]+)/i.exec(e),r=0;(n=o&&Ue[o[1].toLowerCase()])&&(e=n.map((function(e){return"<"+e+">"})).join("")+e+n.map((function(e){return"</"+e+">"})).reverse().join(""),r=n.length),i.innerHTML=e;for(var a=0;a<r;a++)i=i.firstChild;return i}(n);var d=a&&a.querySelector("[data-pm-slice]"),p=d&&/^(\d+) (\d+) (.*)/.exec(d.getAttribute("data-pm-slice"));if(!s){var h=e.someProp("clipboardParser")||e.someProp("domParser")||o.DOMParser.fromSchema(e.state.schema);s=h.parseSlice(a,{preserveWhitespace:!(!c&&!p),context:r})}return s=p?function(e,t){if(!e.size)return e;var n,i=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(u){return e}for(var r=e.content,a=e.openStart,s=e.openEnd,l=n.length-2;l>=0;l-=2){var c=i.nodes[n[l]];if(!c||c.hasRequiredAttrs())break;r=o.Fragment.from(c.create(n[l+1],r)),a++,s++}return new o.Slice(r,a,s)}(function(e,t,n){return t<e.openStart&&(e=new o.Slice(Le(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new o.Slice(Le(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}(s,+p[1],+p[2]),p[3]):o.Slice.maxOpen(function(e,t){if(e.childCount<2)return e;for(var n=function(n){var i=t.node(n).contentMatchAt(t.index(n)),r=void 0,a=[];if(e.forEach((function(e){if(a){var t,n=i.findWrapping(e.type);if(!n)return a=null;if(t=a.length&&r.length&&function e(t,n,i,r,a){if(a<t.length&&a<n.length&&t[a]==n[a]){var s=e(t,n,i,r.lastChild,a+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(a==t.length-1?i.type:t[a+1]))return r.copy(r.content.append(o.Fragment.from(Ie(i,t,a+1))))}}(n,r,e,a[a.length-1],0))a[a.length-1]=t;else{a.length&&(a[a.length-1]=function e(t,n){if(0==n)return t;var i=t.content.replaceChild(t.childCount-1,e(t.lastChild,n-1)),r=t.contentMatchAt(t.childCount).fillBefore(o.Fragment.empty,!0);return t.copy(i.append(r))}(a[a.length-1],r.length));var s=Ie(e,n);a.push(s),i=i.matchType(s.type,s.attrs),r=n}}})),a)return{v:o.Fragment.from(a)}},i=t.depth;i>=0;i--){var r=n(i);if(r)return r.v}return e}(s.content,r),!1),e.someProp("transformPasted",(function(e){s=e(s)})),s}function Ie(e,t,n){void 0===n&&(n=0);for(var i=t.length-1;i>=n;i--)e=t[i].create(null,o.Fragment.from(e));return e}function Le(e,t,n,i,r,a){var s=t<0?e.firstChild:e.lastChild,l=s.content;return r<i-1&&(l=Le(l,t,n,i,r+1,a)),r>=n&&(l=t<0?s.contentMatchAt(0).fillBefore(l,e.childCount>1||a<=r).append(l):l.append(s.contentMatchAt(s.childCount).fillBefore(o.Fragment.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,s.copy(l))}var Ue={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},Fe=null;function ze(){return Fe||(Fe=document.implementation.createHTMLDocument("title"))}var He={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Ve=a.ie&&a.ie_version<=11,We=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};We.prototype.set=function(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset},We.prototype.eq=function(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset};var $e=function(e,t){var n=this;this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver((function(e){for(var t=0;t<e.length;t++)n.queue.push(e[t]);a.ie&&a.ie_version<=11&&e.some((function(e){return"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length}))?n.flushSoon():n.flush()})),this.currentSelection=new We,Ve&&(this.onCharData=function(e){n.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),n.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};$e.prototype.flushSoon=function(){var e=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((function(){e.flushingSoon=-1,e.flush()}),20))},$e.prototype.forceFlush=function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())},$e.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,He),Ve&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()},$e.prototype.stop=function(){var e=this;if(this.observer){var t=this.observer.takeRecords();if(t.length){for(var n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout((function(){return e.flush()}),20)}this.observer.disconnect()}Ve&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()},$e.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)},$e.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)},$e.prototype.suppressSelectionUpdates=function(){var e=this;this.suppressingSelectionUpdates=!0,setTimeout((function(){return e.suppressingSelectionUpdates=!1}),50)},$e.prototype.onSelectionChange=function(){if((!(e=this.view).editable||e.root.activeElement==e.dom)&&be(e)){var e;if(this.suppressingSelectionUpdates)return de(this.view);if(a.ie&&a.ie_version<=11&&!this.view.state.selection.empty){var t=this.view.root.getSelection();if(t.focusNode&&v(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}},$e.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())},$e.prototype.ignoreSelectionChange=function(e){if(0==e.rangeCount)return!0;var t=e.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(t);return n&&n.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0},$e.prototype.flush=function(){if(this.view.docView&&!(this.flushingSoon>-1)){var e=this.observer?this.observer.takeRecords():[];this.queue.length&&(e=this.queue.concat(e),this.queue.length=0);var t=this.view.root.getSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(t)&&be(this.view)&&!this.ignoreSelectionChange(t),i=-1,o=-1,r=!1,s=[];if(this.view.editable)for(var l=0;l<e.length;l++){var c=this.registerMutation(e[l],s);c&&(i=i<0?c.from:Math.min(c.from,i),o=o<0?c.to:Math.max(c.to,o),c.typeOver&&(r=!0))}if(a.gecko&&s.length>1){var u=s.filter((function(e){return"BR"==e.nodeName}));if(2==u.length){var d=u[0],p=u[1];d.parentNode&&d.parentNode.parentNode==p.parentNode?p.remove():d.remove()}}(i>-1||n)&&(i>-1&&(this.view.docView.markDirty(i,o),h=this.view,Ke||(Ke=!0,"normal"==getComputedStyle(h.dom).whiteSpace&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."))),this.handleDOMChange(i,o,r,s),this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(t)||de(this.view))}var h},$e.prototype.registerMutation=function(e,t){if(t.indexOf(e.target)>-1)return null;var n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){var i=e.previousSibling,o=e.nextSibling;if(a.ie&&a.ie_version<=11&&e.addedNodes.length)for(var r=0;r<e.addedNodes.length;r++){var s=e.addedNodes[r],l=s.previousSibling,c=s.nextSibling;(!l||Array.prototype.indexOf.call(e.addedNodes,l)<0)&&(i=l),(!c||Array.prototype.indexOf.call(e.addedNodes,c)<0)&&(o=c)}for(var u=i&&i.parentNode==e.target?p(i)+1:0,d=n.localPosFromDOM(e.target,u,-1),h=o&&o.parentNode==e.target?p(o):e.target.childNodes.length,f=0;f<e.addedNodes.length;f++)t.push(e.addedNodes[f]);return{from:d,to:n.localPosFromDOM(e.target,h,1)}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}};var Ke=!1,Ge={},qe={};function Ye(e,t){e.lastSelectionOrigin=t,e.lastSelectionTime=Date.now()}function Xe(e){e.someProp("handleDOMEvents",(function(t){for(var n in t)e.eventHandlers[n]||e.dom.addEventListener(n,e.eventHandlers[n]=function(t){return Je(e,t)})}))}function Je(e,t){return e.someProp("handleDOMEvents",(function(n){var i=n[t.type];return!!i&&(i(e,t)||t.defaultPrevented)}))}function Qe(e){return{left:e.clientX,top:e.clientY}}function Ze(e,t,n,i,o){if(-1==i)return!1;for(var r=e.state.doc.resolve(i),a=function(i){if(e.someProp(t,(function(t){return i>r.depth?t(e,n,r.nodeAfter,r.before(i),o,!0):t(e,n,r.node(i),r.before(i),o,!1)})))return{v:!0}},s=r.depth+1;s>0;s--){var l=a(s);if(l)return l.v}return!1}function et(e,t,n){e.focused||e.focus();var i=e.state.tr.setSelection(t);"pointer"==n&&i.setMeta("pointer",!0),e.dispatch(i)}function tt(e,t,n,i){return Ze(e,"handleDoubleClickOn",t,n,i)||e.someProp("handleDoubleClick",(function(n){return n(e,t,i)}))}function nt(e,t,n,o){return Ze(e,"handleTripleClickOn",t,n,o)||e.someProp("handleTripleClick",(function(n){return n(e,t,o)}))||function(e,t){var n=e.state.doc;if(-1==t)return!!n.inlineContent&&(et(e,i.TextSelection.create(n,0,n.content.size),"pointer"),!0);for(var o=n.resolve(t),r=o.depth+1;r>0;r--){var a=r>o.depth?o.nodeAfter:o.node(r),s=o.before(r);if(a.inlineContent)et(e,i.TextSelection.create(n,s+1,s+1+a.content.size),"pointer");else{if(!i.NodeSelection.isSelectable(a))continue;et(e,i.NodeSelection.create(n,s),"pointer")}return!0}}(e,n)}function it(e){return ut(e)}qe.keydown=function(e,t){if(e.shiftKey=16==t.keyCode||t.shiftKey,!at(e,t))if(e.domObserver.forceFlush(),e.lastKeyCode=t.keyCode,e.lastKeyCodeTime=Date.now(),!a.ios||13!=t.keyCode||t.ctrlKey||t.altKey||t.metaKey)e.someProp("handleKeyDown",(function(n){return n(e,t)}))||function(e,t){var n=t.keyCode,i=function(e){var t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}(t);return 8==n||a.mac&&72==n&&"c"==i?Te(e,-1)||Me(e):46==n||a.mac&&68==n&&"c"==i?Te(e,1)||_e(e):13==n||27==n||(37==n?Se(e,-1,i)||Me(e):39==n?Se(e,1,i)||_e(e):38==n?Ee(e,-1,i)||Me(e):40==n?function(e){if(a.safari&&!(e.state.selection.$head.parentOffset>0)){var t=e.root.getSelection(),n=t.focusNode,i=t.focusOffset;if(n&&1==n.nodeType&&0==i&&n.firstChild&&"false"==n.firstChild.contentEditable){var o=n.firstChild;je(e,o,!0),setTimeout((function(){return je(e,o,!1)}),20)}}}(e)||Ee(e,1,i)||_e(e):i==(a.mac?"m":"c")&&(66==n||73==n||89==n||90==n))}(e,t)?t.preventDefault():Ye(e,"key");else{var n=Date.now();e.lastIOSEnter=n,e.lastIOSEnterFallbackTimeout=setTimeout((function(){e.lastIOSEnter==n&&(e.someProp("handleKeyDown",(function(t){return t(e,S(13,"Enter"))})),e.lastIOSEnter=0)}),200)}},qe.keyup=function(e,t){16==t.keyCode&&(e.shiftKey=!1)},qe.keypress=function(e,t){if(!(at(e,t)||!t.charCode||t.ctrlKey&&!t.altKey||a.mac&&t.metaKey))if(e.someProp("handleKeyPress",(function(n){return n(e,t)})))t.preventDefault();else{var n=e.state.selection;if(!(n instanceof i.TextSelection&&n.$from.sameParent(n.$to))){var o=String.fromCharCode(t.charCode);e.someProp("handleTextInput",(function(t){return t(e,n.$from.pos,n.$to.pos,o)}))||e.dispatch(e.state.tr.insertText(o).scrollIntoView()),t.preventDefault()}}};var ot=a.mac?"metaKey":"ctrlKey";Ge.mousedown=function(e,t){e.shiftKey=t.shiftKey;var n=it(e),i=Date.now(),o="singleClick";i-e.lastClick.time<500&&function(e,t){var n=t.x-e.clientX,i=t.y-e.clientY;return n*n+i*i<100}(t,e.lastClick)&&!t[ot]&&("singleClick"==e.lastClick.type?o="doubleClick":"doubleClick"==e.lastClick.type&&(o="tripleClick")),e.lastClick={time:i,x:t.clientX,y:t.clientY,type:o};var r=e.posAtCoords(Qe(t));r&&("singleClick"==o?e.mouseDown=new rt(e,r,t,n):("doubleClick"==o?tt:nt)(e,r.pos,r.inside,t)?t.preventDefault():Ye(e,"pointer"))};var rt=function(e,t,n,o){var r,s,l=this;if(this.view=e,this.startDoc=e.state.doc,this.pos=t,this.event=n,this.flushed=o,this.selectNode=n[ot],this.allowDefault=n.shiftKey,t.inside>-1)r=e.state.doc.nodeAt(t.inside),s=t.inside;else{var c=e.state.doc.resolve(t.pos);r=c.parent,s=c.depth?c.before():0}this.mightDrag=null;var u=o?null:n.target,d=u?e.docView.nearestDesc(u,!0):null;this.target=d?d.dom:null,(r.type.spec.draggable&&!1!==r.type.spec.selectable||e.state.selection instanceof i.NodeSelection&&s==e.state.selection.from)&&(this.mightDrag={node:r,pos:s,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&a.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((function(){return l.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ye(e,"pointer")};function at(e,t){return!!e.composing||!!(a.safari&&Math.abs(t.timeStamp-e.compositionEndedAt)<500)&&(e.compositionEndedAt=-2e8,!0)}rt.prototype.done=function(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.view.mouseDown=null},rt.prototype.up=function(e){if(this.done(),this.view.dom.contains(3==e.target.nodeType?e.target.parentNode:e.target)){var t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Qe(e))),this.allowDefault||!t?Ye(this.view,"pointer"):function(e,t,n,o,r){return Ze(e,"handleClickOn",t,n,o)||e.someProp("handleClick",(function(n){return n(e,t,o)}))||(r?function(e,t){if(-1==t)return!1;var n,o,r=e.state.selection;r instanceof i.NodeSelection&&(n=r.node);for(var a=e.state.doc.resolve(t),s=a.depth+1;s>0;s--){var l=s>a.depth?a.nodeAfter:a.node(s);if(i.NodeSelection.isSelectable(l)){o=n&&r.$from.depth>0&&s>=r.$from.depth&&a.before(r.$from.depth+1)==r.$from.pos?a.before(r.$from.depth):a.before(s);break}}return null!=o&&(et(e,i.NodeSelection.create(e.state.doc,o),"pointer"),!0)}(e,n):function(e,t){if(-1==t)return!1;var n=e.state.doc.resolve(t),o=n.nodeAfter;return!!(o&&o.isAtom&&i.NodeSelection.isSelectable(o))&&(et(e,new i.NodeSelection(n),"pointer"),!0)}(e,n))}(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():this.flushed||a.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||a.chrome&&!(this.view.state.selection instanceof i.TextSelection)&&(t.pos==this.view.state.selection.from||t.pos==this.view.state.selection.to)?(et(this.view,i.Selection.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):Ye(this.view,"pointer")}},rt.prototype.move=function(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0),Ye(this.view,"pointer")},Ge.touchdown=function(e){it(e),Ye(e,"pointer")},Ge.contextmenu=function(e){return it(e)};var st=a.android?5e3:-1;function lt(e,t){clearTimeout(e.composingTimeout),t>-1&&(e.composingTimeout=setTimeout((function(){return ut(e)}),t))}function ct(e){for(e.composing=!1;e.compositionNodes.length>0;)e.compositionNodes.pop().markParentsDirty()}function ut(e,t){if(e.domObserver.forceFlush(),ct(e),t||e.docView.dirty){var n=ue(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):e.updateState(e.state),!0}return!1}qe.compositionstart=qe.compositionupdate=function(e){if(!e.composing){e.domObserver.flush();var t=e.state,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((function(e){return!1===e.type.spec.inclusive}))))e.markCursor=e.state.storedMarks||n.marks(),ut(e,!0),e.markCursor=null;else if(ut(e),a.gecko&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length)for(var i=e.root.getSelection(),o=i.focusNode,r=i.focusOffset;o&&1==o.nodeType&&0!=r;){var s=r<0?o.lastChild:o.childNodes[r-1];if(!s)break;if(3==s.nodeType){i.collapse(s,s.nodeValue.length);break}o=s,r=-1}e.composing=!0}lt(e,st)},qe.compositionend=function(e,t){e.composing&&(e.composing=!1,e.compositionEndedAt=t.timeStamp,lt(e,20))};var dt=a.ie&&a.ie_version<15||a.ios&&a.webkit_version<604;function pt(e,t,n,i){var r=Be(e,t,n,e.shiftKey,e.state.selection.$from);if(!e.someProp("handlePaste",(function(t){return t(e,i,r||o.Slice.empty)}))&&r){var a=function(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}(r),s=a?e.state.tr.replaceSelectionWith(a,e.shiftKey):e.state.tr.replaceSelection(r);e.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste"))}}Ge.copy=qe.cut=function(e,t){var n=e.state.selection,i="cut"==t.type;if(!n.empty){var o=dt?null:t.clipboardData,r=De(e,n.content()),a=r.dom,s=r.text;o?(t.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",s)):function(e,t){if(e.dom.parentNode){var n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";var i=getSelection(),o=document.createRange();o.selectNodeContents(t),e.dom.blur(),i.removeAllRanges(),i.addRange(o),setTimeout((function(){n.parentNode&&n.parentNode.removeChild(n),e.focus()}),50)}}(e,a),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},qe.paste=function(e,t){var n=dt?null:t.clipboardData,i=n&&n.getData("text/html"),o=n&&n.getData("text/plain");n&&(i||o||n.files.length)?(pt(e,o,i,t),t.preventDefault()):function(e,t){if(e.dom.parentNode){var n=e.shiftKey||e.state.selection.$from.parent.type.spec.code,i=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus(),setTimeout((function(){e.focus(),i.parentNode&&i.parentNode.removeChild(i),n?pt(e,i.value,null,t):pt(e,i.textContent,i.innerHTML,t)}),50)}}(e,t)};var ht=function(e,t){this.slice=e,this.move=t},ft=a.mac?"altKey":"ctrlKey";for(var mt in Ge.dragstart=function(e,t){var n=e.mouseDown;if(n&&n.done(),t.dataTransfer){var o=e.state.selection,r=o.empty?null:e.posAtCoords(Qe(t));if(r&&r.pos>=o.from&&r.pos<=(o instanceof i.NodeSelection?o.to-1:o.to));else if(n&&n.mightDrag)e.dispatch(e.state.tr.setSelection(i.NodeSelection.create(e.state.doc,n.mightDrag.pos)));else if(t.target&&1==t.target.nodeType){var a=e.docView.nearestDesc(t.target,!0);if(!a||!a.node.type.spec.draggable||a==e.docView)return;e.dispatch(e.state.tr.setSelection(i.NodeSelection.create(e.state.doc,a.posBefore)))}var s=e.state.selection.content(),l=De(e,s),c=l.dom,u=l.text;t.dataTransfer.clearData(),t.dataTransfer.setData(dt?"Text":"text/html",c.innerHTML),dt||t.dataTransfer.setData("text/plain",u),e.dragging=new ht(s,!t[ft])}},Ge.dragend=function(e){var t=e.dragging;window.setTimeout((function(){e.dragging==t&&(e.dragging=null)}),50)},qe.dragover=qe.dragenter=function(e,t){return t.preventDefault()},qe.drop=function(e,t){var n=e.dragging;if(e.dragging=null,t.dataTransfer){var a=e.posAtCoords(Qe(t));if(a){var s=e.state.doc.resolve(a.pos);if(s){var l=n&&n.slice||Be(e,t.dataTransfer.getData(dt?"Text":"text/plain"),dt?null:t.dataTransfer.getData("text/html"),!1,s),c=n&&!t[ft];if(e.someProp("handleDrop",(function(n){return n(e,t,l||o.Slice.empty,c)})))t.preventDefault();else if(l){t.preventDefault();var u=l?Object(r.dropPoint)(e.state.doc,s.pos,l):s.pos;null==u&&(u=s.pos);var d=e.state.tr;c&&d.deleteSelection();var p=d.mapping.map(u),h=0==l.openStart&&0==l.openEnd&&1==l.content.childCount,f=d.doc;if(h?d.replaceRangeWith(p,p,l.content.firstChild):d.replaceRange(p,p,l),!d.doc.eq(f)){var m=d.doc.resolve(p);if(h&&i.NodeSelection.isSelectable(l.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(l.content.firstChild))d.setSelection(new i.NodeSelection(m));else{var v=d.mapping.map(u);d.mapping.maps[d.mapping.maps.length-1].forEach((function(e,t,n,i){return v=i})),d.setSelection(ye(e,m,d.doc.resolve(v)))}e.focus(),e.dispatch(d.setMeta("uiEvent","drop"))}}}}}},Ge.focus=function(e){e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout((function(){e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.root.getSelection())&&de(e)}),20))},Ge.blur=function(e){e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),e.domObserver.currentSelection.set({}),e.focused=!1)},Ge.beforeinput=function(e,t){if(a.chrome&&a.android&&"deleteContentBackward"==t.inputType){var n=e.domChangeCount;setTimeout((function(){if(e.domChangeCount==n&&(e.dom.blur(),e.focus(),!e.someProp("handleKeyDown",(function(t){return t(e,S(8,"Backspace"))})))){var t=e.state.selection.$cursor;t&&t.pos>0&&e.dispatch(e.state.tr.delete(t.pos-1,t.pos).scrollIntoView())}}),50)}},qe)Ge[mt]=qe[mt];function vt(e,t){if(e==t)return!0;for(var n in e)if(e[n]!==t[n])return!1;for(var i in t)if(!(i in e))return!1;return!0}var gt=function(e,t){this.spec=t||kt,this.side=this.spec.side||0,this.toDOM=e};gt.prototype.map=function(e,t,n,i){var o=e.mapResult(t.from+i,this.side<0?-1:1),r=o.pos;return o.deleted?null:new xt(r-n,r-n,this)},gt.prototype.valid=function(){return!0},gt.prototype.eq=function(e){return this==e||e instanceof gt&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&vt(this.spec,e.spec))};var yt=function(e,t){this.spec=t||kt,this.attrs=e};yt.prototype.map=function(e,t,n,i){var o=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-n,r=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-n;return o>=r?null:new xt(o,r,this)},yt.prototype.valid=function(e,t){return t.from<t.to},yt.prototype.eq=function(e){return this==e||e instanceof yt&&vt(this.attrs,e.attrs)&&vt(this.spec,e.spec)},yt.is=function(e){return e.type instanceof yt};var bt=function(e,t){this.spec=t||kt,this.attrs=e};bt.prototype.map=function(e,t,n,i){var o=e.mapResult(t.from+i,1);if(o.deleted)return null;var r=e.mapResult(t.to+i,-1);return r.deleted||r.pos<=o.pos?null:new xt(o.pos-n,r.pos-n,this)},bt.prototype.valid=function(e,t){var n=e.content.findIndex(t.from),i=n.index,o=n.offset;return o==t.from&&o+e.child(i).nodeSize==t.to},bt.prototype.eq=function(e){return this==e||e instanceof bt&&vt(this.attrs,e.attrs)&&vt(this.spec,e.spec)};var xt=function(e,t,n){this.from=e,this.to=t,this.type=n},wt={spec:{configurable:!0},inline:{configurable:!0}};xt.prototype.copy=function(e,t){return new xt(e,t,this.type)},xt.prototype.eq=function(e,t){return void 0===t&&(t=0),this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to},xt.prototype.map=function(e,t,n){return this.type.map(e,this,t,n)},xt.widget=function(e,t,n){return new xt(e,e,new gt(t,n))},xt.inline=function(e,t,n,i){return new xt(e,t,new yt(n,i))},xt.node=function(e,t,n,i){return new xt(e,t,new bt(n,i))},wt.spec.get=function(){return this.type.spec},wt.inline.get=function(){return this.type instanceof yt},Object.defineProperties(xt.prototype,wt);var St=[],kt={},Ct=function(e,t){this.local=e&&e.length?e:St,this.children=t&&t.length?t:St};Ct.create=function(e,t){return t.length?Tt(t,e,0,kt):Mt},Ct.prototype.find=function(e,t,n){var i=[];return this.findInner(null==e?0:e,null==t?1e9:t,i,0,n),i},Ct.prototype.findInner=function(e,t,n,i,o){for(var r=0;r<this.local.length;r++){var a=this.local[r];a.from<=t&&a.to>=e&&(!o||o(a.spec))&&n.push(a.copy(a.from+i,a.to+i))}for(var s=0;s<this.children.length;s+=3)if(this.children[s]<t&&this.children[s+1]>e){var l=this.children[s]+1;this.children[s+2].findInner(e-l,t-l,n,i+l,o)}},Ct.prototype.map=function(e,t,n){return this==Mt||0==e.maps.length?this:this.mapInner(e,t,0,0,n||kt)},Ct.prototype.mapInner=function(e,t,n,i,o){for(var r,a=0;a<this.local.length;a++){var s=this.local[a].map(e,n,i);s&&s.type.valid(t,s)?(r||(r=[])).push(s):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?function(e,t,n,i,o,r,a){for(var s=e.slice(),l=function(e,t,n,i){for(var a=0;a<s.length;a+=3){var l=s[a+1],c=void 0;-1==l||e>l+r||(t>=s[a]+r?s[a+1]=-1:n>=o&&(c=i-n-(t-e))&&(s[a]+=c,s[a+1]+=c))}},c=0;c<n.maps.length;c++)n.maps[c].forEach(l);for(var u=!1,d=0;d<s.length;d+=3)if(-1==s[d+1]){var p=n.map(e[d]+r),h=p-o;if(h<0||h>=i.content.size){u=!0;continue}var f=n.map(e[d+1]+r,-1)-o,m=i.content.findIndex(h),v=m.index,g=m.offset,y=i.maybeChild(v);if(y&&g==h&&g+y.nodeSize==f){var b=s[d+2].mapInner(n,y,p+1,e[d]+r+1,a);b!=Mt?(s[d]=h,s[d+1]=f,s[d+2]=b):(s[d+1]=-2,u=!0)}else u=!0}if(u){var x=Tt(function(e,t,n,i,o,r,a){function s(e,t){for(var r=0;r<e.local.length;r++){var l=e.local[r].map(i,o,t);l?n.push(l):a.onRemove&&a.onRemove(e.local[r].spec)}for(var c=0;c<e.children.length;c+=3)s(e.children[c+2],e.children[c]+t+1)}for(var l=0;l<e.length;l+=3)-1==e[l+1]&&s(e[l+2],t[l]+r+1);return n}(s,e,t||[],n,o,r,a),i,0,a);t=x.local;for(var w=0;w<s.length;w+=3)s[w+1]<0&&(s.splice(w,3),w-=3);for(var S=0,k=0;S<x.children.length;S+=3){for(var C=x.children[S];k<s.length&&s[k]<C;)k+=3;s.splice(k,0,x.children[S],x.children[S+1],x.children[S+2])}}return new Ct(t&&t.sort(jt),s)}(this.children,r,e,t,n,i,o):r?new Ct(r.sort(jt)):Mt},Ct.prototype.add=function(e,t){return t.length?this==Mt?Ct.create(e,t):this.addInner(e,t,0):this},Ct.prototype.addInner=function(e,t,n){var i,o=this,r=0;e.forEach((function(e,a){var s,l=a+n;if(s=Pt(t,e,l)){for(i||(i=o.children.slice());r<i.length&&i[r]<a;)r+=3;i[r]==a?i[r+2]=i[r+2].addInner(e,s,l+1):i.splice(r,0,a,a+e.nodeSize,Tt(s,e,l+1,kt)),r+=3}}));var a=Ot(r?Et(t):t,-n);return new Ct(a.length?this.local.concat(a).sort(jt):this.local,i||this.children)},Ct.prototype.remove=function(e){return 0==e.length||this==Mt?this:this.removeInner(e,0)},Ct.prototype.removeInner=function(e,t){for(var n=this.children,i=this.local,o=0;o<n.length;o+=3){for(var r=void 0,a=n[o]+t,s=n[o+1]+t,l=0,c=void 0;l<e.length;l++)(c=e[l])&&c.from>a&&c.to<s&&(e[l]=null,(r||(r=[])).push(c));if(r){n==this.children&&(n=this.children.slice());var u=n[o+2].removeInner(r,a+1);u!=Mt?n[o+2]=u:(n.splice(o,3),o-=3)}}if(i.length)for(var d=0,p=void 0;d<e.length;d++)if(p=e[d])for(var h=0;h<i.length;h++)i[h].eq(p,t)&&(i==this.local&&(i=this.local.slice()),i.splice(h--,1));return n==this.children&&i==this.local?this:i.length||n.length?new Ct(i,n):Mt},Ct.prototype.forChild=function(e,t){if(this==Mt)return this;if(t.isLeaf)return Ct.empty;for(var n,i,o=0;o<this.children.length;o+=3)if(this.children[o]>=e){this.children[o]==e&&(n=this.children[o+2]);break}for(var r=e+1,a=r+t.content.size,s=0;s<this.local.length;s++){var l=this.local[s];if(l.from<a&&l.to>r&&l.type instanceof yt){var c=Math.max(r,l.from)-r,u=Math.min(a,l.to)-r;c<u&&(i||(i=[])).push(l.copy(c,u))}}if(i){var d=new Ct(i.sort(jt));return n?new _t([d,n]):d}return n||Mt},Ct.prototype.eq=function(e){if(this==e)return!0;if(!(e instanceof Ct)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(var t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(var n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0},Ct.prototype.locals=function(e){return Rt(this.localsInner(e))},Ct.prototype.localsInner=function(e){if(this==Mt)return St;if(e.inlineContent||!this.local.some(yt.is))return this.local;for(var t=[],n=0;n<this.local.length;n++)this.local[n].type instanceof yt||t.push(this.local[n]);return t};var Mt=new Ct;Ct.empty=Mt,Ct.removeOverlap=Rt;var _t=function(e){this.members=e};function Ot(e,t){if(!t||!e.length)return e;for(var n=[],i=0;i<e.length;i++){var o=e[i];n.push(new xt(o.from+t,o.to+t,o.type))}return n}function Pt(e,t,n){if(t.isLeaf)return null;for(var i=n+t.nodeSize,o=null,r=0,a=void 0;r<e.length;r++)(a=e[r])&&a.from>n&&a.to<i&&((o||(o=[])).push(a),e[r]=null);return o}function Et(e){for(var t=[],n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function Tt(e,t,n,i){var o=[],r=!1;t.forEach((function(t,a){var s=Pt(e,t,a+n);if(s){r=!0;var l=Tt(s,t,n+a+1,i);l!=Mt&&o.push(a,a+t.nodeSize,l)}}));for(var a=Ot(r?Et(e):e,-n).sort(jt),s=0;s<a.length;s++)a[s].type.valid(t,a[s])||(i.onRemove&&i.onRemove(a[s].spec),a.splice(s--,1));return a.length||o.length?new Ct(a,o):Mt}function jt(e,t){return e.from-t.from||e.to-t.to}function Rt(e){for(var t=e,n=0;n<t.length-1;n++){var i=t[n];if(i.from!=i.to)for(var o=n+1;o<t.length;o++){var r=t[o];if(r.from!=i.from){r.from<i.to&&(t==e&&(t=e.slice()),t[n]=i.copy(i.from,r.from),Nt(t,o,i.copy(r.from,i.to)));break}r.to!=i.to&&(t==e&&(t=e.slice()),t[o]=r.copy(r.from,i.to),Nt(t,o+1,r.copy(i.to,r.to)))}}return t}function Nt(e,t,n){for(;t<e.length&&jt(n,e[t])>0;)t++;e.splice(t,0,n)}function At(e){var t=[];return e.someProp("decorations",(function(n){var i=n(e.state);i&&i!=Mt&&t.push(i)})),e.cursorWrapper&&t.push(Ct.create(e.state.doc,[e.cursorWrapper.deco])),_t.from(t)}_t.prototype.forChild=function(e,t){if(t.isLeaf)return Ct.empty;for(var n=[],i=0;i<this.members.length;i++){var o=this.members[i].forChild(e,t);o!=Mt&&(o instanceof _t?n=n.concat(o.members):n.push(o))}return _t.from(n)},_t.prototype.eq=function(e){if(!(e instanceof _t)||e.members.length!=this.members.length)return!1;for(var t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0},_t.prototype.locals=function(e){for(var t,n=!0,i=0;i<this.members.length;i++){var o=this.members[i].localsInner(e);if(o.length)if(t){n&&(t=t.slice(),n=!1);for(var r=0;r<o.length;r++)t.push(o[r])}else t=o}return t?Rt(n?t:t.sort(jt)):St},_t.from=function(e){switch(e.length){case 0:return Mt;case 1:return e[0];default:return new _t(e)}};var Dt=function(e,t){this._props=t,this.state=t.state,this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):e.apply?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Ut(this),this.markCursor=null,this.cursorWrapper=null,Lt(this),this.nodeViews=Ft(this),this.docView=Y(this.state.doc,It(this),At(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,function(e){e.shiftKey=!1,e.mouseDown=null,e.lastKeyCode=null,e.lastKeyCodeTime=0,e.lastClick={time:0,x:0,y:0,type:""},e.lastSelectionOrigin=null,e.lastSelectionTime=0,e.lastIOSEnter=0,e.lastIOSEnterFallbackTimeout=null,e.composing=!1,e.composingTimeout=null,e.compositionNodes=[],e.compositionEndedAt=-2e8,e.domObserver=new $e(e,(function(t,n,r,s){return function(e,t,n,r,s){if(t<0){var l=e.lastSelectionTime>Date.now()-50?e.lastSelectionOrigin:null,c=ue(e,l);if(c&&!e.state.selection.eq(c)){var u=e.state.tr.setSelection(c);"pointer"==l?u.setMeta("pointer",!0):"key"==l&&u.scrollIntoView(),e.dispatch(u)}}else{var d=e.state.doc.resolve(t),p=d.sharedDepth(n);t=d.before(p+1),n=e.state.doc.resolve(n).after(p+1);var h,f,m=e.state.selection,v=function(e,t,n){var i=e.docView.parseRange(t,n),r=i.node,s=i.fromOffset,l=i.toOffset,c=i.from,u=i.to,d=e.root.getSelection(),p=null,h=d.anchorNode;if(h&&e.dom.contains(1==h.nodeType?h:h.parentNode)&&(p=[{node:h,offset:d.anchorOffset}],w(d)||p.push({node:d.focusNode,offset:d.focusOffset})),a.chrome&&8===e.lastKeyCode)for(var f=l;f>s;f--){var m=r.childNodes[f-1],v=m.pmViewDesc;if("BR"==m.nodeType&&!v){l=f;break}if(!v||v.size)break}var g=e.state.doc,y=e.someProp("domParser")||o.DOMParser.fromSchema(e.state.schema),b=g.resolve(c),x=null,S=y.parse(r,{topNode:b.parent,topMatch:b.parent.contentMatchAt(b.index()),topOpen:!0,from:s,to:l,preserveWhitespace:!b.parent.type.spec.code||"full",editableContent:!0,findPositions:p,ruleFromNode:Re,context:b});if(p&&null!=p[0].pos){var k=p[0].pos,C=p[1]&&p[1].pos;null==C&&(C=k),x={anchor:k+c,head:C+c}}return{doc:S,sel:x,from:c,to:u}}(e,t,n),g=e.state.doc,y=g.slice(v.from,v.to);8===e.lastKeyCode&&Date.now()-100<e.lastKeyCodeTime?(h=e.state.selection.to,f="end"):(h=e.state.selection.from,f="start"),e.lastKeyCode=null;var b=function(e,t,n,i,o){var r=e.findDiffStart(t,n);if(null==r)return null;var a=e.findDiffEnd(t,n+e.size,n+t.size),s=a.a,l=a.b;return"end"==o&&(i-=s+Math.max(0,r-Math.min(s,l))-r),s<r&&e.size<t.size?(l=(r-=i<=r&&i>=s?r-i:0)+(l-s),s=r):l<r&&(s=(r-=i<=r&&i>=l?r-i:0)+(s-l),l=r),{start:r,endA:s,endB:l}}(y.content,v.doc.content,v.from,h,f);if(!b){if(!(r&&m instanceof i.TextSelection&&!m.empty&&m.$head.sameParent(m.$anchor))||e.composing||v.sel&&v.sel.anchor!=v.sel.head){if(v.sel){var x=Ne(e,e.state.doc,v.sel);x&&!x.eq(e.state.selection)&&e.dispatch(e.state.tr.setSelection(x))}return}b={start:m.from,endA:m.to,endB:m.to}}e.domChangeCount++,e.state.selection.from<e.state.selection.to&&b.start==b.endB&&e.state.selection instanceof i.TextSelection&&(b.start>e.state.selection.from&&b.start<=e.state.selection.from+2?b.start=e.state.selection.from:b.endA<e.state.selection.to&&b.endA>=e.state.selection.to-2&&(b.endB+=e.state.selection.to-b.endA,b.endA=e.state.selection.to)),a.ie&&a.ie_version<=11&&b.endB==b.start+1&&b.endA==b.start&&b.start>v.from&&" \xa0"==v.doc.textBetween(b.start-v.from-1,b.start-v.from+1)&&(b.start--,b.endA--,b.endB--);var k,C=v.doc.resolveNoCache(b.start-v.from),M=v.doc.resolveNoCache(b.endB-v.from),_=C.sameParent(M)&&C.parent.inlineContent;if((a.ios&&e.lastIOSEnter>Date.now()-225&&(!_||s.some((function(e){return"DIV"==e.nodeName||"P"==e.nodeName})))||!_&&C.pos<v.doc.content.size&&(k=i.Selection.findFrom(v.doc.resolve(C.pos+1),1,!0))&&k.head==M.pos)&&e.someProp("handleKeyDown",(function(t){return t(e,S(13,"Enter"))})))e.lastIOSEnter=0;else if(e.state.selection.anchor>b.start&&function(e,t,n,i,o){if(!i.parent.isTextblock||n-t<=o.pos-i.pos||Ae(i,!0,!1)<o.pos)return!1;var r=e.resolve(t);if(r.parentOffset<r.parent.content.size||!r.parent.isTextblock)return!1;var a=e.resolve(Ae(r,!0,!0));return!(!a.parent.isTextblock||a.pos>n||Ae(a,!0,!1)<n)&&i.parent.content.cut(i.parentOffset).eq(a.parent.content)}(g,b.start,b.endA,C,M)&&e.someProp("handleKeyDown",(function(t){return t(e,S(8,"Backspace"))})))a.android&&a.chrome&&e.domObserver.suppressSelectionUpdates();else{a.android&&!_&&C.start()!=M.start()&&0==M.parentOffset&&C.depth==M.depth&&v.sel&&v.sel.anchor==v.sel.head&&v.sel.head==b.endA&&(b.endB-=2,M=v.doc.resolveNoCache(b.endB-v.from),setTimeout((function(){e.someProp("handleKeyDown",(function(t){return t(e,S(13,"Enter"))}))}),20));var O,P,E,T,j=b.start,R=b.endA;if(_)if(C.pos==M.pos)a.ie&&a.ie_version<=11&&0==C.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout((function(){return de(e)}),20)),O=e.state.tr.delete(j,R),P=g.resolve(b.start).marksAcross(g.resolve(b.endA));else if(b.endA==b.endB&&(T=g.resolve(b.start))&&(E=function(e,t){for(var n,i,r,a=e.firstChild.marks,s=t.firstChild.marks,l=a,c=s,u=0;u<s.length;u++)l=s[u].removeFromSet(l);for(var d=0;d<a.length;d++)c=a[d].removeFromSet(c);if(1==l.length&&0==c.length)i=l[0],n="add",r=function(e){return e.mark(i.addToSet(e.marks))};else{if(0!=l.length||1!=c.length)return null;i=c[0],n="remove",r=function(e){return e.mark(i.removeFromSet(e.marks))}}for(var p=[],h=0;h<t.childCount;h++)p.push(r(t.child(h)));if(o.Fragment.from(p).eq(e))return{mark:i,type:n}}(C.parent.content.cut(C.parentOffset,M.parentOffset),T.parent.content.cut(T.parentOffset,b.endA-T.start()))))O=e.state.tr,"add"==E.type?O.addMark(j,R,E.mark):O.removeMark(j,R,E.mark);else if(C.parent.child(C.index()).isText&&C.index()==M.index()-(M.textOffset?0:1)){var N=C.parent.textBetween(C.parentOffset,M.parentOffset);if(e.someProp("handleTextInput",(function(t){return t(e,j,R,N)})))return;O=e.state.tr.insertText(N,j,R)}if(O||(O=e.state.tr.replace(j,R,v.doc.slice(b.start-v.from,b.endB-v.from))),v.sel){var A=Ne(e,O.doc,v.sel);A&&!(a.chrome&&a.android&&e.composing&&A.empty&&(A.head==j||A.head==O.mapping.map(R)-1)||a.ie&&A.empty&&A.head==j)&&O.setSelection(A)}P&&O.ensureMarks(P),e.dispatch(O.scrollIntoView())}}}(e,t,n,r,s)})),e.domObserver.start(),e.domChangeCount=0,e.eventHandlers=Object.create(null);var t=function(t){var n=Ge[t];e.dom.addEventListener(t,e.eventHandlers[t]=function(t){!function(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(var n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}(e,t)||Je(e,t)||!e.editable&&t.type in qe||n(e,t)})};for(var n in Ge)t(n);a.safari&&e.dom.addEventListener("input",(function(){return null})),Xe(e)}(this),this.pluginViews=[],this.updatePluginViews()},Bt={props:{configurable:!0},root:{configurable:!0}};function It(e){var t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",(function(n){if("function"==typeof n&&(n=n(e.state)),n)for(var i in n)"class"==i?t.class+=" "+n[i]:t[i]||"contenteditable"==i||"nodeName"==i||(t[i]=String(n[i]))})),[xt.node(0,e.state.doc.content.size,t)]}function Lt(e){if(e.markCursor){var t=document.createElement("img");t.setAttribute("mark-placeholder","true"),e.cursorWrapper={dom:t,deco:xt.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function Ut(e){return!e.someProp("editable",(function(t){return!1===t(e.state)}))}function Ft(e){var t={};return e.someProp("nodeViews",(function(e){for(var n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])})),t}Bt.props.get=function(){if(this._props.state!=this.state){var e=this._props;for(var t in this._props={},e)this._props[t]=e[t];this._props.state=this.state}return this._props},Dt.prototype.update=function(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Xe(this),this._props=e,this.updateStateInner(e.state,!0)},Dt.prototype.setProps=function(e){var t={};for(var n in this._props)t[n]=this._props[n];for(var i in t.state=this.state,e)t[i]=e[i];this.update(t)},Dt.prototype.updateState=function(e){this.updateStateInner(e,this.state.plugins!=e.plugins)},Dt.prototype.updateStateInner=function(e,t){var n=this,o=this.state,r=!1,s=!1;if(e.storedMarks&&this.composing&&(ct(this),s=!0),this.state=e,t){var l=Ft(this);(function(e,t){var n=0,i=0;for(var o in e){if(e[o]!=t[o])return!0;n++}for(var r in t)i++;return n!=i})(l,this.nodeViews)&&(this.nodeViews=l,r=!0),Xe(this)}this.editable=Ut(this),Lt(this);var c=At(this),u=It(this),d=t?"reset":e.scrollToSelection>o.scrollToSelection?"to selection":"preserve",p=r||!this.docView.matchesNode(e.doc,u,c);!p&&e.selection.eq(o.selection)||(s=!0);var h,f,m,g,y,b,x,w,S,k="preserve"==d&&s&&null==this.dom.style.overflowAnchor&&function(e){for(var t,n,i=e.dom.getBoundingClientRect(),o=Math.max(0,i.top),r=(i.left+i.right)/2,a=o+1;a<Math.min(innerHeight,i.bottom);a+=5){var s=e.root.elementFromPoint(r,a);if(s!=e.dom&&e.dom.contains(s)){var l=s.getBoundingClientRect();if(l.top>=o-20){t=s,n=l.top;break}}}return{refDOM:t,refTop:n,stack:O(e.dom)}}(this);if(s){this.domObserver.stop();var C=p&&(a.ie||a.chrome)&&!this.composing&&!o.selection.empty&&!e.selection.empty&&(m=o.selection,g=e.selection,y=Math.min(m.$anchor.sharedDepth(m.head),g.$anchor.sharedDepth(g.head)),m.$anchor.start(y)!=g.$anchor.start(y));if(p){var M=a.chrome?this.trackWrites=this.root.getSelection().focusNode:null;!r&&this.docView.update(e.doc,u,c,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=Y(e.doc,u,c,this.dom,this)),M&&!this.trackWrites&&(C=!0)}C||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&(this,h=this.docView.domFromPos(this.state.selection.anchor),f=this.root.getSelection(),v(h.node,h.offset,f.anchorNode,f.anchorOffset)))?de(this,C):(ve(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(o),"reset"==d)this.dom.scrollTop=0;else if("to selection"==d){var E=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",(function(e){return e(n)}))||(e.selection instanceof i.NodeSelection?_(this,this.docView.domAfterPos(e.selection.from).getBoundingClientRect(),E):_(this,this.coordsAtPos(e.selection.head,1),E))}else k&&(x=(b=k).refDOM,w=b.refTop,P(b.stack,0==(S=x?x.getBoundingClientRect().top:0)?0:S-w))},Dt.prototype.destroyPluginViews=function(){for(var e;e=this.pluginViews.pop();)e.destroy&&e.destroy()},Dt.prototype.updatePluginViews=function(e){if(e&&e.plugins==this.state.plugins)for(var t=0;t<this.pluginViews.length;t++){var n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.destroyPluginViews();for(var i=0;i<this.state.plugins.length;i++){var o=this.state.plugins[i];o.spec.view&&this.pluginViews.push(o.spec.view(this))}}},Dt.prototype.someProp=function(e,t){var n,i=this._props&&this._props[e];if(null!=i&&(n=t?t(i):i))return n;var o=this.state.plugins;if(o)for(var r=0;r<o.length;r++){var a=o[r].props[e];if(null!=a&&(n=t?t(a):a))return n}},Dt.prototype.hasFocus=function(){return this.root.activeElement==this.dom},Dt.prototype.focus=function(){this.domObserver.stop(),this.editable&&function(e){if(e.setActive)return e.setActive();if(E)return e.focus(E);var t=O(e);e.focus(null==E?{get preventScroll(){return E={preventScroll:!0},!0}}:void 0),E||(E=!1,P(t,0))}(this.dom),de(this),this.domObserver.start()},Bt.root.get=function(){var e=this._root;if(null==e)for(var t=this.dom.parentNode;t;t=t.parentNode)if(9==t.nodeType||11==t.nodeType&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=function(){return document.getSelection()}),this._root=t;return e||document},Dt.prototype.posAtCoords=function(e){return j(this,e)},Dt.prototype.coordsAtPos=function(e,t){return void 0===t&&(t=1),A(this,e,t)},Dt.prototype.domAtPos=function(e){return this.docView.domFromPos(e)},Dt.prototype.nodeDOM=function(e){var t=this.docView.descAt(e);return t?t.nodeDOM:null},Dt.prototype.posAtDOM=function(e,t,n){void 0===n&&(n=-1);var i=this.docView.posFromDOM(e,t,n);if(null==i)throw new RangeError("DOM position not inside the editor");return i},Dt.prototype.endOfTextblock=function(e,t){return function(e,t,n){return U==t&&F==n?z:(U=t,F=n,z="up"==n||"down"==n?function(e,t,n){var i=t.selection,o="up"==n?i.$anchor.min(i.$head):i.$anchor.max(i.$head);return I(e,t,(function(){for(var t=e.docView.domFromPos(o.pos).node;;){var i=e.docView.nearestDesc(t,!0);if(!i)break;if(i.node.isBlock){t=i.dom;break}t=i.dom.parentNode}for(var r=A(e,o.pos,1),a=t.firstChild;a;a=a.nextSibling){var s=void 0;if(1==a.nodeType)s=a.getClientRects();else{if(3!=a.nodeType)continue;s=m(a,0,a.nodeValue.length).getClientRects()}for(var l=0;l<s.length;l++){var c=s[l];if(c.bottom>c.top&&("up"==n?c.bottom<r.top+1:c.top>r.bottom-1))return!1}}return!0}))}(e,t,n):function(e,t,n){var i=t.selection.$head;if(!i.parent.isTextblock)return!1;var o=i.parentOffset,r=!o,a=o==i.parent.content.size,s=getSelection();return L.test(i.parent.textContent)&&s.modify?I(e,t,(function(){var t=s.getRangeAt(0),o=s.focusNode,r=s.focusOffset,a=s.caretBidiLevel;s.modify("move",n,"character");var l=!(i.depth?e.docView.domAfterPos(i.before()):e.dom).contains(1==s.focusNode.nodeType?s.focusNode:s.focusNode.parentNode)||o==s.focusNode&&r==s.focusOffset;return s.removeAllRanges(),s.addRange(t),null!=a&&(s.caretBidiLevel=a),l})):"left"==n||"backward"==n?r:a}(e,t,n))}(this,t||this.state,e)},Dt.prototype.destroy=function(){this.docView&&(function(e){for(var t in e.domObserver.stop(),e.eventHandlers)e.dom.removeEventListener(t,e.eventHandlers[t]);clearTimeout(e.composingTimeout),clearTimeout(e.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],At(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},Dt.prototype.dispatchEvent=function(e){return function(e,t){Je(e,t)||!Ge[t.type]||!e.editable&&t.type in qe||Ge[t.type](e,t)}(this,e)},Dt.prototype.dispatch=function(e){var t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))},Object.defineProperties(Dt.prototype,Bt)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sinkListItem=t.liftListItem=t.splitListItem=t.wrapInList=void 0;const i=n(5),o=n(1);t.wrapInList=function(e,t){return(n,r)=>{const{$from:a,$to:s}=n.selection;let l=a.blockRange(s),c=!1,u=l;if(!l)return!1;if(l.depth>=2&&a.node(l.depth-1).type.compatibleContent(e)&&0===l.startIndex){if(0===a.index(l.depth-1))return!1;const e=n.doc.resolve(l.start-2);u=new o.NodeRange(e,e,l.depth),l.endIndex<l.parent.childCount&&(l=new o.NodeRange(a,n.doc.resolve(s.end(l.depth)),l.depth)),c=!0}const d=i.findWrapping(u,e,t,l);return!!d&&(r&&r(function(e,t,n,r,a){let s=o.Fragment.empty;for(let i=n.length-1;i>=0;i--)s=o.Fragment.from(n[i].type.create(n[i].attrs,s));e.step(new i.ReplaceAroundStep(t.start-(r?2:0),t.end,t.start,t.end,new o.Slice(s,0,0),n.length,!0));let l=0;for(let i=0;i<n.length;i++)n[i].type===a&&(l=i+1);const c=n.length-l;let u=t.start+n.length-(r?2:0),d=t.parent;for(let o=t.startIndex,p=t.endIndex,h=!0;o<p;o++,h=!1)!h&&i.canSplit(e.doc,u,c)&&(e.split(u,c),u+=2*c),u+=d.child(o).nodeSize;return e}(n.tr,l,d,c,e).scrollIntoView()),!0)}},t.splitListItem=function(e){return(t,n)=>{const{$from:r,$to:a,node:s}=t.selection;if(s&&s.isBlock||r.depth<2||!r.sameParent(a))return!1;const l=r.node(-1);if(l.type!==e)return!1;if(0===r.parent.content.size){if(2===r.depth||r.node(-3).type!==e||r.index(-2)!==r.node(-2).childCount-1)return!1;if(n){let i=o.Fragment.empty,a=r.index(-1)>0;for(let e=r.depth-(a?1:2);e>=r.depth-3;e--)i=o.Fragment.from(r.node(e).copy(i));i=i.append(o.Fragment.from(e.createAndFill()));const s=t.tr.replace(r.before(a?null:-1),r.after(-3),new o.Slice(i,a?3:2,2));s.setSelection(t.selection.constructor.near(s.doc.resolve(r.pos+(a?3:2)))),n(s.scrollIntoView())}return!0}const c=a.pos===r.end()?l.contentMatchAt(r.indexAfter(-1)).defaultType:null,u=t.tr.delete(r.pos,a.pos),d=c&&[null,{type:c}];return!!i.canSplit(u.doc,r.pos,2,d)&&(n&&n(u.split(r.pos,2,d).scrollIntoView()),!0)}},t.liftListItem=function(e){return(t,n)=>{const{$from:r,$to:a}=t.selection,s=r.blockRange(a,t=>t.childCount&&t.firstChild.type===e);return!!s&&(!n||(r.node(s.depth-1).type===e?function(e,t,n,r){const a=e.tr,s=r.end,l=r.$to.end(r.depth);return s<l&&(a.step(new i.ReplaceAroundStep(s-1,l,s,l,new o.Slice(o.Fragment.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new o.NodeRange(a.doc.resolve(r.$from.pos),a.doc.resolve(l),r.depth)),t(a.lift(r,i.liftTarget(r)).scrollIntoView()),!0}(t,n,e,s):function(e,t,n){const r=e.tr,a=n.parent;for(let i=n.end,o=n.endIndex-1,m=n.startIndex;o>m;o--)i-=a.child(o).nodeSize,r.delete(i-1,i+1);const s=r.doc.resolve(n.start),l=s.nodeAfter,c=0===n.startIndex,u=n.endIndex===a.childCount,d=s.node(-1),p=s.index(-1);if(!d.canReplace(p+(c?0:1),p+1,l.content.append(u?o.Fragment.empty:o.Fragment.from(a))))return!1;const h=s.pos,f=h+l.nodeSize;return r.step(new i.ReplaceAroundStep(h-(c?1:0),f+(u?1:0),h+1,f-1,new o.Slice((c?o.Fragment.empty:o.Fragment.from(a.copy(o.Fragment.empty))).append(u?o.Fragment.empty:o.Fragment.from(a.copy(o.Fragment.empty))),c?0:1,u?0:1),c?0:1)),t(r.scrollIntoView()),!0}(t,n,s)))}},t.sinkListItem=function(e){return function(t,n){const{$from:r,$to:a}=t.selection,s=r.blockRange(a,t=>t.childCount&&t.firstChild.type===e);if(!s)return!1;const l=s.startIndex;if(0===l)return!1;const c=s.parent,u=c.child(l-1);if(u.type!==e)return!1;if(n){const r=u.lastChild&&u.lastChild.type===c.type,a=o.Fragment.from(r?e.create():null),l=new o.Slice(o.Fragment.from(e.create(null,o.Fragment.from(c.copy(a)))),r?3:1,0),d=s.start,p=s.end;n(t.tr.step(new i.ReplaceAroundStep(d-(r?3:1),p,d,p,l,1,!0)).scrollIntoView())}return!0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildKeymap=void 0;const i=n(303),o=n(304),r=n(308),a=n(985),s="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);t.buildKeymap=function(e,t){let n,l={};function c(e,n){if(t){const n=t[e];if(!1===n)return;n&&(e=n)}l[e]=n}if(c("Mod-z",r.undo),c("Shift-Mod-z",r.redo),c("Backspace",a.undoInputRule),s||c("Mod-y",r.redo),c("Alt-ArrowUp",i.joinUp),c("Alt-ArrowDown",i.joinDown),c("Mod-BracketLeft",i.lift),c("Escape",i.selectParentNode),(n=e.marks.bold)&&c("Mod-b",i.toggleMark(n)),(n=e.marks.italic)&&c("Mod-i",i.toggleMark(n)),(n=e.marks.code)&&c("Mod-`",i.toggleMark(n)),(n=e.nodes.bullet_list)&&c("Shift-Ctrl-8",o.wrapInList(n)),(n=e.nodes.ordered_list)&&c("Shift-Ctrl-9",o.wrapInList(n)),(n=e.nodes.blockquote)&&c("Ctrl->",i.wrapIn(n)),n=e.nodes.break){const t=n,o=i.chainCommands(i.exitCode,(n,i)=>{const{$cursor:o}=n.selection;if(o)return o.nodeBefore&&"break"===o.nodeBefore.type.name?i(n.tr.delete(o.pos-1,o.pos).replaceSelectionWith(e.nodes.paragraph.create()).scrollIntoView()):i(n.tr.replaceSelectionWith(t.create()).scrollIntoView()),!0});c("Mod-Enter",o),c("Shift-Enter",o),c("Ctrl-Enter",o)}if((n=e.nodes.list_item)&&(c("Enter",o.splitListItem(n)),c("Mod-[",o.liftListItem(n)),c("Mod-]",o.sinkListItem(n))),(n=e.nodes.paragraph)&&c("Shift-Ctrl-0",i.setBlockType(n)),(n=e.nodes.code_block)&&c("Shift-Ctrl-\\",i.setBlockType(n)),n=e.nodes.heading)for(let o=1;o<=6;o++)c("Shift-Ctrl-"+o,i.setBlockType(n,{level:o}));if(n=e.nodes.horizontal_rule){const e=n;c("Mod-_",(t,n)=>(n(t.tr.replaceSelectionWith(e.create()).scrollIntoView()),!0))}return l}},function(e,t,n){"use strict";n.r(t),n.d(t,"InputRule",(function(){return r})),n.d(t,"closeDoubleQuote",(function(){return p})),n.d(t,"closeSingleQuote",(function(){return f})),n.d(t,"ellipsis",(function(){return u})),n.d(t,"emDash",(function(){return c})),n.d(t,"inputRules",(function(){return a})),n.d(t,"openDoubleQuote",(function(){return d})),n.d(t,"openSingleQuote",(function(){return h})),n.d(t,"smartQuotes",(function(){return m})),n.d(t,"textblockTypeInputRule",(function(){return g})),n.d(t,"undoInputRule",(function(){return l})),n.d(t,"wrappingInputRule",(function(){return v}));var i=n(3),o=n(5),r=function(e,t){var n;this.match=e,this.handler="string"==typeof t?(n=t,function(e,t,i,o){var r=n;if(t[1]){var a=t[0].lastIndexOf(t[1]);r+=t[0].slice(a+t[1].length);var s=(i+=a)-o;s>0&&(r=t[0].slice(a-s,a)+r,i=o)}return e.tr.insertText(r,i,o)}):t};function a(e){var t=e.rules,n=new i.Plugin({state:{init:function(){return null},apply:function(e,t){return e.getMeta(this)||(e.selectionSet||e.docChanged?null:t)}},props:{handleTextInput:function(e,i,o,r){return s(e,i,o,r,t,n)},handleDOMEvents:{compositionend:function(e){setTimeout((function(){var i=e.state.selection.$cursor;i&&s(e,i.pos,i.pos,"",t,n)}))}}},isInputRules:!0});return n}function s(e,t,n,i,o,r){if(e.composing)return!1;var a=e.state,s=a.doc.resolve(t);if(s.parent.type.spec.code)return!1;for(var l=s.parent.textBetween(Math.max(0,s.parentOffset-500),s.parentOffset,null,"\ufffc")+i,c=0;c<o.length;c++){var u=o[c].match.exec(l),d=u&&o[c].handler(a,u,t-(u[0].length-i.length),n);if(d)return e.dispatch(d.setMeta(r,{transform:d,from:t,to:n,text:i})),!0}return!1}function l(e,t){for(var n=e.plugins,i=0;i<n.length;i++){var o=n[i],r=void 0;if(o.spec.isInputRules&&(r=o.getState(e))){if(t){for(var a=e.tr,s=r.transform,l=s.steps.length-1;l>=0;l--)a.step(s.steps[l].invert(s.docs[l]));if(r.text){var c=a.doc.resolve(r.from).marks();a.replaceWith(r.from,r.to,e.schema.text(r.text,c))}else a.delete(r.from,r.to);t(a)}return!0}}return!1}var c=new r(/--$/,"\u2014"),u=new r(/\.\.\.$/,"\u2026"),d=new r(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"\u201c"),p=new r(/"$/,"\u201d"),h=new r(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"\u2018"),f=new r(/'$/,"\u2019"),m=[d,p,h,f];function v(e,t,n,i){return new r(e,(function(e,r,a,s){var l=n instanceof Function?n(r):n,c=e.tr.delete(a,s),u=c.doc.resolve(a).blockRange(),d=u&&Object(o.findWrapping)(u,t,l);if(!d)return null;c.wrap(u,d);var p=c.doc.resolve(a-1).nodeBefore;return p&&p.type==t&&Object(o.canJoin)(c.doc,a-1)&&(!i||i(r,p))&&c.join(a-1),c}))}function g(e,t,n){return new r(e,(function(e,i,o,r){var a=e.doc.resolve(o),s=n instanceof Function?n(i):n;return a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),t)?e.tr.delete(o,r).setBlockType(o,o,t,s):null}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SchemaBuilder=void 0;const i=n(1);t.SchemaBuilder=class{setupBlock(e){return{group:"block",content:"inline*",attrs:{id:{default:null},className:{default:null},styles:{default:null}},toDOM:t=>{var n,i;const o={};return(null===(n=t.attrs)||void 0===n?void 0:n.id)&&(o.id=t.attrs.id),(null===(i=t.attrs)||void 0===i?void 0:i.className)&&(o.class=t.attrs.className),[e,o,0]},parseDOM:[{tag:e}]}}setupHeading(e){const t=this.setupBlock(e);return t.parseDOM=[{tag:e,getAttrs:e=>({id:e.hasAttribute("id")?e.getAttribute("id"):null})}],t}build(){const e={text:{group:"inline"},paragraph:this.setupBlock("p"),formatted:this.setupBlock("pre"),ordered_list:{content:"list_item+",group:"block",attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs:e=>({order:e.hasAttribute("start")?+e.getAttribute("start"):1})}],toDOM:e=>1===e.attrs.order?["ol",0]:["ol",{start:e.attrs.order},0]},bulleted_list:{content:"list_item+",group:"block",attrs:{className:{default:null},styles:{default:null}},parseDOM:[{tag:"ul"}],toDOM:e=>{const t={};return e.attrs.className&&(t.class=e.attrs.className),["ul",t,0]}},list_item:{content:"paragraph block*",parseDOM:[{tag:"li"}],toDOM:()=>["li",0],defining:!0},heading1:this.setupHeading("h1"),heading2:this.setupHeading("h2"),heading3:this.setupHeading("h3"),heading4:this.setupHeading("h4"),heading5:this.setupHeading("h5"),heading6:this.setupHeading("h6"),quote:this.setupBlock("blockquote"),break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:()=>["br"]},doc:{content:"block+"}};return new i.Schema({nodes:e,marks:{bold:{toDOM:()=>["b"],parseDOM:[{tag:"b"}]},italic:{toDOM:()=>["i"],parseDOM:[{tag:"i"}]},underlined:{toDOM:()=>["u"],parseDOM:[{tag:"u"}]},highlighted:{toDOM:()=>["mark"],parseDOM:[{tag:"mark"}]},striked:{toDOM:()=>["strike"],parseDOM:[{tag:"strike"}]},code:{toDOM:()=>["code"],parseDOM:[{tag:"code"}]},color:{attrs:{colorKey:{},colorClass:{}},toDOM:e=>["span",{class:e.attrs.colorClass}]},hyperlink:{attrs:{href:{default:void 0},anchor:{default:void 0},anchorName:{default:void 0},targetKey:{default:void 0},target:{default:void 0},download:{default:void 0}},toDOM:e=>["a",{href:`${e.attrs.href}${e.attrs.anchor?"#"+e.attrs.anchor:""}`,target:e.attrs.target,download:e.attrs.download}],parseDOM:[{tag:"a",getAttrs:e=>({href:e.href})}],inclusive:!1}}})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OfflineModule=void 0;const i=n(23),o=n(988),r=n(989),a=n(990);t.OfflineModule=class{constructor(e){this.options=e,this.register=this.register.bind(this)}register(e){var t;(null===(t=this.options)||void 0===t?void 0:t.autosave)||e.bindToCollection("trayCommands",a.SaveChangesToolButton),e.bindToCollection("trayCommands",o.UndoToolButton),e.bindToCollection("trayCommands",r.RedoToolButton),e.bindSingleton("offlineObjectStorage",i.OfflineObjectStorage);const n=e.resolve("objectStorage");e.bindSingletonFactory("objectStorage",e=>{var t;const i=e.resolve("offlineObjectStorage");return i.setRemoteObjectStorage(n),i.autosave=!!(null===(t=this.options)||void 0===t?void 0:t.autosave),i}),e.bindToCollection("autostart",i.SavingHandler),e.bindToCollection("autostart",i.LoadingHandler)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UndoToolButton=void 0;const i=n(0);t.UndoToolButton=class{constructor(e,t){this.eventManager=e,this.offlineObjectStorage=t,this.iconClass="paperbits-icon paperbits-undo-25",this.title="Undo",this.tooltip='<h1>Undo</h1><p>Undo last action.</p><div class="subtle">(Ctrl+Z)</div>',this.disabled=i.observable(!0),this.eventManager.addEventListener("onDataChange",this.onDataChange.bind(this))}onDataChange(){this.disabled(!this.offlineObjectStorage.canUndo())}onActivate(){this.eventManager.dispatchEvent("onUndo")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RedoToolButton=void 0;const i=n(0);t.RedoToolButton=class{constructor(e,t){this.eventManager=e,this.offlineObjectStorage=t,this.iconClass="paperbits-icon paperbits-redo-26",this.title="Redo",this.tooltip='<h1>Redo</h1><p>Redo last undone action.</p><div class="subtle">(Ctrl+Y)</div>',this.disabled=i.observable(!0),this.eventManager.addEventListener("onDataChange",this.onDataChange.bind(this))}onDataChange(){this.disabled(!this.offlineObjectStorage.canRedo())}onActivate(){this.eventManager.dispatchEvent("onRedo")}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SaveChangesToolButton=void 0;const o=n(0);t.SaveChangesToolButton=class{constructor(e,t,n){this.eventManager=e,this.offlineObjectStorage=t,this.logger=n,this.iconClass="paperbits-icon paperbits-floppy-disk",this.title="Save changes",this.tooltip='<h1>Save changes</h1><p>Push your changes to the storage.</p><div class="subtle">(Ctrl+S)</div>',this.disabled=o.observable(!0),this.eventManager.addEventListener("onDataChange",this.updateState.bind(this)),this.updateState()}updateState(){return i(this,void 0,void 0,(function*(){const e=yield this.offlineObjectStorage.hasUnsavedChanges();this.disabled(!e)}))}onActivate(){this.logger.trackEvent("Click: Save changes"),this.eventManager.dispatchEvent("onSaveChanges")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DemoDesignModule=void 0;const i=n(992),o=n(994),r=n(997),a=n(1004),s=n(1005),l=n(1006),c=n(1007),u=n(136);t.DemoDesignModule=class{register(e){e.bindSingleton("app",i.App),e.bindSingleton("blobStorage",s.StaticBlobStorage),e.bindSingleton("roleService",l.StaticRoleService),e.bindSingleton("objectStorage",a.StaticObjectStorage),e.bindToCollection("autostart",u.HistoryRouteHandler),e.bindSingleton("logger",o.ConsoleLogger),e.bindModule(new r.SearchDesignModule),e.bindModule(new c.ClickCounterEditorModule)}}},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;const a=n(993),s=n(2);let l=class{constructor(e,t){this.logger=e,this.viewManager=t}initialize(){return r(this,void 0,void 0,(function*(){this.viewManager.setHost({name:"page-host"}),this.viewManager.showToolboxes(),this.logger.trackEvent("Startup",{message:"App started."})}))}};i([s.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],l.prototype,"initialize",null),l=i([s.Component({selector:"app",template:a.default}),o("design:paramtypes",[Object,Object])],l),t.App=l},function(e,t,n){"use strict";n.r(t),t.default="<view-manager></view-manager>"},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(995),t),o(n(996),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ConsoleLogger=void 0,t.ConsoleLogger=class{trackSession(e){return i(this,void 0,void 0,(function*(){this.trackEvent("Session started.",e)}))}trackEvent(e,t){return i(this,void 0,void 0,(function*(){console.info(""+e,t?JSON.stringify(t):void 0)}))}trackError(e){return i(this,void 0,void 0,(function*(){console.error(null==e?void 0:e.message)}))}trackView(e,t){return i(this,void 0,void 0,(function*(){console.info("View: "+e,t?JSON.stringify(t):void 0)}))}trackMetric(e,t){return i(this,void 0,void 0,(function*(){console.info("Metric: "+e,t?JSON.stringify(t):void 0)}))}trackDependency(e,t){return i(this,void 0,void 0,(function*(){console.info("Invoking dependency: "+e,t?JSON.stringify(t):void 0)}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SearchDesignModule=void 0;const i=n(305),o=n(998),r=n(1001);t.SearchDesignModule=class{register(e){e.bind("search",o.SearchViewModel),e.bindToCollection("modelBinders",r.SearchModelBinder),e.bindToCollection("viewModelBinders",o.SearchViewModelBinder),e.bindToCollection("widgetHandlers",i.SearchHandlers)}}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(306),t),o(n(1e3),t)},function(e,t,n){"use strict";n.r(t),t.default='<search-runtime class="block"></search-runtime>'},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SearchViewModelBinder=void 0;const o=n(306),r=n(108);t.SearchViewModelBinder=class{constructor(e){this.eventManager=e}modelToViewModel(e,t,n){return i(this,void 0,void 0,(function*(){if(!t){t=new o.SearchViewModel;const r={name:"search",displayName:"Search website",readonly:!!n&&n.readonly,model:e,draggable:!0,applyChanges:o=>i(this,void 0,void 0,(function*(){yield this.modelToViewModel(e,t,n),this.eventManager.dispatchEvent("onContentUpdate")}))};t.widgetBinding=r}return t}))}canHandleModel(e){return e instanceof r.SearchModel}}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(1002),t),o(n(305),t),o(n(108),t),o(n(1003),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SearchModelBinder=void 0;const o=n(108);t.SearchModelBinder=class{constructor(){this.contractToModel=this.contractToModel.bind(this)}canHandleContract(e){return"search"===e.type}canHandleModel(e){return e instanceof o.SearchModel}contractToModel(e){return i(this,void 0,void 0,(function*(){return new o.SearchModel}))}modelToContract(e){return{type:"search"}}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.StaticObjectStorage=void 0;const o=n(85),r=n(282),a=n(30),s=n(23);t.StaticObjectStorage=class{constructor(e){this.httpClient=e,this.splitter="/"}getData(){return i(this,void 0,void 0,(function*(){return this.loadDataPromise||(this.loadDataPromise=new Promise(e=>i(this,void 0,void 0,(function*(){const t=yield this.httpClient.send({url:"/data/demo.json",method:"GET"});this.storageDataObject=t.toObject(),e(this.storageDataObject)})))),this.loadDataPromise}))}addObject(e,t){return i(this,void 0,void 0,(function*(){if(e){const n=e.split(this.splitter),i=n[0];1===n.length||2===n.length&&!n[1]?this.storageDataObject[i]=t:(o.has(this.storageDataObject,i)||(this.storageDataObject[i]={}),this.storageDataObject[i][n[1]]=t)}else Object.keys(t).forEach(e=>{const n=t[e],i=e.split(this.splitter),r=i[0];1===i.length||2===i.length&&!i[1]?this.storageDataObject[r]=n:(o.has(this.storageDataObject,r)||(this.storageDataObject[r]={}),this.storageDataObject[r][i[1]]=n)})}))}getObject(e){return i(this,void 0,void 0,(function*(){const t=yield this.getData();return a.getObjectAt(e,a.clone(t))}))}deleteObject(e){return i(this,void 0,void 0,(function*(){e&&a.deleteNodeAt(e,this.storageDataObject)}))}updateObject(e,t){return i(this,void 0,void 0,(function*(){if(!e)return;const n=a.clone(t);a.setValue(e,this.storageDataObject,n),a.cleanupObject(n)}))}searchObjects(e,t){return i(this,void 0,void 0,(function*(){const n=yield this.getData();if(!n)return{value:[]};const i=a.getObjectAt(e,n);if(!i)return{value:[]};let o=Object.values(i);if(t&&(t.filters.length>0&&(o=o.filter(e=>{let n=!0;for(const i of t.filters){let t=a.getObjectAt(i.left,e),o=i.right;if(void 0!==t)switch("string"==typeof t&&(t=t.toUpperCase()),"string"==typeof o&&(o=o.toUpperCase()),i.operator){case s.Operator.contains:t&&!t.includes(o)&&(n=!1);break;case s.Operator.equals:t!==o&&(n=!1);break;default:throw new Error("Cannot translate operator into Firebase Realtime Database query.")}else n=!1}return n})),t.orderingBy)){const e=t.orderingBy;o=o.sort((n,i)=>{const o=a.getObjectAt(e,n),r=a.getObjectAt(e,i),l=t.orderDirection===s.OrderDirection.accending?1:-1;return o>r?l:o<r?-l:0})}const r=o.slice(0,20);return new l(r,o,20)}))}saveChanges(e){return i(this,void 0,void 0,(function*(){const t=[],n=[];Object.keys(e).map(t=>{const i=e[t];Object.keys(i).forEach(e=>{n.push(`${t}/${e}`)})}),n.forEach(n=>{const i=a.getObjectAt(n,e);i?t.push(this.updateObject(n,i)):t.push(this.deleteObject(n))}),yield Promise.all(t);const i=JSON.stringify(this.storageDataObject),o=new Blob([i],{type:"text/plain;charset=utf-8"});r.saveAs(o,"demo.json")}))}loadData(){return i(this,void 0,void 0,(function*(){return new Promise((e,t)=>{const n=document.createElement("input");n.type="file",n.onchange=t=>{const n=t.target.files[0];n||e(void 0);const i=new FileReader;i.readAsText(n,"UTF-8"),i.onload=t=>{const n=t.target.result.toString(),i=n?JSON.parse(n):void 0;this.storageDataObject=i||this.storageDataObject,this.loadDataPromise=new Promise(e=>e(this.storageDataObject)),e(i)}},n.click()})}))}};class l{constructor(e,t,n){this.value=e,this.collection=t,this.skip=n,n>this.collection.length&&(this.takeNext=null)}takePrev(){return i(this,void 0,void 0,(function*(){throw new Error("Not implemented")}))}takeNext(){return i(this,void 0,void 0,(function*(){const e=this.collection.slice(this.skip,this.skip+20),t=this.skip+20;return new l(e,this.collection,t)}))}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.StaticBlobStorage=void 0;const o=n(6);t.StaticBlobStorage=class{constructor(){this.storageDataObject={}}uploadBlob(e,t,n){return i(this,void 0,void 0,(function*(){this.storageDataObject[e]={contentType:n,content:t}}))}getDownloadUrl(e){return i(this,void 0,void 0,(function*(){const t=this.storageDataObject[e];return t?`data:${t.contentType};base64,${o.arrayBufferToBase64(t.content)}`:null}))}deleteBlob(e){return i(this,void 0,void 0,(function*(){delete this.storageDataObject[e]}))}downloadBlob(e){return i(this,void 0,void 0,(function*(){const t=this.storageDataObject[e];return t?t.content:null}))}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.StaticRoleService=void 0;const o=n(58);t.StaticRoleService=class{getRoles(){return i(this,void 0,void 0,(function*(){return[o.BuiltInRoles.everyone,o.BuiltInRoles.anonymous,o.BuiltInRoles.authenticated]}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClickCounterEditorModule=void 0;const i=n(1008),o=n(1012),r=n(1014);t.ClickCounterEditorModule=class{register(e){e.bindModule(new i.ClickCounterModule),e.bind("clickCounterEditor",o.ClickCounterEditor),e.bindToCollection("widgetHandlers",r.ClickCounterHandlers)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClickCounterModule=void 0;const i=n(307),o=n(1010),r=n(1011);t.ClickCounterModule=class{register(e){e.bind("clickCounter",i.ClickCounterViewModel),e.bindToCollection("modelBinders",o.ClickCounterModelBinder),e.bindToCollection("viewModelBinders",r.ClickCounterViewModelBinder)}}},function(e,t,n){"use strict";n.r(t),t.default='<div>\n    <p class="not-configured">\n        This is an example widget that is yet to be implemented. You can use it as a scaffold for your own widget.\n    </p>\n    <p class="not-configured">\n        Please refer to documentation to learn about <a href="https://paperbits.io/wiki/widget-anatomy">\n            widget anatomy</a>.\n    </p>\n\n    <click-counter-runtime class="w-100"></click-counter-runtime> \n</div>'},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ClickCounterModelBinder=void 0;const o=n(109);t.ClickCounterModelBinder=class{canHandleContract(e){return"click-counter"===e.type}canHandleModel(e){return e instanceof o.ClickCounterModel}contractToModel(e){return i(this,void 0,void 0,(function*(){return new o.ClickCounterModel}))}modelToContract(e){return{type:"click-counter"}}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ClickCounterViewModelBinder=void 0;const o=n(307),r=n(109);t.ClickCounterViewModelBinder=class{constructor(e){this.eventManager=e}modelToViewModel(e,t,n){return i(this,void 0,void 0,(function*(){t||(t=new o.ClickCounterViewModel);const r={name:"click-counter",displayName:"Click counter",readonly:!!n&&n.readonly,model:e,draggable:!0,editor:"click-counter-editor",applyChanges:()=>i(this,void 0,void 0,(function*(){yield this.modelToViewModel(e,t,n),this.eventManager.dispatchEvent("onContentUpdate")}))};return t.widgetBinding=r,t}))}canHandleModel(e){return e instanceof r.ClickCounterModel}}},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ClickCounterEditor=void 0;const a=n(0),s=n(1013),l=n(109),c=n(2);let u=class{constructor(){this.initialCount=a.observable("0")}initialize(){return r(this,void 0,void 0,(function*(){this.initialCount.subscribe(this.applyChanges)}))}applyChanges(){this.onChange(this.model)}};i([c.Param(),o("design:type",l.ClickCounterModel)],u.prototype,"model",void 0),i([c.Event(),o("design:type",Function)],u.prototype,"onChange",void 0),i([c.OnMounted(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Promise)],u.prototype,"initialize",null),u=i([c.Component({selector:"click-counter-editor",template:s.default}),o("design:paramtypes",[])],u),t.ClickCounterEditor=u},function(e,t,n){"use strict";n.r(t),t.default='<fieldset class="form" data-bind="scrollable: true">\n    <p>This is your widget editor that is yet to be implemented.</p>\n</fieldset>'},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ClickCounterHandlers=void 0;const o=n(109);t.ClickCounterHandlers=class{getWidgetOrder(){return i(this,void 0,void 0,(function*(){return{name:"clickCounter",displayName:"Click counter",iconClass:"paperbits-puzzle-10",requires:["html","js"],createModel:()=>i(this,void 0,void 0,(function*(){return new o.ClickCounterModel}))}}))}}},,,function(e,t,n){"use strict";n.r(t);var i=n(27),o=Date.now(),r="fnValues"+o,a="fnStyle"+ ++o,s=n(155),l=function(e){return e&&e[s.a]&&e===e[s.a]()},c=/;\n/,u=function(e){"string"==typeof e.style&&(e.style=function(e){for(var t={},n=e.split(c),i=0;i<n.length;i++){var o=(n[i]||"").trim();if(o){var r=o.indexOf(":");if(-1!==r){var a=o.substr(0,r).trim(),s=o.substr(r+1).trim();t[a]=s}}}return t}(e.style))},d=n(11),p="@global",h=function(){function e(e,t,n){for(var o in this.type="global",this.at=p,this.rules=void 0,this.options=void 0,this.key=void 0,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new i.RuleList(Object(d.a)({},n,{parent:this})),t)this.rules.add(o,t[o]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var i=this.rules.add(e,t,n);return this.options.jss.plugins.onProcessRule(i),i},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(){return this.rules.toString()},e}(),f=function(){function e(e,t,n){this.type="global",this.at=p,this.options=void 0,this.rule=void 0,this.isProcessed=!1,this.key=void 0,this.key=e,this.options=n;var i=e.substr("@global ".length);this.rule=n.jss.createRule(i,t,Object(d.a)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),m=/\s*,\s*/g;function v(e,t){for(var n=e.split(m),i="",o=0;o<n.length;o++)i+=t+" "+n[o].trim(),n[o+1]&&(i+=", ");return i}var g=function(e){return e&&"object"==typeof e&&!Array.isArray(e)},y="extendCurrValue"+Date.now();var b=function(){return{onProcessStyle:function(e,t,n){return"extend"in e?function e(t,n,i,o){return void 0===o&&(o={}),function(t,n,i,o){if("string"!=typeof t.extend)if(Array.isArray(t.extend))for(var r=0;r<t.extend.length;r++){var a=t.extend[r];e("string"==typeof a?Object(d.a)({},t,{extend:a}):t.extend[r],n,i,o)}else for(var s in t.extend)"extend"!==s?g(t.extend[s])?(s in o||(o[s]={}),e(t.extend[s],n,i,o[s])):o[s]=t.extend[s]:e(t.extend.extend,n,i,o);else{if(!i)return;var l=i.getRule(t.extend);if(!l)return;if(l===n)return;var c=l.options.parent;c&&e(c.rules.raw[t.extend],n,i,o)}}(t,n,i,o),function(t,n,i,o){for(var r in t)"extend"!==r&&(g(o[r])&&g(t[r])?e(t[r],n,i,o[r]):g(t[r])?o[r]=e(t[r],n,i):o[r]=t[r])}(t,n,i,o),o}(e,t,n):e},onChangeValue:function(e,t,n){if("extend"!==t)return e;if(null==e||!1===e){for(var i in n[y])n.prop(i,null);return n[y]=null,null}if("object"==typeof e){for(var o in e)n.prop(o,e[o]);n[y]=e}return null}}},x=/\s*,\s*/g,w=/&/g,S=/\$([\w-]+)/g,k=function(){function e(e,t){return function(n,i){var o=e.getRule(i)||t&&t.getRule(i);return o?(o=o).selector:i}}function t(e,t){for(var n=t.split(x),i=e.split(x),o="",r=0;r<n.length;r++)for(var a=n[r],s=0;s<i.length;s++){var l=i[s];o&&(o+=", "),o+=-1!==l.indexOf("&")?l.replace(w,a):a+" "+l}return o}function n(e,t,n){if(n)return Object(d.a)({},n,{index:n.index+1});var i=e.options.nestingLevel;i=void 0===i?1:i+1;var o=Object(d.a)({},e.options,{nestingLevel:i,index:t.indexOf(e)+1});return delete o.name,o}return{onProcessStyle:function(i,o,r){if("style"!==o.type)return i;var a,s,l=o,c=l.options.parent;for(var u in i){var p=-1!==u.indexOf("&"),h="@"===u[0];if(p||h){if(a=n(l,c,a),p){var f=t(u,l.selector);s||(s=e(c,r)),f=f.replace(S,s),c.addRule(f,i[u],Object(d.a)({},a,{selector:f}))}else h&&c.addRule(u,{},a).addRule(l.key,i[u],{selector:l.selector});delete i[u]}}return i}}},C=/[A-Z]/g,M=/^ms-/,_={};function O(e){return"-"+e.toLowerCase()}var P=function(e){if(_.hasOwnProperty(e))return _[e];var t=e.replace(C,O);return _[e]=M.test(t)?"-"+t:t};function E(e){var t={};for(var n in e)t[0===n.indexOf("--")?n:P(n)]=e[n];return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(E):t.fallbacks=E(e.fallbacks)),t}var T=i.hasCSSTOMSupport&&CSS?CSS.px:"px",j=i.hasCSSTOMSupport&&CSS?CSS.ms:"ms",R=i.hasCSSTOMSupport&&CSS?CSS.percent:"%";function N(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},i={};for(var o in e)i[o]=e[o],i[o.replace(t,n)]=e[o];return i}var A=N({"animation-delay":j,"animation-duration":j,"background-position":T,"background-position-x":T,"background-position-y":T,"background-size":T,border:T,"border-bottom":T,"border-bottom-left-radius":T,"border-bottom-right-radius":T,"border-bottom-width":T,"border-left":T,"border-left-width":T,"border-radius":T,"border-right":T,"border-right-width":T,"border-top":T,"border-top-left-radius":T,"border-top-right-radius":T,"border-top-width":T,"border-width":T,margin:T,"margin-bottom":T,"margin-left":T,"margin-right":T,"margin-top":T,padding:T,"padding-bottom":T,"padding-left":T,"padding-right":T,"padding-top":T,"mask-position-x":T,"mask-position-y":T,"mask-size":T,height:T,width:T,"min-height":T,"max-height":T,"min-width":T,"max-width":T,bottom:T,left:T,top:T,right:T,"box-shadow":T,"text-shadow":T,"column-gap":T,"column-rule":T,"column-rule-width":T,"column-width":T,"font-size":T,"font-size-delta":T,"letter-spacing":T,"text-indent":T,"text-stroke":T,"text-stroke-width":T,"word-spacing":T,motion:T,"motion-offset":T,outline:T,"outline-offset":T,"outline-width":T,perspective:T,"perspective-origin-x":R,"perspective-origin-y":R,"transform-origin":R,"transform-origin-x":R,"transform-origin-y":R,"transform-origin-z":R,"transition-delay":j,"transition-duration":j,"vertical-align":T,"flex-basis":T,"shape-margin":T,size:T,grid:T,"grid-gap":T,"grid-row-gap":T,"grid-column-gap":T,"grid-template-rows":T,"grid-template-columns":T,"grid-auto-rows":T,"grid-auto-columns":T,"box-shadow-x":T,"box-shadow-y":T,"box-shadow-blur":T,"box-shadow-spread":T,"font-line-height":T,"text-shadow-x":T,"text-shadow-y":T,"text-shadow-blur":T});function D(e,t,n){if(!t)return t;if(Array.isArray(t))for(var i=0;i<t.length;i++)t[i]=D(e,t[i],n);else if("object"==typeof t)if("fallbacks"===e)for(var o in t)t[o]=D(o,t[o],n);else for(var r in t)t[r]=D(e+"-"+r,t[r],n);else if("number"==typeof t){var a=n[e]||A[e];return a?"function"==typeof a?a(t).toString():""+t+a:t.toString()}return t}var B=function(e){void 0===e&&(e={});var t=N(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var i in e)e[i]=D(i,e[i],t);return e},onChangeValue:function(e,n){return D(n,e,t)}}},I={"background-size":!0,"background-position":!0,border:!0,"border-bottom":!0,"border-left":!0,"border-top":!0,"border-right":!0,"border-radius":!0,"border-image":!0,"border-width":!0,"border-style":!0,"border-color":!0,"box-shadow":!0,flex:!0,margin:!0,padding:!0,outline:!0,"transform-origin":!0,transform:!0,transition:!0},L={position:!0,size:!0},U={padding:{top:0,right:0,bottom:0,left:0},margin:{top:0,right:0,bottom:0,left:0},background:{attachment:null,color:null,image:null,position:null,repeat:null},border:{width:null,style:null,color:null},"border-top":{width:null,style:null,color:null},"border-right":{width:null,style:null,color:null},"border-bottom":{width:null,style:null,color:null},"border-left":{width:null,style:null,color:null},outline:{width:null,style:null,color:null},"list-style":{type:null,position:null,image:null},transition:{property:null,duration:null,"timing-function":null,timingFunction:null,delay:null},animation:{name:null,duration:null,"timing-function":null,timingFunction:null,delay:null,"iteration-count":null,iterationCount:null,direction:null,"fill-mode":null,fillMode:null,"play-state":null,playState:null},"box-shadow":{x:0,y:0,blur:0,spread:0,color:null,inset:null},"text-shadow":{x:0,y:0,blur:null,color:null}},F={border:{radius:"border-radius",image:"border-image",width:"border-width",style:"border-style",color:"border-color"},"border-bottom":{width:"border-bottom-width",style:"border-bottom-style",color:"border-bottom-color"},"border-top":{width:"border-top-width",style:"border-top-style",color:"border-top-color"},"border-left":{width:"border-left-width",style:"border-left-style",color:"border-left-color"},"border-right":{width:"border-right-width",style:"border-right-style",color:"border-right-color"},background:{size:"background-size",image:"background-image"},font:{style:"font-style",variant:"font-variant",weight:"font-weight",stretch:"font-stretch",size:"font-size",family:"font-family",lineHeight:"line-height","line-height":"line-height"},flex:{grow:"flex-grow",basis:"flex-basis",direction:"flex-direction",wrap:"flex-wrap",flow:"flex-flow",shrink:"flex-shrink"},align:{self:"align-self",items:"align-items",content:"align-content"},grid:{"template-columns":"grid-template-columns",templateColumns:"grid-template-columns","template-rows":"grid-template-rows",templateRows:"grid-template-rows","template-areas":"grid-template-areas",templateAreas:"grid-template-areas",template:"grid-template","auto-columns":"grid-auto-columns",autoColumns:"grid-auto-columns","auto-rows":"grid-auto-rows",autoRows:"grid-auto-rows","auto-flow":"grid-auto-flow",autoFlow:"grid-auto-flow",row:"grid-row",column:"grid-column","row-start":"grid-row-start",rowStart:"grid-row-start","row-end":"grid-row-end",rowEnd:"grid-row-end","column-start":"grid-column-start",columnStart:"grid-column-start","column-end":"grid-column-end",columnEnd:"grid-column-end",area:"grid-area",gap:"grid-gap","row-gap":"grid-row-gap",rowGap:"grid-row-gap","column-gap":"grid-column-gap",columnGap:"grid-column-gap"}};function z(e,t,n,i){return null==n[t]?e:0===e.length?[]:Array.isArray(e[0])?z(e[0],t,n,i):"object"==typeof e[0]?function(e,t,n){return e.map((function(e){return H(e,t,n,!1,!0)}))}(e,t,i):[e]}function H(e,t,n,i,o){if(!U[t]&&!F[t])return[];var r=[];if(F[t]&&(e=function(e,t,n,i){for(var o in n){var r=n[o];if(void 0!==e[o]&&(i||!t.prop(r))){var a,s=V((a={},a[r]=e[o],a),t)[r];i?t.style.fallbacks[r]=s:t.style[r]=s}delete e[o]}return e}(e,n,F[t],i)),Object.keys(e).length)for(var a in U[t])e[a]?Array.isArray(e[a])?r.push(null===L[a]?e[a]:e[a].join(" ")):r.push(e[a]):null!=U[t][a]&&r.push(U[t][a]);return!r.length||o?r:[r]}function V(e,t,n){for(var i in e){var o=e[i];if(Array.isArray(o)){if(!Array.isArray(o[0])){if("fallbacks"===i){for(var r=0;r<e.fallbacks.length;r++)e.fallbacks[r]=V(e.fallbacks[r],t,!0);continue}e[i]=z(o,i,I,t),e[i].length||delete e[i]}}else if("object"==typeof o){if("fallbacks"===i){e.fallbacks=V(e.fallbacks,t,!0);continue}e[i]=H(o,i,t,n),e[i].length||delete e[i]}else""===e[i]&&delete e[i]}return e}var W=n(59);function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var K="",G="",q="",Y="",X=W.a&&"ontouchstart"in document.documentElement;if(W.a){var J={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},Q=document.createElement("p").style;for(var Z in J)if(Z+"Transform"in Q){K=Z,G=J[Z];break}"Webkit"===K&&"msHyphens"in Q&&(K="ms",G=J.ms,Y="edge"),"Webkit"===K&&"-apple-trailing-word"in Q&&(q="apple")}var ee=K,te=G,ne=q,ie=Y,oe=X,re={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===ee?"-webkit-"+e:te+e)}},ae={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===ee?te+"print-"+e:e)}},se=/[-\s]+(.)?/g;function le(e,t){return t?t.toUpperCase():""}function ce(e){return e.replace(se,le)}function ue(e){return ce("-"+e)}var de,pe={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===ee){if(ce("mask-image")in t)return e;if(ee+ue("mask-image")in t)return te+e}return e}},he={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==ne||oe?e:te+e)}},fe={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:te+e)}},me={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:te+e)}},ve={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===ee||"ms"===ee&&"edge"!==ie?te+e:e)}},ge={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===ee||"ms"===ee||"apple"===ne?te+e:e)}},ye={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===ee?"WebkitColumn"+ue(e)in t&&te+"column-"+e:"Moz"===ee&&"page"+ue(e)in t&&"page-"+e)}},be={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===ee)return e;var n=e.replace("-inline","");return ee+ue(n)in t&&te+n}},xe={supportedProperty:function(e,t){return ce(e)in t&&e}},we={supportedProperty:function(e,t){var n=ue(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:ee+n in t?te+e:"Webkit"!==ee&&"Webkit"+n in t&&"-webkit-"+e}},Se={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===ee?""+te+e:e)}},ke={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===ee?te+"scroll-chaining":e)}},Ce={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Me={supportedProperty:function(e,t){var n=Ce[e];return!!n&&ee+ue(n)in t&&te+n}},_e={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Oe=Object.keys(_e),Pe=function(e){return te+e},Ee=[re,ae,pe,he,fe,me,ve,ge,ye,be,xe,we,Se,ke,Me,{supportedProperty:function(e,t,n){var i=n.multiple;if(Oe.indexOf(e)>-1){var o=_e[e];if(!Array.isArray(o))return ee+ue(o)in t&&te+o;if(!i)return!1;for(var r=0;r<o.length;r++)if(!(ee+ue(o[0])in t))return!1;return o.map(Pe)}return!1}}],Te=Ee.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),je=Ee.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,function(e){if(Array.isArray(e))return $(e)}(n=t.noPrefill)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return $(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(e,void 0):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),e;var n}),[]),Re={};if(W.a){de=document.createElement("p");var Ne=window.getComputedStyle(document.documentElement,"");for(var Ae in Ne)isNaN(Ae)||(Re[Ne[Ae]]=Ne[Ae]);je.forEach((function(e){return delete Re[e]}))}function De(e,t){if(void 0===t&&(t={}),!de)return e;if(null!=Re[e])return Re[e];"transition"!==e&&"transform"!==e||(t[e]=e in de.style);for(var n=0;n<Te.length&&(Re[e]=Te[n](e,de.style,t),!Re[e]);n++);try{de.style[e]=""}catch(i){return!1}return Re[e]}var Be,Ie={},Le={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Ue=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function Fe(e,t,n){return"var"===t?"var":"all"===t?"all":"all"===n?", all":(t?De(t):", "+De(n))||t||n}function ze(e,t){var n=t;if(!Be||"content"===e)return t;if("string"!=typeof n||!isNaN(parseInt(n,10)))return n;var i=e+n;if(null!=Ie[i])return Ie[i];try{Be.style[e]=n}catch(o){return Ie[i]=!1,!1}if(Le[e])n=n.replace(Ue,Fe);else if(""===Be.style[e]&&("-ms-flex"===(n=te+n)&&(Be.style[e]="-ms-flexbox"),Be.style[e]=n,""===Be.style[e]))return Ie[i]=!1,!1;return Be.style[e]="",Ie[i]=n,Ie[i]}W.a&&(Be=document.createElement("p"));var He=function(){function e(t){for(var n in t){var o=t[n];if("fallbacks"===n&&Array.isArray(o))t[n]=o.map(e);else{var r=!1,a=De(n);a&&a!==n&&(r=!0);var s=!1,l=ze(a,Object(i.toCssValue)(o));l&&l!==o&&(s=!0),(r||s)&&(r&&delete t[n],t[a||n]=l||o)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at="-"===(n=t.at)[1]||"ms"===ee?n:"@"+te+"keyframes"+n.substr(10)}var n},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return ze(t,Object(i.toCssValue)(e))||e}}},Ve=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var i={},o=Object.keys(t).sort(e),r=0;r<o.length;r++)i[o[r]]=t[o[r]];return i}}};t.default=function(e){return void 0===e&&(e={}),{plugins:[{onCreateRule:function(e,t,n){if("function"!=typeof t)return null;var o=Object(i.createRule)(e,{},n);return o[a]=t,o},onProcessStyle:function(e,t){if(r in t||a in t)return e;var n={};for(var i in e){var o=e[i];"function"==typeof o&&(delete e[i],n[i]=o)}return t[r]=n,e},onUpdate:function(e,t,n,i){var o=t,s=o[a];s&&(o.style=s(e)||{});var l=o[r];if(l)for(var c in l)o.prop(c,l[c](e),i)}},(t=e.observable,{onCreateRule:function(e,n,o){if(!l(n))return null;var r=n,a=Object(i.createRule)(e,{},o);return r.subscribe((function(e){for(var n in e)a.prop(n,e[n],t)})),a},onProcessRule:function(e){if(!e||"style"===e.type){var n=e,i=n.style,o=function(e){var o=i[e];if(!l(o))return"continue";delete i[e],o.subscribe({next:function(i){n.prop(e,i,t)}})};for(var r in i)o(r)}}}),{onProcessRule:u},{onCreateRule:function(e,t,n){if(!e)return null;if(e===p)return new h(e,t,n);if("@"===e[0]&&"@global "===e.substr(0,"@global ".length))return new f(e,t,n);var i=n.parent;return i&&("global"===i.type||i.options.parent&&"global"===i.options.parent.type)&&(n.scoped=!1),!1===n.scoped&&(n.selector=e),null},onProcessRule:function(e){"style"===e.type&&(function(e){var t=e.options,n=e.style,i=n?n[p]:null;if(i){for(var o in i)t.sheet.addRule(o,i[o],Object(d.a)({},t,{selector:v(o,e.selector)}));delete n[p]}}(e),function(e){var t=e.options,n=e.style;for(var i in n)if("@"===i[0]&&i.substr(0,p.length)===p){var o=v(i.substr(p.length),e.selector);t.sheet.addRule(o,n[i],Object(d.a)({},t,{selector:o})),delete n[i]}}(e))}},b(),k(),{onProcessStyle:function(e,t){return"composes"in e?(function e(t,n){if(!n)return!0;if(Array.isArray(n)){for(var i=0;i<n.length;i++)if(!e(t,n[i]))return!1;return!0}if(n.indexOf(" ")>-1)return e(t,n.split(" "));var o=t.options.parent;if("$"===n[0]){var r=o.getRule(n.substr(1));return!!r&&r!==t&&(o.classes[t.key]+=" "+o.classes[r.key],!0)}return o.classes[t.key]+=" "+n,!0}(t,e.composes),delete e.composes,e):e}},{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=E(e[t]);return e}return E(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var i=P(t);return t===i?e:(n.prop(i,e),null)}},B(e.defaultUnit),{onProcessStyle:function(e,t){if(!e||"style"!==t.type)return e;if(Array.isArray(e)){for(var n=0;n<e.length;n++)e[n]=V(e[n],t);return e}return V(e,t)}},He(),Ve()]};var t}},function(e,t,n){"use strict";n.r(t),n.d(t,"keydownHandler",(function(){return y})),n.d(t,"keymap",(function(){return g}));for(var i={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},o={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},r="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),a="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),s="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),l="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),c="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),u=r&&(l||+r[1]<57)||s&&l,d=0;d<10;d++)i[48+d]=i[96+d]=String(d);for(d=1;d<=24;d++)i[d+111]="F"+d;for(d=65;d<=90;d++)i[d]=String.fromCharCode(d+32),o[d]=String.fromCharCode(d);for(var p in i)o.hasOwnProperty(p)||(o[p]=i[p]);var h=n(3),f="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);function m(e){var t,n,i,o,r=e.split(/-(?!$)/),a=r[r.length-1];"Space"==a&&(a=" ");for(var s=0;s<r.length-1;s++){var l=r[s];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))t=!0;else if(/^(c|ctrl|control)$/i.test(l))n=!0;else if(/^s(hift)?$/i.test(l))i=!0;else{if(!/^mod$/i.test(l))throw new Error("Unrecognized modifier name: "+l);f?o=!0:n=!0}}return t&&(a="Alt-"+a),n&&(a="Ctrl-"+a),o&&(a="Meta-"+a),i&&(a="Shift-"+a),a}function v(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}function g(e){return new h.Plugin({props:{handleKeyDown:y(e)}})}function y(e){var t=function(e){var t=Object.create(null);for(var n in e)t[m(n)]=e[n];return t}(e);return function(e,n){var r,s=function(e){var t=!(u&&(e.ctrlKey||e.altKey||e.metaKey)||(a||c)&&e.shiftKey&&e.key&&1==e.key.length)&&e.key||(e.shiftKey?o:i)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(n),l=1==s.length&&" "!=s,d=t[v(s,n,!l)];if(d&&d(e.state,e.dispatch,e))return!0;if(l&&(n.shiftKey||n.altKey||n.metaKey||s.charCodeAt(0)>127)&&(r=i[n.keyCode])&&r!=s){var p=t[v(r,n,!0)];if(p&&p(e.state,e.dispatch,e))return!0}else if(l&&n.shiftKey){var h=t[v(s,n,!0)];if(h&&h(e.state,e.dispatch,e))return!0}return!1}}}]);