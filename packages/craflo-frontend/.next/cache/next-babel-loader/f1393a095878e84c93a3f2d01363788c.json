{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"/usr/local/src/app/packages/craflo-frontend/src/features/authentication-form/login.tsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useContext } from 'react';\nimport { LinkButton, Button, IconWrapper, Wrapper, Container, Heading, SubHeading, OfferSection, Offer, Input, Divider } from './authentication-form.style';\nimport { Facebook } from 'assets/icons/Facebook';\nimport { Google } from 'assets/icons/Google';\nimport { AuthContext } from 'contexts/auth/auth.context';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { closeModal } from '@redq/reuse-modal';\nimport simpleDDP from 'simpleddp';\nimport ws from 'isomorphic-ws';\nvar opts = {\n  endpoint: \"wss://accounts.craflo.com/websocket\",\n  SocketConstructor: ws,\n  reconnectInterval: 5000\n};\nimport { simpleDDPLogin } from \"simpleddp-plugin-login\";\nvar ddp = new simpleDDP(opts, [simpleDDPLogin]);\n\nvar s = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return ddp.connect();\n\n          case 2:\n            _context.next = 4;\n            return ddp.login({\n              password: \"Aha@9857\",\n              user: {\n                email: \"wittycodes@gmail.com\"\n              }\n            }).then(function (A) {// console.log(A)\n\n              /*ddp.call(\"oauth/login\", { challenge }, (oauthLoginError, redirectUrl) => {\n                if (oauthLoginError) {\n                  reject(oauthLoginError);\n                } else {\n                  resolve(redirectUrl);\n                }\n              });*/\n            });\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function s() {\n    return _ref.apply(this, arguments);\n  };\n}();\n\ns().then(function () {// console.log(\"Dhum machale\")\n});\n/*\nlet g\nfetch('https://demo.craflo.com/signin', {mode: 'cors'} ).then(function(response) {\n  g = response.url // returns https://developer.mozilla.org/en-US/docs/Web/API/Response/flowers.jpg\n  console.log(response.redirected, \"pppadsfknadf\")\n  fetch(g, {method: 'POST'}).then(function(response) {\n    console.log(response.url, \"asdkadsfknadf\")\n  })\n  });\n*/\n\nexport default function SignInModal() {\n  _s();\n\n  var intl = useIntl();\n\n  var _useContext = useContext(AuthContext),\n      authDispatch = _useContext.authDispatch;\n\n  var _React$useState = React.useState(''),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      email = _React$useState2[0],\n      setEmail = _React$useState2[1];\n\n  var _React$useState3 = React.useState(''),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      password = _React$useState4[0],\n      setPassword = _React$useState4[1];\n\n  var toggleSignUpForm = function toggleSignUpForm() {\n    authDispatch({\n      type: 'SIGNUP'\n    });\n  };\n\n  var toggleForgotPassForm = function toggleForgotPassForm() {\n    authDispatch({\n      type: 'FORGOTPASS'\n    });\n  };\n\n  var loginCallback = function loginCallback() {\n    if (true) {\n      localStorage.setItem('access_token', \"\".concat(email, \".\").concat(password));\n      authDispatch({\n        type: 'SIGNIN_SUCCESS'\n      });\n      closeModal();\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Wrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Heading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"welcomeBack\",\n    defaultMessage: \"Welcome Back\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(SubHeading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"loginText\",\n    defaultMessage: \"Login with your email & password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: loginCallback,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"email\",\n    placeholder: intl.formatMessage({\n      id: 'emailAddressPlaceholder',\n      defaultMessage: 'Email Address.'\n    }),\n    value: email,\n    onChange: function onChange(e) {\n      return setEmail(e.target.value);\n    },\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    type: \"password\",\n    placeholder: intl.formatMessage({\n      id: 'passwordPlaceholder',\n      defaultMessage: 'Password (min 6 characters)'\n    }),\n    value: password,\n    onChange: function onChange(e) {\n      return setPassword(e.target.value);\n    },\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    size: \"big\",\n    style: {\n      width: '100%'\n    },\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"continueBtn\",\n    defaultMessage: \"Continue\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"orText\",\n    defaultMessage: \"or\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    size: \"big\",\n    style: {\n      width: '100%',\n      backgroundColor: '#4267b2',\n      marginBottom: 10\n    },\n    onClick: loginCallback,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IconWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Facebook, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"continueFacebookBtn\",\n    defaultMessage: \"Continue with Facebook\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    size: \"big\",\n    style: {\n      width: '100%',\n      backgroundColor: '#4285f4'\n    },\n    onClick: loginCallback,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IconWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Google, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"continueGoogleBtn\",\n    defaultMessage: \"Continue with Google\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Offer, {\n    style: {\n      padding: '20px 0'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"dontHaveAccount\",\n    defaultMessage: \"Don't have any account?\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 11\n    }\n  }), ' ', /*#__PURE__*/React.createElement(LinkButton, {\n    onClick: toggleSignUpForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"signUpBtnText\",\n    defaultMessage: \"Sign Up\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(OfferSection, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Offer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"forgotPasswordText\",\n    defaultMessage: \"Forgot your password?\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 11\n    }\n  }), ' ', /*#__PURE__*/React.createElement(LinkButton, {\n    onClick: toggleForgotPassForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"resetText\",\n    defaultMessage: \"Reset It\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 13\n    }\n  })))));\n}\n\n_s(SignInModal, \"tcwqqsT7u6gRyihuB8+c0r5OQiM=\", false, function () {\n  return [useIntl];\n});\n\n_c = SignInModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignInModal\");","map":{"version":3,"sources":["/usr/local/src/app/packages/craflo-frontend/src/features/authentication-form/login.tsx"],"names":["React","useContext","LinkButton","Button","IconWrapper","Wrapper","Container","Heading","SubHeading","OfferSection","Offer","Input","Divider","Facebook","Google","AuthContext","FormattedMessage","useIntl","closeModal","simpleDDP","ws","opts","endpoint","SocketConstructor","reconnectInterval","simpleDDPLogin","ddp","s","connect","login","password","user","email","then","A","SignInModal","intl","authDispatch","useState","setEmail","setPassword","toggleSignUpForm","type","toggleForgotPassForm","loginCallback","localStorage","setItem","formatMessage","id","defaultMessage","e","target","value","width","backgroundColor","marginBottom","padding"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,SACEC,UADF,EAEEC,MAFF,EAGEC,WAHF,EAIEC,OAJF,EAKEC,SALF,EAOEC,OAPF,EAQEC,UARF,EASEC,YATF,EAUEC,KAVF,EAWEC,KAXF,EAYEC,OAZF,QAaO,6BAbP;AAcA,SAASC,QAAT,QAAyB,uBAAzB;AACA,SAASC,MAAT,QAAuB,qBAAvB;AACA,SAASC,WAAT,QAA4B,4BAA5B;AACA,SAASC,gBAAT,EAA2BC,OAA3B,QAA0C,YAA1C;AACA,SAASC,UAAT,QAA2B,mBAA3B;AACA,OAAOC,SAAP,MAAsB,WAAtB;AACA,OAAOC,EAAP,MAAe,eAAf;AACA,IAAIC,IAAI,GAAG;AACTC,EAAAA,QAAQ,EAAE,qCADD;AAETC,EAAAA,iBAAiB,EAAEH,EAFV;AAGTI,EAAAA,iBAAiB,EAAE;AAHV,CAAX;AAKA,SAAQC,cAAR,QAA6B,wBAA7B;AACA,IAAMC,GAAG,GAAE,IAAIP,SAAJ,CAAcE,IAAd,EAAoB,CAACI,cAAD,CAApB,CAAX;;AACA,IAAIE,CAAC;AAAA,sEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACAD,GAAG,CAACE,OAAJ,EADA;;AAAA;AAAA;AAAA,mBAEAF,GAAG,CAACG,KAAJ,CAAU;AACdC,cAAAA,QAAQ,EAAE,UADI;AAEdC,cAAAA,IAAI,EAAE;AACJC,gBAAAA,KAAK,EAAE;AADH;AAFQ,aAAV,EAKHC,IALG,CAKE,UAACC,CAAD,EAAK,CACX;;AACA;AACJ;AACA;AACA;AACA;AACA;AACA;AACG,aAdK,CAFA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAADP,CAAC;AAAA;AAAA;AAAA,GAAL;;AAkBAA,CAAC,GAAGM,IAAJ,CAAS,YAAK,CACV;AACH,CAFD;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAe,SAASE,WAAT,GAAuB;AAAA;;AACpC,MAAMC,IAAI,GAAGnB,OAAO,EAApB;;AADoC,oBAEXhB,UAAU,CAAMc,WAAN,CAFC;AAAA,MAE5BsB,YAF4B,eAE5BA,YAF4B;;AAAA,wBAGVrC,KAAK,CAACsC,QAAN,CAAe,EAAf,CAHU;AAAA;AAAA,MAG7BN,KAH6B;AAAA,MAGtBO,QAHsB;;AAAA,yBAIJvC,KAAK,CAACsC,QAAN,CAAe,EAAf,CAJI;AAAA;AAAA,MAI7BR,QAJ6B;AAAA,MAInBU,WAJmB;;AAMpC,MAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AAC7BJ,IAAAA,YAAY,CAAC;AACXK,MAAAA,IAAI,EAAE;AADK,KAAD,CAAZ;AAGD,GAJD;;AAMA,MAAMC,oBAAoB,GAAG,SAAvBA,oBAAuB,GAAM;AACjCN,IAAAA,YAAY,CAAC;AACXK,MAAAA,IAAI,EAAE;AADK,KAAD,CAAZ;AAGD,GAJD;;AAMA,MAAME,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AAC1B,cAAmC;AACjCC,MAAAA,YAAY,CAACC,OAAb,CAAqB,cAArB,YAAwCd,KAAxC,cAAiDF,QAAjD;AACAO,MAAAA,YAAY,CAAC;AAAEK,QAAAA,IAAI,EAAE;AAAR,OAAD,CAAZ;AACAxB,MAAAA,UAAU;AACX;AACF,GAND;;AAQA,sBACE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,gBAAD;AAAkB,IAAA,EAAE,EAAC,aAArB;AAAmC,IAAA,cAAc,EAAC,cAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eAKE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,gBAAD;AACE,IAAA,EAAE,EAAC,WADL;AAEE,IAAA,cAAc,EAAC,kCAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CALF,eAWE;AAAM,IAAA,QAAQ,EAAE0B,aAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AACE,IAAA,IAAI,EAAC,OADP;AAEE,IAAA,WAAW,EAAER,IAAI,CAACW,aAAL,CAAmB;AAC9BC,MAAAA,EAAE,EAAE,yBAD0B;AAE9BC,MAAAA,cAAc,EAAE;AAFc,KAAnB,CAFf;AAME,IAAA,KAAK,EAAEjB,KANT;AAOE,IAAA,QAAQ,EAAE,kBAACkB,CAAD;AAAA,aAAOX,QAAQ,CAACW,CAAC,CAACC,MAAF,CAASC,KAAV,CAAf;AAAA,KAPZ;AAQE,IAAA,QAAQ,MARV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAYE,oBAAC,KAAD;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,WAAW,EAAEhB,IAAI,CAACW,aAAL,CAAmB;AAC9BC,MAAAA,EAAE,EAAE,qBAD0B;AAE9BC,MAAAA,cAAc,EAAE;AAFc,KAAnB,CAFf;AAME,IAAA,KAAK,EAAEnB,QANT;AAOE,IAAA,QAAQ,EAAE,kBAACoB,CAAD;AAAA,aAAOV,WAAW,CAACU,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB;AAAA,KAPZ;AAQE,IAAA,QAAQ,MARV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAZF,eAuBE,oBAAC,MAAD;AACE,IAAA,OAAO,EAAC,SADV;AAEE,IAAA,IAAI,EAAC,KAFP;AAGE,IAAA,KAAK,EAAE;AAAEC,MAAAA,KAAK,EAAE;AAAT,KAHT;AAIE,IAAA,IAAI,EAAC,QAJP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAME,oBAAC,gBAAD;AAAkB,IAAA,EAAE,EAAC,aAArB;AAAmC,IAAA,cAAc,EAAC,UAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,CAvBF,CAXF,eA2CE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,gBAAD;AAAkB,IAAA,EAAE,EAAC,QAArB;AAA8B,IAAA,cAAc,EAAC,IAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CA3CF,eAiDE,oBAAC,MAAD;AACE,IAAA,OAAO,EAAC,SADV;AAEE,IAAA,IAAI,EAAC,KAFP;AAGE,IAAA,KAAK,EAAE;AACLA,MAAAA,KAAK,EAAE,MADF;AAELC,MAAAA,eAAe,EAAE,SAFZ;AAGLC,MAAAA,YAAY,EAAE;AAHT,KAHT;AAQE,IAAA,OAAO,EAAEX,aARX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAUE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAVF,eAaE,oBAAC,gBAAD;AACE,IAAA,EAAE,EAAC,qBADL;AAEE,IAAA,cAAc,EAAC,wBAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAbF,CAjDF,eAoEE,oBAAC,MAAD;AACE,IAAA,OAAO,EAAC,SADV;AAEE,IAAA,IAAI,EAAC,KAFP;AAGE,IAAA,KAAK,EAAE;AAAES,MAAAA,KAAK,EAAE,MAAT;AAAiBC,MAAAA,eAAe,EAAE;AAAlC,KAHT;AAIE,IAAA,OAAO,EAAEV,aAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAME,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CANF,eASE,oBAAC,gBAAD;AACE,IAAA,EAAE,EAAC,mBADL;AAEE,IAAA,cAAc,EAAC,sBAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,CApEF,eAmFE,oBAAC,KAAD;AAAO,IAAA,KAAK,EAAE;AAAEY,MAAAA,OAAO,EAAE;AAAX,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,gBAAD;AACE,IAAA,EAAE,EAAC,iBADL;AAEE,IAAA,cAAc,EAAC,yBAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAIK,GAJL,eAKE,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAEf,gBAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,gBAAD;AAAkB,IAAA,EAAE,EAAC,eAArB;AAAqC,IAAA,cAAc,EAAC,SAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CALF,CAnFF,CADF,eA+FE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,gBAAD;AACE,IAAA,EAAE,EAAC,oBADL;AAEE,IAAA,cAAc,EAAC,uBAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAIK,GAJL,eAKE,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAEE,oBAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,gBAAD;AAAkB,IAAA,EAAE,EAAC,WAArB;AAAiC,IAAA,cAAc,EAAC,UAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CALF,CADF,CA/FF,CADF;AA6GD;;GAvIuBR,W;UACTlB,O;;;KADSkB,W","sourcesContent":["import React, { useContext } from 'react';\nimport {\n  LinkButton,\n  Button,\n  IconWrapper,\n  Wrapper,\n  Container,\n  LogoWrapper,\n  Heading,\n  SubHeading,\n  OfferSection,\n  Offer,\n  Input,\n  Divider,\n} from './authentication-form.style';\nimport { Facebook } from 'assets/icons/Facebook';\nimport { Google } from 'assets/icons/Google';\nimport { AuthContext } from 'contexts/auth/auth.context';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { closeModal } from '@redq/reuse-modal';\nimport simpleDDP from 'simpleddp';\nimport ws from 'isomorphic-ws';\nlet opts = {\n  endpoint: \"wss://accounts.craflo.com/websocket\",\n  SocketConstructor: ws,\n  reconnectInterval: 5000\n};\nimport {simpleDDPLogin} from \"simpleddp-plugin-login\"\nconst ddp =new simpleDDP(opts, [simpleDDPLogin])\nlet s = async ()=>{\n  await ddp.connect()\n  await ddp.login({\n    password: \"Aha@9857\",\n    user: {\n      email: \"wittycodes@gmail.com\"\n    }\n  }).then((A)=>{\n    // console.log(A)\n    /*ddp.call(\"oauth/login\", { challenge }, (oauthLoginError, redirectUrl) => {\n      if (oauthLoginError) {\n        reject(oauthLoginError);\n      } else {\n        resolve(redirectUrl);\n      }\n    });*/\n  })\n};\ns().then(()=> {\n    // console.log(\"Dhum machale\")\n})\n/*\nlet g\nfetch('https://demo.craflo.com/signin', {mode: 'cors'} ).then(function(response) {\n  g = response.url // returns https://developer.mozilla.org/en-US/docs/Web/API/Response/flowers.jpg\n  console.log(response.redirected, \"pppadsfknadf\")\n  fetch(g, {method: 'POST'}).then(function(response) {\n    console.log(response.url, \"asdkadsfknadf\")\n  })\n  });\n*/\n\nexport default function SignInModal() {\n  const intl = useIntl();\n  const { authDispatch } = useContext<any>(AuthContext);\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n\n  const toggleSignUpForm = () => {\n    authDispatch({\n      type: 'SIGNUP',\n    });\n  };\n\n  const toggleForgotPassForm = () => {\n    authDispatch({\n      type: 'FORGOTPASS',\n    });\n  };\n\n  const loginCallback = () => {\n    if (typeof window !== 'undefined') {\n      localStorage.setItem('access_token', `${email}.${password}`);\n      authDispatch({ type: 'SIGNIN_SUCCESS' });\n      closeModal();\n    }\n  };\n\n  return (\n    <Wrapper>\n      <Container>\n        <Heading>\n          <FormattedMessage id=\"welcomeBack\" defaultMessage=\"Welcome Back\" />\n        </Heading>\n\n        <SubHeading>\n          <FormattedMessage\n            id=\"loginText\"\n            defaultMessage=\"Login with your email &amp; password\"\n          />\n        </SubHeading>\n        <form onSubmit={loginCallback}>\n          <Input\n            type=\"email\"\n            placeholder={intl.formatMessage({\n              id: 'emailAddressPlaceholder',\n              defaultMessage: 'Email Address.',\n            })}\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            required\n          />\n\n          <Input\n            type=\"password\"\n            placeholder={intl.formatMessage({\n              id: 'passwordPlaceholder',\n              defaultMessage: 'Password (min 6 characters)',\n            })}\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            required\n          />\n\n          <Button\n            variant=\"primary\"\n            size=\"big\"\n            style={{ width: '100%' }}\n            type=\"submit\"\n          >\n            <FormattedMessage id=\"continueBtn\" defaultMessage=\"Continue\" />\n          </Button>\n        </form>\n        <Divider>\n          <span>\n            <FormattedMessage id=\"orText\" defaultMessage=\"or\" />\n          </span>\n        </Divider>\n\n        <Button\n          variant=\"primary\"\n          size=\"big\"\n          style={{\n            width: '100%',\n            backgroundColor: '#4267b2',\n            marginBottom: 10,\n          }}\n          onClick={loginCallback}\n        >\n          <IconWrapper>\n            <Facebook />\n          </IconWrapper>\n          <FormattedMessage\n            id=\"continueFacebookBtn\"\n            defaultMessage=\"Continue with Facebook\"\n          />\n        </Button>\n\n        <Button\n          variant=\"primary\"\n          size=\"big\"\n          style={{ width: '100%', backgroundColor: '#4285f4' }}\n          onClick={loginCallback}\n        >\n          <IconWrapper>\n            <Google />\n          </IconWrapper>\n          <FormattedMessage\n            id=\"continueGoogleBtn\"\n            defaultMessage=\"Continue with Google\"\n          />\n        </Button>\n\n        <Offer style={{ padding: '20px 0' }}>\n          <FormattedMessage\n            id=\"dontHaveAccount\"\n            defaultMessage=\"Don't have any account?\"\n          />{' '}\n          <LinkButton onClick={toggleSignUpForm}>\n            <FormattedMessage id=\"signUpBtnText\" defaultMessage=\"Sign Up\" />\n          </LinkButton>\n        </Offer>\n      </Container>\n\n      <OfferSection>\n        <Offer>\n          <FormattedMessage\n            id=\"forgotPasswordText\"\n            defaultMessage=\"Forgot your password?\"\n          />{' '}\n          <LinkButton onClick={toggleForgotPassForm}>\n            <FormattedMessage id=\"resetText\" defaultMessage=\"Reset It\" />\n          </LinkButton>\n        </Offer>\n      </OfferSection>\n    </Wrapper>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}