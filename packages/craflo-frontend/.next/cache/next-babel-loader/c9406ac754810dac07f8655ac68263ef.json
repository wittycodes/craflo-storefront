{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/usr/local/src/app/packages/craflo-frontend/src/reaction/context/CartContext.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { createContext, useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Cookies from \"js-cookie\";\nvar ANONYMOUS_CART_ID_KEY_NAME = \"_ANONYMOUS_CART_ID_\";\nvar ANONYMOUS_CART_TOKEN_KEY_NAME = \"_ANONYMOUS_CART_TOKEN_\";\nexport var CartContext = /*#__PURE__*/createContext({});\nexport var CartProvider = function CartProvider(_ref) {\n  _s();\n\n  var children = _ref.children;\n\n  var _useState = useState({}),\n      anonymousCartId = _useState[0],\n      setAnonymousCartId = _useState[1];\n\n  var _useState2 = useState({}),\n      anonymousCartToken = _useState2[0],\n      setAnonymousCartToken = _useState2[1];\n\n  var _useState3 = useState({}),\n      accountCartId = _useState3[0],\n      setAccountCartId = _useState3[1];\n\n  var _useState4 = useState(false),\n      isReconcilingCarts = _useState4[0],\n      setIsReconcilingCarts = _useState4[1];\n\n  var _useState5 = useState([]),\n      checkoutPayments = _useState5[0],\n      setCheckoutPayments = _useState5[1];\n\n  var setAnonymousCartCredentials = function setAnonymousCartCredentials(newAnonymousCartId, newAnonymousCartToken, shopId) {\n    console.log(newAnonymousCartId, newAnonymousCartToken, shopId);\n    setAnonymousCartId(_defineProperty({}, shopId, newAnonymousCartId || null));\n    setAnonymousCartToken(_defineProperty({}, shopId, newAnonymousCartToken || null));\n\n    if (typeof newAnonymousCartId === \"string\" && newAnonymousCartId.length) {\n      // Save to local storage\n      localStorage.setItem(ANONYMOUS_CART_ID_KEY_NAME, JSON.stringify(_objectSpread(_objectSpread({}, JSON.parse(localStorage.getItem(ANONYMOUS_CART_ID_KEY_NAME) || \"{}\")), {}, _defineProperty({}, shopId, newAnonymousCartId))));\n      localStorage.setItem(ANONYMOUS_CART_TOKEN_KEY_NAME, JSON.stringify(_objectSpread(_objectSpread({}, JSON.parse(localStorage.getItem(ANONYMOUS_CART_TOKEN_KEY_NAME) || \"{}\")), {}, _defineProperty({}, shopId, newAnonymousCartToken)))); // Save cookies\n\n      Cookies.set(ANONYMOUS_CART_ID_KEY_NAME, JSON.stringify(_objectSpread(_objectSpread({}, JSON.parse(Cookies.get(ANONYMOUS_CART_ID_KEY_NAME) || \"{}\")), {}, _defineProperty({}, shopId, newAnonymousCartId))));\n      Cookies.set(ANONYMOUS_CART_TOKEN_KEY_NAME, JSON.stringify(_objectSpread(_objectSpread({}, JSON.parse(Cookies.get(ANONYMOUS_CART_TOKEN_KEY_NAME) || \"{}\")), {}, _defineProperty({}, shopId, newAnonymousCartToken))));\n    } else {\n      // Remove from local storage\n      localStorage.setItem(ANONYMOUS_CART_ID_KEY_NAME, JSON.stringify(_objectSpread(_objectSpread({}, JSON.parse(localStorage.getItem(ANONYMOUS_CART_ID_KEY_NAME) || \"{}\")), {}, {\n        shopId: shopId\n      })));\n      localStorage.setItem(ANONYMOUS_CART_TOKEN_KEY_NAME, JSON.stringify(_objectSpread(_objectSpread({}, JSON.parse(localStorage.getItem(ANONYMOUS_CART_TOKEN_KEY_NAME) || \"{}\")), {}, {\n        shopId: shopId\n      }))); // Remove cookies\n\n      Cookies.set(ANONYMOUS_CART_ID_KEY_NAME, JSON.stringify(_objectSpread(_objectSpread({}, JSON.parse(Cookies.get(ANONYMOUS_CART_ID_KEY_NAME) || \"{}\")), {}, {\n        shopId: shopId\n      })));\n      Cookies.set(ANONYMOUS_CART_TOKEN_KEY_NAME, JSON.stringify(_objectSpread(_objectSpread({}, JSON.parse(Cookies.get(ANONYMOUS_CART_TOKEN_KEY_NAME) || \"{}\")), {}, {\n        shopId: shopId\n      })));\n    }\n  };\n\n  var clearAnonymousCartCredentials = function clearAnonymousCartCredentials(shopId) {\n    setAnonymousCartCredentials(null, null, shopId);\n  };\n\n  var setAnonymousCartCredentialsFromLocalStorage = function setAnonymousCartCredentialsFromLocalStorage() {\n    // const anonymousCartId = localStorage.getItem(ANONYMOUS_CART_ID_KEY_NAME + shopId); // eslint-disable-line no-shadow\n    // const anonymousCartToken = localStorage.getItem(ANONYMOUS_CART_TOKEN_KEY_NAME + shopId); // eslint-disable-line no-shadow\n    var ids = JSON.parse(localStorage.getItem(ANONYMOUS_CART_ID_KEY_NAME) || \"{}\");\n    var tokens = JSON.parse(localStorage.getItem(ANONYMOUS_CART_TOKEN_KEY_NAME) || \"{}\");\n\n    for (var shop in ids) {\n      console.log(shop, ids, \"uuuuu\");\n      setAnonymousCartCredentials(ids[shop], tokens[shop], shop);\n    }\n  };\n\n  useEffect(function () {\n    setAnonymousCartCredentialsFromLocalStorage();\n  }, []);\n\n  var addCheckoutPayment = function addCheckoutPayment(value) {\n    setCheckoutPayments([].concat(_toConsumableArray(checkoutPayments), [value]));\n  };\n\n  var setCheckoutPayment = function setCheckoutPayment(value) {\n    setCheckoutPayments([value]);\n  };\n\n  var resetCheckoutPayments = function resetCheckoutPayments() {\n    setCheckoutPayments([]);\n  };\n\n  return /*#__PURE__*/React.createElement(CartContext.Provider, {\n    value: {\n      anonymousCartId: anonymousCartId,\n      anonymousCartToken: anonymousCartToken,\n      accountCartId: accountCartId,\n      isReconcilingCarts: isReconcilingCarts,\n      checkoutPayments: checkoutPayments,\n      setAnonymousCartCredentials: setAnonymousCartCredentials,\n      clearAnonymousCartCredentials: clearAnonymousCartCredentials,\n      setAnonymousCartCredentialsFromLocalStorage: setAnonymousCartCredentialsFromLocalStorage,\n      setIsReconcilingCarts: setIsReconcilingCarts,\n      hasAnonymousCartCredentials: function hasAnonymousCartCredentials(shopId) {\n        return anonymousCartId[shopId] && anonymousCartToken[shopId] || false;\n      },\n      hasAccountCart: function hasAccountCart(shopId) {\n        return typeof accountCartId[shopId] === \"string\";\n      },\n      setAccountCartId: setAccountCartId,\n      addCheckoutPayment: addCheckoutPayment,\n      setCheckoutPayment: setCheckoutPayment,\n      resetCheckoutPayments: resetCheckoutPayments\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    },\n    __self: _this\n  }, children);\n};\n\n_s(CartProvider, \"GdWC54QT4oHvXzbLhB/7yqp28SY=\");\n\n_c = CartProvider;\nCartProvider.propTypes = {\n  children: PropTypes.node\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"sources":["/usr/local/src/app/packages/craflo-frontend/src/reaction/context/CartContext.tsx"],"names":["createContext","useState","useEffect","PropTypes","Cookies","ANONYMOUS_CART_ID_KEY_NAME","ANONYMOUS_CART_TOKEN_KEY_NAME","CartContext","CartProvider","children","anonymousCartId","setAnonymousCartId","anonymousCartToken","setAnonymousCartToken","accountCartId","setAccountCartId","isReconcilingCarts","setIsReconcilingCarts","checkoutPayments","setCheckoutPayments","setAnonymousCartCredentials","newAnonymousCartId","newAnonymousCartToken","shopId","console","log","length","localStorage","setItem","JSON","stringify","parse","getItem","set","get","clearAnonymousCartCredentials","setAnonymousCartCredentialsFromLocalStorage","ids","tokens","shop","addCheckoutPayment","value","setCheckoutPayment","resetCheckoutPayments","hasAnonymousCartCredentials","hasAccountCart","propTypes","node"],"mappings":";;;;;;;;;;;;AAAA,SAASA,aAAT,EAAwBC,QAAxB,EAAkCC,SAAlC,QAAmD,OAAnD;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,OAAP,MAAoB,WAApB;AAEA,IAAMC,0BAA0B,GAAG,qBAAnC;AACA,IAAMC,6BAA6B,GAAG,wBAAtC;AAEA,OAAO,IAAMC,WAAW,gBAAGP,aAAa,CAAC,EAAD,CAAjC;AAEP,OAAO,IAAMQ,YAAY,GAAG,SAAfA,YAAe,OAAkB;AAAA;;AAAA,MAAfC,QAAe,QAAfA,QAAe;;AAAA,kBACER,QAAQ,CAAC,EAAD,CADV;AAAA,MACrCS,eADqC;AAAA,MACpBC,kBADoB;;AAAA,mBAEQV,QAAQ,CAAC,EAAD,CAFhB;AAAA,MAErCW,kBAFqC;AAAA,MAEjBC,qBAFiB;;AAAA,mBAGFZ,QAAQ,CAAC,EAAD,CAHN;AAAA,MAGrCa,aAHqC;AAAA,MAGtBC,gBAHsB;;AAAA,mBAIQd,QAAQ,CAAC,KAAD,CAJhB;AAAA,MAIrCe,kBAJqC;AAAA,MAIjBC,qBAJiB;;AAAA,mBAKIhB,QAAQ,CAAC,EAAD,CALZ;AAAA,MAKrCiB,gBALqC;AAAA,MAKnBC,mBALmB;;AAO5C,MAAMC,2BAA2B,GAAG,SAA9BA,2BAA8B,CAACC,kBAAD,EAAqBC,qBAArB,EAA2CC,MAA3C,EAAsD;AAExFC,IAAAA,OAAO,CAACC,GAAR,CAAYJ,kBAAZ,EAAgCC,qBAAhC,EAAuDC,MAAvD;AACAZ,IAAAA,kBAAkB,qBACfY,MADe,EACNF,kBAAkB,IAAI,IADhB,EAAlB;AAGAR,IAAAA,qBAAqB,qBAClBU,MADkB,EACTD,qBAAqB,IAAI,IADhB,EAArB;;AAIA,QAAI,OAAOD,kBAAP,KAA8B,QAA9B,IAA0CA,kBAAkB,CAACK,MAAjE,EAAyE;AACvE;AACAC,MAAAA,YAAY,CAACC,OAAb,CAAqBvB,0BAArB,EAAiDwB,IAAI,CAACC,SAAL,iCAAmBD,IAAI,CAACE,KAAL,CAAWJ,YAAY,CAACK,OAAb,CAAqB3B,0BAArB,KAAoD,IAA/D,CAAnB,2BAA0FkB,MAA1F,EAAmGF,kBAAnG,GAAjD;AACAM,MAAAA,YAAY,CAACC,OAAb,CAAqBtB,6BAArB,EAAoDuB,IAAI,CAACC,SAAL,iCAAmBD,IAAI,CAACE,KAAL,CAAWJ,YAAY,CAACK,OAAb,CAAqB1B,6BAArB,KAAuD,IAAlE,CAAnB,2BAA6FiB,MAA7F,EAAsGD,qBAAtG,GAApD,EAHuE,CAKvE;;AACAlB,MAAAA,OAAO,CAAC6B,GAAR,CAAY5B,0BAAZ,EAAwCwB,IAAI,CAACC,SAAL,iCAAmBD,IAAI,CAACE,KAAL,CAAW3B,OAAO,CAAC8B,GAAR,CAAY7B,0BAAZ,KAA2C,IAAtD,CAAnB,2BAAiFkB,MAAjF,EAA0FF,kBAA1F,GAAxC;AACAjB,MAAAA,OAAO,CAAC6B,GAAR,CAAY3B,6BAAZ,EAA2CuB,IAAI,CAACC,SAAL,iCAAmBD,IAAI,CAACE,KAAL,CAAW3B,OAAO,CAAC8B,GAAR,CAAY5B,6BAAZ,KAA8C,IAAzD,CAAnB,2BAAoFiB,MAApF,EAA6FD,qBAA7F,GAA3C;AACD,KARD,MAQO;AACL;AACAK,MAAAA,YAAY,CAACC,OAAb,CAAqBvB,0BAArB,EAAiDwB,IAAI,CAACC,SAAL,iCAAmBD,IAAI,CAACE,KAAL,CAAWJ,YAAY,CAACK,OAAb,CAAqB3B,0BAArB,KAAoD,IAA/D,CAAnB;AAAyFkB,QAAAA,MAAM,EAANA;AAAzF,SAAjD;AACAI,MAAAA,YAAY,CAACC,OAAb,CAAqBtB,6BAArB,EAAoDuB,IAAI,CAACC,SAAL,iCAAmBD,IAAI,CAACE,KAAL,CAAWJ,YAAY,CAACK,OAAb,CAAqB1B,6BAArB,KAAuD,IAAlE,CAAnB;AAA4FiB,QAAAA,MAAM,EAANA;AAA5F,SAApD,EAHK,CAKL;;AACAnB,MAAAA,OAAO,CAAC6B,GAAR,CAAY5B,0BAAZ,EAAwCwB,IAAI,CAACC,SAAL,iCAAmBD,IAAI,CAACE,KAAL,CAAW3B,OAAO,CAAC8B,GAAR,CAAY7B,0BAAZ,KAA4C,IAAvD,CAAnB;AAAiFkB,QAAAA,MAAM,EAANA;AAAjF,SAAxC;AACAnB,MAAAA,OAAO,CAAC6B,GAAR,CAAY3B,6BAAZ,EAA2CuB,IAAI,CAACC,SAAL,iCAAmBD,IAAI,CAACE,KAAL,CAAW3B,OAAO,CAAC8B,GAAR,CAAY5B,6BAAZ,KAA8C,IAAzD,CAAnB;AAAmFiB,QAAAA,MAAM,EAANA;AAAnF,SAA3C;AACD;AACF,GA3BD;;AA6BA,MAAMY,6BAA6B,GAAG,SAAhCA,6BAAgC,CAACZ,MAAD,EAAY;AAChDH,IAAAA,2BAA2B,CAAC,IAAD,EAAO,IAAP,EAAaG,MAAb,CAA3B;AACD,GAFD;;AAIA,MAAMa,2CAA2C,GAAG,SAA9CA,2CAA8C,GAAM;AACxD;AACA;AACA,QAAMC,GAAG,GAAGR,IAAI,CAACE,KAAL,CAAWJ,YAAY,CAACK,OAAb,CAAqB3B,0BAArB,KAAoD,IAA/D,CAAZ;AACA,QAAMiC,MAAM,GAAGT,IAAI,CAACE,KAAL,CAAWJ,YAAY,CAACK,OAAb,CAAqB1B,6BAArB,KAAuD,IAAlE,CAAf;;AAEA,SAAI,IAAMiC,IAAV,IAAkBF,GAAlB,EAAuB;AACrBb,MAAAA,OAAO,CAACC,GAAR,CAAYc,IAAZ,EAAkBF,GAAlB,EAAuB,OAAvB;AACEjB,MAAAA,2BAA2B,CAACiB,GAAG,CAACE,IAAD,CAAJ,EAAYD,MAAM,CAACC,IAAD,CAAlB,EAA0BA,IAA1B,CAA3B;AACH;AAEF,GAXD;;AAaArC,EAAAA,SAAS,CAAC,YAAM;AACdkC,IAAAA,2CAA2C;AAC5C,GAFQ,EAEN,EAFM,CAAT;;AAIA,MAAMI,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,KAAD,EAAW;AACpCtB,IAAAA,mBAAmB,8BAAKD,gBAAL,IAAuBuB,KAAvB,GAAnB;AACD,GAFD;;AAIA,MAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAACD,KAAD,EAAW;AACpCtB,IAAAA,mBAAmB,CAAC,CAACsB,KAAD,CAAD,CAAnB;AACD,GAFD;;AAIA,MAAME,qBAAqB,GAAG,SAAxBA,qBAAwB,GAAM;AAClCxB,IAAAA,mBAAmB,CAAC,EAAD,CAAnB;AACD,GAFD;;AAIA,sBACE,oBAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAE;AAC3BT,MAAAA,eAAe,EAAfA,eAD2B;AAE3BE,MAAAA,kBAAkB,EAAlBA,kBAF2B;AAG3BE,MAAAA,aAAa,EAAbA,aAH2B;AAI3BE,MAAAA,kBAAkB,EAAlBA,kBAJ2B;AAK3BE,MAAAA,gBAAgB,EAAhBA,gBAL2B;AAM3BE,MAAAA,2BAA2B,EAA3BA,2BAN2B;AAO3Be,MAAAA,6BAA6B,EAA7BA,6BAP2B;AAQ3BC,MAAAA,2CAA2C,EAA3CA,2CAR2B;AAS3BnB,MAAAA,qBAAqB,EAArBA,qBAT2B;AAU3B2B,MAAAA,2BAA2B,EAAG,qCAACrB,MAAD;AAAA,eAAcb,eAAe,CAACa,MAAD,CAAf,IAA2BX,kBAAkB,CAACW,MAAD,CAA9C,IAA2D,KAAxE;AAAA,OAVH;AAW3BsB,MAAAA,cAAc,EAAE,wBAACtB,MAAD;AAAA,eAAY,OAAOT,aAAa,CAACS,MAAD,CAApB,KAAiC,QAA7C;AAAA,OAXW;AAY3BR,MAAAA,gBAAgB,EAAhBA,gBAZ2B;AAa3ByB,MAAAA,kBAAkB,EAAlBA,kBAb2B;AAc3BE,MAAAA,kBAAkB,EAAlBA,kBAd2B;AAe3BC,MAAAA,qBAAqB,EAArBA;AAf2B,KAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAkBGlC,QAlBH,CADF;AAsBD,CA3FM;;GAAMD,Y;;KAAAA,Y;AA6FbA,YAAY,CAACsC,SAAb,GAAyB;AACvBrC,EAAAA,QAAQ,EAAEN,SAAS,CAAC4C;AADG,CAAzB","sourcesContent":["import { createContext, useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Cookies from \"js-cookie\";\n\nconst ANONYMOUS_CART_ID_KEY_NAME = \"_ANONYMOUS_CART_ID_\";\nconst ANONYMOUS_CART_TOKEN_KEY_NAME = \"_ANONYMOUS_CART_TOKEN_\";\n\nexport const CartContext = createContext({} as any);\n\nexport const CartProvider = ({ children }) => {\n  const [anonymousCartId, setAnonymousCartId] = useState({});\n  const [anonymousCartToken, setAnonymousCartToken] = useState({});\n  const [accountCartId, setAccountCartId] = useState({});\n  const [isReconcilingCarts, setIsReconcilingCarts] = useState(false);\n  const [checkoutPayments, setCheckoutPayments] = useState([]);\n\n  const setAnonymousCartCredentials = (newAnonymousCartId, newAnonymousCartToken,shopId) => {\n\n    console.log(newAnonymousCartId, newAnonymousCartToken, shopId)\n    setAnonymousCartId({\n      [shopId]: newAnonymousCartId || null\n    });\n    setAnonymousCartToken({\n      [shopId]: newAnonymousCartToken || null\n    });\n\n    if (typeof newAnonymousCartId === \"string\" && newAnonymousCartId.length) {\n      // Save to local storage\n      localStorage.setItem(ANONYMOUS_CART_ID_KEY_NAME, JSON.stringify({...JSON.parse(localStorage.getItem(ANONYMOUS_CART_ID_KEY_NAME) || \"{}\"), [shopId]: newAnonymousCartId}));\n      localStorage.setItem(ANONYMOUS_CART_TOKEN_KEY_NAME, JSON.stringify({...JSON.parse(localStorage.getItem(ANONYMOUS_CART_TOKEN_KEY_NAME) || \"{}\"), [shopId]: newAnonymousCartToken}));\n\n      // Save cookies\n      Cookies.set(ANONYMOUS_CART_ID_KEY_NAME, JSON.stringify({...JSON.parse(Cookies.get(ANONYMOUS_CART_ID_KEY_NAME) || \"{}\"), [shopId]: newAnonymousCartId}));\n      Cookies.set(ANONYMOUS_CART_TOKEN_KEY_NAME, JSON.stringify({...JSON.parse(Cookies.get(ANONYMOUS_CART_TOKEN_KEY_NAME) || \"{}\"), [shopId]: newAnonymousCartToken}));\n    } else {\n      // Remove from local storage\n      localStorage.setItem(ANONYMOUS_CART_ID_KEY_NAME, JSON.stringify({...JSON.parse(localStorage.getItem(ANONYMOUS_CART_ID_KEY_NAME) || \"{}\"), shopId}));\n      localStorage.setItem(ANONYMOUS_CART_TOKEN_KEY_NAME, JSON.stringify({...JSON.parse(localStorage.getItem(ANONYMOUS_CART_TOKEN_KEY_NAME) || \"{}\"), shopId}));\n\n      // Remove cookies\n      Cookies.set(ANONYMOUS_CART_ID_KEY_NAME, JSON.stringify({...JSON.parse(Cookies.get(ANONYMOUS_CART_ID_KEY_NAME)  || \"{}\"), shopId}));\n      Cookies.set(ANONYMOUS_CART_TOKEN_KEY_NAME, JSON.stringify({...JSON.parse(Cookies.get(ANONYMOUS_CART_TOKEN_KEY_NAME) || \"{}\"), shopId}));\n    }\n  };\n\n  const clearAnonymousCartCredentials = (shopId) => {\n    setAnonymousCartCredentials(null, null, shopId);\n  };\n\n  const setAnonymousCartCredentialsFromLocalStorage = () => {\n    // const anonymousCartId = localStorage.getItem(ANONYMOUS_CART_ID_KEY_NAME + shopId); // eslint-disable-line no-shadow\n    // const anonymousCartToken = localStorage.getItem(ANONYMOUS_CART_TOKEN_KEY_NAME + shopId); // eslint-disable-line no-shadow\n    const ids = JSON.parse(localStorage.getItem(ANONYMOUS_CART_ID_KEY_NAME) || \"{}\")\n    const tokens = JSON.parse(localStorage.getItem(ANONYMOUS_CART_TOKEN_KEY_NAME) || \"{}\")\n\n    for(const shop in ids) {\n      console.log(shop, ids, \"uuuuu\")\n        setAnonymousCartCredentials(ids[shop], tokens[shop], shop);\n    }\n\n  };\n\n  useEffect(() => {\n    setAnonymousCartCredentialsFromLocalStorage();\n  }, []);\n\n  const addCheckoutPayment = (value) => {\n    setCheckoutPayments([...checkoutPayments, value]);\n  };\n\n  const setCheckoutPayment = (value) => {\n    setCheckoutPayments([value]);\n  };\n\n  const resetCheckoutPayments = () => {\n    setCheckoutPayments([]);\n  };\n\n  return (\n    <CartContext.Provider value={{\n      anonymousCartId,\n      anonymousCartToken,\n      accountCartId,\n      isReconcilingCarts,\n      checkoutPayments,\n      setAnonymousCartCredentials,\n      clearAnonymousCartCredentials,\n      setAnonymousCartCredentialsFromLocalStorage,\n      setIsReconcilingCarts,\n      hasAnonymousCartCredentials:  (shopId) =>  (anonymousCartId[shopId] && anonymousCartToken[shopId]) || false,\n      hasAccountCart: (shopId) => typeof accountCartId[shopId] === \"string\",\n      setAccountCartId,\n      addCheckoutPayment,\n      setCheckoutPayment,\n      resetCheckoutPayments\n    }}\n    >\n      {children}\n    </CartContext.Provider>\n  );\n};\n\nCartProvider.propTypes = {\n  children: PropTypes.node\n};\n"]},"metadata":{},"sourceType":"module"}