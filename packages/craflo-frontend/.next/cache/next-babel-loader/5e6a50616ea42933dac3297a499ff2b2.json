{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/usr/local/src/app/packages/craflo-frontend/src/layouts/app-layout.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport dynamic from 'next/dynamic';\nimport { useRouter } from 'next/router';\nimport Sticky from 'react-stickynode';\nimport { useAppState } from 'contexts/app/app.provider';\nimport Header from './header/header';\nimport { LayoutWrapper } from './layout.style';\nimport { isCategoryPage } from './is-home-page';\nimport useStores from \"hooks/useStores\";\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer'; // import Sidebar from 'react-sidebar';\n\nvar MobileHeader = dynamic(_c = function _c() {\n  return import('./header/mobile-header');\n}, {\n  ssr: false,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('./header/mobile-header')];\n    },\n    modules: ['./header/mobile-header']\n  }\n});\n_c2 = MobileHeader;\nvar SidebarMenu = dynamic(_c3 = function _c3() {\n  return import('src/layouts/sidebar/sidebarMenu');\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('src/layouts/sidebar/sidebarMenu')];\n    },\n    modules: ['src/layouts/sidebar/sidebarMenu']\n  }\n});\n_c4 = SidebarMenu;\nvar SidebarFilters = dynamic(_c5 = function _c5() {\n  return import('src/layouts/sidebar/sidebarFilters');\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('src/layouts/sidebar/sidebarFilters')];\n    },\n    modules: ['src/layouts/sidebar/sidebarFilters']\n  }\n});\n_c6 = SidebarFilters;\n// import set = Reflect.set;\n// type LayoutProps = {\n//   className?: string;\n//   token?: string;\n//   children?: any;\n//\n// };\n// const ScrollContainer = React.forwardRef((ref, contentId, renderContent)=>{\n//   return (<div>\n//\n//   </div>)\n// })\nimport { makeStyles, useTheme, createStyles } from '@material-ui/core/styles';\nimport clsx from 'clsx';\nvar drawerWidth = 240;\nvar useStyles = makeStyles(function (theme) {\n  return createStyles({\n    root: {\n      display: 'flex'\n    },\n    appBar: {\n      transition: theme.transitions.create(['margin', 'width'], {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen\n      })\n    },\n    appBarShift: {\n      width: \"calc(100% - \".concat(drawerWidth, \"px)\"),\n      marginLeft: drawerWidth,\n      transition: theme.transitions.create(['margin', 'width'], {\n        easing: theme.transitions.easing.easeOut,\n        duration: theme.transitions.duration.enteringScreen\n      })\n    },\n    menuButton: {\n      marginRight: theme.spacing(2)\n    },\n    hide: {\n      display: 'none'\n    },\n    drawer: {\n      width: drawerWidth,\n      flexShrink: 0,\n      zIndex: 600\n    },\n    drawerPaper: {\n      zIndex: 100,\n      borderRight: 0 // displayL\n\n    },\n    drawerHeader: _objectSpread(_objectSpread({\n      display: 'flex',\n      alignItems: 'center',\n      padding: theme.spacing(0, 1)\n    }, theme.mixins.toolbar), {}, {\n      justifyContent: 'flex-end'\n    }),\n    content: {\n      flexGrow: 1,\n      // padding: theme.spacing(3),\n      transition: theme.transitions.create('margin', {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen\n      }),\n      marginLeft: 0\n    },\n    contentShift: {\n      transition: theme.transitions.create('margin', {\n        easing: theme.transitions.easing.easeOut,\n        duration: theme.transitions.duration.enteringScreen\n      }),\n      marginLeft: drawerWidth\n    }\n  });\n});\n\nvar Layout = function Layout(_ref) {\n  _s();\n\n  var className = _ref.className,\n      children = _ref.children,\n      token = _ref.token,\n      deviceType = _ref.deviceType;\n\n  // console.log(JSON.stringify(deviceType))\n  var _useStores = useStores(),\n      uiStore = _useStores.uiStore; // const [isMenu, setMenu] = React.useState(true)\n  // React.useEffect(() => {\n  //   setMenu(uiStore.isMenuDrawerOpen)\n  // }, [uiStore.isMenuDrawerOpen]);\n\n\n  console.log(uiStore);\n  var isSticky = useAppState('isSticky');\n\n  var _useRouter = useRouter(),\n      pathname = _useRouter.pathname,\n      query = _useRouter.query;\n\n  var type = pathname === '/restaurant' ? 'restaurant' : query.type;\n  var isHomePage = isCategoryPage(type);\n  var classes = useStyles();\n  var theme = useTheme();\n  return /*#__PURE__*/React.createElement(LayoutWrapper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    },\n    __self: _this\n  }, /*#__PURE__*/React.createElement(Sticky, {\n    enabled: isSticky,\n    innerZ: 9999,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 9\n    },\n    __self: _this\n  }, /*#__PURE__*/React.createElement(MobileHeader, {\n    className: \"\".concat(isSticky ? 'sticky' : 'unSticky', \" \").concat(isHomePage ? 'home' : 'home', \" desktop\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 11\n    },\n    __self: _this\n  }), /*#__PURE__*/React.createElement(Header, {\n    className: \"\".concat(isSticky && isHomePage ? 'sticky' : 'unSticky', \" \"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 11\n    },\n    __self: _this\n  })), /*#__PURE__*/React.createElement(SwipeableDrawer, {\n    variant: deviceType.mobile ? \"temporary\" : \"persistent\",\n    anchor: 'left',\n    open: uiStore.isFilterDrawerOpen,\n    onOpen: function onOpen() {\n      uiStore.closeMenuDrawer();\n      uiStore.toggleMenuDrawerOpen();\n    },\n    onClose: function onClose() {\n      uiStore.toggleFilterDrawerOpen();\n      uiStore.toggleMenuDrawerOpen();\n    },\n    ModalProps: {\n      keepMounted: true\n    },\n    classes: {\n      paperAnchorDockedLeft: classes.drawerPaper\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 9\n    },\n    __self: _this\n  }, /*#__PURE__*/React.createElement(SidebarFilters, {\n    type: 'sxs',\n    deviceType: deviceType,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 11\n    },\n    __self: _this\n  })), /*#__PURE__*/React.createElement(SwipeableDrawer, {\n    variant: deviceType.mobile ? \"temporary\" : \"persistent\",\n    anchor: 'left',\n    open: uiStore.isMenuDrawerOpen,\n    onOpen: function onOpen() {\n      uiStore.toggleMenuDrawerOpen();\n      uiStore.toggleFilterDrawerOpen();\n    },\n    onClose: function onClose() {\n      uiStore.toggleMenuDrawerOpen();\n      uiStore.toggleFilterDrawerOpen();\n    },\n    ModalProps: {\n      keepMounted: true // Better open performance on mobile.\n\n    },\n    classes: {\n      paperAnchorDockedLeft: classes.drawerPaper\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 11\n    },\n    __self: _this\n  }, /*#__PURE__*/React.createElement(SidebarMenu, {\n    type: 'grocery',\n    deviceType: deviceType,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 13\n    },\n    __self: _this\n  })), /*#__PURE__*/React.createElement(\"main\", {\n    className: !deviceType.mobile && clsx(classes.content, _defineProperty({}, classes.contentShift, uiStore.isMenuDrawerOpen || uiStore.isFilterDrawerOpen)),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 11\n    },\n    __self: _this\n  }, children));\n};\n\n_s(Layout, \"jpdx7cf9HeOCvenvF5Aw+RVbUjs=\", false, function () {\n  return [useStores, useAppState, useRouter, useStyles, useTheme];\n});\n\n_c7 = Layout;\nexport default Layout;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n\n$RefreshReg$(_c, \"MobileHeader$dynamic\");\n$RefreshReg$(_c2, \"MobileHeader\");\n$RefreshReg$(_c3, \"SidebarMenu$dynamic\");\n$RefreshReg$(_c4, \"SidebarMenu\");\n$RefreshReg$(_c5, \"SidebarFilters$dynamic\");\n$RefreshReg$(_c6, \"SidebarFilters\");\n$RefreshReg$(_c7, \"Layout\");","map":{"version":3,"sources":["/usr/local/src/app/packages/craflo-frontend/src/layouts/app-layout.tsx"],"names":["React","dynamic","useRouter","Sticky","useAppState","Header","LayoutWrapper","isCategoryPage","useStores","SwipeableDrawer","MobileHeader","ssr","SidebarMenu","SidebarFilters","makeStyles","useTheme","createStyles","clsx","drawerWidth","useStyles","theme","root","display","appBar","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","width","marginLeft","easeOut","enteringScreen","menuButton","marginRight","spacing","hide","drawer","flexShrink","zIndex","drawerPaper","borderRight","drawerHeader","alignItems","padding","mixins","toolbar","justifyContent","content","flexGrow","contentShift","Layout","className","children","token","deviceType","uiStore","console","log","isSticky","pathname","query","type","isHomePage","classes","mobile","isFilterDrawerOpen","closeMenuDrawer","toggleMenuDrawerOpen","toggleFilterDrawerOpen","keepMounted","paperAnchorDockedLeft","isMenuDrawerOpen"],"mappings":"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","sourcesContent":["import React from 'react';\nimport dynamic from 'next/dynamic';\nimport { useRouter } from 'next/router';\nimport Sticky from 'react-stickynode';\nimport { useAppState } from 'contexts/app/app.provider';\nimport Header from './header/header';\nimport { LayoutWrapper } from './layout.style';\nimport { isCategoryPage } from './is-home-page';\nimport useStores from \"hooks/useStores\";\nimport Grid from '@material-ui/core/Grid';\n\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\n// import Sidebar from 'react-sidebar';\nconst MobileHeader = dynamic(() => import('./header/mobile-header'), {\n  ssr: false,\n});\n\nconst SidebarMenu = dynamic(() => import('src/layouts/sidebar/sidebarMenu'));\nconst SidebarFilters = dynamic(() => import('src/layouts/sidebar/sidebarFilters'));\nimport { push as Menu } from 'react-burger-menu'\n// import set = Reflect.set;\n// type LayoutProps = {\n//   className?: string;\n//   token?: string;\n//   children?: any;\n//\n// };\n\n\n// const ScrollContainer = React.forwardRef((ref, contentId, renderContent)=>{\n//   return (<div>\n//\n//   </div>)\n// })\n\nimport { makeStyles, useTheme, Theme, createStyles } from '@material-ui/core/styles';\nimport clsx from 'clsx';\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: 'flex',\n    },\n    appBar: {\n      transition: theme.transitions.create(['margin', 'width'], {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen,\n      }),\n    },\n    appBarShift: {\n      width: `calc(100% - ${drawerWidth}px)`,\n      marginLeft: drawerWidth,\n      transition: theme.transitions.create(['margin', 'width'], {\n        easing: theme.transitions.easing.easeOut,\n        duration: theme.transitions.duration.enteringScreen,\n      }),\n    },\n    menuButton: {\n      marginRight: theme.spacing(2),\n    },\n    hide: {\n      display: 'none',\n    },\n    drawer: {\n      width: drawerWidth,\n      flexShrink: 0,\n      zIndex: 600\n    },\n    drawerPaper: {\n      zIndex: 100,\n      borderRight: 0\n      // displayL\n    },\n    drawerHeader: {\n      display: 'flex',\n      alignItems: 'center',\n      padding: theme.spacing(0, 1),\n      // necessary for content to be below app bar\n      ...theme.mixins.toolbar,\n      justifyContent: 'flex-end',\n    },\n    content: {\n      flexGrow: 1,\n      // padding: theme.spacing(3),\n      transition: theme.transitions.create('margin', {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen,\n      }),\n      marginLeft: 0,\n    },\n    contentShift: {\n      transition: theme.transitions.create('margin', {\n        easing: theme.transitions.easing.easeOut,\n        duration: theme.transitions.duration.enteringScreen,\n      }),\n      marginLeft: drawerWidth,\n    },\n  }),\n);\n\nconst Layout = ({\n  className,\n  children,\n  token,\n  deviceType\n}) => {\n  // console.log(JSON.stringify(deviceType))\n\n  const {uiStore} = useStores();\n  // const [isMenu, setMenu] = React.useState(true)\n\n  // React.useEffect(() => {\n  //   setMenu(uiStore.isMenuDrawerOpen)\n  // }, [uiStore.isMenuDrawerOpen]);\n\n  console.log(uiStore)\n  const isSticky = useAppState('isSticky');\n  const { pathname, query } = useRouter();\n  const type = pathname === '/restaurant' ? 'restaurant' : query.type;\n  const isHomePage = isCategoryPage(type);\n\n\n  const classes = useStyles();\n  const theme = useTheme();\n  return (\n      <LayoutWrapper >\n\n        <Sticky enabled={isSticky} innerZ={9999}>\n        {/*  <Headroom style={{zIndex: 9999}}>*/}\n\n          <MobileHeader\n            className={`${isSticky ? 'sticky' : 'unSticky'} ${\n              isHomePage ? 'home' : 'home'\n            } desktop`}\n          />\n          <Header\n            className={`${isSticky && isHomePage ? 'sticky' : 'unSticky'} `}\n          />\n        {/*</Headroom>*/}\n\n      </Sticky>\n        {/*<Sticky enabled={isSticky} innerZ={99}  top={79}>*/}\n        {/*</Sticky>*/}\n\n        {/*<div id=\"rrr-outer-container\">*/}\n\n        {/*<Grid container> */}\n        {/*  <Grid  item xs={2} style={isMenu ? {} : { display: 'none' }}>*/}\n        {/*    <div style={{background: \"#fff\", height: \"100%\"}}>*/}\n        {/*      <SidebarMenu type={'grocery'} deviceType={{desktop: true, mobile: 'false', tablet: 'false'}}  />*/}\n        {/*    </div>*/}\n        {/*  </Grid>*/}\n        {/*  <Grid  item xs={isMenu ? 10:12} >*/}\n        {/*    {children}*/}\n        {/*  </Grid>*/}\n        {/*</Grid>*/}\n\n          {/*<Sidebar*/}\n          {/*  sidebar={ <div id={\"rrr-sidebar\"}><SidebarMenu type={'grocery'} deviceType={deviceType}  /></div>}*/}\n          {/*  open={uiStore.isMenuDrawerOpen}*/}\n          {/*  styles={{ sidebar: { background: \"white\" } }}*/}\n          {/*  shadow={!!deviceType.mobile}*/}\n          {/*  docked={!deviceType.mobile && uiStore.isMenuDrawerOpen}*/}\n          {/*  transitions={true}*/}\n          {/*  sidebarId={\"rrr-sidebar\"}*/}\n          {/*  contentId={\"rrr-content\"}*/}\n          {/*>*/}\n        <SwipeableDrawer\n          variant={deviceType.mobile? \"temporary\": \"persistent\"}\n          anchor={'left'}\n          open={uiStore.isFilterDrawerOpen}\n          onOpen={()=> {\n            uiStore.closeMenuDrawer()\n            uiStore.toggleMenuDrawerOpen()\n          }}\n          onClose={()=> {\n            uiStore.toggleFilterDrawerOpen()\n            uiStore.toggleMenuDrawerOpen()\n          }}\n          ModalProps={{\n            keepMounted: true\n          }}\n          classes={{\n            paperAnchorDockedLeft: classes.drawerPaper\n          }}\n        >\n          {/*<SidebarMenu type={'grocery'} deviceType={deviceType} />*/}\n          <SidebarFilters type={'sxs'} deviceType={deviceType} />\n        </SwipeableDrawer>\n\n\n          <SwipeableDrawer\n            variant={deviceType.mobile? \"temporary\": \"persistent\"}\n            anchor={'left'}\n            open={uiStore.isMenuDrawerOpen}\n            onOpen={()=> {\n              uiStore.toggleMenuDrawerOpen()\n              uiStore.toggleFilterDrawerOpen()\n            }}\n            onClose={()=> {\n              uiStore.toggleMenuDrawerOpen()\n              uiStore.toggleFilterDrawerOpen()\n            }}\n            ModalProps={{\n              keepMounted: true, // Better open performance on mobile.\n            }}\n            classes={{\n              paperAnchorDockedLeft: classes.drawerPaper\n            }}\n          >\n            <SidebarMenu type={'grocery'} deviceType={deviceType} />\n          </SwipeableDrawer>\n\n\n\n\n\n\n          <main\n            className={ !deviceType.mobile && clsx(classes.content, {\n              [classes.contentShift]: uiStore.isMenuDrawerOpen || uiStore.isFilterDrawerOpen ,\n            })}\n          >\n            {children}\n          </main>\n\n\n        {/*<Menu noOverlay isOpen={isMenu} onOpen={setMenu} pageWrapId={ \"rrr-page-wrap\" } outerContainerId={ \"rrr-outer-container\" }>*/}\n        {/*    <SidebarMenu type={'grocery'} deviceType={deviceType}  />*/}\n        {/*  </Menu>*/}\n        {/*</div>*/}\n\n\n      </LayoutWrapper>\n  );\n};\n\nexport default Layout;\n"]},"metadata":{},"sourceType":"module"}